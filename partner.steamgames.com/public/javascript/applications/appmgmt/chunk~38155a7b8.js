/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [7485],
  {
    72869: (e) => {
      e.exports = {
        Bold: "_1opdqAOxXrGF6BBCpWBSwD",
        Italic: "_3PSCEwXIQOjACd8vcBVCh5",
        Paragraph: "_3zjknFIbJGBGezHbYjCrVE",
        Header1: "_38GFQhbMgQS_1y-yV_MAza",
        Header2: "_2ZqUvIHTeQdmj5n3wCqp5s",
        Header3: "KePJsJFkRONeGxLE3PKlF",
        Header4: "_12a97iox1ZnYnQgXLpvafk",
        Header5: "_4GmIVQlN3tVVTtLvuOhUV",
        CenterSpan: "_3RAiCNw0-UoPo_4awvb1mA",
        SmallText: "UvZC_c1WvBWOxlmJu7qCo",
        Underline: "_3vpZiV7iSLrM6hY_mXk2k2",
        Strike: "_3dQvq4jSQdWUz4WSgIjESL",
        Spoiler: "_3CaxnwuIvFNL4Dlz6VYwHm",
        Revealed: "_35II0clQ4RixPf4ZSRqXPh",
        SpoilerText: "_1owPz2jY3VWy1TyVCWb7Gs",
        DisabledMouseEvents: "_3QOEiyJx6JNKSPfGtfeQRO",
        BlockQuote: "_2sfhtLUZT0Q5XZbbP0ybRr",
        QuoteAuthor: "_2CMyS9Y6n11x4PMJHri59E",
        PullQuote: "_3DRIe0jpfxAeqHxvn4iq3m",
        Code: "_1AelsP7HuMD8QF_8MVP602",
        CodeBlock: "_1paKwApiKpt_82rqeHdUh2",
        List: "tfM5VWgPClhy8MTX_pNLF",
        OrderedList: "_3Ve1EOUy_uAbrn63gbK5U",
        ListItem: "_3DlO014RzYr_m9lI620soy",
        HR: "_26oRBOf5CSY0iZsXJ_juPw",
        Table: "_2Z51g3jeZDA1f76UU-hlG3",
        NoBorder: "_3aoMET6BC38Vks1LAxB0rO",
        TableRow: "Ms77JiTbY6cF3X9kDmu_I",
        TableData: "_2t3YCtmlffdVpfB7Gy7NEW",
        TableHeader: "_1vvfxMDi4YsoiPx4a-EQpH",
        EqualCells: "_5b-QB3nK-8ib6IKjTAtyp",
        ExpandSectionBlock: "YvEQhAIQTyLOKf4OZCW_o",
        ExpandSectionHeader: "_3OxxMP4ilAfeJHPZJlq-3y",
        EmbedArrow: "WXJl-z3InzcPSdkJYNQdR",
        ExpandSectionBody: "_2sCNLKNv2RQrux8JZHAj7W",
        ExpandSection_WithTitle: "_22nl0JNsidayri6K48VGaW",
        LinkButton: "lMVeYbREjOZyypw7mp3qS",
        Image: "_1CmpCOpiyFBd8ePBHSdJZ5",
      };
    },
    16091: (e) => {
      e.exports = {
        SnoozeContainer: "_3EzTyjJx_tZUEIHygPwAeC",
        SnoozeZ: "_1DArl3Gs9lXPcZdmCIlDJa",
        none: "_2k961y27AKXbskWyA2zQaU",
        Medium: "_3Gk3l3Mqo0jqDRvFGfTPAc",
        Large: "dTohLgV0utdpWZ84eh3FP",
        Dim: "_2TzRZ3Ygn6XEn8aKf7CqWB",
        Z1: "_1OyrTEYQD775VOOVC9yYrB",
        Z2: "_1mx4kcxNcUvaiFLQiW1XVR",
        Z3: "_1ltvK3RJFhtrbr2a5xlAR4",
        hoverParent: "_3ID9ReYE8luRukPMTP-Whi",
        animating: "_3CzX57jufuQpN4Qbp5pgJx",
        Snoring: "YuCwjyOZanmNiMAZTC3PY",
      };
    },
    32633: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        statusAndName: "_3n8q82Bm3oNKRPFbrZOlo8",
        threeLines: "_3ms2PyGmolbJQnm8GTFdFu",
        blocked: "_3_oRkgqe1Y70ZF2-ZfcuwG",
        richPresenceLabel: "_1k82NiWym4STegDGxRBHz2",
        playerName: "r62qzcdJQ0qezZglOtiUX",
        playerNickname: "_3T-9PkwXmTHyFu3b1pAn2O",
        playerNicknameBracket: "_2aXevHqPLXEAmOJUXiYYUT",
        richPresenceContainer: "_2nrSdZqzl3e01VZleoVaWp",
        gameName: "_2wpaptjZY-3Gn1HOPlL85O",
        NoMask: "_2J0ISrAA2GKgQuiyzzV10X",
        twoLine: "_27M2GicEvwcoEI5R0FSKi9",
        DNDContainer: "_12iWKn1QT-c-GZZ135BQJd",
        partyBeaconJoin: "_1K_OItH1ngVtuSuY6GVsE7",
        hidePersona: "_3meBuXhr41q7X3dEQZ1qqM",
        compactView: "_34CCBJ8pGM-KGInRNV98M-",
        noContextMenu: "_2317WeOq8zJVeOi6ILQbF8",
        gameIsPrivateIcon: "_1FPaN3pRLeYmPBLJgQxunA",
        PendingPersona: "ifetnZHsAIzsfvMphG0oC",
      };
    },
    26358: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        PersonaStatusIcon: "_1YsWjZbxFewllb2PX6ZhNm",
        MobilePhoneIcon: "_3pGV8dWHnZMYHcytHxo6pw",
      };
    },
    5167: (e) => {
      e.exports = {
        avatarHolder: "_1YGAHSfGavQI6MODJq-pJB",
        avatarStatus: "_1yIzy56YfJIliF6ykwhP2r",
        avatar: "_1p_QrI3ixF-RAwnxad9pEm",
        avatarFrame: "_3atbNcPD1_nRVTjOvryjWe",
        avatarFrameImg: "_338kJp62vHY5iDbsraaiKD",
      };
    },
    99970: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Picker: "_3acyH_WQ_vSWurNYLR84lI",
        Tabs: "_3DjoXcx0aMRDIV1BxLzlzU",
        Tab: "_1F8BhKKWf_XhG9QsmY_4lp",
        Focus: "_3GiAck-LzSOtfHEzFFPIIf",
        TabContent: "_2MluNdiOiHT-XKPQfFiIax",
        Active: "_2bg1wWoNj7Bs0BSiao9e9x",
        Content: "_1c-qebyqfejBT8hBvbUY7p",
        ItemList: "_2tnPHy-nozONfkJPqkZciP",
        Item: "_3zgndNTKG2ncwQVa-HXHBQ",
        SectionedPageTitle: "_1rBPdXFPZ9z7qEz2BZBhYQ",
        SectionTitle: "_3ff2fpyHtj6qUHH3pPpjyw",
        FilterInputContainer: "vzSOldNc6qJmpXlLVoi8i",
        FilterInput: "_18mhxKaUFfaWL6pJANncsS",
        AddonPickerMessage: "LGYf8sHBX6opSMqckeeCz",
      };
    },
    31819: (e) => {
      e.exports = {
        DragTarget: "_2Mg-bStVUsV3zkJRNUaZjq",
        DragOnTopOfMe: "_3-WTTPMPX4GxufqSR04Gkg",
        DescriptionCtn: "_3uiaPGqLBYMlnX-So8Uuft",
        EventEditorLinkInput: "_2tulFiDhA-iah2LXZZ1GlF",
        DefaultEditor: "_36qAa6zCOyemL0DiCxLwGA",
        ImportHTMLCtn: "_3uM5YAQEY1LveAKfkgM7j5",
        ImportHTMLTextArea: "_2NOGRpNcJQWs8pCpFFoCwR",
        ImportHTMLConvertButtons: "_1nQUAcA5S3aqDJRNQz5oLT",
        ImportHTMLCheckBoxLine: "_20sWotWCucYxN6u3F0-jTs",
        OptionRow: "_14XQ_WWE2YD8z5dypSR9Y7",
        TextEditorToolBarContainer: "_2aKjHRSTLCmwXOd6NKVUA",
        EmoteOuter: "_1DZyiih48mIow54yGR6XXu",
        YouTubeInput: "_20wVySXop7eQDzQRcOwNn5",
        YouTubePreviewInsertOption: "_2yhslIk48Qdy9SMc7DC6eo",
        DropDownScroll: "_3bxkyg2GKqazMOxFWXhI7",
        InsertSpeakerCtn: "DC83jus0EoZz3ysXK6MD3",
        TitleGroup: "_2VErp5BSy8ab7JNAzRyPt0",
        AssociateRowCtn: "_2uHPnpXfEI1SkSgP7vwDxQ",
        PhotoCtn: "_1B9kWqKujUOyzB_bAo8Di-",
        AboutCtn: "_3GgiFgSwzssreJ-RDYroNU",
        PreviewCtn: "_3C8BW9XDySkwXVtTi_hFRC",
        BBCodeEditorInputStyles: "_1Fpu1ewXNW_aRfdxkZsv_N",
      };
    },
    3593: (e) => {
      e.exports = {
        BBCode_Toggle: "_1MrSRudf_tohjAmkW_HA6_",
        Active: "_3tFqQiugHt6eFSbZv08D7g",
        BBCode: "_2DSQuZPlJBUMP3vM0Vwyi_",
      };
    },
    54798: (e) => {
      e.exports = { Image: "_2W_GzO_T6R6BQ4RrxOgElP" };
    },
    14411: (e) => {
      e.exports = {
        DynamicLinkBox: "_5Ycv2OaAUmMPwHk7QzlSa",
        DynamicLink_Preview: "_1SXvQfZ4FnIfvHD9QNJEj_",
        DynamicLink_Author: "_3_zLBASSeSDYtGm8VbxfqV",
        DynamicLink_Description: "_2LLBoIbsppmXCLYT1V1xiz",
        DynamicLink_Content: "_30q6o7ABM8oebSYDqW-fdt",
        DynamicLink_Name: "_22TUb91M9xP9epr90oX22b",
        DynamicLink_YoutubeViews: "_3wb0Belyk95x5pZXDxcq2G",
        Dynamiclink_Content: "_91C09eHmNrdly4cszBLRg",
        DynamicLink_URL: "_2wwThqrNwECQoWwRHmA4W2",
        DynamicLink_AuthorName: "_1ThflZ3oh90bOSwWck2uvJ",
        DynamicLink_Date: "_3MAjBa32AkuNxxJpgc9-QS",
        PreviewYouTubeVideo: "_2ydks0zXuSegy8SWijqkmu",
        sizeThumb: "kQ_wgWcGNL07sIwGVIJ5Z",
        sizeFull: "_2GDYxwH7GMXLMG3s5EEMy9",
        floatLeft: "_3ZwVB7qRUAXZBDGNNQwx3R",
        floatRight: "_1VimJ875doFZeJ1P97oNv7",
      };
    },
    87368: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        chatEntryControls: "_2gP0DqVyb1aEACymAe6if3",
        chatTextarea: "pewyBQoFSgFWo_Ms99aRm",
        chatEntryActionsGroup: "_3grea2u6WuuGLHj9gJFmzY",
        chatEntryActionsContainer: "_1X1-nhi0oX1Wy7y1mEIc1o",
        minHeightZero: "_1IsiNJFc7Y3ljzNu9insUW",
        chatSubmitButton: "_1IEiKQnjHpIv-m601y6hvP",
        EmbedButton: "_24xNxnnkSf6A1WY3MnCCeg",
        EmoticonPickerButton: "K-lPMiafCuZRqjfXykujt",
        disabled: "_2GM2kkVRqL-SdkG4oQjUzY",
        Inactive: "_34suBAZJZUCwMaOS-weV5a",
        AudioLines: "_1Hw30vL4sz7I8R99URDEft",
        Active: "_2gzj2y-ACf52YhRSlDMH4Q",
      };
    },
    56365: (e) => {
      e.exports = { Ctn: "MKp7iKIWfTMI5IdZDli5H" };
    },
    42742: (e) => {
      e.exports = {
        UploadPreviewContainer: "_2IhGMeK6GGuXbjQ48MOjR7",
        SVGIcon_Video: "_2TqYKiOB8bnnGRJruGNws9",
        UploadPreview: "_120QuIOG80zJaKXk5SF_1x",
        FileUploadFileName: "_2bbAVkB6PCkEQVXNXniigL",
        FileUploadCancel: "_2MPbUvUK6kHP88NzQ_8hT9",
        SVGIcon_X_Line: "_3ad65vz1XLF30QtU8LM8iz",
        FileUploadBtn: "_3gPV-KhPF344Rvr9YOL9zY",
        FileUploadProgressContainer: "ZZt3EWr-5pONQ4hVHf7UX",
        FileUploadProgressBarContainer: "_1J8k7HpptgVQvEYz7_gtl7",
        FileUploadProgressName: "_1c12oEN9a08yftLsKCAUjH",
      };
    },
    33431: (e) => {
      e.exports = {
        ArtPreview: "_2V4yU656RPmLOdVgyglB17",
        ArtNoArt: "_2_3rgZQxwdv6K3mkBzG54j",
      };
    },
    44652: (e) => {
      e.exports = {
        NewEmoticonIndicator: "_3B1SUx7hDHl_0zpJXbJMcC",
        NewEmoticonCircle: "_2ZOluvz9PNJJ_h5yPgdIGP",
        EmoticonSelector: "_3vBZ2psGCVrcbEVoBQUFUF",
        emoticon: "_316r8gf6PZbv2JR4fpKVey",
        large: "_2mWtZB9gvYuhLMQ5xsKs4_",
        EmoticonSelector_Emoticons: "_36jkpL_twKbqyzED6J7Wne",
        EmoticonSelector_Separator: "_2rHxROFxWkZaLXjZSiY_Hq",
        EmoticonSelector_SeparatorBackground: "_2VvGxXs4cHlRanfWIJJhoi",
        EmoticonSelector_Controls: "_2YkoXHMCezYfhh1lLCmgxb",
        EmoticonSelector_Item: "_3y7iJNKSXyBcN6xn9yYRHg",
        EmoticonSelector_Item_New: "gW-jgM1W9E29Jh50AV8zA",
        EffectHeading: "_1Lw2ADgIGwYLaQ5n1LgCpk",
        StickerHeading: "_1wzP2nxZlDU3pcN1Gouwu_",
        GetFestive: "fSRfSjZqDRKeYHrwRy6rO",
        TopDivider: "_1p-3szRH7xh_z2qWKwbsP6",
        BottomDivider: "_1dr6qhp_frbAw_Pkbfe6R4",
        StickerButton: "sJoLlh6QDjMbw_XRF-XQ",
        EffectButton: "_1RT9pH039kN6zvj_i8rx41",
        EmoticonHover: "_1GtsZWvAAnnuk-EjFP3su2",
        Info: "_1umzUN5_r4wX3cMjqcmR8o",
        Name: "_1rQ1eQ0H286uwxD4INOGCJ",
        AppName: "_1V_rH1P9mziCMvWLcZyS_m",
        StickerHoverSticker: "_3Cz-2frqABdb8gh63o0fQe",
        EffectHoverEffect: "_2s5VJya6OWxkqVplE0RfS0",
        PickerTab: "Qpqjxuir3kRqmuYohMcn3",
        Clock: "_2a7aO1BUm6NlQvhmkPue0m",
        EmoticonItem: "OfLMJLDRhpO6zuPdJSvku",
      };
    },
    3216: (e) => {
      e.exports = {
        Emoticon_Toggle: "_3XueYl9k__3VGLZQiibD_p",
        Active: "_2JoNKnXnpzEThiO1LP6oUj",
        Emoticon: "_3dAJwpMySCT4S71NZjocLV",
      };
    },
    28913: (e) => {
      e.exports = {
        ImagesOuterContainer: "seVYsqsBvNIhNdgm5lMX0",
        Hilight: "_1bs5jkswXKf2Nt741_B2WY",
        ImageContainer: "dkWWhWksETsEWR7ER3ri2",
        Image: "_2M4oAbXLW6w3weUH-YwytV",
        ImageFilename: "EazUbHW9el5tD37Rk-3p6",
      };
    },
    11448: (e) => {
      e.exports = {
        Header1: "_15FlIKB5sgBYLNjlnRazPY",
        Header2: "_1SWg2pG7YTaeugpLj3fW6k",
        Header3: "AX80F1i_ZmgUMWmsPWvNo",
        Link: "_3I3zkiwF6M2eVvWVHFacVj",
        LinkHost: "_3jOM4pyq2SdE_uRHvaRWPh",
        LinkButton: "_1PfAd0M_-Vrh9tOgXAisUm",
        UnorderedList: "_3sYJ7Td1e0G0Wslszv77S3",
        OrderedList: "_60l9YrodqVdHUXulDkdza",
        StoreWidget: "_3TYlQSP6hFhtuGEUbVM8KQ",
        MedalTVWidget: "_1Ysh110NzMKk_VgBtLkcd6",
        LoyaltyRewardCtn: "_2SGkeXedJcRZTSAzgtuA53",
        SaleSectionCtn: "_2Xrw_l-7ig2ztToSrh5Dpb",
        SaleTextCtn: "_2Z1dCNac3o26fLDA1IeFx-",
        ReminderCtn: "_1dtL2knihYWvV4T2avy9Wr",
        BlockQuote: "_2mfpGJGvlWF8ZHL_-MOJMM",
        SocialLink: "wn4FwMgAW1QzIStxhbCXt",
        SocialIcon: "_1wyn6hzKt_9ml_Crze-Ekm",
        LocalizeBlock: "hXuYi4usRGV_tb773Dc8X",
        CheckMark: "_1nwMVXwAnZD8l5cPLpvEo4",
        ScreenshotCarousel: "_3LgCSz07DP0VrGWLVlMSw5",
      };
    },
    64245: (e) => {
      e.exports = {
        sketchfab_play_overlay_image: "_3MwaEKJNu58I1KvIwJdAeD",
        sketchfabmodelembedded: "_2_Smm7QLZAZ8WW5CSW4vm9",
        dynamiclink_box: "_2-x_dOmS_2AwMXkbN7B-DC",
        dynamiclink_preview: "_3d1cc1MvsrwyqcpLVwS7QJ",
        dynamiclink_content: "_1HFFKy5SzlSdUqOeCydL6L",
        dynamiclink_name: "_2NgPQ0qVrod36jjY-_55o2",
        dynamiclink_type: "t-mzcLzTXIdeQQKC3UCeJ",
        dynamiclink_author: "e66Ttq_U2ApfaDbVb35RW",
      };
    },
    96008: (e) => {
      e.exports = { AppSummaryWidgetCtn: "_2WIqqLhxKCuXeK2LP_vP3M" };
    },
    38752: (e) => {
      e.exports = {
        FlexColumnContainer: "_1WvmGVRGgm5MFoTJsW3DAd",
        FullStartTime: "_1gZlxw3A6tqOUTbS7rsxNS",
        ReminderDialog: "_2S_bdWpSsv8t-xMXaatDRe",
        ReminderOptions: "P5dFjlcjntYO3MBpmnNTd",
        ReminderBackground: "GDF1pg6I2-fsJV9Ib75Ck",
        ReminderExpandsLeft: "_3RoUkcTDQEFcGwt-60ImT4",
        ReminderOption: "RNhWc6nCCuA65ebI2JVBQ",
        Unverified: "PNHvXs5BEqjMtw455tRLN",
        CheckboxWrapper: "_1g3ts8QBkEXEOw7NqaUwVQ",
        ReminderCheckBox: "_2bkmL-aJMfmBcfOPrx_RI6",
        IconMode: "_3L1VNojLrUQI_IpdJl124d",
        RemindBell: "_1MZ5h-VlF9vjDbILr_EMkh",
        RemindCheck: "_30e1oS1m2ZDesM7BW5QBqf",
        ReminderDefault: "_10z6nw8LJ533MfTzPVG6Ur",
        TextMode: "_2CgU9j3YQzsDZzM7X3dJMf",
        ReminderCheck: "FpEF0_tiY6AQyRiXKP1QJ",
        ReminderOpennedOptions: "_1Zj38ZBfmguhOgKFwnVOEv",
        ReminderOptionsHeader: "_1GBAq-spv5RQWCkLE-Nbcn",
        ReminderCalendarOptions: "_1GxfZUDhGN1Vux4nZu-X9n",
        ReminderSettings: "L3OIhrkTO8eeYH7y5A31k",
        ReminderNotes: "_1l8Na1zftWH86Bax-NewDi",
        RpcThrobber: "_2f9gFS-c1eYLNtoSj2_oXc",
      };
    },
    6582: (e) => {
      e.exports = {
        SearchResults: "_1tDREkmh35Cx8fnS3wzu-m",
        SmallText: "_2gsewqRaJ89nLEseKX8gRk",
      };
    },
    87676: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        strWidescreenWidth: "1420px",
        strPhoneWidth: "768px",
        FacetedBrowseInnerCtn: "hWbTIbfDv_T6qCKW7NQHG",
        FacetedBrowseControls: "_3fHFfh8udAeXDJOaEEEAX_",
        FacetMenuTitle: "_3K6UugTnxIu7Hi7pQ2uIYB",
        FacetedBrowseMatchCount: "_3jXlHobjqHjN2NMYLU0Ffx",
        FacetedBrowseReset: "CtoEOttT8oIQU61v1ElmF",
        Facet: "_2i4LTFpt5L1G9jhdRQiatY",
        FacetTitleCtn: "_3W_uVnD1PY3oxK4Z_3SFsb",
        FacetTitle: "_3L67OJmzdGjQ4fcAzZ2JvY",
        FacetValue: "Qu-ZCE2EM66oWdyl74Lzy",
        FacetValueEnabled: "_2kNesC2aPXsgepJodSCLei",
        FacetValueDeactivated: "_1J6AZHMH9HP_FQnXsPToHY",
        FacetValueName: "_3WMvo5MdrS9WFngIIdcTlU",
        FacetValueDescription: "_1Su6QbAk5GrkuZKaFPf3-x",
        FacetValueShowMore: "_230Th4e9r1WxI5YyW6Q8IA",
        FacetedBrowseItems: "NO-IPpXzHDNjw_TLDlIo7",
        FacetedBrowsePopupCtn: "Vyowzpcg7R39NHR8GlfWH",
        FacetedBrowsePopupLabel: "_1voIofEj5EuyghtjF0GDFu",
        FacetedBrowsePopup: "_35kqoHO3h-YeRdNU-PQ3vQ",
        FacetedBrowseFeedbackLink: "_3B2jYYB15017jfw_aJgCJl",
        FacetValuePriceSlider: "h8tqfyXMQ_FUI7RBTxcpV",
        SelectedFacetValuesTitle: "_1rCTF2jYTDoj9fDPHvDtKT",
        SelectedFacetValuesList: "_17tCWROexZRnRS-hxmKv4X",
        SelectedFacetValueCtn: "_1whZiFD2uNMQ5tOzC1WW_B",
        FacetValueSearch: "_1nSEf1AgnNzhW0QR6W-HaR",
      };
    },
    88436: (e) => {
      e.exports = {
        HorizontalScrollInDragForceCursor: "_1uftHLLCau5qwEX7iPmGOV",
      };
    },
    34216: (e) => {
      e.exports = {
        ArtworkDimensionTooSmall: "_8JWUNs4beh8JKImTVfd0O",
        UploadPreviewCtn: "ei0wWR3mb0L5b1FaTv6a9",
        UploadPreviewButtonsCtn: "_26B6AoCiKBGzwcWkCb3WC7",
        UploadPreviewDelete: "_341V_BWctUFnfZYSzx2ccV",
        UploadPreviewButton: "_2cbB1cqD4vHVmzfKIVfbxR",
        UploadPreviewError: "_2v0gpsyKTsA_DH1EOfSvWy",
        UploadPreviewWarning: "_3AsIIDTjjALqv1bpFhFYqA",
        UploadPreview: "_3pASZrqpJGF66HhDmaOZQ0",
        PreviewImgCtn: "_3cUm3eIHePztTha25LhC4_",
        PreviewImgInfo: "_3Iv_ta0j1KkrQSANN9Uelw",
      };
    },
    23188: (e) => {
      e.exports = {
        DragAndDropContainer: "_1BEPNI1VRg_n1yO7i-sYnG",
        DragAndDropContainerDragging: "_2pUkOvmrrCo5acF6P3gjVE",
        ImageUploadBar: "_3qMiPN9GMj5LzmUzsBvbkM",
        SelectImageButton: "_39lgcR-zD4iH4gArdGptkZ",
      };
    },
    60537: (e) => {
      e.exports = { Ctn: "_2di0mIGB91omFhL19a_fGT" };
    },
    16003: (e) => {
      e.exports = {
        SpeakerOuter: "_3KAg2UX08HxGfXZZAOrPAq",
        Speaker: "_2B3rVhLXsaPqHpT8uz1O9O",
        SpeakerPopup: "ntY3GKFRrX48t1GxnoRIN",
        SpeakerInfoOuter: "_20Ye7P_nY8rBWkSMkR8Dp-",
        SpeakerInfoInner: "_2ZeoLVWGb9YeVI2SAyhpaN",
        SpeakerTitle: "_29hmW7NAiYaImNa5h68YIM",
        SpeakerBio: "_1YoXPxN_WOyWKhelspz3Ub",
        SpeakerHover: "_1ctFcHjb_pwGqAc3mV4MOw",
      };
    },
    27599: (e) => {
      e.exports = {
        ApprovalRequiredCtn: "_800dAgI8q1JkibyWlzpPh",
        PendingApproval: "_3T81cImltETkWTzAoMxH9o",
        Approved: "_3oDUHCGsGm1rdMXgr-XPDS",
        Right: "_184CyOkdpt-vu_VTGEY7HF",
        Title: "_1TI4bt9ksj9wFD2mGAtA6O",
        RequireText: "rZkfYSxp7n03F7ByUknxL",
      };
    },
    3669: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        SaleItemBrowserContainer: "_2wLns48qa0uwOUf7ktqdsC",
        SaleItemBrowserHeaderContainer: "_MBp9iiFVfou4P_KdiF9c",
        SaleItemBrowserHeader: "_26iQ9YIsbJ729wLbuJgM9h",
        FlavorLabel: "Dhg57Pg1m91mAChUNE5_V",
        SelectedFlavor: "_3HhxiFyD3z9B-_UQP-oV9q",
        SuggestContainer: "_1jJg_V55YFWjEkI7F4JNw9",
        Debug: "BVxr5vTeyKyA8iLzaQiPe",
        EmptyResults: "_3_IxAJI78pkmDi2ujTaYgX",
        ShowContentsContainer: "_3IRkbvGD9KD6DdmHo16WAl",
        Loading: "_3rBnIcJ8z15r8hZq9fQ5lC",
        ShowContentsButton: "_3d9cKhzXJMPBYzFkB_IaRp",
        ResetItemsCtn: "_1XX4LznuQJhEe9mFuweU3-",
        ResetItems: "_1Yy62N2BhJzNak9SJEHV2l",
        SaleItemBrowserDebug: "_13HjZvbVKPiKmekX89NnR-",
        ShowHideLink: "_30XOgbs88SrdwcZ7XyR8tw",
        QueryTerm: "_12POAIjkSjfGJqTltHqu9w",
        Name: "_1wMufszavYvnVbk5mzCd_3",
        WGTesterLink: "_2UmRvWnSyWzANb64xXBKx7",
      };
    },
    9921: (e) => {
      e.exports = {
        CheckMark: "_3HeHPkhxLDKHDLqQp_XLag",
        DialogCtn: "ltlR6rptTQRn244cGfVi2",
        EquipCtn: "_2_8bZosfvse-eYrdsJpW2C",
      };
    },
    63493: (e) => {
      e.exports = { ErrorDiv: "_1Vj6Hkb34jRtoyYwl_5F13" };
    },
    37082: (e) => {
      e.exports = {
        GhostCtn: "_3gdzTxzNCX_Gc-8X5pQgs_",
        PlaceholderCap: "_2BOsP_g5aUUBYVezxCRa_J",
        GhostShine: "_3xEY-bCBTG6vnpuolzTDoB",
        CapsuleRow3: "_1sahv16V5tHT8PRTqVwzz6",
        CapsuleRow4: "_9DKx_1d2txBOQvDwNm-zZ",
        CapsuleRowSuperCapsule: "FmEG_up3yCbWvzMRJv_N4",
        ItemBrowserCapsule: "_29R4yo3Zgu0Dygp5L5xW8M",
        CapsuleRow23: "_1HLLGrDTk3E36kNusWeEoD",
        CapRow: "_3z4uumeai1p8JSr62VT_Ab",
        Caps2: "_2MWEjNa_nX248d_gcp6Zbc",
        Caps3: "_4y3JlrIe3uPgra_7v9cw5",
        CapsuleRow234: "_3U-4-sh_cWTmVcWntK6qOM",
        Caps4: "_1yJZ-dQrVmgdnCfnc8yO-H",
        SpotlightsRow: "bAHMzUqNAy2Xq1ePrFuQt",
        DailyDealsColumn: "_3S6lYTUXJqPhaF4posmbzW",
        MainCapRow: "_1pIEEUZQvRoNZf0Pwe9gG4",
        DetailsPlaceholder: "pZw5nvk2J3fGFkhu1ugLv",
        PlaceholderTitle: "_2DDPjfQVsmJ5EnpDjtGB6o",
        PlaceholderSubtitle: "kWEVIVlNmSi4yw2wD68J7",
        PlaceholderRelease: "_2JQKTyJBdOoh8Hmuq_e3AY",
        PlaceholderReviews: "_2BGG8HSp5ZJcCz6xUymgz_",
        PlaceholderTags: "gvNj1RK3sGxmLJn5FerDz",
      };
    },
    53343: (e) => {
      e.exports = {
        SectionLabelCtn: "_17xMeky_kZ43WbpZl9vxOD",
        SectionLabelRight: "_3B4IcBz_g9Smz-ZhZqs9Yu",
        SectionLabelLinkButton: "_1bw3D1_Tk_RQE5noTnFX8e",
        SectionTitleInnerCtn: "_2R3H5d67MhYF74HmKPYs4V",
      };
    },
    43589: (e) => {
      e.exports = {
        Ctn: "_1SGWR5axBUG592hu6GJWRM",
        DetailText: "aLmWPgO7PhOr5ioL0cVS5",
        RewardText: "_38NeVmLbHncBbSKN30g3qS",
        PostText: "_24LOxaKf5Hjcb733iGZrEV",
        ImgFullBagde: "_2Sm--8e22Dm4MdIs9dJLka",
      };
    },
    22945: (e) => {
      e.exports = { BroadcastCtn: "_3YzMiN4Ox4KCuthTY94uR0" };
    },
    13116: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Heading: "_1lIY_WGg-62UIbryS5WfiP",
        Body: "_1JDe7oZTCa7k1hylvgWQU1",
        HeaderBlock: "_3n-KUi74Nvym37yTD-ZsSx",
        Background: "OtPIjFzvgvhgBbFjn7amO",
        DimBackground: "_2kSJmpYyTj2gAEH1ZBffgE",
        Input: "BRkPzPAMsrHQSOzSTANuI",
        CopyContainer: "_2r_KSHMwd00BTU5-zhKPQA",
        Text: "_3NGNCHKvU_MuIpOPqB32yz",
        Link: "_3RoxODZBFEObZn4kKK7M_J",
        Button: "_1ARlQegyaQ1xENYcvSXm10",
        GenerateLinkButton: "_1TX0dzrWsVzzA7xx6gO-LJ",
        ProfileCard: "_2a7rsdJGZQpDQ6MyKqiYii",
        UserContainer: "vSokQZiyW2uoJ4XQ13If",
        Image: "vQTKBkWkaPy5_Jz4Xho8A",
        ProfileContent: "_29EO2NiT6EwmtrmnZ8acvQ",
        ProfileLink: "_14jbpUFs9QSgr8Iy_vP3gw",
        Failure: "_30nEPnTnnWdyYZykhZnojB",
        Success: "_1NPlBX3In8Dz7lxnySxuy4",
        FriendCodeSelector: "_35N5FeLM1pdhtNpkUkBHTB",
        SendInviteButton: "_3Izq1wTe9iIDhovEOVfYji",
      };
    },
    4656: (e) => {
      e.exports = {
        LinkRegionDragBox: "_3riG1T-WoOrvk6gHxsk5G8",
        EdgeDown: "x0k8JyUvHv3XknFgKSHxI",
        LinkRegionGridBox: "WNpt6CD1IUzZUrek8iEJb",
        LinkRegionEdge: "Cl8g8dzXIrBUPu0HGf0A7",
        TopLeft: "_3Or-wGV-vxenHgRL6Bf7Mq",
        Top: "_3FlcsTiQY6aXd3_mpvjZV-",
        TopRight: "_3nljJQ-kRTsD8vfs81gLNc",
        Left: "_2P2d4Fq25-kSlwOEImyi65",
        Middle: "_2HdpbjLDtrSvL8SMUzp3CZ",
        LinkRegionDelete: "_1MGOziYhPHUT4uX5LWLp0C",
        LinkRegionSettings: "_1Ko6IdN6EfeSpH9c2_HLrR",
        Right: "_1F5bNY0AiKk_BV55IsiVg4",
        BottomLeft: "lZCSb15ta1T3DxdoRNKZd",
        Bottom: "_1SsR1WRqAt6Q0y21FDraVL",
        BottomRight: "_234XsJ1EmRfigumGhIZwmG",
        topleft: "_2M_mJJpsF2GncVagKbNpR5",
        top: "_3ILUb_QE32LMbK_Po4M08I",
        topright: "e-0z6N58nqEZp8iBaIG3d",
        left: "_2heDAnrrVB0jNnMrzdUKyb",
        right: "_3zE2wK7XRKhNnxreUzaDR",
        bottomleft: "bKyXtwB0axV5V62lPP6Ft",
        bottom: "_wmyVys3fhLnGyLc088GB",
        bottomright: "_2SGw-eYOBGj6abOPT2Gajk",
        middle: "AlgGpSUP6HaxOsbjnDkXZ",
        LinkRegionButtonContainer: "_3a5LlIFNyILbT6a83q2q4K",
        DialogButton: "_3c_7tSvSVtdl-xyf0WsIqX",
        LinkRegionInfo: "_5q1DzV_IMrRtlvSpic141",
        LinkText: "_27FTjuQN7raGbztCJZm_RA",
      };
    },
    81602: (e) => {
      e.exports = {
        DateAndTime: "_1miMhQTx-6BvBZ1LsOjdgc",
        DateAndTimeInline: "_1jG_-tTU53X85RGx_FABL2",
        At: "_3D4jIToP-g1jxP4iLT74dh",
        ActiveEvent: "_2ZcVE43ISqOFTj9Zbw3msS",
        ActiveEventCallOut: "_y2DQDJ5toIRanQZFjDCx",
        RightSideTitles: "_3sPONDb9e2ctNJ23X97Rxx",
        DateToolTip: "_3zhjahHCGX4slI7ziVhROt",
        ShortDateAndTime: "_4K3Bl-RZYjH0IHfPO10FC",
        ShortDateRange: "_3sqcQTW9oCh_HBrotB1Dkw",
      };
    },
    49975: (e) => {
      e.exports = {
        Label: "RRbwyjtu6DDWq368gIMpp",
        ImportLocSampleButtonCtn: "_2LkAYVUsMXalhO677MqBVu",
        SampleTitle: "BnzCuGgCC4d99OApbmASf",
        ImportButton: "_3JC9N1mzXnjQw04LjPcXJZ",
      };
    },
    65534: (e) => {
      e.exports = { SearchResults: "_3ao90VJXRm_s7dNasLNd3I" };
    },
    79883: (e) => {
      e.exports = {
        AppCarouselTrailerCtn: "_3hJp_KxGfvcuBqWfaf-SG-",
        AutoplayCheckbox: "_36Ep17J5IbAH9RqeTWa3Do",
        AppVideo: "_2ykD7mgR5-KRsYdM3I-JX9",
        AppMainCap: "_2SJkcB2oxKVh5rSLllpCrB",
        PlayButton: "_2b7SFRnkwN997n8tmPQbqF",
      };
    },
    98866: (e) => {
      e.exports = {
        DiscoveryQueueWidgetCtn: "_1iOb7kxX4jlNjMFUt2RDOv",
        WidgetHeaderCtn: "_3u5R_qAzkfFc5FGMLl6oLQ",
        LaunchAction: "_1V7hoEWilfQFVdckmWMUQw",
        AppCarouselPosition: "_3bu52tsbUAHzNsGN-Xz9MR",
        Initialized: "DcGKBYENMbkm9PKsLVYCk",
        Spinner: "_3Pisp7jliQhnQ_Nnibmcnl",
        AppCarouselCtn: "_29s_cOjpA88IjrKyupRQOV",
        FadeIn: "_2Y2J0MqeRm1ZXGDH5xgWZb",
        WidgetHeaderText: "uUpemdkkWLSqt3nki_Hy3",
        AppCapsuleCtn: "_2dIBNAQQotoW3RfQxPx_vm",
        LibraryImage: "_2C3wbFIb3MoPIF-NXlWS8z",
        AppName: "_2t1rRlxJCQFLGaY-qjJFpm",
        LoginButton: "_24bCZFPgDZ_eHGtJC8dxYz",
        Placeholder: "_3rUZ-JhiTP2nj6JtsbJw-M",
      };
    },
    44910: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_1GFC6TjYjXSR-MxCQkocw",
        TextLink: "_1hQVCEKKm0686F2TQ5jKqZ",
        DiscoveryQueueCarousel: "_2swWHiHYqMtbnwdXp4A-wT",
        DiscoveryQueueApp: "_2o_YH7iQcoTiVzhbh6shv6",
        Focused: "_2Xpm2jluqpPhvZkt4qV2la",
        DiscoveryQueueWrapper: "_1s3BJHclED7lkUNMZsGt50",
        revealDiscoveryQueueWrapper: "_308QKMPfcc661MUswJKlCt",
        AppVideoCtn: "_2XCS5oeY4-ddcFgh5cOruf",
        WishlistBadge: "_2vb6rnNxdzE01NeBM5YdEi",
        Active: "_2EDE0vOBIh9RPCPHvbgs_n",
        DeckVerifiedLogo: "_2mYU2X9tzK4C92Xu5L72wF",
        AppDetailsCtn: "_2E1O4WYjWuzY7dNtYgcgO4",
        AppDetailsCtnTop: "_3LnWP6csXkd0C81SKVx1z6",
        AppDetailsHeader: "_1Qn-xpwWsz9uDh7keTa5_e",
        AppLibraryHero: "_1TDRhABqDQLl136zPciHCp",
        RightColumn: "_35mWvKHX_Weq1W6CNnB-qW",
        AppName: "_3KC4Wk41W4rHQrtLDPRWaW",
        AppTagsCtn: "_1t4JVhBNqhvqwALl67ZbJ4",
        TagEntry: "UNDKTpLih2ZEzV2uoExnM",
        AppReviews: "_2lVXSaQlYWCt5Qiljpw2LG",
        RelevantCtn: "FGuCnuJCMLeJqxHKPRzPh",
        RelevantColumn: "_1HcOXSc7ZslGPDMKsqeBKz",
        RelevantItem: "_3I77jXI6J1pDAIej5-hW9Y",
        RelevantCheck: "qKF9PlhJmugxbs5G5Riyo",
        IgnoreLink: "_2OinPLGN1p5S6s1Xe7f-VZ",
        AppActionButtonsCtn: "_2bIsfpoa-eV0PgvvU5OZ4h",
        AppActionJustButtonsCtn: "_10l0MHL_aG0U61HtflsHNz",
        QueueButton: "_19cHbMq9PdFCW_3QFPwc9b",
        ButtonsRowWrap: "_1XcPEQrnVxyreWHDFGh6Z9",
        MainCapBlur: "_2TOx2eR7ThuU0OEKVeK9Nx",
        DiscoveryQueuePlaceholder: "_3ZUUI1o3Fji-5Qrb9UW659",
        IgnoredCtn: "_2e3_oKhctL2kiv8plDyrEy",
        IgnoredInfo: "_130E6kcqrzNENM_e5lXWGn",
        IgnoredTitle: "_1QXC5CNnvMV-AjMX17LEZd",
        IgnoredDescription: "_3RVP5s8xFVx-TdiJVcjwpH",
        UndoIgnoreButton: "wC564vWsox_ycv5ypDufV",
        AppDesc: "_3bAqJJ-foVitSEpb9xFPYK",
        YGlyph: "_1SpsGsdAn1eZ-3UlS2Ae5Y",
        SummaryContentCtn: "M522oEeyn-bo6wj_JyDQ3",
        SummaryTitle: "W4ekXIN9jxzThHQkPOuiC",
        YourStats: "_8PO3T1uPD2sskE7fyj_bP",
        SummaryGrid: "_1b0jZ4K0RB0I0ENvYTlHty",
        GridItem: "_12SabxrAEFweNs36zYUA0G",
        GridTitle: "_1vnt8x0_S3ZYgCDxhwk9Zu",
        GridNumber: "-Q4Axz0-oCVdqx-HyClje",
        GridSubTitle: "_1FQzN1EB30CmChaOQl4FJ3",
        SummaryActionButtonsCtn: "_1hRNcV1b-eZd3lNr6oI9VV",
        TopBarCtn: "_24gmm3gM0Km6XYQtbgKs8g",
        revealTopBarCtn: "_2Gt6GkC0b34_LEEd95aMXd",
        TopMargin: "_2xo1mKKqIA_FTpvTu9-bhE",
        BotomBarCtn: "YW9PrtoZAcR2gHNWf3_rG",
        LearnMoreLink: "_3bCDZVQlDJ8YnLQLC-CzwC",
        ControlsCtn: "_3UbRlxSTJEmIefFmWrlqoB",
        Disabled: "_1yh4oNhQcC0bRP3IZCPkPb",
        Primary: "_1ZYKEu44O80nIIoL2UpqY6",
        Launch: "uZjq4gPY7W1sLpncBvF_S",
        Wide: "SD-xULu43Og64mhCqi-hh",
        QueueNavArrow: "_1kgdoykEjmj1HD-vK-Ljp5",
        Enable: "_1hqwMmNNA3kIQjARtartBc",
        RightArrow: "_1ZHCC8f9izvSQQmPp_Eypj",
        LeftArrow: "_3BctdD5E_AKBT6H4LnamxK",
        ReleventSimilarAppsCtn: "_3wqiWOivjfAAvQoxlfz8a8",
        RecommendingCuratorsCtn: "II031elGhwJaddnX6q1XI",
        WhyRelevant: "WBWfZf2g2j5nsEYOaj6wC",
        SimilarAppCtn: "_2oeoSHx3W89cVkmrwtH9Nx",
        SimilarAppImg: "_2eNyYCFzBoljqX6LsIkF9s",
        SimilarAppText: "_3MS2G4FwHHBpQbqdIL8iHk",
        FriendAvatarsCtn: "kOfo-820yKLRs2Pus89kJ",
        RelevantTextBold: "_2FiP4-8V1dSUc9PgRos4Lb",
        AppDescription: "Kzj5Imp3SCGHJSD-O5VVr",
        TradingCardCtn: "_36Qbj4GIdrhv2f_uX7vsLZ",
        TradingCardImage: "_3wa0dk07B7jK4ewgy8yxJu",
        Bold: "_1SxI5ayhi5f2b4w_SthlVG",
        FriendBlockCtn: "_2a8FgCmh-veVpUTOZeCtd6",
        PersonaStatus: "_3HMhzN_MiPPWODIFbdnJUO",
        ProgressCtn: "_1IvtAxW82ld9UeJbL3ZsOi",
        ProgressDot: "_2f92W7wZ-CFPAcp8T5RURM",
        ProgressDotActive: "_2oIovOj2h79JrSKRJENJ7H",
        ProgressDotHidden: "n2UAYkLpCKtsqZYHTKWn_",
        DiscoveryQueueName: "_1hDU6OrNPboWPC_QOXnFAn",
      };
    },
    6791: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        mentionDialogPosition: "_1bkURvo-kTAM9QVTbhu8KU",
        mentionDialog: "_3cYwTZottPHUZlRdtGxHI0",
        mentionSearchText: "_3YEqWFipelXM8TorxOM0-B",
        suggestOption: "_2vKzaUZjsSot6P6v7AhDga",
        mentionSearchOption: "_3KZn9I8f0AHvfTeoLhMm7N",
        manyMatches: "_3Y9oJ0AX3ad0QANwRsEBeh",
        selected: "vuyQsbjGz1XyM66XierTV",
        nickname: "_35J9NdmaC1T1fSafK7Hr6F",
        mentionSearchMatch: "mBrO4h40KOM8bo3anCsrz",
      };
    },
    97342: (e) => {
      e.exports = {
        GraphicalAssetsTabs: "_36r8gl5xbOCl3auJ3n_QlS",
        GraphicalAssetsTab: "K1_TpPRugybUSZ7-2Q6Lz",
        Active: "_37f6MbKHjwO1qFFuks0sTJ",
        GraphicalAssetStatus: "ojMj8nqJL_5W-K7A_IEob",
        VOWarning: "_21XR-ix3BTEJLybcEZ5WLH",
        StatusSuccess: "_1HWSee7PsxQ5iVbJM0p5-9",
        StatusDanger: "_2jgbNWld-7Gtf6BxRwKF8n",
        StatusCaution: "_31Lxus7enF5o2STla_4chs",
      };
    },
    46351: (e) => {
      e.exports = {
        CropImage: "_3Mto69pCMQlEfShymcHW9I",
        CropPreviewGroup: "_1d4RWFvC7b8KzmlbvM3AHL",
        CropPreviewLabel: "_3gxY-pqVJpQ7dlEObcF4LR",
      };
    },
    91743: (e) => {
      e.exports = {
        CreateCustomDiscountCtn: "_2T8DyF_QPmBfwHdjQByUkw",
        TimezoneNotice: "_3b_Fw9HRyniOqpKjCVbJ_W",
        Section: "_1LCTirlb4CZV9rVWaTGzaC",
        InstructionsCtn: "FnFwdZ7IvBGGnBEW81xgv",
        Warning: "_2RAeXWxmz-7eErRQYQkKAL",
        RequiredFieldWarning: "_1JnjbiJK8-S_Ya75S7AU5L",
        CooldownWarning: "_1LzOxkCM8rqX0LzwRnOUVw",
        CustomInstructionsCtn: "_2tqOEqpmWsMuxNeKGDW0db",
        DiscountCtn: "_1fE6JV_C3li52QMjcFFp4P",
        DiscountHelperCtn: "_3B4DZI92_MgAH2lFBqLT2e",
        HistoryLine: "ZmVYLu1ME_gfz4YM-CqDw",
        AvailableRange: "trSI7N_YmfiTjB6_fZqCl",
        DiscountedRange: "_2ysY6eQ8VtwC_Coxlloy5r",
        Dates: "_6Z2m03wBi10Igmh1Z5OR0",
        SelectedEvent: "_13wZta-VC2vD-qiWs80UCA",
        DiscountName: "_3UxnEIfBIeRKlxkpVOySxB",
        DiscountPercentage: "IAC4vBBcGaruTisdh19cS",
        DiscountRange: "mddbOKO0RIOIQeJ-h7eI9",
        AvailableText: "_1METezLK8YEbSMQkhZhC8X",
        DiscountEventSelectDropDown: "_1TuVi1JR-0DBYY4TZIszqX",
        DiscountPctHistory: "PO8Y8S9HEomMJUP-qXPvH",
        DropDownScroll: "_3jSyZs1wgd5ouPf8uJViw7",
        DateCtn: "_3ylapx07wP2ox2t3Lyvms3",
        DatePicker: "_2n6EdGGO1j6FYfzT96LBG2",
        SelectedPackage: "_3BWNETam2oBjvwOILDcLuL",
        OnePackageResult: "_1HqM33jwjHjyFrCKKvAcs_",
        PackageName: "_3xE_QwJ0Eme9shoT2g-5-3",
        ClearSelectedPackage: "_27zzrFCxyekWP38JCQNZJX",
        SearchResults: "_2m4PZ8dsvzkVgbli4GQMFc",
        SummaryLine: "_1XXEb28Oa0RFnF31Aji2RG",
        PackageList: "vwVXi8gp1fIkw6_n6be6w",
        PackageHeaderImage: "_2eRO8Z0INkSMTBIoL4V8j-",
        DiscountLengthCtn: "U9VTONZz_t3ROedWvMDYW",
        DiscountPercentCtn: "_2YPdFQCJjv9rNcNL2wEu4x",
      };
    },
    63226: (e) => {
      e.exports = {
        DiscountGridCtn: "_3THzepUIt_9YaOf4KmNcW4",
        Title: "ieZ0La3YWoVXTqHlUonFW",
        DiscountsFilterBar: "_1Rr15kfbsKhzqpYqu2mJ25",
        DiscountSelectDropDown: "_1vpeLno-fxLiEr36lSvB9_",
        DiscountFilterCheckbox: "_2K2RilMOnElfQZ1WRNhQfo",
        UpdatingMessage: "_13PLUpybO095PSWN2KtKcP",
        DiscountGridWrapper: "_6SeSQKhdlkGydbt8O0I-E",
        DiscountGrid: "_39Ize8dokzZuzGXAaSq_NF",
        DataCell: "_3V8Jbtexw6tKPwushv5utD",
        DiscountInput: "_2bWSQewEdMrW-n5hoKq7IF",
        HasDiscount: "_16Z51dJHAoSqaIqUudtaBV",
        LiveEvent: "MJbOkh8JnJKSOBUlou2j8",
        DiscountValueCtn: "At0eU37TeAd2RakZ3xCuN",
        ConflictWarning: "_3ypGB4aVOIjKy5eaTZaY5K",
        NeedsOptIn: "Wp6D3m2s9U42GDdQiMSLK",
        RegistrationLink: "_2pjYaTAJ1gBsQUkNnAG9pq",
        TheLinkItself: "_3ku7CZTyNt80HY8kHW7EDm",
        CellPct: "xbyPggdhYH7OS4g4gtPFt",
        TextCell: "_30Pxi4p4svYvt0gjfdB8rT",
        ResetButton: "_1lJpMiF_7fipvb0Fwh_1PG",
        ResetButtonCtn: "_2fvdeP5_XBAt2WV5YkcI2N",
        IneligibleNoApp: "UrglOIGSdnO0bq19ifw8o",
        ChangedLocally: "zv4kmAcn11HUsn_OigMkH",
        DiscountTooHigh: "GACCxLawf-htg_I_hyr99",
        DiscountTooLow: "_17g5ZLhE1nEbEYZnYJzWwI",
        DiscountRangeWarning: "_2_w-XxxXsbLKX5IjHmLHlu",
        ButtonCell: "_1J2q2UgCROhFPlR2jeLxNf",
        ConflictToolTip: "_1nSci9H6aORL_nK4W3NdVq",
        ConflictText: "_28b0Ons-qKNOCnUgkJARYg",
        ConflictExplanationText: "nBw6vaeW3Y5aeU2Kzy_ww",
        ConflictDetailText: "_2OS_FekIbxHHjhBFIKrbDg",
        EventTitle: "_3FDJP270FRoqT7SCREV69P",
        EventDates: "vmimx_P47BOqySGTak1qU",
      };
    },
    50943: (e) => {
      e.exports = {
        Instructions: "_3XzkBlyUR_vmsn2EDyreD7",
        ChoiceSeparator: "_2MThyT40jgg809DPoGd2Th",
        ButtonRows: "_36Y-tQTxf6Q7eVYJ8dsm57",
        Button: "how9a_zLR8wIRdY6qCPZM",
        ImportButtonLabel: "MoV1bhGNY2U3wBSmL1g5I",
        OptionCtn: "_18v_k_3u5eP4ud4nBFpQw_",
        OptionDesc: "_307U-wkGDV7Rp-CbxfGoTk",
        ParseResultCount: "_3wac_Ag4DVs05RgbOnxdGW",
        ErrorHeader: "bh1JBOaVT2SApZdmePrlA",
        ParseErrors: "_2sHaVV6XPXAK57t39EPPpR",
      };
    },
    58515: (e) => {
      e.exports = {
        ToolbarInfo: "_5a6kgT5Y9TDy2b7eW_KGb",
        Visible: "_3O9re6ObDKYKNDbkugM8t3",
        ChangeCount: "zPEyHrOK71yme5oSTHoqs",
        Buttons: "_2u2UgY7HvrcpTSce9VuRWj",
        Button: "_1ko4cBGJhFKlTf-K8HMzPV",
        SaveButton: "_1HBCAeWNjehnpwICaZps3m",
        NavigationWarning: "_123Gvg6G-1VBFkqx0r6xCj",
        DiscountTooLowWarning: "_3ACuuXOw_8ik-3V74Os1yK",
        DiscountTooHighWarning: "_3qgy8-d30t__WppzYOZX-V",
        DiscountStartImmediately: "_1kasl81eekO2b8WGK1w_uE",
        DiscountTooLow: "_3bgrT6c4dmSsWjVXE4L9hF",
        DiscountTooHigh: "_3rdrEk85aE5dbEZsOG2_4i",
        NewDiscount: "_2cO2zi69E45eP1ae-1X94d",
        SeeDetailsSection: "_2vKJryGsl1bEmuZcTaasqb",
        SeeDetailsButton: "_1dqW3d22SxJOW3DwjP4XSb",
        DiscountSummaryList: "_2jhyJdq3fZNF0R1L6220kv",
        DiscountSummary: "_1bNwvTe_FC6VCflEc6i76b",
        PackageName: "_10l8zc4ATLVmZiqw-_icR5",
        DiscountDelta: "FrNhSyXIj7OrB1NjUhYdF",
        DiscountEventName: "_2a8myoM3qLyg2Sklv-KvZ",
        PreviousDiscount: "dyifEykVRBd1P5M-GEZgQ",
        MaxDiscount: "_3eLo5y4jBcfwMUQz6wIJcZ",
        DiscountArrow: "_2r8Z6uh8eZWaxAHSNPVyLf",
        ProgressIcon: "_24b4eETIBbBqER57VPOLIw",
        ProgressIconBlank: "_3QeQi7qY62dgzhzFmTiAfY",
        ProgressIconCheck: "_32a73ITGryHUmU_4fy9qfu",
        ProgressIconWarning: "_3eTMDy78PGwHNBByPUeT6F",
        ProgressIconError: "_3xfYZDycu8V06FgfJm7hS8",
        ProgressIconThrobber: "_1h_MOw7uv5uO-3NjB_353L",
        HoverToolTip: "gba9ORrJbj5gmNm9W6UUS",
      };
    },
    51761: (e) => {
      e.exports = {
        SingleEventDetailsCtn: "_381ib_jM3s2g_OfVNoF_z8",
        Visible: "_1qjHyeKYpcv1IFmVZmsTkw",
        Section: "qWsOGf_bOUdbKU6uOeO2n",
        SectionLabel: "_1RuFOVUpm-iPdK4RVFwAgy",
        SectionDate: "_3DpTZY_dQeqBm1zvnOz_P4",
        ViewSummary: "_1asTwqP_rc_HISLHpeRWhr",
        SectionText: "_2oFM4IWyacTftKyLkKR78J",
        WarningText: "_3Uyj_XkyWMBNercoo6EQut",
        helpCtn: "_2MBA-YyJVi9vhm412-C7Mw",
        BatchDiscountLine: "YW4tzX6XiA_e0OZzHp6Je",
        Disabled: "_3ndVfu44OeiWUEpu1jN17M",
        BatchDiscountInput: "_2Vsri9hvhsazGcnli6kEO2",
        CellPct: "_1NHr4HifCXmG6CqMXqZ8dj",
        BatchDiscountButton: "_2SPUS5dAdQ_7Mpjv5FWc81",
      };
    },
    59850: (e) => {
      e.exports = { AppImgCtn: "_2ZE7VRLkz02vD4UGS2B_dH" };
    },
    84531: (e) => {
      e.exports = {
        Header: "_1DEtCuEDdbBHu0qZxRB-qN",
        AddSectionCtn: "QTymRMXMzqdXjCMeoeS28",
        optionList: "_2QQ6j9BXjsTZlfwG2LOf08",
      };
    },
    4176: (e) => {
      e.exports = {
        MainBody: "_3QmglPlogoZ2FVr8KIwxsh",
        MainCol: "_1PltsWB_h5qdWiJCgWaAsG",
        RightCol: "_1hPMJK0FN7yP_UmuRcHYi",
        FlexRowWrapFlexStartContainer: "_2DAMJDwsdG6OiQ2EQRqoIy",
        InviteButtonRow: "z70Aa-I0xJwrObXVHmGKg",
        ShowAllInvitedRow: "YH0Zz5E1DHq7us-SwmbDp",
        NarrowInputField: "_3s6tXeknaUMhhIR8NoWYzc",
        TopBarContainer: "aeUyk7rI8mC9mKtPjTda5",
        BottomBar: "_1JwCyoaoU2Q139AWQrCTMw",
        EligibleGames: "_1rysVF7go2J-8hHPBWpEnh",
        BasicButtonSize: "_29w-Z1ugZoBYArwA1_X2jk",
        EditorInputPaneContents: "_1EuN8ny5rxP3EIKLSEqX3q",
        Section: "_2yL7JZ7leAVvBHmRcwl_mJ",
        SectionDesc: "_33_oCFON1JVNDNRKc_w7NY",
        ManageTable: "_2afWvUbg3NpgntTDylEHBc",
        EventBBCodeEditor: "_3UtWXZ3dOC0Y-WnrNRdrpP",
        IndentedSubSection: "_3zYTcSYSIq81s0lGtYvnN2",
        Disabled: "_2rKAB-m6OrWzD-xqx4yzCY",
        RightSection: "_3NiRTjeodCFztYzNC8PO1K",
        InvitedAppHistoryDialog: "_1OeP6U95st3jcjePzzhsdN",
        InvitedAppHistoryTable: "Lp1p-Wyni2VEi_4YUkfrC",
        InvitedAppRow: "_2tiXsmYQ1DliDpAzYq_aAV",
        StatsCtn: "_3R21MZG-g_yM1S23hdLsKh",
        NoEligibleCtn: "_3LgwOe6mZR78-w_PoXGKmt",
        EligibleGamesTable: "_3sBXwILYFyzoFqxMG_Q5yE",
      };
    },
    72460: (e) => {
      e.exports = {
        EmailTypesCtn: "_4xCByWOsTQR3UlA-qAYZg",
        EmailAdmin: "_2PhkO_dMhvxvHLtf91ZDy1",
        CreationRow: "_3Uphn_PISbN2EZ1xbTnj8v",
        EmailsCtn: "_30DZ2NcLbYfFjTHJzTiBac",
        NoWrap: "_3yOHONtUJGaZTXYXI8xZ04",
        TileContainer: "_2dKmv1jSlutTWJ9-4dshpw",
        EmailType: "_2JiccDDBQPFLlvI05Iomjs",
        EmailDesc: "_1CE8Cn60dhsKJ-R3uqEyNW",
        EmailStatusTodo: "_3bvmesOZFGCGwyytDy6Z-u",
        EmailTitle: "ZubnXh2yMM06gevGzvi3b",
        Selected: "UaNa5L5y0mtCFnTnZnBSy",
      };
    },
    87717: (e) => {
      e.exports = {
        CenterAlign: "_30g6tWWHgBw_8SX_hJ8U5t",
        EmailEditorContent: "BLEK0pedAqsKYDawmnv9h",
        Columns: "_3dWS09psnWrOzi7c7myD5-",
        LeftCol: "_3v4VetEtviCcmeiKYvUKYi",
        RightCol: "_2XdISc3FSMCH1bO8cVsUtF",
        Sticky: "_1JpQaxv-Ejzz-lwL7uUSJb",
        ConfTitle: "_1034qJDouTHTOcIQP1xNFY",
        EmailSubjectCtn: "Ky6vQs2Ff2w0K67ooIoKZ",
        EmailOptionTitle: "_2byFL7PoQsC09wp4FUV3SB",
        EmailTemplate: "_4QEkYlTQNaQDQjH9CwFaj",
        RightAlign: "jGzd4tFA2syd_rWwhw7xW",
        DevEmailTemplate: "_1MnomTjg9dKzkkTceWmJmo",
        DevEmail_Content: "_3Ot-a9W-cxpbwB97depPQi",
        DevEmail_Headline1: "_3dKOmPkNgctPd6TxRIBfsT",
        DevEmail_TopLogo: "_1cVtvIqv0kQbbVcALjnwSv",
        DevEmail_TopHeader: "I1TnLYJOHefid6PAZREDa",
        DevEmail_Headline2: "_2Jqt0syOIpdsBdBwdlRgPP",
        EventCtn: "_3LekGE1v2xAROh0oX3SJvn",
        EventTitle: "Zmpp3Dg6kH7F_7gVJYEP8",
        EventDates: "_300LPGAM_T9NVX9L7Y5kVi",
        DevEmail_SignOff_Img: "_3O708NIAr2kE7qJL0iPTtc",
        DevEmail_Signoff: "_3AVDIuXuULcVJ38zufLL4y",
        DevEmail_Footer_Ctn: "FpCTMgwkfdUEyaglt79Zo",
        DevEmail_Footer_Reason: "oQkDs7urXux0dzQnlpOTf",
        DevEmail_Footer_SubSection: "_2fxkCYuOyk3rNlI7Hc6aw-",
        DevEmail_Footer_Bold: "_3dqocAJCi7TXQfEiEIT0fb",
        DevEmail_Footer_Regular: "pleWjzitxj88gkyATUDsX",
        DevEmail_Follow: "_1i4xtAqK-MmJukSuvOzVcw",
        DevEmail_RecipientTable: "wkKazMbkWdz1ISc8-ltsD",
        MetaDataCtn: "_1-s0hDk-6Hv4PON2lW2Tm-",
        MetaDataSummary: "_22Gai8csqtEIw7WpP_FtWH",
        MetaDataRow: "_1Pb5P3hiyBkfMoKp0wE-Td",
        MetaDataRowTitle: "_393GuAv7eI_UjVXM0Zg8hj",
        MaxEventCount: "_1E7zP_XHgZbkli43aR1oT3",
        SectionCtn: "_2LeZ2BB6PDd0SHAzDKx5MD",
        SectionTitle: "Ypz5SaiL7Gw5Fgczbidwz",
        SectionEntryTitle: "ScsuEfNm-mzBJEIwSsKUi",
        SectionBody: "_2JTPYfVtEKGXsiFzIHLijp",
        ChangeBtnCtn: "_1LZ2L7xIYRJKUnBED4wve_",
        AddSectionCtn: "_2H_OOx4aDIy0iCtasclvcc",
        StatCtn: "_3lCM2FmZgnNED5RX_EeYAL",
        StatNumber: "_3gAEw18835AkUiGnrWZcTM",
        BigButton: "_2d5qKzWR6OBkrN8cW00C3x",
        appItem: "_32UiY6_GcRmqCR9wca4CDO",
      };
    },
    28593: (e) => {
      e.exports = { Preview: "_3fMhGOYMLcdHpgtk6eZULh" };
    },
    68390: (e) => {
      e.exports = {
        DownloadRow: "_3Bo6GQIrwXOnaUmy0lXrzx",
        ManageCallout: "_24SeyqOaBpKgA27KCtkRRF",
      };
    },
    70185: (e) => {
      e.exports = {
        StatsCtn: "JtiCebOxXMutVCivZa-pf",
        Warning: "_3cDtwWqZjnSppII202KeYN",
      };
    },
    23528: (e) => {
      e.exports = {
        Ctn: "Ldxf5Gy_0pgDODbg67v_v",
        ColorOverrideCtn: "_3yejm9xBOxeSK-OFACuXPS",
        BackgroundColorBtn: "j53NLlhPJNNtYoeAZ64YD",
      };
    },
    35181: (e) => {
      e.exports = {
        SectionTitle: "VM14UGwmk4Ng_GDgIOldV",
        Row: "_2db7mqsWVB9uITzObYYyl_",
        Pruned: "_2-QYplON9ZYDL8F7UCPKkn",
        CapsuleImg: "_8kkOBQP9vZs4Sc5e-D6Nx",
        Column: "_1r2iOIGkkE_H-dtyZl9UIA",
        TopSection: "_2nKNyFzGZRK6V4byOFHBxY",
        ActionsCtn: "_2jqGLvwK_rnnuqv5Bhw7D4",
        AppealWordsCtn: "_3B_85IU-BWQ7IsZ1IvtON4",
        GameInfo: "_3FTQ3un50thBT-7xji_vdf",
        Title: "_1Y3gQeVyRPx26BMlVqCC90",
        Desc: "_1ICOQoKc9Yus7L-CxMdL5i",
        StoreTags: "_3eS-zxfXPqFdoQWy6KV0Yl",
        RowNumber: "_1HUphXBGHaXuM6Vt-_xH_j",
        FilterTagCnt: "-HWZKyvQQSbeyYiwDC76A",
        TagFilterBar: "sNv3-Ibnicq6cU_RV724_",
      };
    },
    25232: (e) => {
      e.exports = { CollapseableTitle: "vvz0tBhHiq7j1fc3fJoWO" };
    },
    79397: (e) => {
      e.exports = {
        Dummy: "XMLkPKDQ1MgeD1j32O-v1",
        ButtonCtn: "_3QVsdxhgU_YPPHTyMJDHz5",
        AppealResults: "_3RoeYJNaQv8Eequ7cx1f6",
        Submitted: "Z3TjVBwrSm9asHXEYxaqB",
        Declined: "_3fgI817EeORmHp2YcnBcp5",
        AppealSummaryCtn: "_2NYKMnhLa6yG5AlbFm40Js",
        CapsuleImg: "_3bewl5JFFO1zc4y4rC4huS",
        AppealTitle: "X7wqWSp1svujzBKi9j7xG",
        AppealsEntryPointCtn: "o0-VKT1E9Pv5FCfCBgLY-",
        AppealSelectedApp: "_2JcBfbFeA2I-s9d5g-fi56",
        SelectedApp: "DZyHhYnXa8tbad1X4kSEU",
      };
    },
    3897: (e) => {
      e.exports = {
        Dummy: "_2ezUjTi6bzTmNav917dO6L",
        AppealTextInput: "_2g-Q7ER64YspNvgCAS5tWf",
        AppealsEntryForm: "_1G49-MEvbF_vCnZ5dlq813",
      };
    },
    60749: (e) => {
      e.exports = {
        DynamicSection: "-H4oQP3-YUTtFxAZNJJr",
        ListContainer: "b77rlI7RrSK9bq-bvYrpa",
        ListTitle: "_1vaSC4WyVJM_jE6lbzCtUA",
        Column: "_1nquN8bkqq0c_NmRzPjGbP",
        Categorization: "_3BNYK6mV0XwDEW1gcOr2hN",
        VisibilityTable: "_2Doz0vGfyLG0tj2WIjqBOk",
        TextArea: "_2GJyIfe_RhVk4YI9MOZFl2",
      };
    },
    18133: (e) => {
      e.exports = {
        Dummy: "ldc1aCofZ6R39NNGJqZXP",
        AssetSection: "_2Sa_-7AiJ8CoQDFcgkkcxY",
        SectionCtn: "PHCQrEzsz9s8AEnGFpm9S",
        AssetSpecs: "_25TK9ZxS-kHvNff-Rn5l0n",
        LinkRow: "ADaiGJVuZzoGI1bmkrL5r",
        AssetUploadPreviewCtn: "_2kDp_nyn7miLTeZK-BaTn0",
        AssetUploadPreview: "_3qbEjMrc3bDcRT1FeyzFzU",
        UploadPreviewCtn: "_1X0nVrj2AZjOA0qruGw7ke",
        TitleBar: "_3sj9kku46IOP4MYpSduqzY",
        AssetTypeCtn: "_37aDawTGN37t4eWf964BpZ",
        AssetTitle: "_3Te6XB_WKYUrHzGMEMSbAZ",
        SetupRow: "Bif2RRtzHC64Rl0ScjJ3Z",
        TypeNotLinked: "kk2lJWuYWdrboMcV2u3md",
        AssetNeedsColumn: "xo-7hAtZSSEdQilGkznF4",
        InstructionCtn: "_18kCx3860VHk-nq8dV_ZRt",
        PartnerIdRow: "_2BgYYSCUIvB8klcoIM2KlE",
        PartnerLink: "_2pxTG67Y35OVRuoeXS2b2e",
        SetObviousPartner: "_1hUvZZdsXPzTmMecE4wj8K",
        SpotlightPreviewCtn: "GrCIp45m5QpIwycVAC7rw",
        Content: "JPDZnP55tUl6QqfpQP-ES",
        Title: "_2fVP65kYiChekv9kTztQ6D",
        Subtitle: "_3Ar6JPkjNYdym7w5t92Uqk",
        PartnerSettingCtn: "_11g8jk2YKBFhioXqGKrW03",
        AltAssetCtn: "_3GijVLoinPhCGGQ8SaqqYS",
        EmailHistory: "_2h2QbH-XdrlfTP-p7hq90-",
        SendOptionsRow: "_15BGaYMjv6fgOxglZDH0Ad",
        EmailButtonsCtn: "_3_6R_B--O6IpytQEot_SpA",
        AssetRequestPreviewCtn: "_1H2Hz37JljOjFhW2m__9en",
        PromoDetailsCtn: "_3GPlR7608JOYPoWgsBou2X",
        FeaturedApp: "_35RvmGDJKKWMbBdc0XD1tF",
        PromoText: "_3grp6zvawf2-myfONdhi9E",
        ArtTaskCtn: "_8a8hIuBZZ6K788L_qCzqC",
        Icon: "_2A8k7-_Fo6_ufXVRe3WDdk",
        Asset: "wLZ--JfeYIRMVdNYM_o9S",
        Deadline: "LiOZUtVRwcRzYVm8YmxqK",
        CustomMessage: "_1GbC2xgFQmWT5i-ZjY1z-z",
        ChecklistTitleCtn: "_2at5P6b_uN8GXPKkNX0-PC",
        ChecklistTitle: "_1dnpjLV_MWr7i8W5iTlqUY",
        Required: "_28FR7Dlej-1JMcWXCRAKaa",
        Optional: "_24ZWqTDTI_Dh-S4NM5C-Na",
        Completed: "_32heBTmctlIP57GpmXGOPM",
        ChecklistDescription: "_1hBXnQ2KH1N571c49o1a-e",
        InstructionsTextInput: "_33qrxIXyEBGd_4SYlgINpa",
        OptionalToggle: "_35eGeoERKBtEL_ZdR4svDf",
        SubmitButton: "_1SeDTJwMXlTMLLf2zBlrG0",
        DateCustomizeCtn: "_1ImfNLIp32O3EJGx-srAoU",
        AssetRequestDoneCtn: "_29h_jamNbiaQL9G2Bq8bRp",
        CheckMark: "_3ZLM-e-m2UMcugiJIRtrT0",
        Body: "_1ZWLuWmtp7SB0uQ6-o-Oni",
        DiscountReminderCtn: "NKqq6YyRNhnjtZaG0ETYr",
        ReviewSubmissionDetailsCtn: "_1eh8pTGJV7jJG2LjkNByjL",
        Warning: "_239HdXXNkq4JegSY78C-b0",
      };
    },
    61178: (e) => {
      e.exports = {
        DealCapImg: "_29Nw3v_On6G8g7PkKFM5zA",
        DealCapCtn: "_3n8tu8rebxD3XxtBpskJIN",
        DealNameCtn: "_3z8vIbjBQF-s8njTMlu8be",
        DealName: "_2Ruo9Xp2tSmNlQX4hU59Q5",
        DiscountLiveWarning: "_28bhaUQESheuS3GNb80RGU",
        DiscountCtn: "LUWYnNPcztnXITSyIiTre",
        DiscountInputCtn: "_2DTJtoMcvmuGE-wHqACKzt",
        PackageSelectCtn: "_2ytWmFDgESBRLmQT8cfnYU",
        FeatureSelectCtn: "RhuUZWbgwchYHb99KX6-B",
        AssociatedPartnerCtn: "_1wLwcoaYTeoAqxWF-spV-D",
        GameName: "_3wpQYlFP8UOTbvIO2LB-Th",
        SelectInvitedAppRow: "SxB7vUwzczv-iehhlfgiP",
        DiscountPreviewCtn: "_1QLwjmShDbrMFj3Pz_4f6M",
        DiscountPreview: "gapSJpEsuDSIz78z29zwf",
        Percentage: "_2OoUsH0AJNhzrEmd5Ftvt8",
        DiscountPrices: "_1suUWv3bU82uCh4JodRz-e",
        NormalPrice: "_3WNQa4WYdyOpVjVsrq2j_U",
        CreationDialogueBody: "_1Bifj0Y3ZZu2y11_5rOUKS",
        DiscountLimited: "_5k1WugaKTRIv2ulG9kNHQ",
        CurrentPrice: "_3UShm-Rtpl6xK1WV_k7nfD",
        Accept_StartDate: "_1HZxHzVccnQkP1rChOXyfK",
      };
    },
    97266: (e) => {
      e.exports = {
        SearchCtn: "_1xsEIvq8iqksfjKSLLafR8",
        ResultRow: "ddpG1ydr9ymgHWvqUjzc2",
      };
    },
    72226: (e) => {
      e.exports = {
        CalendarGridCtn: "_2smJ3vdxZvzZsAWT_t5n2S",
        NavBar: "_3h36HYj-GO1-9nGhSGJ12F",
        NavButton: "TRinQTYT25nphy5QeuA6J",
        CalendarGrid: "_1dtYbTQSXksSUbS-qX0LMn",
        CalendarRow: "_3eajthRtVx2daqBzOFqsb-",
        CalendarDate: "_1dm0xlBBCWUYPTWwtITpVr",
        DealSection: "jxKWo02frPnb03gS_1m4b",
        DayOfTheWeek: "_1gW_Biq16hTFJW3V5oZmHs",
        DailyDealCtn: "_2XgAJynX1USZ9KmmD1G5b1",
        Available: "qoXiK_Fw2W1wu-PAZrOlG",
        Taken: "uhJP7qvCldW_7SRMrEXGc",
        InviteTaken: "_3muZeZee4ojPSeQmC5rvr1",
        Reserved: "s-YTZFiyQgv96FJrE6ril",
        DailyDealImage: "_1HprjQjHahXV_FRl2OVc-w",
        DailyDealImageFallback: "_8wyyUKBL6O03xGaNC6L6I",
        NotesIcon: "_1t0Rh9X2gMS3aKD-BkQ1A6",
        Pct: "_1mEh6gD9LbWGWMBqdIOUvP",
        DayName: "_3-2CuMZn3S9A_yO3SzwJYI",
        PastEntry: "_3E1Fg8YKQMnSpNhbA6RXyq",
        TodayEntry: "lafVMk3zuOVpvAORYDwEN",
        FutureEntry: "_15wQf1-68hUcsVHd1tZxr9",
        Blocked: "E1Gpso-IzSuq4gHYyN5Aw",
        ConflictWarning: "rvzQPIivrcgYrlc4RBY81",
        ExistingDiscountCtn: "_1fkh2kmMs4n2zmKc-E0kps",
        Title: "_2NIvxQkl1ZvsIgfpZM0gx3",
        MajorSaleDropdown: "_7ElvMWR0RMkZJLVsaelRf",
      };
    },
    34748: (e) => {
      e.exports = {
        HoverObject: "_2x-6cuvBy6bHEXSnLoKlYi",
        HoverCtn: "_3cendz6YnUqe2R83Chs2gx",
        DiscountEventName: "_2H6CRLiBfLkBqmR7A0OJHF",
        DiscountDates: "_3fhuWwxllZeIUzUVgLNUuT",
        DiscountedPackageList: "_2ixiPkFgc7D1ONn_NWYv0s",
        DiscountedPackage: "zxSzygpswf9DGwWdZuMBX",
        MissingDiscount: "_1gz3FosupwRbd6_gzC60t4",
        LastDiscount: "_2gbaQeuRkGJvjsUcjQhETJ",
        RecentDiscount: "W5lwNOMjuAj4ckoZKzoUP",
        ActiveDiscount: "_2VxE0jalycwNuxuzh0A7vn",
        Inline: "_2HIMHiGs8T7KdeDTQTfzpJ",
      };
    },
    66370: (e) => {
      e.exports = {
        PromoTitle: "_1rgqMzhBHDGXlWOBS3iyqD",
        DiscountEventLinks: "_1LKk1ryDUFIVyeWntAojFX",
        SectionCtn: "_247gAWh8bxMlvcTslWIqgG",
        GroupCtn: "nfAajJChRc-DiNe6oliAA",
        DailyDealAdminNotes: "_nOD91u9wZC0-GgVENvaz",
        OverrideURLCtn: "_2sA84zGSaSp4vS9PyQhycL",
        TestLink: "_1ywZO03-qIcKqpmGBYU3Zv",
        SectionHdr: "_14AcV8LYR7HWoaz07CNhOV",
        CheckBoxSize: "_1wywLnAP5HIsrAj35X9Gyi",
        EditCtn: "_1arRUJ3hNlhRn0Z8E5HpBQ",
        LocationCtn: "_1TvAw0ZfTHpbJLh5WaY8Gl",
        ButtonRow: "_2fO-Cf86lTRa_O2RfWG1Nv",
        DashLink: "_1Xkkbsga46AFHfXQUgHuJK",
        DDAdminColums: "_1KdA5J2sOY9vBEp3bmqeUC",
        Column: "_3tD9K-AjLfb80Z82jHJwPs",
        DiscountEventCtn: "_2Pk6WiXigcuIbRmag2WWFa",
        DeleteDialogBody: "_144lkNgfd9QkSN3SeGb_5p",
      };
    },
    58509: (e) => {
      e.exports = {
        PartnerFooter: "_226LWzhEJAda1tMaDEXOvn",
        InfoRow: "_101h8j_AtS8-UQO_WMFwRt",
        Title: "_2TtasSZS_sr6v0po_6k8sK",
        InfoSection: "hdU6SgTtmyphZnPs4mvRa",
        MoreInfo: "_3DU0H1ySYf6VMVO1ZZZo3B",
        DDVisibilityExample: "_3OAcn32kfenlSWw8zg-pFr",
      };
    },
    14717: (e) => {
      e.exports = {
        Row: "_2fsEu5kwkRDakBWjqJCa9",
        DailyDeal_Container: "_2CWQT4ureadEtWhiffUEih",
        Cancelled: "_1BYSD0-xptNZEzOl8jBh6v",
        AppName: "YQi_MLU615s_i01m9tIhf",
        PartnerDashboard_ScheduledHeader: "UmxF5q5pA9wzOPYICACGe",
        PartnerDashboard_ArchiveHeader: "_3DXdj30OiLnOH858sLua_Z",
        PartnerDashboard_InvitationHeader: "Cqoj5-BiHhV1xIuwJXCLv",
        PartnerDashboard_Incomplete_Description: "_39yxFJeRwIZ4HBStd9pR1O",
        PartnerDashboard_Invite: "_147XKFTvlMnOjyGNEuEcCd",
        PartnerDashboard_NoInvites: "W2HsXPwJTqyiJVrS1D6S4",
        Orange: "_235VrjcHn3AANlpYLXekrL",
        NoScheduledDealsContainer: "_2gv7sh_yeB-IeqSnk99hfG",
        DailyDealStatusContainer: "_3b7O9NNMod3oErBnswOTID",
        Column: "_3GuhUTTDRwDbcLKO4Fnm6v",
        DailyDealCheckbox: "_1WzIioub32L4jccWSuUZEP",
        DailyDealTitle: "yYzcpCNNBj9cdocoRP9IP",
        DailyDealButton: "_1MMGdyBPgmzeWl0xiMJF36",
        InviteBody: "_1rjF1mDeOiypHOaSBz21vx",
        FeaturedDate: "_3aUGm49iKOkkeL7bdfP9hP",
        DiscountBody: "_3tOBZX1cWc4ydr-D9vziWW",
        DiscountButtonRow: "_2Qkeo12FKR-U9SHc_Fu6q0",
        DiscountPercentage: "_3yMTPMRaT00YVSwsCprHfI",
        EditDiscounts: "_1uVhkCeM81Z22fEnnKSw74",
        BasicResult: "YsPk0yyZv_JLbAJYgjvSZ",
      };
    },
    75876: (e) => {
      e.exports = {
        Container: "_398qzydemboBN-RxXd6iOo",
        Expander: "_2z_UTMMkqOTxnJ5FzWw9tu",
        Expanded: "_5GSfzusk7YQuZqjmAhBTS",
        ExpanderContainer: "_2L-Rm7GcmqzGcFQYOiIVw1",
        DataMigrationListContainer: "CWGwikY5BW-tPMrAu32lF",
        DataMigrationTextArea: "_1QMUfbjQMQEKCitv7WxPYy",
        DataMigrationButtonContainer: "_26gyMfNhCa93aqqN6uikGL",
        DataMigrationButton: "_1GAtnuc4QwEFLxCavMW-K4",
      };
    },
    98199: (e) => {
      e.exports = {
        CandidateTable: "_2qjp5Djf83SHbsnVQaIn5G",
        CandidateHeader: "_3XLXxzOeIiXll6wfV1ehiv",
        AppCtn: "_38wbGdU5Fr5Lz01OlpO3Vc",
        AppImgCtn: "_1IPZBd7obIzaZvsgbnrB9a",
        AppName: "_2ubxSmr8NAVLZRV_8CPId7",
        Ao: "_2mq4l7kCaBPByavSUM_JaE",
        F2p: "_2ZQqsLk4wtS3_jnwPDBZ0i",
        VrRequired: "rozJXPEjxv1owMix27AZn",
        VrSupported: "_6FqyyzvjzOeCSgXg2ByBw",
        Ea: "_1W10glUMe2iK9o8Cpc88O1",
        CandidateRow: "_1-lXevywfwnvWgq9wWIuU2",
        DiscountPercent: "uq9p7ipLguZ8eIuhQTpYf",
        InviteActions: "_2PnU0BKJqTtUVaAZPnqpQQ",
        RecentPromos: "gUn74c3vh5bpvGU6nx9Zw",
        Promo: "Tk6iBLgHjRHuLoBAj21Ry",
        Recent: "_2O0cufWlwHuuMxjD8nKFkE",
        Upcoming: "_3ruO2Dupvk3EcLFjNxW2mr",
        OpenInvite: "wA4yCJ9cCiNkwZ2w6FFp_",
        SalesRank: "_2KWeGH6NTF15xAqmMWPJF",
        ModifiedRevenue: "_3YCIsa63bL2OlHzbcbKLEc",
        DaysInDiscount: "h2qWtnF-hd6uWITotVTTU",
        PartnerCol: "_2DqGfjdxXIOkOrqs1sblsE",
        PartnerName: "_3Tyh3r8_e2IQfo1jRNCldG",
        BizContactsCtn: "_3670NSTxRoD8AaISIV3gaB",
        BizContact: "_1e7dY3BFOis-DvcPIEVfxq",
        FilterRow: "_3x4uaNOgVnRB2SqTrTmsbH",
        Filter: "_2h6FvzGNu26XFEz7G3h2ka",
        AppInputCtn: "_1tIVZys0DITEEyIIqsZ997",
        PagingRow: "_3qLRlDyHZJIS4BugMgi7oL",
        Inline: "AzROoeBRhQAuBrZNeDxYZ",
        PageTitle: "gBcUE6x7TiYgRRvXKNJ5e",
        CollectionControlsContainer: "Ze9vpZVnhuM5ixQnBbxt2",
        StoreTagChooser: "_3MXUKUNf99BSPBfv_wRDmI",
        SelectedTags: "G4ZLNqu2ItSLt2a4nyywL",
        ButtonRemove: "_33l2PQpdFV5xTe1VnUD3vr",
      };
    },
    3928: (e) => {
      e.exports = {
        SelectedAppCtn: "_1kLuQ0dympeLD7amawORSQ",
        SelectedApp: "_3FFreVEzPDa_rvdu8HPvE5",
        AppName: "_1FeTrxGc5i511P7d-rR__G",
        InviteBtnCtn: "_2iMIjz2otOt3jG3-ZTyEj3",
        InvitedAppsCtn: "_3FouwbshakWUdLyH6doqG8",
        InviteTitleCtn: "IO0gUy_Fca5kejHHG2q_P",
        InvitedAppsRowScrollCtn: "uIqPl0eYF-WMwn0uTacc2",
        InvitedAppsRow: "_2GaU2Mre6OUt6H2jqpsWH1",
        InviteItemAdminList: "eCacw4e9u6IAuPO8iaiqm",
        InvitePageHeader: "_1rKT2hfb6Y8UuGr5aD9eWL",
        InviteTitle: "_2k3HTP8DAn8NZy0tx9_q3h",
        InviteTitle_AppName: "GZ2KkMTggYjZPqGqUkwgP",
        InvitedAppCtn: "_14klKDHHyJsENEpVKJ8P3i",
        InvitedAppInfo: "_2h8seOo57-jgqoA4IMn48k",
        InviteAdminButtons: "L4pIQiDLfR5Xci194GhSn",
        InviteResult: "_677sGhoDj769qVXL7av2o",
        InviteNotAvailableContainer: "_3-W-uJBBfzOZAL3cS-PFHR",
        ReturnToDashboard: "DB8o70W9ULuTIKKpQ02zn",
        WhyUnavailable: "_34OckOBiJimqqX_pRaN9ax",
        SearchCtn: "_1GXJazE0CvBxInhgcpRyrH",
        ValveAccountDropdown: "zzVbO1yOKUezUixvIVJVu",
        ValveAdminInvitedBy: "_3_905XTYYKBdTeTIoLfvKh",
      };
    },
    17597: (e) => {
      e.exports = {
        DialogCtn: "_3sIyQ7GZbfZOJl33KaIXz7",
        InviteResult: "Fz3D_Ob1SfsM7NlllVW4Q",
      };
    },
    38149: (e) => {
      e.exports = {
        MMArtPreview: "uaJWOBcbrszCIM9jPJQ1P",
        MMArtNoArt: "_1oJlfyCX34cNTvLlNJxqAM",
        LegalPreview: "_3UR3Ewy0eOiigTBb1kMIk5",
        legalSectionCtn: "_2Pr-js3Udcl6ijZj_UySRj",
        subSection: "_2W8DuE42O6B1_qpeGV7i9c",
        previewSection: "_18ctSpZDuUziLFqRD5Afxq",
      };
    },
    32088: (e) => {
      e.exports = { DateCtn: "_1mrqJ1WLmobh_wzIY3EVZl" };
    },
    54917: (e) => {
      e.exports = { HeaderButtons: "_1Q4PqR6_dSTkwZLC86uSPL" };
    },
    84106: (e) => {
      e.exports = {
        Dummy: "_3x7rO8JdqsQ3O_kICECOMg",
        MessageCtn: "_18Z_QfJhGZl4XGJKvw0Uzc",
        CountryInOut: "_219uC_2Slgr7kYg7WnWyFv",
        CountryText: "YvodBrJv5G36uXgxsvW4a",
        RemoveLegacyBtn: "_1pvKrK9Ig2mfvdXTTEiIhO",
        MessageImagePreview: "_3vqntF7LN-Xp1OU8dmKvKP",
        ScopeNameGlobal: "_1mF1EOFyE8NI-I2Z91XK78",
        ScopeNameChina: "_2O5jchVFzrdgkZjqNTj35L",
        ApprovedForPublishStatus: "_13Useg3SkW7YczZ_nZ1LNk",
        PartnerPreviewLink: "_3QdBI3rV8HLWt47vhdtUIN",
        SecondaryButton: "_3l4AnY6laFUM4An6S4XtGl",
        hover: "o9oXDiBXfBfOE5I36iOL",
      };
    },
    87935: (e) => {
      e.exports = {
        Dummy: "_3glD2lGMwlZh3hZb4XH6MW",
        ConditionContainer: "_26iQ5cwVaCRdq4kQV-Z3hJ",
        RemoveSelectedProductBtn: "_28FDKm7uc61fzDoE1s4AN1",
        RemoveConditionBtn: "_2I6jnAosElv90qG-NR6CNd",
        RemoveCaseBtn: "jkA0eKrZwNnfQwq6RS_zl",
        AddConditionBtnCtn: "_2jPjOfmBcD9ynwSP3mn457",
        CaseContainer: "S7-lNYeMUcaLTvOgTqZ5u",
        CaseTypeSelectCtn: "_2zuM6HX5WBJ-SZUsTHHl4",
        CaseTypeSelect: "_2c8Z6sbb9fEPPcvQnZ55Rr",
        AddCaseBtnCtn: "_6TrpentH84qKXfi8P2JPL",
        AddProductBtnCtn: "_1cTJt6UOSYAPG75MFKuztF",
        SelectedProductList: "B1AM6vpaWpD3Nk_s6enro",
        ConditionDescription: "_3jCu6xqoXYWOH2SMhFu-8T",
        SelectedProductCtn: "BiBUb4TdnBXELebd08teO",
        SelectedProduct: "_3qEa8uUM5vtMiCckq5qOeU",
        ConditionTitle: "_3b-fObFOXin-XmUDZfacQ5",
        ConditionTitleOr: "_2CvHfdolvQMO4gkMlxjlPh",
        ConditionTitleAnd: "yF0yECe83wdyLwJm21HGH",
        AppSelectCtn: "_2n3Wnr5wfaKGHxxqLbhOEQ",
        ItemToAdd: "_33WvvdTdyUzp71coa4Anc-",
      };
    },
    99892: (e) => {
      e.exports = {
        Throbber: "_38Qg3geqXBWeZCZM-CU2Sq",
        LoadError: "UR7pUCgpM4ljBq9YBzvXH",
        Header: "_2tR6ZBlIJ_Esi9G4Hw6vqK",
        LeftCol: "_9Fx0W92OvqbOXJd9-5Wva",
        Status: "OhXSoUp56RTFd0y-6dMkq",
        Public: "_1my7xZmhFLHsYejQOawojL",
        PublishButton: "_1DqxCoZJrYbuiI8BxucPRC",
        ErrorMessage: "TZupMtL5lHm5jk9lVrnQp",
        RightCol: "_3fklb3q3M0tVhy9J5jgiBk",
        PreviewCtn: "_24mVGQxS0dAHxutWQUN56T",
        PreviewHeader: "_3x7OGhtnLkhY_TuvhSeBeL",
        ArtPreviews: "_2DFLsfb9CkxR3b70L70OaD",
        LanguagePreviewLinks: "_3U7DzUbwntA3Pc5a2NNbCP",
        PreviewButtons: "_21DYWab8qvVyrW7PdtMa1D",
      };
    },
    42960: (e) => {
      e.exports = {
        PreviewRow: "Wog1GBQw7vlXxhbVxHRbn",
        Spacer: "_1rAD1PsCoDy42BnDw6bmio",
      };
    },
    35398: (e) => {
      e.exports = {
        DashStatsContainerPlaceholder: "_2NZrJB4junH5vI11Rj5FWd",
        DashStatsContainer: "_2QKKGQy-zNbDH_rKfhW9VL",
        Chart: "_1aib0N0v1jvBufHZJGA69a",
        Stats: "ANrNAlSMVwnzoA3iwDHLW",
        StatsTitle: "_3PO4SWposDzLOCzdrINy9N",
        StatSubtitle: "_1sGxv_AALYrex93qSH7O2e",
        Concurrent: "_1mHgM-BCpsZsPUjI2rrq5G",
        Now: "_2gkN39-XYK8o5UL5KlPWfb",
        CurrentStats: "_20pLuAP-Gc-zYpFt1jLtMf",
      };
    },
    16783: (e) => {
      e.exports = {
        Container: "_1IVr1rWbkO_nsOEdKNnI7X",
        CalendarCtn: "_3reVPYSvvoiYSRth2QxYjt",
        CreateNewCtn: "OryGTU11g-AQPcVlqKqP4",
        AccountSelectCtn: "_2-rb2C8wjh3CcJ8Qxbk3ZK",
        AccountList: "_1G9ckImPKn5n5DdAZtyGiA",
        filtersCtn: "Epsp1EFTe732X0hSq835Z",
        FilterRow: "_2qhMYoG1U-uRZVJyTBoFuJ",
        VisibilityFilterCtn: "hPops4DbAJCvfMUt2K7tu",
        MarketingMessageSearch: "_36QLW88mlNMDXRwcocgctz",
        OtherLinks: "_1ePXECwiPS_VGuhB4uh4Qy",
        EventContainer: "_2nYdhByvfAdvZPHDFyt_Ku",
        EventNotesTooltipIndicator: "_3Ab46MTXfA0egFEwYoU0Jr",
      };
    },
    82701: (e) => {
      e.exports = {
        RowCtn: "_1Cq0N3-UepmTlAvDH0ElVg",
        Public: "_2p_SNLf4Iy4y6ti82xe-EN",
        Future: "EJs6PDCIY6j02hlmzmFgO",
        Soon: "_3txtb744TErZIjJiafI6eZ",
        Ready: "_1PRvxPXhYGbG_M2kPhOrNJ",
        Approved: "V_M3QNQ4BoCPhcptm3CqU",
        Row: "_2KUhB_BLktT3FQGqB_y54o",
        Primary: "_2tQk8n1YH5C2v8367dhlfX",
        HeaderRow: "MGJxkhOwzywm5cqaty3DR",
        Col: "_2x28WNTnFLN7p5-W6dUFFq",
        ItemName: "K3sWBC1TVzqQqY6olyu0f",
        Type: "_1hntlllJLxrLj22xkPzMXJ",
        Deal: "_1I4-4shtv4hF3PvfsYZTrd",
        Date: "_17dLAP-RyWwuTzck9Gz47f",
        Creator: "_3VjL-JocxpP2ljeZhqUIRk",
        Visibility: "wvE-jG0F6Bz8vnGxKpQQY",
        CountryList: "_17dzIUq2f_CSOR1Eug7HUe",
        OwnerLimit: "LDwRnmtVW5slGcNhaiHPs",
        CapsulePlatform: "_2OJsE_nWOGFfZwO3NXSNsz",
        ViewsColumn: "_1Wtq4XAKx0_iV8E-jmIMfF",
        ViewsCtn: "qbvhk46RDj72WOCxtxodV",
        WillBecomeVisible: "_26S-q1rh4KBSENR6EI-bTQ",
        MissedRelease: "_1f2UQJ2ioT_SYgxhzez2G4",
        Unset: "mDhm0oiq8R71Z0WQF1mRd",
        NoResults: "_1bOoImFN1WJOMod4hTHJa3",
      };
    },
    78676: (e) => {
      e.exports = {
        DateCtn: "_13RGKmbd0bFVxkQJdMEX0t",
        Vacation: "_1RS5BRUx0pdtR2xvd3P2oQ",
      };
    },
    60688: (e) => {
      e.exports = {
        ButtonRow: "_3KhKTPCE7ypE5LBMu7_ErR",
        ButtonRowSpacer: "AWToJgEIX-j--80870i2d",
        EditCtn: "_1Q3ppPFyL5I-yzdlW6qoc9",
        StatusBtn: "_3btXS661T4IU89cO5eo8XE",
        InputContainer: "JbwjfTH4nnQrsq16Hztqe",
        PreviewLinkCtn: "RacQWVhlOFswJZjjnxkul",
        PromoName: "_2tLRc5NDSTZGzLadmTD8EH",
        TypeCtn: "Lw9EhG5HAG-zXYwNwUdl1",
        EventDetailsCtn: "_1UwWTpxA7qhaSOlJpNgwsR",
        AdminNotesCtn: "_3ZkUKKY3MbHhKyVBav_wtN",
        AdminNotesText: "_2EeD_fx7U_0Bcelj9YqNlw",
        PromotionPlannerText: "_2jOn18K8Q6EDLSqEeNMVfa",
        BroadcastNotes: "_3SotCt7y4bC9UOPX6G0u1E",
        FeatureSelectBtn: "KdmlAN7oziOO8EtO6Ylw6",
        StatusCtn: "_1DrAwPew412VtdD9T9w7vl",
        ReviewState: "_3mtqDIw2XooklHiqKm9ryY",
        Complete: "kpXmMf9brjNOzSKzjkKtb",
        Incomplete: "_2TKFBv2u8j98_U8GUmaer",
        LinksCtn: "_2SJfiT2B5DPTb5uwQKdvQf",
        LinkCtn: "_2s6vNlrXn0j5A3T7_lS0iN",
        PreviewLinksCtn: "_298xIUAc2r1LzqBC6YgpJG",
        FeatureSelectCtn: "FRWr1JG5rEuPeQBbQhIwp",
        CreationDialogCtn: "_2LmdQpQwt7eqXEc22-HE6l",
        LargeSelectorCtn: "iTSaTqNaYWKTbAEYX0oLm",
        LinkMsgModalCtn: "MsxBDbzjGO3rHRhMb7IxC",
        SalePageLinkCtn: "_1L_j6E-j-QzvIZznwAl3cb",
        LinkedFeatureRow: "_1lX6jiEwBT8iN5F9esCSYY",
        FeatureName: "K-HQQVsPByIrqwC65aGu1",
        DiscountEvent: "_2PEK48vlZOAR3u-PynpZiU",
        OwnerRow: "dmR1Kff7LaguFmLQ4oZPL",
        ActionBtnCtn: "N28BLqQg-mt8IMXUsv-40",
        UserCtn: "_20WlQ3dvb9vmh_mZiSYMf0",
        AssetField: "kOPbypW632DCsWzrd9DG8",
        OwnerCtn: "_3kmgLamQZRx5tIIb0YaWSo",
        AssetNotes: "VaLwylBilZSHWeTdxBQQC",
        TargetGamePlaceholder: "QQLfNfmbpzk36zioE_X76",
        StatusRow: "DF-Ee8IlwQoq0lur2i5DQ",
        Status: "_1x31t73u4DQOWgUUcdwzcW",
        StatusAlert: "JoaDoHqXEaQDzfPXkWyyy",
        OwnersRowCtn: "_2Um8WPyOYefW7coiDEOzDw",
        OwnerColCtn: "_21K5eiT5agJhoaa8OTh7E_",
        CalDownload: "Y4ZfntBhYMVNYQ0chXUGY",
        AssetTimelineCtn: "_2StVtbEDNO5xhWjjAuvXBT",
        ActiveState: "_3Slqmy9X_4XKVBaosBcqbG",
        DiscountEventChooser: "_3ZLpLM_zY-MFBGz76igjDJ",
        ModalMax: "_7d8DEH3yYHFSsLvCrrrqN",
      };
    },
    89183: (e) => {
      e.exports = {
        MaxInvites: "_37BtrSI9vJMqi9eqV_c8Ut",
        FullyBooked: "_2q-e6NDU-wz5TzRzQGkSjm",
        TooltipContainer: "_63VWld61ITDexhA9O8sa",
        PromotionPlanningStatsContainer: "_39E0g37VF9zENTy1IM6ffX",
      };
    },
    64578: (e) => {
      e.exports = {
        WarningsContainer: "Jdmsq5MsiHnsvkmShEESN",
        WarningItem: "_1Rz4Zv92hVIueGpZK-vmHO",
      };
    },
    53390: (e) => {
      e.exports = {
        Featuring: "_3T5cuT1JEgQKn-huguKotK",
        FeaturingMissing: "_22uFYnpVb1aMFkIapLvrD1",
        FeaturingActive: "EZKx4ef-OSncbayXhA8KS",
        FeaturingMainCapsule: "_30k7GZ11m1ZneWgkauXIpx",
        FeaturingSpotlight: "_3VVXbA0aZicy103SNOq7W9",
        FeaturingIM: "_3CobVJLHLAAy1ke2nIDBMi",
        FeaturingDailyDeal: "_1aulIHoeZNkLG3UkBJEBM_",
        FeaturingProductBanner: "_17oCe1SdBhTMZh85naWwn7",
        BannerCtn: "_2dqTsf4SXUM871G5SoJlv0",
      };
    },
    35479: (e) => {
      e.exports = {
        SearchResults: "_3j5hsNUpJYgdYJ2gtrXvLh",
        VerifyCtn: "_14bU7K6FT6-zov5bL8cIib",
        VerifyCheck: "QK3cD6xQQrNpL4YU7wepl",
        FailCheck: "_3ZDrmN-fC_RWr28P33s_6r",
        MinWidthCtn: "_3VgMxVNDzd2JISZuxQhi4M",
        DateCtn: "HCvNcHOVeeked_V9t1Z0U",
        BasicInfoCtn: "_1_-Y4ce-DafmjZHzwF7m8T",
        StepOneTitle: "_21SRBhOPkZKtZKQAbyO9W_",
      };
    },
    68542: (e) => {
      e.exports = {
        SectionContainer: "DPwXXwSbN_Xjxca7pl0o_",
        SaleSectionTitle: "jRz_cEMetJtN1JKpVSrv_",
        SaleSectionResizeButton: "J8r3M8lX-hMDrD_jApe1T",
        SaleSectionDesc: "_3LwmLWHA2YGDzLMQXwo9i",
        TileContainer: "_3miRjDumYLGynv1Nn7lkUt",
        EventNameCtn: "YXjI3tITvCCJIT10CzKwy",
        EventName: "_1MeeJWoN5-iX-QlFD_3KAf",
        DatesCtn: "_1r5csMq9mLC5MbaBQCRO4E",
        EventDetailsCtn: "iajpgf9lb468JAuTxHZwj",
        CapsuleImg: "jrn9lDAVT6ncc1SvDWr1C",
        ClanInfoCtn: "_3ZTR5jpNLJETTCCnt8fbPR",
        ClanInfoName: "QkmRbAOW1L6s_UOle6SU6",
        HoverCtn: "_1euONV-EbqzG6lUSSYkFvE",
        Avatar: "_1KgRK5gf5C3aAUqZ428Xap",
        TopStatsCtn: "_1mhrsl5i4BKJcswusNF-Ub",
        FeaturedApps: "OfWnMzBeP0_WEadkOKes1",
        EventStats: "E5F7A-Sl_JZoQW8YbCktt",
        SaleDetails: "_1TNA21Q8xGpOoRqDgI_-VS",
        BasicStatsCtn: "_2pNPEeF24ujyIwQvfkeL2F",
        LinkCtn: "y7fEJKGaE_U-aFvfQKZZg",
        BrowseLink: "_3isng9wpgfuQQEvHWp39UB",
      };
    },
    80310: (e) => {
      e.exports = {
        DetailedStats: "z2xIGpuWDXocYIrl4KJx3",
        DetailedStatsTopBar: "_3YStRmsQI809qGUWQ0WdOK",
        DetailedStatsTimestamp: "_1RMEXqkGu2vdlJNeCDatV5",
        TopBarSection: "_3cLfEQ35BtiOLMfSiWonTO",
        TopBarSectionName: "_3kYTwWKqpjb14PaU5AQPNN",
        TopBarSubSections: "_3h_MdEGT5GIQutARI687j7",
        TopBarSubSection: "_3i-Zjuwv2xzdXB6PrSctwE",
        SubSectionName: "C227Qf2CL8CDq3K2eFM3c",
        SubSectionValue: "_1zwRaVLume4l4uXoHCbC47",
        DetailedStatsSectionHeader: "_2ViSjwyjZNy2uhztuidBiX",
        SectionHeaderName: "_2mE1giK4Mr25lW9_es9nK0",
        SectionHeaderDescription: "_38FIWdYl_SzB2LoyHLd6GB",
        DetailedStatsRow: "_2Ca6mZIpcDr12junhfjewq",
        DetailedStatsRowHeader: "_3NUuyhO9pWNVO1B1ULUhc7",
        DetailedStatShort: "_2cAR33W4iUYYsH4274EzsD",
        DetailedStatLong: "_1WWxK1YXXOJIuEjSRYkzXx",
        DetailedStatsButton: "_2F8AJNrC1ZugSr712_iXUl",
      };
    },
    16450: (e) => {
      e.exports = {
        AccessLog: "_3H6ey4oPTTSFT9R457CJ6E",
        AccessLogHeader: "_1qWNlN_Q4AbQPpTke3lX6E",
        AccessLogEntry: "_2e3poRbNgHtigt9E_3gXho",
        Name: "_2qrNOSYgExrgouavGekMlJ",
        Timestamp: "_3EUlYyC8kTjMybmlhNkNs8",
      };
    },
    40810: (e) => {
      e.exports = { SearchResults: "_3MD3z-ZmuI3BKmLDDS67RG" };
    },
    48674: (e) => {
      e.exports = {
        Results: "_3mK1PrFPrbrn2M-BbAWsmL",
        ResultRow: "_1QyQulOsH0dGeFUVgSa9ki",
        GameName: "_353QhAGCSYbIguu7o4DJgs",
        Label: "_3MUfh3QKRNr6qY0vEz3p04",
        AvatarImageCtn: "_3h9l9X-3dBSAhMflfovg2K",
        AvatarImage: "PBBKP18ULuCWFwYcEIOdW",
      };
    },
    29525: (e, t, n) => {
      "use strict";
      n.d(t, {
        BB: () => R,
        Be: () => C,
        GS: () => x,
        HC: () => M,
        LW: () => w,
        MJ: () => O,
        R6: () => T,
        YC: () => V,
        aV: () => B,
        im: () => A,
        jj: () => U,
        pu: () => L,
        qy: () => H,
        vZ: () => k,
        zV: () => N,
      });
      var a = n(85556),
        i = n(47427),
        l = n(77936),
        r = n(82493),
        o = n(91618),
        s = n(31421),
        c = n(19399),
        m = n(62698),
        d = n(45010),
        u = n(14411),
        p = n(26293),
        _ = n(84478),
        h = n(62613),
        g = n(25006),
        v = n(13129),
        E = n(31846),
        S = n(13499),
        D = n(37563),
        f = n(72869),
        y = n.n(f),
        b = n(43090),
        I = n(77115);
      const C = new Map([
        [
          "b",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: y().Bold },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "i",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: (0, v.Z)(y().Italic, "BB_Italic") },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["h1", { Constructor: T, autocloses: !1, skipFollowingNewline: !0 }],
        ["h2", { Constructor: N, autocloses: !1, skipFollowingNewline: !0 }],
        ["h3", { Constructor: R, autocloses: !1, skipFollowingNewline: !0 }],
        [
          "h4",
          {
            Constructor: function (e) {
              return P(e, (0, v.Z)(y().Header4, "BB_Header4"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "h5",
          {
            Constructor: function (e) {
              return P(e, (0, v.Z)(y().Header5, "BB_Header5"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "center",
          {
            Constructor: function (e) {
              let t = A(e.args, "id");
              t &&
                "string" == typeof t &&
                t.length > 0 &&
                "#" === t[0] &&
                (t = t.substring(1));
              return i.createElement(
                "span",
                {
                  id: t || void 0,
                  className: (0, v.Z)(y().CenterSpan, "BB_Center"),
                },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "smalltext",
          {
            Constructor: function (e) {
              return P(e, (0, v.Z)(y().SmallText, "BB_SmallText"));
            },
            autocloses: !1,
            skipFollowingNewline: !0,
          },
        ],
        [
          "u",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: y().Underline },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "strike",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: y().Strike },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "spoiler",
          {
            Constructor: function (e) {
              let [t, n] = i.useState(!1),
                a = i.useCallback(() => {
                  n(!t);
                }, [t]);
              return i.createElement(
                o.s,
                {
                  className: (0, v.Z)(y().Spoiler, t && y().Revealed),
                  focusable: !0,
                  onActivate: a,
                  onOKActionDescription: (0, E.Xx)(
                    t ? "#Bbcode_Spoiler_Hide" : "#Bbcode_Spoiler_Show",
                  ),
                },
                i.createElement(
                  "span",
                  { className: y().SpoilerText },
                  e.children,
                ),
              );
            },
            autocloses: !1,
          },
        ],
        [
          "hr",
          {
            Constructor: function (e) {
              return i.createElement("div", { className: y().HR });
            },
            autocloses: !1,
          },
        ],
        [
          "noparse",
          {
            Constructor: function (e) {
              return e.children;
            },
            autocloses: !1,
          },
        ],
        [
          "url",
          {
            Constructor: function (e) {
              let t = A(e.args);
              if (!t) {
                const n = e.children;
                "string" == typeof n &&
                  (n.startsWith("http://") || n.startsWith("https://")) &&
                  (t = n);
              }
              const n = "button" == A(e.args, "style") ? y().LinkButton : null;
              let a = A(e.args, "id");
              a &&
                "string" == typeof a &&
                a.length > 0 &&
                "#" === a[0] &&
                (a = a.substring(1));
              if (void 0 === t && !a) return e.children || "";
              if (
                void 0 === t ||
                ("string" == typeof t && t.length > 0 && "#" == t[0])
              )
                return i.createElement(
                  "a",
                  { href: null != t ? t : null, id: a },
                  e.children,
                );
              return i.createElement(
                G,
                { className: n, href: t, id: a },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["quote", { Constructor: L, autocloses: !1 }],
        [
          "pullquote",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: y().PullQuote },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "code",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: y().CodeBlock },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "c",
          {
            Constructor: function (e) {
              return i.createElement(
                "code",
                { className: y().Code },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        ["list", { Constructor: B, autocloses: !1, skipInternalNewline: !0 }],
        ["olist", { Constructor: x, autocloses: !1, skipInternalNewline: !0 }],
        ["*", { Constructor: M, autocloses: !0, skipInternalNewline: !0 }],
        [
          "table",
          {
            Constructor: function (e) {
              const t = A(e.args, "noborder"),
                n = A(e.args, "equalcells");
              return i.createElement(
                "div",
                {
                  className: (0, v.Z)(
                    y().Table,
                    "BB_Table",
                    t && y().NoBorder,
                    n && y().EqualCells,
                  ),
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
          },
        ],
        [
          "tr",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: (0, v.Z)(y().TableRow, "BB_TableRow") },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "th",
          {
            Constructor: function (e) {
              return i.createElement(
                "div",
                { className: y().TableHeader },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "td",
          {
            Constructor: function (e) {
              const t = A(e.args, "width");
              return i.createElement(
                "div",
                {
                  className: (0, v.Z)(y().TableData, "BB_TableData"),
                  style: t && { width: t },
                },
                e.children,
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            skipFollowingNewline: !0,
          },
        ],
        [
          "expand",
          {
            Constructor: function (e) {
              const t = Boolean(A(e.args, "expanded")),
                [n, a] = i.useState(t),
                l = (function (e, t) {
                  switch (e) {
                    case "details":
                      return {
                        collapsed: "#Bbcode_Expand_Details_Collapsed",
                        expanded: "#Bbcode_Expand_Details_Expanded",
                        style: y().ExpandSection_Details,
                      };
                    case "spoiler":
                      return {
                        collapsed: "#Bbcode_Expand_Spoiler_Collapsed",
                        expanded: "#Bbcode_Expand_Spoiler_Expanded",
                        style: y().ExpandSection_Spoiler,
                      };
                    case "title":
                      return {
                        collapsed: t || "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: t || "#Bbcode_Expand_ShowMore_Expanded",
                        style: y().ExpandSection_WithTitle,
                      };
                    default:
                      return {
                        collapsed: "#Bbcode_Expand_ShowMore_Collapsed",
                        expanded: "#Bbcode_Expand_ShowMore_Expanded",
                        style: y().ExpandSection_ShowMore,
                      };
                  }
                })(A(e.args, "type"), A(e.args, "title"));
              return i.createElement(
                "div",
                {
                  className: (0, v.Z)(
                    y().ExpandSectionBlock,
                    l.style,
                    n ? y().ExpandSectionExpanded : y().ExpandSectionCollapsed,
                  ),
                },
                i.createElement(
                  "div",
                  { className: y().ExpandSectionHeader, onClick: () => a(!n) },
                  (0, E.Xx)(n ? l.expanded : l.collapsed),
                  i.createElement(
                    "div",
                    { className: y().EmbedArrow },
                    i.createElement(h.ret, { angle: n ? 180 : 0 }),
                  ),
                ),
                n &&
                  i.createElement(
                    "div",
                    { className: y().ExpandSectionBody },
                    e.children,
                  ),
              );
            },
            autocloses: !1,
            skipInternalNewline: !0,
            allowWrapTextForCopying: !0,
          },
        ],
        [
          "remindme",
          {
            Constructor: function (e) {
              const { event: t, showErrorInfo: n } = e.context,
                a = A(e.args);
              if (a)
                return i.createElement(p.C, { eventGID: a, bPreviewMode: n });
              if (t) {
                const e = (0, l.jM)(D.De.LANGUAGE);
                return i.createElement(p.m, { eventModel: t, lang: e });
              }
              return null;
            },
            autocloses: !1,
          },
        ],
        [
          "doclink",
          {
            Constructor: function (e) {
              const t = A(e.args),
                n = "button" == A(e.args, "style") ? y().LinkButton : null;
              return i.createElement(
                G,
                { className: n, href: `${D.De.PARTNER_BASE_URL}doc/${t}` },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
        [
          "color",
          {
            Constructor: function (e) {
              const t = A(e.args);
              return i.createElement(
                "span",
                { style: { color: t } },
                e.children,
              );
            },
            autocloses: !1,
          },
        ],
      ]);
      new Map([
        ["looping_media", { Constructor: U, autocloses: !1 }],
        ["video", { Constructor: H, autocloses: !1 }],
        ["youtubeorvideo", { Constructor: V, autocloses: !1 }],
        ["previewyoutube", { Constructor: O, autocloses: !1 }],
      ]);
      function k(e, t, n = 0) {
        if (null == e ? void 0 : e.startsWith(I.A)) return (0, c.pd)(e);
        if (null == e ? void 0 : e.startsWith(I.U)) {
          const a = new Array(),
            i = (0, c.OL)(),
            r = e.substring(I.U.length + 1),
            o = m.aN.GetHashFromHashAndExt(r),
            s = m.aN.GetExtensionStringFromHashAndExt(r);
          if (null != t) {
            let e = (0, l.j_)(t);
            a.push(i + o + "/" + e + s + "?t=" + n),
              4 == t &&
                ((e = (0, l.eV)((0, l.j_)(t))),
                a.push(i + o + "/" + e + s + "?t=" + n));
          }
          return a.push(i + r), a;
        }
        return e;
      }
      function A(e, t) {
        return void 0 === t ? e[""] : e[t];
      }
      function w(e, t) {
        return (n) =>
          e(
            Object.assign(Object.assign({}, n), {
              className: (0, v.Z)(n.className, t),
            }),
          );
      }
      function P(e, t) {
        let n = A(e.args, "id");
        return (
          n || (n = A(e.args)),
          n &&
            "string" == typeof n &&
            n.length > 0 &&
            "#" === n[0] &&
            (n = n.substring(1)),
          i.createElement(
            "div",
            { id: n || void 0, className: (0, v.Z)(t, e.className) },
            e.children,
          )
        );
      }
      function T(e) {
        return P(e, (0, v.Z)(y().Header1, "BB_Header1"));
      }
      function N(e) {
        return P(e, (0, v.Z)(y().Header2, "BB_Header2"));
      }
      function R(e) {
        return P(e, (0, v.Z)(y().Header3, "BB_Header3"));
      }
      const G = (e) => {
        const { href: t } = e,
          n = (0, a._T)(e, ["href"]),
          l = (0, g.bJ)();
        let o,
          c = (0, s.B1)(t, l);
        (0, b.A)(c)
          ? ((c =
              (D.De.IN_CLIENT ? "steam://openurl_external/" : "") +
              (0, b.d)(c)),
            (o = "noopener nofollow"))
          : (c = (0, S.bk)(c));
        const m =
          "string" == typeof e.children &&
          e.children.length > 0 &&
          t &&
          !t.startsWith("steam://")
            ? (0, S.XW)(t)
            : void 0;
        return i.createElement(
          r.IS,
          Object.assign({}, n, { href: c, rel: o }),
          i.createElement("span", { "data-tooltip-text": m }, e.children),
        );
      };
      function L(e) {
        const t = A(e.args, "author");
        return i.createElement(
          "blockquote",
          { className: (0, v.Z)(y().BlockQuote, e.className) },
          !!t &&
            i.createElement(
              "div",
              { className: y().QuoteAuthor },
              (0, E.Xx)("#Bbcode_Originally_Posted_By") + " ",
              " ",
              i.createElement("b", null, t + ":"),
            ),
          e.children,
        );
      }
      function B(e) {
        return i.createElement(
          "ul",
          { className: (0, v.Z)(y().List, "bullets") },
          e.children,
        );
      }
      function x(e) {
        return i.createElement(
          "ol",
          { className: y().OrderedList },
          e.children,
        );
      }
      function M(e) {
        let t = A(e.args, "id");
        return (
          t &&
            "string" == typeof t &&
            t.length > 0 &&
            "#" === t[0] &&
            (t = t.substring(1)),
          i.createElement(
            "li",
            { className: y().ListItem, id: t || void 0 },
            e.children,
          )
        );
      }
      function O(e) {
        if ((0, D.h4)()) return null;
        let t = A(e.args);
        if (t) {
          let e = t.split(";");
          if (2 == e.length) {
            let t = e[0],
              n = e[1].toLocaleLowerCase(),
              a = "full" == n ? u.sizeFull : u.sizeThumb,
              l =
                "full" == n
                  ? ""
                  : "leftthumb" == n
                    ? u.floatLeft
                    : u.floatRight;
            return i.createElement(d.O, {
              videoID: t,
              classNameAlign: l,
              classNameSize: a,
              bShowVideoImmediately: !0,
            });
          }
        }
        return i.createElement(i.Fragment, null);
      }
      function F(e) {
        let t = A(e.args, "poster");
        t && (t = (0, S.et)(t));
        const n = new Array();
        {
          const t = A(e.args, "mp4");
          t && n.push({ sURL: (0, S.et)(t), sFormat: "video/mp4" });
          const a = A(e.args, "webm");
          a && n.push({ sURL: (0, S.et)(a), sFormat: "video/webm" });
        }
        const a = (0, l.jM)(D.De.LANGUAGE),
          i = 0 != a,
          r = new Array();
        for (let t = 0; t < 31; t++) {
          const n = A(e.args, "sub_" + (0, l.dt)(t));
          n &&
            r.push({
              sURL: (0, S.et)(n),
              eLanguage: t,
              sKind: "subtitles",
              bDefault: i && t == a,
            });
          const o = A(e.args, "cap_" + (0, l.dt)(t));
          o &&
            r.push({
              sURL: (0, S.et)(o),
              eLanguage: t,
              sKind: "captions",
              bDefault: i && t == a,
            });
        }
        return { sPoster: t, rgVideoSources: n, rgVideoTracks: r };
      }
      function U(e) {
        const t = F(e);
        return i.createElement(_.Y, {
          video: t,
          bAutoPlay: !0,
          bControls: !1,
          bLoop: !0,
        });
      }
      function H(e) {
        const t = F(e),
          n = e.children ? e.children.toString() : void 0;
        n &&
          n.startsWith("http") &&
          t.rgVideoSources.push({ sURL: (0, S.et)(n), sFormat: "video/webm" });
        const a = A(e.args, "autoplay"),
          l = "0" !== a && "off" !== a && "false" !== a,
          r = A(e.args, "controls"),
          o = "0" !== r && "off" !== r && "false" !== r,
          s = A(e.args, "loop"),
          c = "0" !== r && "off" !== r && "false" !== r;
        return i.createElement(_.Y, {
          video: t,
          bAutoPlay: l,
          bControls: o,
          bLoop: s ? c : l,
        });
      }
      function V(e) {
        if ((0, D.h4)() || "CN" == D.De.COUNTRY.toLocaleUpperCase())
          return H(e);
        const t = A(e.args, "youtubeid"),
          n = A(e.args, "size"),
          a = A(e.args, "seconds");
        let l = "full" == n ? u.sizeFull : u.sizeThumb,
          r = "full" == n ? "" : "leftthumb" == n ? u.floatLeft : u.floatRight;
        return i.createElement(d.O, {
          videoID: t,
          nStartSeconds: a ? Number.parseInt(a) : void 0,
          classNameAlign: r,
          classNameSize: l,
          bShowVideoImmediately: !0,
        });
      }
    },
    26918: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => o });
      var a = n(47427),
        i = n(45492),
        l = n(20417);
      const r = (e) => null != e;
      function o(e, t) {
        const [n, i] = a.useState(window.localStorage.getItem(e)),
          o = a.useRef(e);
        a.useEffect(() => {
          e != o.current &&
            (i(window.localStorage.getItem(e)), (o.current = e));
        }, [e]);
        const c = e == o.current ? n : window.localStorage.getItem(e);
        let m = t;
        return (
          r(c) &&
            (m = r(t)
              ? "boolean" == typeof t
                ? t.constructor("false" !== c)
                : t.constructor(c)
              : c),
          (0, l.Qg)(s.Get().GetLocalStoreChangeCallback(e), i),
          [
            m,
            (t) => {
              const n = r(t) ? String(t) : null;
              window.localStorage.setItem(e, n),
                i(n),
                s.Get().GetLocalStoreChangeCallback(e).Dispatch(n);
            },
          ]
        );
      }
      class s {
        constructor() {
          this.m_mapChangeCallback = new Map();
        }
        GetLocalStoreChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new i.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        static Get() {
          return s.s_Singleton || (s.s_Singleton = new s()), s.s_Singleton;
        }
      }
    },
    89e3: (e, t, n) => {
      "use strict";
      n.d(t, { S6: () => m });
      const a = 20,
        i = /^.*youtube[^v]+v=(.{11}).*/,
        l = /^.*youtu\.be\/(.{11}).*/,
        r = /^.*youtube.*\/embed\/(.{11}).*/,
        o = /^.*[?&]t=([^&]+)(?:&|$)/,
        s = /^(?:(?:([\d]+)h)?(?:([\d]+)m)?(?:([\d]+)s)?|([\d]+))$/;
      function c(e) {
        const t =
          (null == e ? void 0 : e.length) < a
            ? void 0
            : i.exec(e) || l.exec(e) || r.exec(e);
        return null == t ? void 0 : t[1];
      }
      function m(e) {
        const t = c(e);
        if (!t) return;
        const n = (function (e) {
            const t = o.exec(e);
            return null == t ? void 0 : t[1];
          })(e),
          a = n
            ? (function (e) {
                const t = s.exec(e);
                if (
                  !(
                    (null == t ? void 0 : t[1]) ||
                    (null == t ? void 0 : t[2]) ||
                    (null == t ? void 0 : t[3]) ||
                    (null == t ? void 0 : t[4])
                  )
                )
                  return;
                if (null == t ? void 0 : t[4])
                  return parseInt(null == t ? void 0 : t[4]);
                let n = 0;
                return (
                  (null == t ? void 0 : t[1]) && (n += 3600 * parseInt(t[1])),
                  (null == t ? void 0 : t[2]) && (n += 60 * parseInt(t[2])),
                  (null == t ? void 0 : t[3]) && (n += parseInt(t[3])),
                  n
                );
              })(n)
            : void 0;
        return { strVideoID: t, nStartSeconds: a };
      }
    },
    2026: (e, t, n) => {
      "use strict";
      n.d(t, { Y8: () => i, eJ: () => l, rP: () => r });
      var a = n(77936);
      function i(e, t) {
        const n = (0, a.j_)(t);
        return e ? e[n] : "";
      }
      function l(e, t, n) {
        const i = (0, a.j_)(t);
        return e[i] != n && ((e[i] = n), !0);
      }
      function r(e) {
        if (!e) return 0;
        let t = 0;
        for (let n = 0; n < 31; ++n) {
          e[(0, a.j_)(n)] && (t += 1);
        }
        return t;
      }
    },
    29292: (e, t, n) => {
      "use strict";
      n.d(t, { Mx: () => c, XC: () => s });
      var a = n(85556),
        i = n(47427),
        l = n(44174),
        r = n(29480),
        o = n(35427);
      n(37563), n(22520);
      function s(e) {
        const [t, n] = (0, i.useState)(l.j1.GetClanEventModel(e)),
          a = (0, r.T)("usePartnerEventByEventGID");
        return (
          (0, i.useEffect)(() => {
            (null == t ? void 0 : t.GID) != e &&
              (l.j1.Init(),
              l.j1
                .LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs([e], [], a)
                .then((t) => {
                  1 != (null == t ? void 0 : t.length) ||
                    t[0].GID != e ||
                    a.token.reason ||
                    n(t[0]);
                }));
          }, [e, t, a]),
          t
        );
      }
      function c(e, t, n) {
        const [s, c] = (0, i.useState)(l.j1.GetClanEventModel(t)),
          [m, d] = (0, i.useState)(!!e && !!t),
          [u, p] = (0, i.useState)(),
          _ = (0, r.T)("usePartnerEventByClanAccountAndEventGID");
        return (
          (0, i.useEffect)(() => {
            (() => {
              (0, a.mG)(this, void 0, void 0, function* () {
                var a, i;
                try {
                  if ((null == s ? void 0 : s.GID) != t) {
                    l.j1.Init();
                    const r = o.K.InitFromClanID(e);
                    let s;
                    try {
                      s =
                        yield l.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                          r,
                          t,
                          0,
                          n,
                        );
                    } catch (e) {
                      p(
                        null ===
                          (i =
                            null === (a = null == e ? void 0 : e.response) ||
                            void 0 === a
                              ? void 0
                              : a.data) || void 0 === i
                          ? void 0
                          : i.err_msg,
                      );
                    }
                    _.token.reason || c(s);
                  }
                } finally {
                  d(!1);
                }
              });
            })();
          }, [e, t, s, n, _]),
          { eventModel: s, bLoading: m, sErrorMessage: u }
        );
      }
    },
    97087: (e, t, n) => {
      "use strict";
      n.d(t, { H_: () => i, Zh: () => l });
      n(51688);
      var a = n(47427);
      const i = 940;
      function l(e = i) {
        return (
          (function () {
            const [e, t] = (0, a.useState)(window.innerWidth);
            return (
              (0, a.useEffect)(() => {
                const e = () => {
                  t(window.innerWidth);
                };
                return (
                  window.addEventListener("resize", e),
                  () => window.removeEventListener("resize", e)
                );
              }, []),
              e
            );
          })() >= e
        );
      }
    },
    90286: (e, t, n) => {
      "use strict";
      n.d(t, { A: () => c });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(54842),
        o = n(37563);
      class s {
        constructor() {
          (this.m_mapYouTubeVideo = new Map()),
            (this.m_mapSharedFile = new Map()),
            (0, r.rC)(this);
        }
        LoadYouTubeDynamicData(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new Array(),
              a = "";
            if (
              (e.forEach((e, t) => {
                this.m_mapYouTubeVideo.has(e)
                  ? n.push(this.m_mapYouTubeVideo.get(e))
                  : (a.length > 0 && (a += ","), (a += e));
              }),
              0 == a.length)
            )
              return n;
            let i = { youtubevideoids: a },
              s = null;
            return (
              (s = yield l().get(
                o.De.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
                { params: i, cancelToken: t.token },
              )),
              s &&
                s.data &&
                s.data.youtube &&
                (0, r.z)(() => {
                  s.data.youtube.forEach((e, t) => {
                    this.m_mapYouTubeVideo.set(e.videoid, e), n.push(e);
                  });
                }),
              n
            );
          });
        }
        LoadSharedFileDynamicData(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new Array(),
              a = "";
            if (
              (e.forEach((e, t) => {
                this.m_mapSharedFile.has(e)
                  ? n.push(this.m_mapSharedFile.get(e))
                  : (a.length > 0 && (a += ","), (a += e));
              }),
              0 == a.length)
            )
              return n;
            let i = { sharedfileids: a },
              s = null;
            return (
              (s = yield l().get(
                o.De.STORE_BASE_URL + "/events/ajaxgetdynamiceventmetadata",
                { params: i, cancelToken: t.token },
              )),
              s &&
                s.data &&
                s.data.sharedfiles &&
                (0, r.z)(() => {
                  s.data.sharedfiles.forEach((e, t) => {
                    this.m_mapSharedFile.set(e.sharedfileid, e), n.push(e);
                  });
                }),
              n
            );
          });
        }
      }
      (0, a.gn)([r.LO], s.prototype, "m_mapYouTubeVideo", void 0),
        (0, a.gn)([r.LO], s.prototype, "m_mapSharedFile", void 0);
      const c = new s();
    },
    98330: (e, t, n) => {
      "use strict";
      n.d(t, { U: () => _, _: () => p });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(54842),
        o = n(16649),
        s = n(16997),
        c = n(45492),
        m = n(65255),
        d = n(12055),
        u = n(20029);
      class p {
        constructor(e, t) {
          (this.m_filesToUpload = r.LO.array()),
            (this.m_strUploadPath = null),
            (this.m_fnUploadSuccessCallback = null),
            (0, r.rC)(this),
            (this.m_strUploadPath = e),
            (this.m_fnUploadSuccessCallback = t);
        }
        GetUploadImages() {
          return this.m_filesToUpload;
        }
        ClearImages() {
          this.m_filesToUpload = r.LO.array();
        }
        DeleteUploadImage(e) {
          const t = this.m_filesToUpload.findIndex(
            (t) => e.file == t.file && e.uploadTime == t.uploadTime,
          );
          t >= 0 &&
            (this.m_filesToUpload.splice(t, 1),
            (this.m_filesToUpload = [...this.m_filesToUpload]));
        }
        isImageFile(e) {
          return e.type.startsWith("image/");
        }
        isVideoFile(e) {
          return e.type.startsWith("video/");
        }
        isSubtitleTextFile(e) {
          return (
            e.type.startsWith("text/") ||
            ("" == e.type && e.name.split("?")[0].endsWith(".vtt")) ||
            ("" == e.type && e.name.split("?")[0].endsWith(".srt"))
          );
        }
        AddImageForLanguage(e, t, n, i) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = !1;
            return (
              yield new Promise((l) => {
                if (this.isImageFile(e)) {
                  const r = new FileReader();
                  (r.onload = () => {
                    const o = new Image();
                    (o.onload = () => {
                      const r = new d.Mr(e, t, o, n, i);
                      (this.m_filesToUpload = [...this.m_filesToUpload, r]),
                        (a = !0),
                        l();
                    }),
                      (o.onerror = (e) => {
                        console.error(
                          "CCloudImageUploader failed to load the image, details",
                          e,
                        ),
                          (a = !1),
                          l();
                      }),
                      (o.src = r.result.toString());
                  }),
                    r.readAsDataURL(e);
                } else if (this.isVideoFile(e)) {
                  const i = document.createElement("video");
                  (i.preload = "metadata"),
                    i.addEventListener("loadedmetadata", () => {
                      const r = new d.RB(e, t, i, n);
                      (this.m_filesToUpload = [...this.m_filesToUpload, r]),
                        (a = !0),
                        l();
                    }),
                    (i.onerror = (e) => {
                      console.error(
                        "CCloudImageUploader failed to load the video, details",
                        e,
                      ),
                        (a = !1),
                        l();
                    }),
                    (i.src = URL.createObjectURL(e));
                } else
                  this.isSubtitleTextFile(e)
                    ? ((this.m_filesToUpload = [
                        ...this.m_filesToUpload,
                        new d.nZ(e, t, n),
                      ]),
                      (a = !0),
                      l())
                    : (console.error(
                        "CCloudImageUploader failed to determine file type, not image, video or subtitle",
                        e,
                        e.type,
                      ),
                      (a = !1));
              }),
              a
            );
          });
        }
        UploadAllImages(e, t, n, i, l) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = {};
            for (const e of this.m_filesToUpload)
              if ("pending" === e.status) {
                const t = e.IsValidAssetType(n, i, l);
                if (!t.error && !t.needsCrop) {
                  e.status = "uploading";
                  a[`${e.uploadTime}/${e.file.name}`] = this.UploadFile(
                    e.file,
                    e.file.name,
                    e.language,
                    t.match,
                  );
                }
              }
            const r = yield (0, c.bX)(a);
            return (
              Object.keys(r).forEach((n) => {
                const a = r[n],
                  i = this.m_filesToUpload.find(
                    (e) => `${e.uploadTime}/${e.file.name}` === n,
                  );
                if (i)
                  if (a && 1 === a.success) {
                    i.status = "success";
                    const n = (0, u.C)(a.language, t, e);
                    this.m_fnUploadSuccessCallback(
                      a.image_hash,
                      a.file_name,
                      n,
                      (function (e) {
                        switch (e) {
                          case 2:
                            return "image/gif";
                          case 1:
                            return "image/jpeg";
                          case 3:
                            return "image/png";
                          case 4:
                            return "video/mp4";
                          case 5:
                            return "video/webm";
                          case 6:
                            return "text/vtt";
                          case 7:
                            return "text/srt";
                        }
                        return null;
                      })(a.file_type),
                      i.type,
                      i.width,
                      i.height,
                    );
                  } else (i.status = "failed"), (i.message = a.message);
              }),
              r
            );
          });
        }
        UploadFile(e, t, n, i, r, s) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            const r = new FormData();
            r.append("assetfile", e, t),
              r.append("sessionid", m.De.SESSIONID),
              r.append("elangauge", "" + n),
              i && r.append("arttype", i);
            const s = (function (e) {
              const t = e.toLowerCase();
              if (t.endsWith(".jpg")) return "image/jpeg";
              if (t.endsWith(".png")) return "image/png";
              if (t.endsWith(".gif")) return "image/gif";
              if (t.endsWith(".mp4")) return "video/mp4";
              if (t.endsWith(".webm")) return "video/webm";
              if (t.endsWith(".srt")) return "text/srt";
              if (t.endsWith(".vtt")) return "text/vtt";
              return null;
            })(t);
            if (!s)
              return {
                success: 8,
                message: "Invalid file extension, cannot determine mimetype",
              };
            r.append("mimetype", s);
            try {
              a = yield l().post(this.m_strUploadPath, r, {
                withCredentials: !0,
                headers: { "Content-Type": "multipart/form-data" },
              });
            } catch (e) {
              const t = (0, o.l)(e);
              console.log("CCloudImageUploader.UploadFile failed ", t, e),
                (a = e.response);
            }
            return null == a ? void 0 : a.data;
          });
        }
      }
      function _(e) {
        switch (e) {
          case "image/jpeg":
            return ".jpg";
          case "image/png":
            return ".png";
          case "image/gif":
            return ".gif";
          case "video/mp4":
            return ".mp4";
          case "video/webm":
            return ".webm";
          case "text/vtt":
            return ".vtt";
          case "text/srt":
            return ".srt";
        }
        return (
          console.error("ConvertMimeTypeToExtension:Unexepected mime type ", e),
          ".jpg"
        );
      }
      (0, a.gn)([r.LO], p.prototype, "m_filesToUpload", void 0),
        (0, a.gn)([s.a], p.prototype, "GetUploadImages", null),
        (0, a.gn)([s.a], p.prototype, "ClearImages", null),
        (0, a.gn)([s.a], p.prototype, "DeleteUploadImage", null),
        (0, a.gn)([s.a], p.prototype, "AddImageForLanguage", null),
        (0, a.gn)([s.a], p.prototype, "UploadAllImages", null);
    },
    65650: (e, t, n) => {
      "use strict";
      n.d(t, { U: () => c });
      var a = n(85556),
        i = n(54842),
        l = n(77936),
        r = n(83999),
        o = n(16997),
        s = n(37563);
      class c {
        GetCurEditLanguage() {
          return this.m_eCurLang;
        }
        SetCurEditLanguage(e) {
          return this.m_eCurLang != e && ((this.m_eCurLang = e), !0);
        }
        SetHasLanguage(e) {
          e.forEach((e, t) => {
            this.m_rgHasData[t] != e && (this.m_rgHasData[t] = e);
          });
        }
        BHasLanguageData(e) {
          return this.m_rgHasData[e];
        }
        GetHasLocalizationContext() {
          return this.m_bHasLocalizationContext;
        }
        SetHasLocalizationContext(e) {
          e != this.m_bHasLocalizationContext &&
            (this.m_bHasLocalizationContext = e);
        }
        static Get() {
          return (
            c.s_globalSingletonStore ||
              ((c.s_globalSingletonStore = new c()),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.DUS = c.s_globalSingletonStore)),
            c.s_globalSingletonStore
          );
        }
        constructor() {
          (this.m_eCurLang = (0, l.jM)(s.De.LANGUAGE)),
            (this.m_rgHasData = (0, r.LG)([], 31, !1)),
            (this.m_bHasLocalizationContext = !1),
            (0, i.rC)(this);
        }
      }
      (0, a.gn)([i.LO], c.prototype, "m_eCurLang", void 0),
        (0, a.gn)([i.LO], c.prototype, "m_rgHasData", void 0),
        (0, a.gn)([i.LO], c.prototype, "m_bHasLocalizationContext", void 0),
        (0, a.gn)([o.a], c.prototype, "GetCurEditLanguage", null),
        (0, a.gn)([o.a], c.prototype, "SetCurEditLanguage", null),
        (0, a.gn)([i.aD.bound], c.prototype, "SetHasLanguage", null),
        (0, a.gn)([o.a], c.prototype, "BHasLanguageData", null);
    },
    60646: (e, t, n) => {
      "use strict";
      n.d(t, { $: () => s });
      var a = n(85556),
        i = n(37563),
        l = n(54842),
        r = n(80751),
        o = n.n(r);
      const s = new (class {
        constructor() {
          (this.m_mapEmoticonHovers = l.LO.map()),
            (this.m_inflightRequests = {});
        }
        Get(e) {
          return this.m_mapEmoticonHovers.has(e) || this.m_inflightRequests[e]
            ? this.m_mapEmoticonHovers.get(e)
            : (this.Load(e), null);
        }
        BLoaded(e) {
          return !!this.m_mapEmoticonHovers.get(e);
        }
        Load(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = `${i.De.COMMUNITY_CDN_URL}economy/emoticonhoverjson/${encodeURIComponent(e)}?l=${encodeURIComponent(i.De.LANGUAGE)}&origin=${(0, i.Kc)()}`;
            this.m_inflightRequests[e] = !0;
            try {
              const { data: n } = yield o().get(t);
              !(function (e) {
                return (
                  e &&
                  "object" == typeof e &&
                  "number" == typeof e.appid &&
                  "string" == typeof e.app_name
                );
              })(n)
                ? this.m_mapEmoticonHovers.set(e, null)
                : this.m_mapEmoticonHovers.set(e, n);
            } catch (t) {
              this.m_mapEmoticonHovers.set(e, null);
            } finally {
              this.m_inflightRequests[e] = !1;
            }
          });
        }
      })();
    },
    88619: (e, t, n) => {
      "use strict";
      n.d(t, { co: () => m });
      var a = n(85556),
        i = n(53923),
        l = n(40057),
        r = n(42718),
        o = n(79545),
        s = n(35427),
        c = n(3172);
      n(82182), n(51915);
      function m() {
        const e = (0, l.bY)(),
          t = (0, i.M)();
        return (0, r.useQuery)(d(e, t));
      }
      function d(e, t) {
        return {
          queryKey: ["GetFriendsList", t],
          queryFn: () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var t, n;
              const a = o.gA.Init(c.Fi);
              return null ===
                (n =
                  null ===
                    (t = (yield c.qW.GetFriendsList(e, a))
                      .Body()
                      .friendslist()) || void 0 === t
                    ? void 0
                    : t.friends()) || void 0 === n
                ? void 0
                : n
                    .filter((e) => {
                      const t = new s.K(e.ulfriendid());
                      return (
                        (3 == e.efriendrelationship() ||
                          6 == e.efriendrelationship()) &&
                        t.BIsIndividualAccount()
                      );
                    })
                    .map((e) => e.ulfriendid());
            }),
        };
      }
    },
    53545: (e, t, n) => {
      "use strict";
      n.d(t, { Eg: () => _, r8: () => p, wM: () => v });
      var a = n(85556),
        i = (n(42718), n(47427), n(77936)),
        l = n(79545),
        r = n(44237),
        o = n(37563),
        s = n(80998),
        c = n(13370),
        m = n(62210),
        d = n(54842);
      class u {
        constructor(e) {
          (this.m_setMessagesSeen = new Set()), (this.m_SteamInterface = e);
        }
        static Init(e) {
          u.sm_Instance = new u(e);
        }
        SetSteamInterfacePromotions(e) {
          this.m_SteamInterfacePromotions = e;
        }
        static Get() {
          return (
            (0, m.X)(u.sm_Instance, "MarketingMessages store not initialized"),
            u.sm_Instance
          );
        }
        GetMessageList(e, t = !1) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!o.L7.logged_in) return [];
            const n = l.gA.Init(r.Pe);
            n.Body().set_country_code(o.De.COUNTRY),
              n.Body().set_elanguage((0, i.jM)(o.De.LANGUAGE)),
              n.Body().set_client_package_version(e.nClientPackageVersion),
              n.Body().set_operating_system(e.eOSType),
              t && n.Body().set_include_seen_messages(!0),
              (0, s.pA)(n),
              (0, s.De)(n, u.sm_DefaultDataRequest);
            const a = yield r.Bn.GetMarketingMessagesForUser(
              this.m_SteamInterface.GetServiceTransport(),
              n,
            );
            if (1 != a.GetEResult())
              throw `Error loading marketing messages: ${a.GetEResult()}`;
            if (t)
              for (const e of a.Body().messages())
                e.already_seen() &&
                  this.m_setMessagesSeen.add(e.message().gid());
            return a.Body().messages();
          });
        }
        GetSingleMessage(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = l.gA.Init(r.F5);
            let a;
            if (
              (n.Body().set_gid(e),
              (0, s.pA)(n),
              (0, s.De)(n, u.sm_DefaultDataRequest),
              (a =
                t || o.L7.logged_in
                  ? yield r.Bn.GetDisplayMarketingMessageForUser(
                      this.m_SteamInterface.GetServiceTransport(),
                      n,
                    )
                  : yield r.Bn.GetDisplayMarketingMessage(
                      this.m_SteamInterface.GetAnonymousServiceTransport(),
                      n,
                    )),
              1 != a.GetEResult())
            )
              throw `Error loading marketing messages: ${a.GetEResult()}`;
            return a.Body().message();
          });
        }
        MarkMessageSeen(e, t, n) {
          if (this.m_setMessagesSeen.has(e)) return;
          const a = l.gA.Init(r.UD);
          a.Body().set_gid(e),
            a.Body().set_display_index(t),
            a.Body().set_template_type(n),
            r.Bn.MarkMessageSeen(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            ),
            this.m_setMessagesSeen.add(e);
        }
        BIsMessageSeen(e) {
          return this.m_setMessagesSeen.has(e);
        }
      }
      function p(e) {
        if (!e) return null;
        try {
          const t = JSON.parse(e);
          return (
            t.use_additional_fields &&
              (t.use_additional_fields =
                "true" === t.use_additional_fields ||
                1 === t.use_additional_fields),
            t.use_custom_legal_text &&
              (t.use_custom_legal_text =
                "true" === t.use_custom_legal_text ||
                1 === t.use_custom_legal_text),
            t.last_asset_mtime &&
              (t.last_asset_mtime = parseInt(t.last_asset_mtime)),
            (t.ll_image = t.ll_image || {}),
            t
          );
        } catch (e) {
          "dev" == o.De.WEB_UNIVERSE &&
            console.error(
              "MarketingMessageReadAndParseTemplateVars: Failed to prase",
              e,
            );
        }
        return null;
      }
      function _(e) {
        return ` ${new Date().getFullYear()} Valve Corporation${e ? " and " + e : ""}. <br/>All trademarks are property of their respective owners in the US and other countries.`;
      }
      u.sm_DefaultDataRequest = { include_release: !0, include_assets: !0 };
      class h {
        constructor(e) {
          (this.m_templateVars = void 0),
            (0, d.rC)(this),
            (this.m_message = e),
            e.associated_item() &&
              (this.m_item = new c.Z(
                e.associated_item(),
                u.sm_DefaultDataRequest,
              )),
            (this.m_templateVars = p(e.template_vars_json()));
        }
        get id() {
          return this.m_message.gid();
        }
        GetType() {
          return this.m_message.type();
        }
        GetTemplateType() {
          return this.m_message.template_type();
        }
        GetTemplateTypeForReporting() {
          switch (this.GetTemplateVars().custom_display) {
            case "replay2022":
              return 5;
            case "dlc_override":
              return 4;
          }
          return 1;
        }
        GetTemplateVars() {
          return this.m_templateVars;
        }
        GetTemplateImage() {
          let e = this.m_templateVars.ll_image[o.De.LANGUAGE],
            t = (0, i.jM)(o.De.LANGUAGE);
          return (
            e ||
              o.De.LANGUAGE != (0, i.j_)(27) ||
              ((e = this.m_templateVars.ll_image.LATAM), (t = 27)),
            e || ((e = this.m_templateVars.ll_image.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetTemplateBackgroundImage() {
          let e = this.m_templateVars.background[o.De.LANGUAGE],
            t = (0, i.jM)(o.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.background.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetFeaturedVideoMP4URL() {
          return this.m_templateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMURL() {
          return this.m_templateVars.featured_video_webm;
        }
        GetPosterImage() {
          let e = this.m_templateVars.poster[o.De.LANGUAGE],
            t = (0, i.jM)(o.De.LANGUAGE);
          return (
            e || ((e = this.m_templateVars.poster.english), (t = 0)),
            [null == e ? void 0 : e.path, t]
          );
        }
        GetSubtitleObj() {
          return this.m_templateVars.subtitles;
        }
        GetDLCAppIDs() {
          return this.m_templateVars.additional_featuring
            .filter((e) => Boolean(e.appid))
            .map((e) => e.appid);
        }
        SetDLCAppIDOverride(e) {
          (this.m_templateVars.additional_featuring = e.map((e) => ({
            appid: e,
          }))),
            (this.m_templateVars.custom_display = "dlc_override");
        }
        OverrideCustomText(e) {
          this.m_templateVars.button_text_custom = e;
        }
        OverrideURL(e) {
          this.m_templateVars.linkurl = e;
        }
        BHasTemplateAnimatedAssets() {
          return this.m_templateVars.has_animated_assets;
        }
        BHasTemplateAnimatedAssetForLanguage(e) {
          const t = (0, i.j_)(e);
          return Boolean(this.m_templateVars.mp4[t]);
        }
        GetTemplateWebM(e) {
          var t;
          const n = (0, i.j_)(e);
          return null === (t = this.m_templateVars.webm[n]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetTemplateMP4(e) {
          var t;
          const n = (0, i.j_)(e);
          return null === (t = this.m_templateVars.mp4[n]) || void 0 === t
            ? void 0
            : t.path;
        }
        GetLegalHTML() {
          return this.GetTemplateVars().use_custom_legal_text
            ? this.GetTemplateVars().custom_legal_text
            : _(this.GetTemplateVars().partner);
        }
        get associated_item() {
          return this.m_item;
        }
      }
      (0, a.gn)([d.LO], h.prototype, "m_templateVars", void 0);
      const g = "^(replay)([0-9]{4})";
      function v(e) {
        const t = e.match(g);
        return null == t ? void 0 : t[2];
      }
    },
    46475: (e, t, n) => {
      "use strict";
      n.d(t, { AL: () => E });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(77936),
        s = n(79545),
        c = (n(51688), n(77581)),
        m = n(22520),
        d = n(80002),
        u = n(75375),
        p = n(16649),
        _ = n(37563),
        h = n(77151),
        g = n(64936);
      class v {
        BIsPlaytimeLoaded() {
          return Boolean(this.m_mapPlaytime);
        }
        GetPlaytime() {
          return this.m_mapPlaytime;
        }
        LoadPlaytime() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_playtimePromise ||
                (this.m_playtimePromise = this.InternalLoadPlaytime()),
              this.m_playtimePromise
            );
          });
        }
        InternalLoadPlaytime() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = new Map();
            let t = null;
            try {
              const n = `${_.De.STORE_BASE_URL}contenthub/ajaxgetdlcforyouplaytime`,
                a = {
                  origin: self.origin,
                  forsteamid: (0, _.kQ)(
                    "dlcforyou_forsteamid",
                    "application_config",
                  ),
                },
                i = yield l().get(n, { params: a, withCredentials: !0 });
              if (200 === i.status && 1 === i.data.success) {
                if (i.data.playtime)
                  for (const t of i.data.playtime)
                    e.set(t.appid, {
                      playtime: t.playtime,
                      last_played: t.last_played,
                    });
              } else t = (0, p.l)(i);
            } catch (e) {
              t = (0, p.l)(e);
            }
            (this.m_mapPlaytime = e),
              t &&
                console.error(
                  "CDLCForYouStore.LoadPlaytime failed: " + t.strErrorMsg,
                  t,
                );
          });
        }
        GetSortKey(e, t, n) {
          return `${e}_${t || "*"}_${n || "*"}`;
        }
        BIsOwnedAppsLoaded(e, t, n) {
          return this.m_mapOwnedApps.has(this.GetSortKey(e, t, n));
        }
        GetOwnedApps(e, t, n) {
          return this.m_mapOwnedApps.get(this.GetSortKey(e, t, n));
        }
        LoadOwnedApps(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = this.GetSortKey(e, t, n);
            return (
              this.m_mapOwnedAppsPromise.has(a) ||
                this.m_mapOwnedAppsPromise.set(
                  a,
                  this.InternalLoadOwnedApps(e, t, n),
                ),
              this.m_mapOwnedAppsPromise.get(a)
            );
          });
        }
        InternalLoadOwnedApps(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = [],
              i = null;
            try {
              yield Promise.all([this.LoadPlaytime(), h.jg.Get().HintLoad()]),
                (a = Array.from(this.m_mapPlaytime.keys())),
                (a = a.filter((e) => h.jg.Get().BIsGameOwned(e)));
              let i = [],
                l = [];
              t &&
                ((i = a.filter(
                  (e) => this.m_mapPlaytime.get(e).playtime < 60 * t,
                )),
                (a = a.filter(
                  (e) => this.m_mapPlaytime.get(e).playtime >= 60 * t,
                ))),
                n &&
                  ((l = a.filter(
                    (e) =>
                      this.m_mapPlaytime.get(e).last_played <
                      (0, g.kl)() - 31 * n * 24 * 60 * 60,
                  )),
                  (a = a.filter(
                    (e) =>
                      this.m_mapPlaytime.get(e).last_played >=
                      (0, g.kl)() - 31 * n * 24 * 60 * 60,
                  ))),
                "playtime" === e
                  ? (l.sort(
                      (e, t) =>
                        this.m_mapPlaytime.get(t).playtime -
                        this.m_mapPlaytime.get(e).playtime,
                    ),
                    i.sort(
                      (e, t) =>
                        this.m_mapPlaytime.get(t).playtime -
                        this.m_mapPlaytime.get(e).playtime,
                    ),
                    a.sort(
                      (e, t) =>
                        this.m_mapPlaytime.get(t).playtime -
                        this.m_mapPlaytime.get(e).playtime,
                    ))
                  : "last_played" === e &&
                    (l.sort(
                      (e, t) =>
                        this.m_mapPlaytime.get(t).last_played -
                        this.m_mapPlaytime.get(e).last_played,
                    ),
                    i.sort(
                      (e, t) =>
                        this.m_mapPlaytime.get(t).last_played -
                        this.m_mapPlaytime.get(e).last_played,
                    ),
                    a.sort(
                      (e, t) =>
                        this.m_mapPlaytime.get(t).last_played -
                        this.m_mapPlaytime.get(e).last_played,
                    )),
                (a = a.concat(l).concat(i));
            } catch (e) {
              i = (0, p.l)(e);
            }
            this.m_mapOwnedApps.set(this.GetSortKey(e, t, n), a),
              i &&
                console.error(
                  "CDLCForYouStore.InternalLoadOwnedApps failed: " +
                    i.strErrorMsg,
                  i,
                );
          });
        }
        BIsDLCLoaded(e) {
          return this.m_mapDLC.has(JSON.stringify(e));
        }
        GetDLC(e) {
          return this.m_mapDLC.get(JSON.stringify(e));
        }
        LoadDLC(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = JSON.stringify(e);
            return (
              this.m_mapDLCPromise.has(t) ||
                this.m_mapDLCPromise.set(t, this.InternalLoadDLC(e)),
              this.m_mapDLCPromise.get(t)
            );
          });
        }
        InternalLoadDLC(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (
              ("popular" === e.strFlavor || "discounted" === e.strFlavor) &&
              !Boolean((0, _.kQ)("dlcforyou_forsteamid", "application_config"))
            )
              return this.InternalLoadDLCFromDiscoveryQueue(e);
            let t = [],
              n = null;
            try {
              yield h.jg.Get().HintLoad();
              const a = `${_.De.STORE_BASE_URL}contenthub/ajaxgetdlcforyoupopular`,
                i = {
                  origin: self.origin,
                  flavor: e.strFlavor || "popular",
                  count: e.nCount || 50,
                  hubtype: e.strHubType,
                  category: e.strCategory,
                  tagid: e.nTagID,
                  tabid: e.nTabID,
                  tabfilter: e.strTabFilter,
                  sectionid: e.nSectionID,
                  sectionfilter: e.strSectionFilter,
                  facetcount: e.nFacetCount,
                  facetkey: e.strFacetURLParam,
                  facetfilter: e.strFacetFilter,
                  forsteamid: (0, _.kQ)(
                    "dlcforyou_forsteamid",
                    "application_config",
                  ),
                },
                r = yield l().get(a, { params: i, withCredentials: !0 });
              if (200 === r.status && 1 === r.data.success) {
                if (r.data.dlc_appids)
                  for (const e of r.data.dlc_appids)
                    h.jg.Get().BOwnsApp(e) || t.push(Number(e));
              } else n = (0, p.l)(r);
            } catch (e) {
              n = (0, p.l)(e);
            }
            this.m_mapDLC.set(JSON.stringify(e), t),
              n &&
                console.error(
                  "CDLCForYouStore.InternalLoadDLC failed: " + n.strErrorMsg,
                  n,
                );
          });
        }
        InternalLoadDLCFromDiscoveryQueue(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = [],
              a = null;
            try {
              yield h.jg.Get().HintLoad();
              const i = s.gA.Init(u.cJ);
              if (
                (i.Body().set_queue_type("discounted" === e.strFlavor ? 8 : 7),
                i.Body().set_country_code(_.De.COUNTRY || "US"),
                i.Body().set_rebuild_queue_if_stale(!0),
                e.strHubType)
              ) {
                if (
                  (i
                    .Body()
                    .store_page_filter()
                    .content_hub_filter()
                    .set_hub_type(e.strHubType),
                  i
                    .Body()
                    .store_page_filter()
                    .content_hub_filter()
                    .set_hub_category(e.strCategory),
                  i
                    .Body()
                    .store_page_filter()
                    .content_hub_filter()
                    .set_hub_tagid(e.nTagID),
                  e.nTabID && e.strTabFilter)
                ) {
                  const t = i.Body().store_page_filter().add_store_filters();
                  t.set_filter_json(e.strTabFilter),
                    t.set_cache_key(e.nTabID.toString());
                }
                if (e.nSectionID && e.strSectionFilter) {
                  const t = i.Body().store_page_filter().add_store_filters();
                  t.set_filter_json(e.strSectionFilter),
                    t.set_cache_key(e.nSectionID.toString());
                }
                if (e.nFacetCount && e.strFacetURLParam && e.strFacetFilter) {
                  const t = i.Body().store_page_filter().add_store_filters();
                  t.set_filter_json(e.strFacetFilter),
                    t.set_cache_key(e.strFacetURLParam);
                }
              } else
                e.nSaleTagID &&
                  i
                    .Body()
                    .store_page_filter()
                    .sale_filter()
                    .set_sale_tagid(e.nSaleTagID);
              const l = yield u.d6.GetDiscoveryQueue(
                this.m_serviceTransport,
                i,
              );
              if (1 === l.GetEResult()) {
                if (
                  (null === (t = l.Body().appids()) || void 0 === t
                    ? void 0
                    : t.length) > 0
                )
                  for (const e of l.Body().appids())
                    h.jg.Get().BOwnsApp(e) || n.push(e);
              } else a = (0, p.l)(l);
            } catch (e) {
              a = (0, p.l)(e);
            }
            this.m_mapDLC.set(JSON.stringify(e), n),
              a &&
                console.error(
                  "CDLCForYouStore.InternalLoadDLC failed: " + a.strErrorMsg,
                  a,
                );
          });
        }
        GetAppKey(e, t) {
          return JSON.stringify(e) + "_" + t;
        }
        BIsDLCForAppsLoaded(e, t) {
          for (const n of e) {
            const e = this.GetAppKey(t, n);
            if (!this.m_mapDLCForApp.has(e)) return !1;
          }
          return !0;
        }
        GetDLCForApps(e, t) {
          const n = new Map();
          for (const a of e) {
            const e = this.GetAppKey(t, a),
              i = this.m_mapDLCForApp.get(e);
            i && n.set(a, i);
          }
          return n;
        }
        LoadDLCForApps(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = e.filter(
              (e) => !this.m_mapDLCForAppPromise.has(this.GetAppKey(t, e)),
            );
            if (n.length > 0) {
              const e = this.InternalLoadDLCForApps(n, t);
              for (const a of n)
                this.m_mapDLCForAppPromise.set(this.GetAppKey(t, a), e);
            }
            yield Promise.all(
              e.map((e) =>
                this.m_mapDLCForAppPromise.get(this.GetAppKey(t, e)),
              ),
            );
          });
        }
        InternalLoadDLCForApps(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = new Map();
            for (const t of e) n.set(t, []);
            let a = null;
            try {
              yield h.jg.Get().HintLoad();
              const i = s.gA.Init(d._A);
              i.Body().context().set_language(_.De.LANGUAGE),
                i
                  .Body()
                  .context()
                  .set_elanguage((0, o.jM)(_.De.LANGUAGE)),
                i.Body().context().set_country_code(_.De.COUNTRY),
                i.Body().context().set_steam_realm(_.De.EREALM);
              for (const t of e) i.Body().add_appids(t);
              if (
                (i.Body().set_flavor(t.strFlavor || "popular"),
                i.Body().set_count(t.nCount || 20),
                t.strHubType)
              ) {
                if (
                  (i
                    .Body()
                    .store_page_filter()
                    .content_hub_filter()
                    .set_hub_type(t.strHubType),
                  i
                    .Body()
                    .store_page_filter()
                    .content_hub_filter()
                    .set_hub_category(t.strCategory),
                  i
                    .Body()
                    .store_page_filter()
                    .content_hub_filter()
                    .set_hub_tagid(t.nTagID),
                  t.nTabID && t.strTabFilter)
                ) {
                  const e = i.Body().store_page_filter().add_store_filters();
                  e.set_filter_json(t.strTabFilter),
                    e.set_cache_key(t.nTabID.toString());
                }
                if (t.nSectionID && t.strSectionFilter) {
                  const e = i.Body().store_page_filter().add_store_filters();
                  e.set_filter_json(t.strSectionFilter),
                    e.set_cache_key(t.nSectionID.toString());
                }
                if (t.nFacetCount && t.strFacetURLParam && t.strFacetFilter) {
                  const e = i.Body().store_page_filter().add_store_filters();
                  e.set_filter_json(t.strFacetFilter),
                    e.set_cache_key(t.strFacetURLParam);
                }
              }
              const l = yield d.VJ.GetDLCForAppsSolr(
                this.m_anonymousServiceTransport,
                i,
              );
              if (1 === l.GetEResult()) {
                if (l.Body().dlc_lists().length > 0)
                  for (const e of l.Body().dlc_lists()) {
                    const t = e.parent_appid();
                    for (const a of e.dlc_appids())
                      h.jg.Get().BOwnsApp(a) || n.get(t).push(a);
                  }
              } else a = (0, p.l)(l);
            } catch (e) {
              a = (0, p.l)(e);
            }
            for (const a of e)
              this.m_mapDLCForApp.set(this.GetAppKey(t, a), n.get(a));
            a &&
              console.error(
                "CDLCForYouStore.InternalLoadDLCForApps failed: " +
                  a.strErrorMsg,
                a,
              );
          });
        }
        LoadDLCForAppsFiltered(e, t, n) {
          var i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            yield this.LoadOwnedApps(
              t.parent_app_sort,
              t.min_playtime,
              t.max_last_played,
            );
            const a = this.GetOwnedApps(
              t.parent_app_sort,
              t.min_playtime,
              t.max_last_played,
            );
            let l = [],
              r = !1;
            for (let t = 0; t < a.length; ++t) {
              t % 10 == 0 && (yield this.LoadDLCForApps(a.slice(t, t + 10), e));
              const o = this.GetAppKey(e, a[t]);
              if (
                ((null === (i = this.m_mapDLCForApp.get(o)) || void 0 === i
                  ? void 0
                  : i.length) > 0 && l.push(this.m_mapDLCForApp.get(o)),
                l.length === n)
              ) {
                t < a.length - 1 && (r = !0);
                break;
              }
            }
            return { rgDLC: l, bMoreAvailable: r };
          });
        }
        BIsPopularDLCByAppLoaded(e) {
          return this.m_mapPopularDLCByApp.has(JSON.stringify(e));
        }
        GetPopularDLCByApp(e) {
          return this.m_mapPopularDLCByApp.get(JSON.stringify(e));
        }
        LoadPopularDLCByApp(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = JSON.stringify(e);
            return (
              this.m_mapPopularDLCByAppPromise.has(a) ||
                this.m_mapPopularDLCByAppPromise.set(
                  a,
                  this.InternalLoadPopularDLCByApp(e, t, n),
                ),
              this.m_mapPopularDLCByAppPromise.get(a)
            );
          });
        }
        InternalLoadPopularDLCByApp(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = [],
              n = null;
            try {
              yield h.jg.Get().HintLoad();
              const e = `${_.De.STORE_BASE_URL}contenthub/ajaxgetdlcforyoumaincapsule`,
                a = {
                  origin: self.origin,
                  count: 5e3,
                  forsteamid: (0, _.kQ)(
                    "dlcforyou_forsteamid",
                    "application_config",
                  ),
                },
                i = yield l().get(e, { params: a, withCredentials: !0 });
              if (200 === i.status && 1 === i.data.success) {
                if (i.data.dlc_appids && i.data.parent_appids)
                  for (const e of i.data.parent_appids) {
                    const n = Number(e);
                    h.jg.Get().BIsGameOwned(n) &&
                      t.push(i.data.dlc_appids[n].map((e) => Number(e)));
                  }
              } else n = (0, p.l)(i);
            } catch (e) {
              n = (0, p.l)(e);
            }
            this.m_mapPopularDLCByApp.set(JSON.stringify(e), t),
              n &&
                console.error(
                  "CDLCForYouStore.InternalLoadPopularDLCByApp failed: " +
                    n.strErrorMsg,
                  n,
                );
          });
        }
        BIsDLCStatsLoaded() {
          return Boolean(this.m_dlcStats);
        }
        GetDLCStats() {
          return this.m_dlcStats;
        }
        LoadDLCStats() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_dlcStatsPromise ||
                (this.m_dlcStatsPromise = this.InternalLoadDLCStats()),
              this.m_dlcStatsPromise
            );
          });
        }
        InternalLoadDLCStats() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = {};
            let t = null;
            try {
              const n = `${_.De.STORE_BASE_URL}contenthub/ajaxgetdlcstatsforuser`,
                a = {
                  origin: self.origin,
                  forsteamid: (0, _.kQ)(
                    "dlcforyou_forsteamid",
                    "application_config",
                  ),
                },
                i = yield l().get(n, { params: a, withCredentials: !0 });
              200 === i.status && 1 === i.data.success
                ? ((e.nGamesOwned = Number(i.data.games_owned)),
                  (e.nDLCOwned = Number(i.data.dlc_owned)),
                  (e.nDLCNotOwned = Number(i.data.dlc_not_owned)))
                : (t = (0, p.l)(i));
            } catch (e) {
              t = (0, p.l)(e);
            }
            (this.m_dlcStats = e),
              t &&
                console.error(
                  "CDLCForYouStore.LoadDLCStats failed: " + t.strErrorMsg,
                  t,
                );
          });
        }
        constructor() {
          if (
            ((this.m_mapOwnedApps = new Map()),
            (this.m_mapOwnedAppsPromise = new Map()),
            (this.m_mapDLC = new Map()),
            (this.m_mapDLCPromise = new Map()),
            (this.m_mapDLCForApp = new Map()),
            (this.m_mapDLCForAppPromise = new Map()),
            (this.m_mapPopularDLCByApp = new Map()),
            (this.m_mapPopularDLCByAppPromise = new Map()),
            !this.m_serviceTransport)
          ) {
            const e = (0, _.kQ)("loyalty_webapi_token", "application_config"),
              t = new c.J(_.De.WEBAPI_BASE_URL, e || void 0);
            (this.m_serviceTransport = t.GetServiceTransport()),
              (this.m_anonymousServiceTransport =
                t.GetAnonymousServiceTransport());
          }
          "dev" === _.De.WEB_UNIVERSE && (window.g_dlcForYouStore = this);
        }
        static Get() {
          return v.s_singleton || (v.s_singleton = new v()), v.s_singleton;
        }
      }
      function E(e, t = 20) {
        const [n, a] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            if (e && e != m.kI)
              if ("dev" == _.De.WEB_UNIVERSE && 782330 == e)
                a([1749103, 1749101, 1749102, 1098300]);
              else {
                const n = { nCount: t, strFlavor: "popular" };
                v.Get()
                  .LoadDLCForApps([e], n)
                  .then(() => {
                    const t = v.Get().GetDLCForApps([e], n);
                    a(t.get(e));
                  });
              }
          }, [e, t]),
          n
        );
      }
    },
    72728: (e, t, n) => {
      "use strict";
      n.d(t, { v: () => p, x: () => u });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(16649),
        s = n(45492),
        c = n(20417),
        m = n(37563);
      class d {
        GetRegistration(e) {
          return this.m_mapRegistrations.get(e);
        }
        GetRegistrationChangeCallback(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new s.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        LoadRegistration(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapLoadPromises.has(e) ||
                this.m_mapLoadPromises.set(e, this.InternalLoadRegistration(e)),
              this.m_mapLoadPromises.get(e)
            );
          });
        }
        InternalLoadRegistration(e) {
          var t, n, i, r, s;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const c =
                  m.De.STORE_BASE_URL +
                  "saleaction/ajaxgetusergiveawayregistration",
                d = { giveaway_name: e, sessionid: m.De.SESSIONID },
                u = yield l().get(c, { params: d, withCredentials: !0 });
              if (
                200 == (null == u ? void 0 : u.status) &&
                1 ==
                  (null === (t = null == u ? void 0 : u.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                (null === (n = null == u ? void 0 : u.data) || void 0 === n
                  ? void 0
                  : n.registration)
              )
                return (
                  this.m_mapRegistrations.set(
                    e,
                    null === (i = null == u ? void 0 : u.data) || void 0 === i
                      ? void 0
                      : i.registration,
                  ),
                  this.GetRegistrationChangeCallback(e).Dispatch(
                    null === (r = null == u ? void 0 : u.data) || void 0 === r
                      ? void 0
                      : r.registration,
                  ),
                  null === (s = null == u ? void 0 : u.data) || void 0 === s
                    ? void 0
                    : s.registration
                );
              a = (0, o.l)(u);
            } catch (e) {
              a = (0, o.l)(e);
            }
            return (
              console.error(
                "CGiveawayRegistrationStore.InternalLoadRegistration failed: on giveawayName " +
                  e +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              { registered: !1 }
            );
          });
        }
        CreateRegistration(e) {
          return (
            this.m_mapCreatePromises.has(e) ||
              this.m_mapCreatePromises.set(
                e,
                this.InternalCreateRegistration(e),
              ),
            this.m_mapCreatePromises.get(e)
          );
        }
        InternalCreateRegistration(e) {
          var t, n, i, r, s;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const c =
                  m.De.STORE_BASE_URL +
                  "saleaction/ajaxupdateusergiveawayregistration",
                d = { giveaway_name: e, sessionid: m.De.SESSIONID },
                u = yield l().get(c, { params: d, withCredentials: !0 });
              if (
                200 == (null == u ? void 0 : u.status) &&
                1 ==
                  (null === (t = null == u ? void 0 : u.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                (null === (n = null == u ? void 0 : u.data) || void 0 === n
                  ? void 0
                  : n.registration)
              )
                return (
                  this.m_mapRegistrations.set(
                    e,
                    null === (i = null == u ? void 0 : u.data) || void 0 === i
                      ? void 0
                      : i.registration,
                  ),
                  this.GetRegistrationChangeCallback(e).Dispatch(
                    null === (r = null == u ? void 0 : u.data) || void 0 === r
                      ? void 0
                      : r.registration,
                  ),
                  null === (s = null == u ? void 0 : u.data) || void 0 === s
                    ? void 0
                    : s.registration
                );
              a = (0, o.l)(u);
            } catch (e) {
              a = (0, o.l)(e);
            }
            return (
              console.error(
                "CGiveawayRegistrationStore.InternalCreateRegistration failed: on giveawayName " +
                  e +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              { registered: !1 }
            );
          });
        }
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              d.s_Singleton.Init(),
              "dev" == m.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {
          (this.m_mapRegistrations = new Map()),
            (this.m_mapLoadPromises = new Map()),
            (this.m_mapCreatePromises = new Map()),
            (this.m_listChangeCallback = new Map());
        }
        Init() {}
      }
      function u(e) {
        const [t, n] = (0, r.useState)(d.Get().GetRegistration(e));
        return (
          (0, r.useEffect)(() => {
            void 0 === t && d.Get().LoadRegistration(e).then(n);
          }, [e, t]),
          (0, c.Qg)(d.Get().GetRegistrationChangeCallback(e), n),
          t
        );
      }
      function p() {
        return { fnCreateRegistration: d.Get().CreateRegistration };
      }
      (0, a.gn)([c.ak], d.prototype, "CreateRegistration", null);
    },
    92280: (e, t, n) => {
      "use strict";
      n.d(t, { $: () => u, NL: () => _, TW: () => h });
      var a = n(85556),
        i = n(79545),
        l = (n(82182), n(40354)),
        r = n(42718),
        o = n(40057),
        s = n(65255),
        c = n(82756);
      n(77151), n(80751), n(47427), n(13557);
      let m;
      function d() {
        return (
          m || (m = (0, c.ip)("steam_awards_config", "application_config")), m
        );
      }
      function u(e) {
        const t = (0, o.bY)();
        return (0, r.useQuery)(
          `SteamAwardDefs_${e}`,
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const n = i.gA.Init(l.R_);
              n.Body().set_sale_appid(e), n.Body().set_language(s.De.LANGUAGE);
              return (yield l.Zq.GetVoteDefinitions(t, n)).Body().toObject();
            }),
          {
            initialData: () => {
              var e;
              return null === (e = d()) || void 0 === e
                ? void 0
                : e.definitions;
            },
            enabled: e > 0,
          },
        );
      }
      function p() {
        const e = (0, o.bY)();
        return (0, r.useQuery)(
          `SteamAwardNominations_${s.L7.accountid}`,
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var t;
              const n = i.gA.Init(l.Aw);
              return null ===
                (t = (yield l.tQ.GetUserNominations(e, n)).Body().toObject()) ||
                void 0 === t
                ? void 0
                : t.nominations;
            }),
          {
            initialData: () => {
              var e, t;
              return null ===
                (t =
                  null === (e = d()) || void 0 === e
                    ? void 0
                    : e.user_nominations) || void 0 === t
                ? void 0
                : t.nominations;
            },
            enabled: s.L7.logged_in,
          },
        );
      }
      function _(e) {
        var t;
        const n = p();
        return n.isLoading
          ? { bLoadingNominationForCategory: !0 }
          : {
              currentNomination:
                null === (t = n.data) || void 0 === t
                  ? void 0
                  : t.find((t) => t.category_id == e),
              bLoadingNominationForCategory: !1,
            };
      }
      function h(e, t, n, c) {
        const m = (0, o.bY)(),
          d = (0, r.useQueryClient)();
        return (0, r.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return yield (function (e, t, n, r) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  const a = i.gA.Init(l.Fz);
                  a.Body().set_category_id(n),
                    a.Body().set_source(r),
                    a.Body().set_nominated_id(t);
                  const o = yield l.tQ.Nominate(e, a);
                  return (
                    o.BSuccess() ||
                      console.warn(`Failed to nominate app: ${o.GetEResult()}`),
                    [o.GetEResult(), o.Body().toObject()]
                  );
                });
              })(m, e, t, n);
            }),
          {
            onSuccess([e, t]) {
              1 == e
                ? (function (e, t) {
                    e.setQueryData(
                      `SteamAwardNominations_${s.L7.accountid}`,
                      t,
                    );
                  })(d, t.nominations)
                : c && c(e);
            },
            onError() {
              c && c();
            },
          },
        );
      }
    },
    58704: (e, t, n) => {
      "use strict";
      n.d(t, { v: () => u });
      var a = n(47427),
        i = n(85556),
        l = n(80751),
        r = n.n(l),
        o = n(42718),
        s = n(16649),
        c = n(65255);
      function m(e) {
        const { data: t, isLoading: n } = (0, o.useQuery)(
          ["PartnerInfoList", e],
          () =>
            (function (e) {
              var t, n;
              return (0, i.mG)(this, void 0, void 0, function* () {
                const a = { accountid: e, origin: self.origin },
                  i = yield r().get(
                    `${c.De.COMMUNITY_BASE_URL}actions/ajaxgetuserpartnerinfo`,
                    { params: a },
                  );
                if (
                  !i ||
                  200 != i.status ||
                  1 !=
                    (null === (t = i.data) || void 0 === t
                      ? void 0
                      : t.success) ||
                  !(null === (n = i.data) || void 0 === n ? void 0 : n.partners)
                )
                  throw `Load single user partner info failed ${(0, s.l)(i).strErrorMsg}`;
                return i.data.partners;
              });
            })(e),
        );
        return n ? null : t;
      }
      var d = n(1485);
      function u(e) {
        const {
            accountID: t,
            partnerID: n,
            fnSetPartnerID: i,
            strLabel: l,
            strTooltip: r,
          } = e,
          o = m(t),
          s = (0, a.useMemo)(
            () =>
              (null == o ? void 0 : o.length) > 0
                ? o.map((e) => ({ label: e.partner_name, data: e.partnerid }))
                : null,
            [o],
          );
        return null == s
          ? null
          : a.createElement(d.ry, {
              label: l,
              tooltip: r,
              rgOptions: s,
              selectedOption: n,
              onChange: (e) => i(e.data),
            });
      }
    },
    90604: (e, t, n) => {
      "use strict";
      n.d(t, { R: () => _e });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(27605),
        o = n(47427),
        s = n(83682),
        c = n(95315),
        m = n(89e3),
        d = n(35427),
        u = n(19399),
        p = n(62698),
        _ = n(60646),
        h = n(20417),
        g = n(33682),
        v = n(42287),
        E = n(54842),
        S = n(6791),
        D = n.n(S),
        f = n(13129);
      class y extends o.Component {
        constructor(e) {
          super(e),
            (this.m_rgCurrentMatches = []),
            (this.m_mapMatchByKey = new Map()),
            (this.m_hMobxSearchDisposer = (0, E.EH)(() =>
              (0, a.mG)(this, void 0, void 0, function* () {
                yield this.UpdateSearchResults(this.props.strSearch),
                  this.forceUpdate();
              }),
            )),
            (this.state = { selectedIndex: void 0 });
        }
        OnKeyDown(e) {
          this.BHandleKeyPress(e.keyCode) && e.preventDefault();
        }
        BHandleKeyPress(e) {
          switch (e) {
            case 38:
              this.SetSelectedIndexDelta(-1);
              break;
            case 40:
              this.SetSelectedIndexDelta(1);
              break;
            case 36:
              this.SetSelectedIndex(0);
              break;
            case 33:
              this.SetSelectedIndexDelta(-this.GetPageSize());
              break;
            case 35:
              this.SetSelectedIndex(-1);
              break;
            case 34:
              this.SetSelectedIndexDelta(this.GetPageSize());
              break;
            case 13:
            case 9:
              if (void 0 === this.state.selectedIndex)
                return (
                  this.props.onSuggestionSelected(this.props.strSearch), !1
                );
              this.ChooseSuggestion(
                this.m_rgCurrentMatches[this.state.selectedIndex],
              );
              break;
            case 27:
              this.props.onSuggestionSelected(this.props.strSearch);
              break;
            default:
              return !1;
          }
          return !0;
        }
        GetPageSize() {
          let e = v.findDOMNode(this),
            t = e && e.firstElementChild,
            n = this.m_rgCurrentMatches.length;
          if (
            (n > this.getMaxMatches() && (n = this.getMaxMatches()), t && n)
          ) {
            let e = t.scrollHeight / n,
              a = t.clientHeight / e;
            return Math.max(1, Math.floor(a));
          }
          return 5;
        }
        ChooseSuggestion(e) {
          this.props.onSuggestionSelected(
            this.props.strSearch,
            e ? this.getSelection(e) : void 0,
          );
        }
        SetSelectedIndexDelta(e) {
          void 0 !== this.state.selectedIndex
            ? this.SetSelectedIndex(this.state.selectedIndex + e)
            : this.SetSelectedIndex(1 === e ? 0 : e);
        }
        SetSelectedIndex(e) {
          if (!this.m_rgCurrentMatches.length) return;
          let t = this.m_rgCurrentMatches.length;
          t > this.getMaxMatches() && (t = this.getMaxMatches()),
            (e %= t) < 0 && (e += t),
            this.setState({ selectedIndex: e });
        }
        FindKeyIndex(e) {
          if (!this.m_mapMatchByKey.size && this.m_rgCurrentMatches.length)
            for (let e = 0; e < this.m_rgCurrentMatches.length; e++)
              this.m_mapMatchByKey.set(
                this.getKey(this.m_rgCurrentMatches[e]),
                e,
              );
          return this.m_mapMatchByKey.get(e);
        }
        OnClickSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.ChooseSuggestion(this.m_rgCurrentMatches[t]);
        }
        OnMouseOverSuggestion(e) {
          let t = this.FindKeyIndex(e);
          void 0 !== t && this.SetSelectedIndex(t);
        }
        BindSelectedElement(e) {
          let t = v.findDOMNode(this),
            n = v.findDOMNode(e),
            a = t && t.firstElementChild;
          n &&
            a &&
            (a.scrollTop + a.clientHeight < n.offsetTop ||
              n.offsetTop < a.scrollTop) &&
            n.scrollIntoView();
        }
        UpdateSearchResults(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            (this.m_rgCurrentMatches = yield this.performSearch(e)),
              (this.m_strLastSearch = e),
              this.m_mapMatchByKey.clear(),
              this.m_rgCurrentMatches.length
                ? this.state && void 0 !== this.state.selectedIndex
                  ? this.state.selectedIndex >=
                      this.m_rgCurrentMatches.length &&
                    this.setState({ selectedIndex: 0 })
                  : (void 0 ===
                      this.props.nMinimumSearchLengthBeforeAutoSelection ||
                      e.length >=
                        this.props.nMinimumSearchLengthBeforeAutoSelection) &&
                    this.setState({ selectedIndex: 0 })
                : this.state &&
                  void 0 !== this.state.selectedIndex &&
                  this.setState({ selectedIndex: void 0 });
          });
        }
        componentWillUnmount() {
          this.m_hMobxSearchDisposer &&
            (this.m_hMobxSearchDisposer(),
            (this.m_hMobxSearchDisposer = void 0));
        }
        componentDidUpdate(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            this.m_strLastSearch != this.props.strSearch &&
              (yield this.UpdateSearchResults(this.props.strSearch),
              this.forceUpdate());
          });
        }
        render() {
          let e = [];
          if (this.m_rgCurrentMatches.length) {
            let t = this.getMaxMatches();
            for (
              let n = 0;
              n < Math.min(t, this.m_rgCurrentMatches.length);
              n++
            ) {
              let t = this.m_rgCurrentMatches[n],
                a = this.getKey(t),
                i = n === this.state.selectedIndex;
              e.push(
                o.createElement(
                  b,
                  {
                    key: a,
                    matchKey: a,
                    fnOnClick: this.OnClickSuggestion,
                    fnOnMouseOver: this.OnMouseOverSuggestion,
                    bIsSelected: i,
                    ref: i ? this.BindSelectedElement : void 0,
                  },
                  this.renderMatch(t),
                ),
              );
            }
            this.m_rgCurrentMatches.length > t &&
              e.push(
                this.renderTooManyMatchesMessage(
                  this.m_rgCurrentMatches.length - t,
                ),
              );
          } else {
            let t = this.renderNoMatchMessage();
            if (!t) return null;
            e.push(t);
          }
          return o.createElement(
            "div",
            { className: D().mentionDialogPosition },
            o.createElement(
              "div",
              {
                className: D().mentionDialog,
                tabIndex: 0,
                onKeyDown: this.OnKeyDown,
              },
              this.renderHeader(),
              e,
            ),
          );
        }
      }
      (0, a.gn)([h.ak], y.prototype, "OnKeyDown", null),
        (0, a.gn)([h.ak], y.prototype, "OnClickSuggestion", null),
        (0, a.gn)([h.ak], y.prototype, "OnMouseOverSuggestion", null),
        (0, a.gn)([h.ak], y.prototype, "BindSelectedElement", null);
      class b extends o.PureComponent {
        OnMouseOver(e) {
          this.props.fnOnMouseOver(this.props.matchKey);
        }
        OnClick(e) {
          this.props.fnOnClick(this.props.matchKey);
        }
        render() {
          return o.createElement(
            "div",
            {
              className: (0, f.Z)(
                D().suggestOption,
                D().mentionSearchOption,
                this.props.bIsSelected ? D().selected : "",
              ),
              onMouseEnter: this.OnMouseOver,
              onClick: this.OnClick,
            },
            this.props.children,
          );
        }
      }
      (0, a.gn)([h.ak], b.prototype, "OnMouseOver", null),
        (0, a.gn)([h.ak], b.prototype, "OnClick", null);
      const I = y;
      var C = n(3216),
        k = n.n(C);
      const A = class extends I {
        performSearch(e) {
          return this.props.emoticonStore.SearchEmoticons(e, 10, !1);
        }
        getSelection(e) {
          return e.name;
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return o.createElement(
            "div",
            {
              className: (0, f.Z)(
                k().EmoticonSuggestion,
                e.recent ? "Recent" : "",
              ),
            },
            o.createElement(
              "div",
              { className: k().Emoticon },
              o.createElement(g.tk, {
                emoticon: e.name,
                emoticonHoverStore: this.props.emoticonHoverStore,
              }),
              e.new && o.createElement(g.D3, null),
            ),
            ":",
            e.name,
            ":",
          );
        }
        renderNoMatchMessage() {
          return null;
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      };
      var w = n(3593),
        P = n.n(w),
        T = n(31846);
      class N extends I {
        performSearch(e) {
          let t = Array();
          return (
            this.props.supportBBCodes.forEach((n) => {
              n.indexOf(e) >= 0 && t.push({ name: n });
            }),
            t
          );
        }
        getSelection(e) {
          return "[" + e.name + "][/" + e.name + "]";
        }
        getKey(e) {
          return e.name;
        }
        renderMatch(e) {
          return o.createElement(
            "div",
            { key: e.name, className: (0, f.Z)(P().BBCodeSuggestion) },
            o.createElement("div", { className: P().BBCode }, e.name),
            "[",
            e.name,
            "]...[/",
            e.name,
            "]",
          );
        }
        renderNoMatchMessage() {
          return o.createElement(
            "div",
            {
              key: "nomatches",
              className: (0, f.Z)(D().mentionSearchOption, D().noMatches),
            },
            (0, T.Xx)("#Bbcode_No_Match"),
          );
        }
        renderTooManyMatchesMessage(e) {
          return null;
        }
        renderHeader() {
          return null;
        }
        getMaxMatches() {
          return Number.MAX_VALUE;
        }
      }
      class R extends o.Component {
        constructor(e) {
          super(e),
            (this.descTextAreaRef = o.createRef()),
            (this.m_bDisabled = !0),
            (this.state = {
              mentionSearch: void 0,
              activeSuggestSearchType: void 0,
            });
        }
        BindMentionDialog(e) {
          this.m_MentionDialog = e;
        }
        OnKeyDown(e) {
          this.state.activeSuggestSearchType &&
          this.m_MentionDialog &&
          !e.shiftKey &&
          !e.ctrlKey &&
          this.m_MentionDialog.BHandleKeyPress(e.keyCode)
            ? e.preventDefault()
            : (8 != e.keyCode && 46 != e.keyCode) ||
              (this.m_iMentionSearchCancelledOffset = void 0);
        }
        FindMatchOpener(e, t, n) {
          for (let a = n - 1; a >= 0; a--) {
            if (t[a] == e) return a;
            if (" " == t[a] || "\n" == t[a]) break;
          }
        }
        ReplaceSuggestedText(e, t) {
          let n = this.descTextAreaRef.current.selectionStart,
            a = this.descTextAreaRef.current.value,
            i = this.FindMatchOpener(e, a, n);
          if (
            (void 0 === i && "@" == e && (i = this.FindMatchOpener("", a, n)),
            void 0 !== i)
          ) {
            let e = a.substr(0, i);
            (e += t), (n >= a.length || " " != a[n]) && (e += " ");
            let l = e.length;
            (e += a.substr(n)),
              (this.descTextAreaRef.current.value = e),
              (this.descTextAreaRef.current.selectionStart =
                this.descTextAreaRef.current.selectionEnd =
                  l),
              this.props.fnSetText(e),
              this.FocusTextInput();
          }
        }
        OnFocus(e) {
          this.UpdateAutoSearchState();
        }
        OnKeyPress(e) {
          this.UpdateAutoSearchState();
        }
        OnClick(e) {
          this.UpdateAutoSearchState();
        }
        ClearMentionSearchState() {
          (this.m_iMentionSearchStartOffset = void 0),
            this.state.activeSuggestSearchType &&
              this.setState({
                activeSuggestSearchType: void 0,
                mentionSearch: void 0,
              });
        }
        OnEmoticonSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText(":", ":" + t + ":"),
            this.ClearMentionSearchState();
        }
        OnBBCodeSuggestionSelected(e, t) {
          if (!t)
            return (
              (this.m_iMentionSearchCancelledOffset =
                this.m_iMentionSearchStartOffset),
              void this.ClearMentionSearchState()
            );
          this.ReplaceSuggestedText("[", t), this.ClearMentionSearchState();
        }
        FocusTextInput() {
          this.descTextAreaRef.current && this.descTextAreaRef.current.focus();
        }
        UpdateAutoSearchState() {
          let e = this.descTextAreaRef.current;
          if (!e || this.m_bDisabled) return;
          if (e.selectionStart != e.selectionEnd || !e.selectionStart)
            return void this.ClearMentionSearchState();
          let t,
            n,
            a = e.selectionStart,
            i = e.value;
          for (let e = a - 1; e >= 0; e--) {
            let a = e > 0 ? i[e - 1] : void 0;
            if (this.props.emoticonStore && ":" == i[e] && i.length > 2) {
              (a && " " != a && "\n" != a && ":" != a) ||
                ((t = e), (n = "Emoticon"));
              break;
            }
            if ("[" == i[e] && (e + 1 > i.length || "/" != i[e + 1])) {
              (a && " " != a && "\n" != a && "]" != a) ||
                ((t = e), (n = "BBCode"));
              break;
            }
            if (" " == i[e] || "\n" == i[e]) break;
          }
          if (void 0 === t || t === this.m_iMentionSearchCancelledOffset)
            return void this.ClearMentionSearchState();
          let l = i.substr(t + 1, a - t - 1);
          (this.m_iMentionSearchStartOffset = t),
            this.setState({ activeSuggestSearchType: n, mentionSearch: l });
        }
        GetTextAreaRef() {
          return this.descTextAreaRef;
        }
        GetTextAreaCurrent() {
          return this.descTextAreaRef.current;
        }
        render() {
          let e,
            t = this.props,
            { emoticonStore: n, supportBBCodes: i, fnSetText: l } = t,
            r = (0, a._T)(t, ["emoticonStore", "supportBBCodes", "fnSetText"]);
          switch (this.state.activeSuggestSearchType) {
            case "Emoticon":
              e = o.createElement(A, {
                emoticonStore: n,
                emoticonHoverStore: _.$,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnEmoticonSuggestionSelected,
                ref: this.BindMentionDialog,
              });
              break;
            case "BBCode":
              e = o.createElement(N, {
                supportBBCodes: i,
                strSearch: this.state.mentionSearch,
                nMinimumSearchLengthBeforeAutoSelection: 2,
                onSuggestionSelected: this.OnBBCodeSuggestionSelected,
                ref: this.BindMentionDialog,
              });
          }
          return o.createElement(
            o.Fragment,
            null,
            e,
            o.createElement(
              "textarea",
              Object.assign({}, r, {
                ref: this.descTextAreaRef,
                onKeyDown: this.OnKeyDown,
                onKeyUp: this.OnKeyPress,
                onFocus: this.OnFocus,
                onClick: this.OnClick,
              }),
            ),
          );
        }
      }
      (0, a.gn)([h.ak], R.prototype, "BindMentionDialog", null),
        (0, a.gn)([h.ak], R.prototype, "OnKeyDown", null),
        (0, a.gn)([h.ak], R.prototype, "OnFocus", null),
        (0, a.gn)([h.ak], R.prototype, "OnKeyPress", null),
        (0, a.gn)([h.ak], R.prototype, "OnClick", null),
        (0, a.gn)([h.ak], R.prototype, "OnEmoticonSuggestionSelected", null),
        (0, a.gn)([h.ak], R.prototype, "OnBBCodeSuggestionSelected", null),
        (0, a.gn)([h.ak], R.prototype, "FocusTextInput", null),
        (0, a.gn)([h.ak], R.prototype, "GetTextAreaRef", null),
        (0, a.gn)([h.ak], R.prototype, "GetTextAreaCurrent", null);
      var G = n(1485),
        L = n(63109),
        B = n(71741),
        x = n.n(B),
        M = n(77178),
        O = n(90069),
        F = n(14846),
        U = n.n(F),
        H = n(50423),
        V = n(37563);
      var X = n(88619),
        j = n(51915),
        q = n(22042),
        W = n(58798),
        z = n(46882),
        Z = n(59728),
        K = n(31819),
        Q = n.n(K),
        Y = n(30750),
        J = n(62210),
        $ = n(9075),
        ee = n(10162),
        te = n(28913);
      const ne = (e) => {
          const { clanSteamID: t, fnImageSelectCallBack: n } = e,
            [a, i] = (0, o.useState)(""),
            l = (0, p.Fm)(e.clanSteamID.GetAccountID()),
            r = () => e.closeModal && e.closeModal(),
            s = p.U8.GetFilteredClanImages(t, a),
            c = (e) => {
              n(e), r();
            };
          return o.createElement(
            ee.SV,
            null,
            o.createElement(
              M.e1,
              { onEscKeypress: r },
              o.createElement(
                G.VY,
                null,
                o.createElement(
                  G.h4,
                  null,
                  (0, T.Xx)("#ClanImageChooser_Title"),
                ),
                o.createElement(
                  G.uT,
                  null,
                  o.createElement(
                    G.Ac,
                    null,
                    o.createElement(
                      "p",
                      null,
                      (0, T.Xx)("#ClanImageChooser_Desc"),
                    ),
                    o.createElement(G.II, {
                      placeholder: (0, T.Xx)("#ClanImageChooser_Search"),
                      value: a,
                      onChange: (e) => i(e.currentTarget.value),
                    }),
                    o.createElement(
                      "div",
                      { className: te.ImagesOuterContainer },
                      l
                        ? o.createElement(z.V, {
                            size: "medium",
                            string: (0, T.Xx)("#Loading"),
                          })
                        : Boolean(s.length > 0)
                          ? s.map((e) =>
                              o.createElement(ae, {
                                key: "ci" + e.image_hash,
                                clanImage: e,
                                searchStringHilight: a,
                                fnImageClick: c,
                              }),
                            )
                          : Boolean(0 == a.trim().length)
                            ? o.createElement(
                                "div",
                                null,
                                (0, T.Xx)("#ClanImageChooser_None"),
                              )
                            : o.createElement(
                                "div",
                                null,
                                (0, T.Xx)(
                                  "#EventCalendar_GameSearch_NoneFound",
                                ),
                              ),
                    ),
                  ),
                ),
                o.createElement(
                  G.$_,
                  null,
                  o.createElement(
                    G.zx,
                    { onClick: r },
                    (0, T.Xx)("#Button_Cancel"),
                  ),
                ),
              ),
            ),
          );
        },
        ae = (e) => {
          const { clanImage: t, searchStringHilight: n, fnImageClick: a } = e;
          let i = t.file_name ? t.file_name : "",
            l = (function (e, t, n, a) {
              let i = [];
              if (e.length > 0) {
                let l = t.toLocaleLowerCase();
                for (let r = 0; r < t.length; ) {
                  let s = l.indexOf(e, r);
                  if (s < 0) {
                    i.push(
                      o.createElement(
                        "span",
                        { key: n + "_" + String(r) },
                        t.substring(r),
                      ),
                    );
                    break;
                  }
                  r < s &&
                    i.push(
                      o.createElement(
                        "span",
                        { key: n + "_" + String(r) },
                        t.substring(r, s),
                      ),
                    ),
                    i.push(
                      o.createElement(
                        "span",
                        { key: n + "_" + String(r), className: a },
                        t.substr(s, e.length),
                      ),
                    ),
                    (r = s + e.length);
                }
              } else i.push(o.createElement("span", { key: n + "_null" }, t));
              return i;
            })(n, i, String(t.imageid), te.Hilight);
          return o.createElement(
            "div",
            { className: te.ImageContainer },
            o.createElement("div", {
              className: te.Image,
              style: { backgroundImage: `url( '${t.thumb_url}' )` },
              onDoubleClick: () => a(t),
            }),
            o.createElement(
              "div",
              { className: te.ImageFilename, title: i },
              l,
            ),
          );
        };
      var ie = n(54798),
        le = n(37593),
        re = n(65650),
        oe = n(38071);
      const se = (0, r.Pi)((e) => {
        const {
            clanSteamID: t,
            inputClanImage: n,
            nWidth: i,
            nHeight: l,
            setImage: r,
          } = e,
          s = o.useMemo(() => ["sale_header"], []),
          c = o.useMemo(() => ({ width: i, height: l }), [i, l]),
          [m, _] = o.useState(void 0),
          [h, g] = o.useState(Boolean(n)),
          [v, E] = o.useState(void 0),
          [S, D] = o.useState(!1),
          [f] = (0, Y.SZ)(() => [re.U.Get().GetCurEditLanguage()]),
          y = o.useCallback(
            (e, t) =>
              (0, a.mG)(void 0, void 0, void 0, function* () {
                if (
                  (e.ClearImages(),
                  t && (g(!0), yield e.AddExistingClanImage(t, 0, s)))
                ) {
                  _(t);
                  const a = e.GetUploadImages()[0].IsValidAssetType(s, c);
                  0 != a.error.length ||
                    a.needsCrop ||
                    (n && n.image_hash == t.image_hash) ||
                    r(t);
                }
                g(!1);
              }),
            [n, r, s, c],
          );
        o.useEffect(() => {
          (v &&
            v.GetClanSteamID().ConvertTo64BitString() ==
              t.ConvertTo64BitString()) ||
            E(new le.S(t));
        }, [v, t]),
          o.useEffect(() => {
            y(v, n);
          }, [y, v, n]);
        let b,
          I = "",
          C = !1;
        if (v && v.GetFilesToUpload().length > 0) {
          b = v.GetUploadImages()[0];
          const e = b.IsValidAssetType(s, c);
          (I = e.error), (C = e.needsCrop);
        }
        return o.createElement(
          o.Fragment,
          null,
          h
            ? o.createElement(z.V, {
                size: "medium",
                string: (0, T.Xx)("#Loading"),
              })
            : Boolean(m) &&
                o.createElement("div", {
                  className: ie.Image,
                  style: {
                    backgroundImage: `url( '${b ? b.dataUrl : m.url}' )`,
                    height: `${l}px`,
                    width: `${i}px`,
                  },
                }),
          Boolean(I) && o.createElement("p", null, I),
          C &&
            o.createElement(
              G.zx,
              {
                onClick: (e) => {
                  const t = (0, H.RA)(e);
                  let n = v.GetUploadImages()[0];
                  (0, O.AM)(
                    o.createElement($.e, {
                      ownerWin: t,
                      uploadFile: n,
                      forceResolution: { width: i, height: l },
                      fileType: 3,
                    }),
                    t,
                  );
                },
              },
              (0, T.Xx)("#BBCode_ResizeImage"),
            ),
          Boolean(b && b.bCropped) &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "div",
                null,
                (0, T.Xx)("#ClanImagePickAndResize_UploadStatus", b.status),
              ),
              S
                ? o.createElement(z.V, {
                    string: (0, T.Xx)("#Uploading"),
                    size: "small",
                  })
                : o.createElement(
                    G.zx,
                    {
                      onClick: () =>
                        (0, a.mG)(void 0, void 0, void 0, function* () {
                          D(!0);
                          try {
                            const e = yield v.UploadAllImages(
                                [oe.IN.k_ESteamRealmGlobal],
                                f,
                                s,
                                c,
                              ),
                              n = Object.values(e);
                            if (
                              n &&
                              n.length > 0 &&
                              ((0, J.X)(
                                1 == n.length,
                                "ClanImagePickForCertainSize expected size 1, got " +
                                  n.length,
                              ),
                              1 == n[0].success)
                            ) {
                              const e = n[0],
                                a = (0, u.OL)() + t.GetAccountID() + "/",
                                i = p.aN.GetExtensionStringForFileType(
                                  e.file_type,
                                ),
                                l = a + e.image_hash + i,
                                o = a + e.thumbnail_hash + i,
                                s = {
                                  imageid: -11231412,
                                  image_hash: e.image_hash,
                                  thumbnail_hash: e.thumbnail_hash,
                                  file_type: e.file_type,
                                  file_name: e.file_name,
                                  clanAccountID: t.GetAccountID(),
                                  url: l,
                                  thumb_url: o,
                                  uploaded_time: Date.now() / 1e3,
                                  loc_languages: void 0,
                                  is_loc_group: !1,
                                };
                              _(s), r(s);
                            }
                          } finally {
                            D(!1);
                          }
                        }),
                    },
                    (0, T.Xx)("#ClanImagePickAndResize_UploadImage"),
                  ),
            ),
          o.createElement(
            G.zx,
            {
              onClick: (e) => {
                const t = new d.K(V.JA.CLANSTEAMID);
                (0, O.AM)(
                  o.createElement(ne, {
                    clanSteamID: t,
                    fnImageSelectCallBack: (e) => y(v, e),
                  }),
                  (0, H.RA)(e),
                );
              },
            },
            (0, T.Xx)("#BBCode_ChooseImage", i, l),
          ),
        );
      });
      var ce,
        me = n(16649);
      let de = (ce = class extends o.Component {
        constructor(e) {
          super(e),
            (this.m_cancelSignal = l().CancelToken.source()),
            (this.state = {
              formattingHelp: {
                __html: ce.s_formattingHelp.has(e.formatType)
                  ? ce.s_formattingHelp.get(e.formatType)
                  : "",
              },
            });
        }
        componentDidMount() {
          this.AjaxGetFormattingHelp().catch((e) => {
            this.setState((0, me.l)(e));
          });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel(
            "FormattingHelpWidget component unmounted",
          );
        }
        static GetHelpURL(e, t) {
          return (
            V.De.COMMUNITY_BASE_URL +
            "comment/" +
            e +
            "/formattinghelp" +
            (t ? "?ajax=1" : "")
          );
        }
        AjaxGetFormattingHelp() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if ("" == this.state.formattingHelp.__html) {
              let e,
                t = { sessionid: V.De.SESSIONID };
              (e = yield l().get(ce.GetHelpURL(this.props.formatType, !0), {
                params: t,
                cancelToken: this.m_cancelSignal.token,
              })),
                ce.s_formattingHelp.set(this.props.formatType, e.data),
                this.setState({ formattingHelp: { __html: e.data } });
            }
          });
        }
        render() {
          return this.state.strErrorMsg
            ? o.createElement(
                "div",
                null,
                this.state.strErrorMsg,
                o.createElement("br", null),
                this.state.errorCode,
              )
            : "" == this.state.formattingHelp.__html
              ? o.createElement(z.V, null)
              : o.createElement(
                  M.uH,
                  {
                    strTitle: (0, T.Xx)(
                      "#EventEditor_FormattingHelp_GetHelpLink",
                    ),
                    strDescription: "",
                    closeModal: this.props.closeModal,
                    onOK: this.props.closeModal,
                    onCancel: this.props.closeModal,
                    bAlertDialog: !0,
                    className: "ModernBBStyles",
                  },
                  o.createElement("div", {
                    dangerouslySetInnerHTML: this.state.formattingHelp,
                  }),
                );
        }
      });
      (de.s_formattingHelp = new Map()), (de = ce = (0, a.gn)([r.Pi], de));
      var ue,
        pe = n(77115);
      let _e = class extends o.Component {
        constructor(e) {
          super(e),
            (this.descAutoTextAreaRef = o.createRef()),
            (this.state = { bShowDragTarget: !1 });
        }
        componentDidMount() {
          p.U8.AddClanImageDragListener(this.ClanImageDragListener);
        }
        componentWillUnmount() {
          p.U8.RemoveClanImageDragListener(this.ClanImageDragListener);
        }
        ClanImageDragListener(e, t) {
          this.state.bShowDragTarget != t &&
            this.setState({ bShowDragTarget: t });
        }
        onFocus(e) {
          e && e.target.select();
        }
        InsertText(e) {
          he.replaceSelection(this.GetTextAreaRef().current, e);
        }
        OnTextAreaDropListener(e) {
          if (
            (e.preventDefault(),
            e.stopPropagation(),
            e.dataTransfer.items && e.dataTransfer.items[0])
          ) {
            let t = e.dataTransfer.getData("text");
            if (t && t.length > 0) {
              let e = (0, u.OL)();
              if (t.startsWith(e)) {
                let n = "[img]" + pe.A + "/" + t.substr(e.length) + "[/img]";
                he.replaceSelection(this.GetTextAreaRef().current, n);
              }
            }
          }
        }
        GetTextAreaRef() {
          return this.descAutoTextAreaRef && this.descAutoTextAreaRef.current
            ? this.descAutoTextAreaRef.current.GetTextAreaRef()
            : void 0;
        }
        render() {
          return o.createElement(
            o.Fragment,
            null,
            o.createElement(ge, {
              pathToImages:
                V.De.COMMUNITY_CDN_URL + "public/images/sharedfiles/guides/",
              fnTextareaRef: this.GetTextAreaRef,
              emoticonStore: this.props.emoticonStore,
              supportBBCodes: this.props.limitBBCode
                ? this.props.limitBBCode
                : s.yp,
              bSupportHTMLImport: this.props.bSupportHTMLImport,
              showFormatHelp: this.props.showFormatHelp,
              bEmbeddedInDialog: this.props.bEmbeddedInDialog,
              clanSteamID: this.props.clanSteamID,
            }),
            o.createElement(
              "div",
              {
                className: (0, f.Z)(
                  Q().DescriptionCtn,
                  Q().BBCodeEditorInputStyles,
                  this.state.bShowDragTarget ? Q().DragTarget : "",
                ),
              },
              o.createElement(R, {
                cols: 90,
                rows: this.props.nOverridesRows || 22,
                maxLength: 32e3,
                className: (0, f.Z)(
                  Q().DefaultEditor,
                  this.props.classNameForTextArea
                    ? this.props.classNameForTextArea
                    : "",
                ),
                placeholder: this.props.strPlaceholder,
                ref: this.descAutoTextAreaRef,
                value: this.props.fnGetCurText(),
                onChange: this.props.fnOnTextChange,
                onDrop: this.OnTextAreaDropListener,
                emoticonStore: this.props.emoticonStore,
                fnSetText: this.props.fnSetText,
                supportBBCodes: this.props.limitBBCode
                  ? this.props.limitBBCode
                  : s.yp,
              }),
            ),
          );
        }
      };
      (0, a.gn)([h.ak], _e.prototype, "ClanImageDragListener", null),
        (0, a.gn)([h.ak], _e.prototype, "onFocus", null),
        (0, a.gn)([h.ak], _e.prototype, "OnTextAreaDropListener", null),
        (0, a.gn)([h.ak], _e.prototype, "GetTextAreaRef", null),
        (_e = (0, a.gn)([r.Pi], _e));
      class he {
        static BIsFireFox() {
          return Boolean(
            new RegExp(/Firefox\/([0-9\.]+)(?:\s|$)/i).exec(
              navigator.userAgent,
            ),
          );
        }
        static replaceSelection(e, t) {
          let n = e.selectionStart;
          e.focus(),
            he.InsertTextAtSelect(t, e),
            e.setSelectionRange(n, n + t.length);
        }
        static getSelectedString(e) {
          return e.value.substr(
            e.selectionStart,
            e.selectionEnd - e.selectionStart,
          );
        }
        static wrapBBCode(e, t, n) {
          let a = he.getSelectedString(n),
            i = "";
          (i =
            0 == a.indexOf(e) && a.lastIndexOf(t) == a.length - t.length
              ? a.substr(e.length, a.length - e.length - t.length)
              : e + a + t),
            he.replaceSelection(n, i);
        }
        static append(e, t) {
          t &&
            (t.focus(),
            t.setSelectionRange(t.value.length, t.value.length),
            he.InsertTextAtSelect(e, t));
        }
        static overwrite(e, t) {
          t &&
            (t.focus(),
            document.execCommand("selectAll", !1, e),
            he.BIsFireFox()
              ? (t.value = "")
              : document.execCommand("delete", !1),
            he.InsertTextAtSelect(e, t));
        }
        static InsertTextAtSelect(e, t) {
          he.BIsFireFox() && t.setRangeText
            ? t.setRangeText(e)
            : document.execCommand("insertText", !1, e);
        }
      }
      let ge = class extends o.Component {
        constructor() {
          super(...arguments), (this.m_linkPopupRef = o.createRef());
        }
        onBold() {
          he.wrapBBCode("[b]", "[/b]", this.props.fnTextareaRef().current);
        }
        onItalics() {
          he.wrapBBCode("[i]", "[/i]", this.props.fnTextareaRef().current);
        }
        onUnderline() {
          he.wrapBBCode("[u]", "[/u]", this.props.fnTextareaRef().current);
        }
        onStrikeThrough() {
          he.wrapBBCode(
            "[strike]",
            "[/strike]",
            this.props.fnTextareaRef().current,
          );
        }
        onHeader() {
          he.wrapBBCode("[h1]", "[/h1]", this.props.fnTextareaRef().current);
        }
        onHeader2() {
          he.wrapBBCode("[h2]", "[/h2]", this.props.fnTextareaRef().current);
        }
        onHeader3() {
          he.wrapBBCode("[h3]", "[/h3]", this.props.fnTextareaRef().current);
        }
        onUnorderedList() {
          this.handleList("list");
        }
        onOrderedList() {
          this.handleList("olist");
        }
        handleList(e) {
          let t = this.props.fnTextareaRef().current,
            n = "[" + e + "]\n",
            a = "[/" + e + "]";
          if (t.selectionStart == t.selectionEnd)
            he.wrapBBCode(n + "[*]", "\n" + a, t);
          else {
            let e =
              n +
              he
                .getSelectedString(t)
                .split("\n")
                .map((e) => (e.match(/\*+\s/) ? "[*]" : "[*] ") + e)
                .join("\n") +
              "\n" +
              a;
            he.replaceSelection(t, e);
          }
        }
        OnAddLink(e) {
          (0, O.BR)(
            o.createElement(Se, { textareaRef: this.props.fnTextareaRef() }),
            (0, H.RA)(e),
          );
        }
        ShowHelpDialog(e) {
          this.props.showFormatHelp &&
            (0, O.BR)(
              o.createElement(de, { formatType: this.props.showFormatHelp }),
              (0, H.RA)(e),
            );
        }
        OnConvertHTMLToBBCodeDialog(e) {
          const t = (0, H.RA)(e);
          (0, O.BR)(
            o.createElement(Ie, {
              ownerWindow: t,
              textareaRef: this.props.fnTextareaRef(),
            }),
            t,
          );
        }
        OnOpenYoutubeDialog(e) {
          let t = V.De.IMG_URL + "applications/community/";
          (0, O.BR)(
            o.createElement(Ee, {
              textareaRef: this.props.fnTextareaRef(),
              pathToImages: t,
            }),
            (0, H.RA)(e),
          );
        }
        OnOpenImageDialog(e) {
          (0, O.BR)(
            o.createElement(De, { textareaRef: this.props.fnTextareaRef() }),
            (0, H.RA)(e),
          );
        }
        OnOpenSpeakerDialog(e) {
          (0, O.AM)(
            o.createElement(fe, {
              clanSteamID: this.props.clanSteamID,
              textareaRef: this.props.fnTextareaRef(),
            }),
            (0, H.RA)(e),
          );
        }
        OnEmoticonSelected(e, t = !1) {
          let n = `${e}`;
          he.replaceSelection(this.props.fnTextareaRef().current, n),
            this.props.fnTextareaRef().current.focus();
        }
        BSupports(e) {
          return this.props.supportBBCodes.findIndex((t) => t == e) >= 0;
        }
        render() {
          const {
            showFormatHelp: e,
            bEmbeddedInDialog: t,
            bSupportHTMLImport: n,
            pathToImages: a,
          } = this.props;
          let i;
          return (
            e &&
              (i = t
                ? o.createElement(
                    "span",
                    {
                      className: (0, f.Z)("ttip", Q().ActionGetHelp),
                      "data-tooltip-text": (0, T.Xx)(
                        "#EventEditor_FormattingHelp_GetHelpLink",
                      ),
                    },
                    o.createElement(
                      "a",
                      {
                        href: de.GetHelpURL(this.props.showFormatHelp, !1),
                        target: V.De.IN_CLIENT ? void 0 : "_blank",
                      },
                      o.createElement("img", { src: a + "/action_help.png" }),
                      " ",
                      (0, T.Xx)("#EventEditor_FormattingHelp_GetHelpLink"),
                    ),
                  )
                : o.createElement(
                    "span",
                    {
                      onClick: this.ShowHelpDialog,
                      className: (0, f.Z)("ttip", Q().ActionGetHelp),
                      "data-tooltip-text": (0, T.Xx)(
                        "#EventEditor_FormattingHelp_GetHelpLink",
                      ),
                    },
                    o.createElement("img", { src: a + "/action_help.png" }),
                    " ",
                    (0, T.Xx)("#EventEditor_FormattingHelp_GetHelpLink"),
                  )),
            o.createElement(
              "div",
              { className: Q().TextEditorToolBarContainer },
              this.BSupports("b") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onBold,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Bold"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_bold.png",
                  }),
                ),
              this.BSupports("u") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onUnderline,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Underline"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_underline.png",
                  }),
                ),
              this.BSupports("i") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onItalics,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Italics"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_italic.png",
                  }),
                ),
              this.BSupports("strike") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onStrikeThrough,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_StrikeThrough"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_strike.png",
                  }),
                ),
              Boolean(this.BSupports("url") && !t) &&
                o.createElement(
                  "span",
                  {
                    onClick: this.OnAddLink,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Link"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_link.png",
                  }),
                ),
              this.BSupports("list") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onUnorderedList,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Unordered"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_bullet.png",
                  }),
                ),
              this.BSupports("olist") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onOrderedList,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Ordered"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_numbered.png",
                  }),
                ),
              this.BSupports("h1") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onHeader,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Header"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_header1.png",
                  }),
                ),
              this.BSupports("h2") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onHeader2,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Header2"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_header2.png",
                  }),
                ),
              this.BSupports("h3") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.onHeader3,
                    className: "ttip",
                    "data-tooltip-text": (0, T.Xx)("#Editor_Header3"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/format_header3.png",
                  }),
                ),
              this.BSupports("previewyoutube") &&
                o.createElement(
                  "span",
                  {
                    onClick: this.OnOpenYoutubeDialog,
                    "data-tooltip-text": (0, T.Xx)(
                      "#EventEditor_InsertYouTube",
                    ),
                  },
                  o.createElement("img", {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNjlFOEM1MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNjlFOEM2MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI2OUU4QzMyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI2OUU4QzQyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4IrEPeAAABJ0lEQVR42mL8//8/AzmABUScEOZJI1HfLBaoppmk2sh4Ql/r/69HD0jSxCanwMD07eVzhl9ADgz/ZmJikMjOY2CUlEIRR8YgPYzbBLhQQoeJl4/B7uY9hv9//jC8XLWc4UFfD8OPZ08xbGX6CSSQ8XdgKH/79o3h+69fDHwBwQy6ew8ySOYXMfxiZERRx/ILPTqA/K9fv8K5f4EG3Pn5i+EfSB2SWpaf6G6A2vgP6NSrWzYz3J8zk0Hk9SsGVka0ePzLxs7w9ydC+3+gpn29PQzv9uxiEHz7mkEY6ESQPb+QHMbMwcHAwiotw/Dj3h2E6L+/DIyrljKIgCMLGMoMmCmLQ0qagdnh66fn/xgYfP+B9BCJv79/lw5KcrPISKqzGMlN5AABBgBSmY83jVsiQAAAAABJRU5ErkJggg==",
                  }),
                ),
              o.createElement(
                "span",
                {
                  className: "ttip",
                  "data-tooltip-text": (0, T.Xx)("#Editor_Emoticon"),
                },
                this.props.emoticonStore &&
                  o.createElement(L.Z, {
                    title: " ",
                    className: (0, f.Z)(Q().EmoteOuter),
                    disabled: !1,
                    OnEmoticonSelected: this.OnEmoticonSelected,
                    rtLastAckedNewEmoticons: Number.MAX_VALUE,
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: _.$,
                    useImg: this.props.pathToImages + "/format_emote.png",
                    contextOptions: {
                      bOverlapHorizontal: !0,
                      bDisablePopTop: !0,
                    },
                  }),
              ),
              Boolean(this.BSupports("img") && !t) &&
                o.createElement(
                  "span",
                  {
                    onClick: this.OnOpenImageDialog,
                    "data-tooltip-text": (0, T.Xx)("#EventEditor_InsertImage"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/insert_img.png",
                  }),
                ),
              Boolean(
                V.L7.is_support &&
                  this.props.clanSteamID &&
                  this.BSupports("speaker"),
              ) &&
                o.createElement(
                  "span",
                  {
                    onClick: this.OnOpenSpeakerDialog,
                    "data-tooltip-text": (0, T.Xx)("#EventEditor_AddSpeaker"),
                  },
                  o.createElement("img", {
                    src: this.props.pathToImages + "/insert_img.png",
                  }),
                ),
              Boolean(n && !t) &&
                o.createElement(
                  "span",
                  {
                    onClick: this.OnConvertHTMLToBBCodeDialog,
                    className: Q().ActionImportHTML,
                    "data-tooltip-text": (0, T.Xx)(
                      "#EventEditor_ImportFromHTML_ttip",
                    ),
                  },
                  (0, T.Xx)("#EventEditor_ImportHTML"),
                ),
              i,
            )
          );
        }
      };
      var ve;
      (0, a.gn)([h.ak], ge.prototype, "onBold", null),
        (0, a.gn)([h.ak], ge.prototype, "onItalics", null),
        (0, a.gn)([h.ak], ge.prototype, "onUnderline", null),
        (0, a.gn)([h.ak], ge.prototype, "onStrikeThrough", null),
        (0, a.gn)([h.ak], ge.prototype, "onHeader", null),
        (0, a.gn)([h.ak], ge.prototype, "onHeader2", null),
        (0, a.gn)([h.ak], ge.prototype, "onHeader3", null),
        (0, a.gn)([h.ak], ge.prototype, "onUnorderedList", null),
        (0, a.gn)([h.ak], ge.prototype, "onOrderedList", null),
        (0, a.gn)([h.ak], ge.prototype, "OnAddLink", null),
        (0, a.gn)([h.ak], ge.prototype, "ShowHelpDialog", null),
        (0, a.gn)([h.ak], ge.prototype, "OnConvertHTMLToBBCodeDialog", null),
        (0, a.gn)([h.ak], ge.prototype, "OnOpenYoutubeDialog", null),
        (0, a.gn)([h.ak], ge.prototype, "OnOpenImageDialog", null),
        (0, a.gn)([h.ak], ge.prototype, "OnOpenSpeakerDialog", null),
        (0, a.gn)([h.ak], ge.prototype, "OnEmoticonSelected", null),
        (ge = (0, a.gn)([r.Pi], ge)),
        (function (e) {
          (e.left = "leftthumb"),
            (e.right = "rightthumb"),
            (e.full = "full"),
            (e.summary = "summary");
        })(ve || (ve = {}));
      let Ee = class extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = { youtubeInput: "", alignment: ve.left });
        }
        OnYoutubeInsertLink() {
          const e =
            this.state.youtubeInput && (0, m.S6)(this.state.youtubeInput);
          if (e) {
            if (this.state.alignment == ve.summary) {
              const t =
                "https://www.youtube.com/watch?v=" +
                e.strVideoID +
                (e.nStartSeconds ? "&t=" + e.nStartSeconds : "");
              he.wrapBBCode(t, "", this.props.textareaRef.current);
            } else {
              let t =
                "[previewyoutube=" +
                e.strVideoID +
                ";" +
                this.state.alignment +
                "]";
              he.wrapBBCode(
                t,
                "[/previewyoutube]",
                this.props.textareaRef.current,
              );
            }
            this.setState({ youtubeInput: "", alignment: ve.left });
          } else alert((0, T.Xx)("#EventEditor_InsertYouTube_NoURL"));
        }
        OnUrlChange(e) {
          this.state.youtubeInput != e.target.value &&
            this.setState({ youtubeInput: e.target.value });
        }
        OnLeftSelected() {
          this.setState({ alignment: ve.left });
        }
        OnRightSelected() {
          this.setState({ alignment: ve.right });
        }
        OnFullSelected() {
          this.setState({ alignment: ve.full });
        }
        OnSummarySelected() {
          this.setState({ alignment: ve.summary });
        }
        OnOuterDivClickPassDown(e) {}
        render() {
          return o.createElement(
            M.uH,
            {
              strTitle: (0, T.Xx)("#EventEditor_InsertYouTube"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnYoutubeInsertLink,
              strOKButtonText: (0, T.Xx)("#EventEditor_InsertYouTube"),
              className: Q().BBCodeEditorInputStyles,
            },
            o.createElement(
              "div",
              { className: Q().YouTubeInput },
              o.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                o.createElement(
                  "label",
                  null,
                  o.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_InsertYouTube_URL"),
                  ),
                  o.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    o.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      ref: (e) => e && e.focus(),
                      type: "text",
                      value: this.state.youtubeInput,
                      onChange: this.OnUrlChange,
                      placeholder: (0, T.Xx)(
                        "#EventEditor_InsertYouTube_Placholder",
                      ),
                    }),
                  ),
                ),
              ),
              o.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                o.createElement(
                  "div",
                  { className: "DialogLabel" },
                  (0, T.Xx)("#EventEditor_InsertYouTube_Position"),
                ),
                o.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  o.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ve.left,
                    value: ve.left,
                    checked: this.state.alignment == ve.left,
                    onChange: this.OnLeftSelected,
                  }),
                  o.createElement(
                    "label",
                    { htmlFor: ve.left },
                    o.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Left"),
                    ),
                  ),
                ),
                o.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  o.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ve.right,
                    value: ve.right,
                    checked: this.state.alignment == ve.right,
                    onChange: this.OnRightSelected,
                  }),
                  o.createElement(
                    "label",
                    { htmlFor: ve.right },
                    o.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Right"),
                    ),
                  ),
                ),
                o.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  o.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ve.full,
                    value: ve.full,
                    checked: this.state.alignment == ve.full,
                    onChange: this.OnFullSelected,
                  }),
                  o.createElement(
                    "label",
                    { htmlFor: ve.full },
                    o.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Full"),
                    ),
                  ),
                ),
                o.createElement(
                  "div",
                  {
                    className: Q().YouTubePreviewInsertOption,
                    onClick: this.OnOuterDivClickPassDown,
                  },
                  o.createElement("input", {
                    type: "radio",
                    name: "YouTubePreviewInsertType",
                    id: ve.summary,
                    value: ve.summary,
                    checked: this.state.alignment == ve.summary,
                    onChange: this.OnSummarySelected,
                  }),
                  o.createElement(
                    "label",
                    { htmlFor: ve.summary },
                    o.createElement(
                      "span",
                      null,
                      (0, T.Xx)("#EventEditor_InsertYouTube_Summary"),
                    ),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, a.gn)([h.ak], Ee.prototype, "OnYoutubeInsertLink", null),
        (0, a.gn)([h.ak], Ee.prototype, "OnUrlChange", null),
        (0, a.gn)([h.ak], Ee.prototype, "OnLeftSelected", null),
        (0, a.gn)([h.ak], Ee.prototype, "OnRightSelected", null),
        (0, a.gn)([h.ak], Ee.prototype, "OnFullSelected", null),
        (0, a.gn)([h.ak], Ee.prototype, "OnSummarySelected", null),
        (0, a.gn)([h.ak], Ee.prototype, "OnOuterDivClickPassDown", null),
        (Ee = (0, a.gn)([r.Pi], Ee));
      let Se = (ue = class extends o.Component {
        constructor() {
          super(...arguments), (this.state = { textToDisplay: "", strURL: "" });
        }
        LoadFromTextArea() {
          const { textareaRef: e } = this.props;
          if (e && e.current) {
            let t = he.getSelectedString(e.current),
              n = ue.m_regExp.exec(t);
            n
              ? this.setState({ strURL: n[1], textToDisplay: n[2] })
              : this.setState({ textToDisplay: t });
          }
        }
        componentDidMount() {
          this.LoadFromTextArea();
        }
        onLinkTitleUpdate(e) {
          this.setState({ textToDisplay: e.target.value });
        }
        onLinkURLUpdate(e) {
          this.setState({ strURL: e.target.value });
        }
        onInsertLink() {
          const { strURL: e, textToDisplay: t } = this.state;
          let n = "[url=" + e + "]" + t + "[/url]";
          he.replaceSelection(this.props.textareaRef.current, n);
        }
        render() {
          return o.createElement(
            M.uH,
            {
              strTitle: (0, T.Xx)("#Editor_Link"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onOK: this.onInsertLink,
              onCancel: this.props.closeModal,
              strOKButtonText: (0, T.Xx)("#EventEditor_InsertLinkURL"),
              className: Q().BBCodeEditorInputStyles,
            },
            o.createElement(
              "div",
              { className: Q().EventEditorLinkInput },
              o.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                o.createElement(
                  "label",
                  null,
                  o.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_LinkDescription"),
                  ),
                  o.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    o.createElement("input", {
                      type: "text",
                      onChange: this.onLinkTitleUpdate,
                      value: this.state.textToDisplay,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
              o.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                o.createElement(
                  "label",
                  null,
                  o.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_LinkURL"),
                  ),
                  o.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    o.createElement("input", {
                      type: "text",
                      onChange: this.onLinkURLUpdate,
                      value: this.state.strURL,
                      className: "DialogInput DialogTextInputBase",
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      });
      (Se.m_regExp = new RegExp(/\[url=([^\]]*)\]([^\[\]]+)\[\/url\]/i)),
        (0, a.gn)([h.ak], Se.prototype, "onLinkTitleUpdate", null),
        (0, a.gn)([h.ak], Se.prototype, "onLinkURLUpdate", null),
        (0, a.gn)([h.ak], Se.prototype, "onInsertLink", null),
        (Se = ue = (0, a.gn)([r.Pi], Se));
      let De = class extends o.Component {
        constructor() {
          super(...arguments), (this.state = { imgURL: "", anchorURL: "" });
        }
        componentDidMount() {
          this.refFirstInput && this.refFirstInput.current.focus();
        }
        OnImageInsert() {
          const { anchorURL: e, imgURL: t } = this.state;
          let n = "",
            a = "";
          e && e.length > 0 && ((n += "[url=" + e + "]"), (a = "[/url]" + a)),
            (n += "[img]" + t),
            (a = "[/img]" + a),
            he.wrapBBCode(n, a, this.props.textareaRef.current);
        }
        OnImageURLChange(e) {
          this.state.imgURL != e.target.value &&
            this.setState({ imgURL: e.target.value });
        }
        OnAnchorURLChange(e) {
          this.state.anchorURL != e.target.value &&
            this.setState({ anchorURL: e.target.value });
        }
        render() {
          const { imgURL: e, anchorURL: t } = this.state;
          return o.createElement(
            M.uH,
            {
              strTitle: (0, T.Xx)("#EventEditor_InsertImage_Title"),
              strDescription: "",
              closeModal: this.props.closeModal,
              onCancel: this.props.closeModal,
              onOK: this.OnImageInsert,
              strOKButtonText: (0, T.Xx)("#EventEditor_InsertImage_Title"),
              className: Q().BBCodeEditorInputStyles,
            },
            o.createElement(
              "div",
              { className: Q().EventEditorLinkInput },
              o.createElement(
                "p",
                null,
                (0, T.Xx)("#EventEditor_InsertImage_Desc"),
              ),
              o.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                o.createElement(
                  "label",
                  null,
                  o.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_InsertImage_URL"),
                  ),
                  o.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    o.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: e,
                      onChange: this.OnImageURLChange,
                      placeholder: (0, T.Xx)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                      ref: this.refFirstInput,
                    }),
                  ),
                ),
              ),
              o.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                o.createElement(
                  "label",
                  null,
                  o.createElement(
                    "div",
                    { className: "DialogLabel" },
                    (0, T.Xx)("#EventEditor_InsertImage_Anchor"),
                  ),
                  o.createElement(
                    "div",
                    { className: "DialogInput_Wrapper" },
                    o.createElement("input", {
                      className: "DialogInput DialogTextInputBase",
                      type: "text",
                      value: t,
                      onChange: this.OnAnchorURLChange,
                      placeholder: (0, T.Xx)(
                        "#EventEditor_InsertImage_Placeholder",
                      ),
                    }),
                  ),
                ),
              ),
            ),
          );
        }
      };
      (0, a.gn)([h.ak], De.prototype, "OnImageInsert", null),
        (0, a.gn)([h.ak], De.prototype, "OnImageURLChange", null),
        (0, a.gn)([h.ak], De.prototype, "OnAnchorURLChange", null),
        (De = (0, a.gn)([r.Pi], De));
      const fe = (e) => {
        const [t, n] = o.useState(""),
          [a, i] = o.useState(""),
          [l, r] = o.useState(""),
          [s, m] = o.useState(""),
          [u, _] = o.useState(void 0),
          [h, g] = o.useState(void 0),
          { data: v } = (0, X.co)(),
          { isLoading: E, data: S } = (0, j.IE)(
            null == h ? void 0 : h.GetAccountID(),
          ),
          D = 0 != t.trim().length && 0 != s.trim().length;
        return o.createElement(
          M.uH,
          {
            strTitle: (0, T.Xx)("#EventEditor_AddSpeaker"),
            strDescription: (0, T.Xx)("#EventEditor_AddSpeaker_Desc"),
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            bOKDisabled: !D,
            onOK: () => {
              let n = `[speaker name="${t.trim()}"`;
              if (
                (a.trim().length > 0 && (n += ` title="${a}"`),
                l.trim().length > 0 && (n += ` company="${l}"`),
                u)
              ) {
                n += ` photo="${pe.A + "/" + u.clanAccountID + "/" + p.aN.GetHashAndExt(u)}"`;
              }
              h && (n += ` steamid="${h.ConvertTo64BitString()}"`),
                (n += `]${s}[/speaker]`),
                he.replaceSelection(e.textareaRef.current, n);
            },
            className: Q().BBCodeEditorInputStyles,
          },
          o.createElement(
            "div",
            { className: Q().InsertSpeakerCtn },
            o.createElement(G.II, {
              type: "text",
              label: (0, T.Xx)("#EventEditor_AddSpeaker_Name"),
              value: t,
              onChange: (e) => n(e.target.value),
              focusOnMount: !0,
            }),
            o.createElement(
              "div",
              { className: Q().TitleGroup },
              o.createElement(G.II, {
                type: "text",
                label: (0, T.Xx)("#EventEditor_AddSpeaker_Title"),
                value: a,
                onChange: (e) => i(e.target.value),
              }),
              o.createElement(G.II, {
                type: "text",
                label: (0, T.Xx)("#EventEditor_AddSpeaker_Company"),
                value: l,
                onChange: (e) => r(e.target.value),
              }),
            ),
            o.createElement(
              Z.HP,
              {
                toolTipContent: (0, T.Xx)(
                  "#EventEditor_AssociateSteamAccount_ttip",
                ),
              },
              o.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#EventEditor_AssociateSteamAccount"),
                " (?)",
              ),
            ),
            o.createElement(
              "div",
              null,
              E &&
                o.createElement(z.V, {
                  string: (0, T.Xx)("#Loading"),
                  size: "small",
                }),
              Boolean(S) &&
                o.createElement(
                  "a",
                  {
                    href:
                      V.De.COMMUNITY_BASE_URL +
                      "profiles/" +
                      h.ConvertTo64BitString(),
                    target: "_blank",
                  },
                  S
                    ? o.createElement("img", {
                        style: { marginRight: "8px" },
                        src: S.avatar_url,
                      })
                    : null,
                  S ? S.m_strPlayerName : null,
                ),
              o.createElement(
                "div",
                { className: Q().AssociateRowCtn },
                o.createElement(
                  G.zx,
                  { onClick: () => g(new d.K(V.L7.steamid)) },
                  (0, T.Xx)("#EventEditor_SteamAccount_addme"),
                ),
                o.createElement(
                  G.zx,
                  {
                    onClick: (e) =>
                      (0, c.yV)(
                        o.createElement(ye, { friends: v, setSteamID: g }),
                        e,
                      ),
                  },
                  (0, T.Xx)("#EventEditor_SteamAccount_addfriend"),
                ),
                o.createElement(
                  G.zx,
                  { onClick: () => g(void 0) },
                  (0, T.Xx)("#EventEditor_SteamAccount_clear"),
                ),
              ),
            ),
            o.createElement(
              "div",
              { className: Q().PhotoCtn },
              o.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#EventEditor_ChoosePhoto"),
              ),
              o.createElement(se, {
                clanSteamID: e.clanSteamID,
                inputClanImage: u,
                setImage: _,
                nWidth: 184,
                nHeight: 184,
              }),
            ),
            o.createElement(
              "div",
              { className: Q().AboutCtn },
              o.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#EventEditor_AddSpeaker_About"),
              ),
              o.createElement(G.E0, {
                value: s,
                onChange: (e) => m(e.target.value),
                rows: 8,
                cols: 80,
                nMinHeight: 40,
                placeholder: (0, T.Xx)(
                  "#EventEditor_AddSpeaker_About_Placeholder",
                ),
              }),
            ),
            o.createElement(
              "div",
              { className: Q().PreviewCtn },
              o.createElement(
                "div",
                { className: "DialogLabel" },
                (0, T.Xx)("#Button_Preview"),
              ),
              o.createElement(W.qs, {
                company: l,
                name: t,
                title: a,
                bioString: s,
                photo: u ? u.url : void 0,
              }),
            ),
          ),
        );
      };
      function ye(e) {
        const { friends: t, setSteamID: n } = e;
        return o.createElement(
          "div",
          { className: Q().DropDownScroll },
          t.map((e) =>
            o.createElement(be, { key: e, steamid: e, setSteamID: n }),
          ),
        );
      }
      function be(e) {
        const { steamid: t, setSteamID: n } = e,
          { data: a } = (0, j.IE)(t);
        return o.createElement(
          q.Zo,
          { onSelected: () => n(new d.K(t)) },
          o.createElement(
            "div",
            { style: { display: "flex", alignItems: "center" } },
            a &&
              o.createElement("img", {
                className: U().WhitelistAvatar,
                src: a.avatar_url,
              }),
            null == a ? void 0 : a.m_strPlayerName,
          ),
        );
      }
      let Ie = class extends o.Component {
        constructor(e) {
          super(e),
            (this.m_isMounted = !1),
            (this.m_bAppend = !1),
            (this.state = { bPreserveNewLines: !1, strHTMLData: "" });
        }
        componentDidMount() {
          this.m_isMounted = !0;
        }
        componentWillUnmount() {
          this.m_isMounted = !1;
        }
        OnConvertAndOverriteHTML() {
          (this.m_bAppend = !1), this.ConvertBBCode();
        }
        OnConvertAndAppendHTML() {
          (this.m_bAppend = !0), this.ConvertBBCode();
        }
        ConvertHtmlToBBCode(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new URLSearchParams();
            n.append("content", e),
              n.append("preserve_newlines", t ? "1" : "0");
            let a = null;
            return (
              (a = yield l().post(
                V.De.COMMUNITY_BASE_URL + "/actions/ConvertHTMLToBBCode",
                n,
              )),
              a.data.content
            );
          });
        }
        ConvertBBCode() {
          this.setState({ bConverting: !0 }),
            this.ConvertHtmlToBBCode(
              this.state.strHTMLData,
              this.state.bPreserveNewLines,
            )
              .then((e) => {
                this.m_isMounted &&
                  (this.m_bAppend
                    ? he.append(e, this.props.textareaRef.current)
                    : he.overwrite(e, this.props.textareaRef.current),
                  this.setState({ bConverting: !1, bFinishedConverting: !0 }));
              })
              .catch((e) => {
                (0, O.AM)(
                  o.createElement(M.JX, {
                    strTitle: (0, T.Xx)("#EventEditor_ConvertHTML_Error"),
                    strDescription: (0, T.Xx)(
                      "#EventEditor_ConvertHTML_Error_Desc",
                      e.response && e.response.data ? e.response.data.msg : e,
                    ),
                    bAlertDialog: !0,
                    bDestructiveWarning: !0,
                  }),
                  this.props.ownerWindow,
                  { strTitle: (0, T.Xx)("#EventEditor_ConvertHTML_Error") },
                );
              });
        }
        OnCheckboxChange(e) {
          let t = e.target.checked;
          t != this.state.bPreserveNewLines &&
            this.setState({ bPreserveNewLines: t });
        }
        OnTextAreaChange(e) {
          this.setState({ strHTMLData: e.currentTarget.value });
        }
        render() {
          const { closeModal: e } = this.props;
          return this.state.bConverting
            ? o.createElement(
                M.uH,
                {
                  strTitle: (0, T.Xx)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, T.Xx)(
                    "#EventEditor_ImportFromHTML_ConversionInProgress",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                },
                o.createElement(z.V, null),
              )
            : this.state.bFinishedConverting
              ? o.createElement(M.uH, {
                  strTitle: (0, T.Xx)("#EventEditor_ImportFromHTML"),
                  strDescription: (0, T.Xx)(
                    "#EventEditor_ImportFromHTML_ConvertFinished",
                  ),
                  closeModal: e,
                  bAlertDialog: !0,
                  onOK: e,
                  onCancel: e,
                })
              : o.createElement(
                  M.RG,
                  {
                    onOK: this.OnConvertAndOverriteHTML,
                    onCancel: e,
                    className: Q().BBCodeEditorInputStyles,
                  },
                  o.createElement(
                    G.h4,
                    null,
                    " ",
                    (0, T.Xx)("#EventEditor_ImportFromHTML"),
                    " ",
                  ),
                  o.createElement(
                    G.uT,
                    null,
                    o.createElement(
                      G.Ac,
                      null,
                      o.createElement(
                        "div",
                        {
                          className: (0, f.Z)(
                            x().FlexColumnContainer,
                            Q().ImportHTMLCtn,
                          ),
                        },
                        o.createElement(
                          "div",
                          { className: x().FlexColumnContainer },
                          (0, T.kQ)(
                            "#EventEditor_ImportFromHTML_ConvertDescription",
                            o.createElement(
                              "a",
                              {
                                target: V.De.IN_CLIENT ? void 0 : "_blank",
                                href: "https://partner.steamgames.com/doc/marketing/event_tools/import",
                              },
                              (0, T.Xx)(
                                "#EventEditor_ImportFromHTML_ConvertLearn",
                              ),
                            ),
                          ),
                        ),
                        o.createElement("textarea", {
                          value: this.state.strHTMLData,
                          placeholder: (0, T.Xx)(
                            "#EventEditor_ImportFromHTML_Instruction",
                          ),
                          className: Q().ImportHTMLTextArea,
                          onChange: this.OnTextAreaChange,
                          ref: (e) => e && e.focus(),
                        }),
                        o.createElement(
                          "div",
                          { className: Q().ImportHTMLCheckBoxLine },
                          o.createElement("input", {
                            id: "ImportFromHTMLNewLines",
                            type: "checkbox",
                            checked: this.state.bPreserveNewLines,
                            onChange: this.OnCheckboxChange,
                          }),
                          o.createElement(
                            "label",
                            { htmlFor: "ImportFromHTMLNewLines" },
                            (0, T.Xx)(
                              "#EventEditor_ImportFromHTML_PreserveNewlines",
                            ),
                            o.createElement(
                              "span",
                              {
                                className: "ttip",
                                "data-tooltip-text": (0, T.Xx)(
                                  "#EventEditor_ImportFromHTML_PreserveNewlines_Hint",
                                ),
                              },
                              "(?)",
                            ),
                          ),
                        ),
                        o.createElement(
                          "div",
                          null,
                          (0, T.Xx)(
                            "#EventEditor_ImportFromHTML_ConvertToBBCode",
                          ),
                        ),
                      ),
                    ),
                    o.createElement(
                      G.$_,
                      null,
                      o.createElement(G.$0, {
                        onCancel: e,
                        strOKText: (0, T.Xx)("#Button_Overwrite"),
                        onUpdate: this.OnConvertAndAppendHTML,
                        strUpdateText: (0, T.Xx)("#Button_Append"),
                      }),
                    ),
                  ),
                );
        }
      };
      (0, a.gn)([h.ak], Ie.prototype, "OnConvertAndOverriteHTML", null),
        (0, a.gn)([h.ak], Ie.prototype, "OnConvertAndAppendHTML", null),
        (0, a.gn)([h.ak], Ie.prototype, "OnCheckboxChange", null),
        (0, a.gn)([h.ak], Ie.prototype, "OnTextAreaChange", null),
        (Ie = (0, a.gn)([r.Pi], Ie));
    },
    45010: (e, t, n) => {
      "use strict";
      n.d(t, { O: () => I });
      var a,
        i = n(47427),
        l = n(90286),
        r = n(46882),
        o = n(29480),
        s = n(16649),
        c = n(13129),
        m = n(31846),
        d = n(24549),
        u = n(37563),
        p = n(85556),
        _ = n(83999),
        h = n(58112),
        g = n(20417);
      !(function (e) {
        (e[(e.NotLoaded = 0)] = "NotLoaded"),
          (e[(e.Loading = 1)] = "Loading"),
          (e[(e.Loaded = 2)] = "Loaded");
      })(a || (a = {}));
      let v = a.NotLoaded,
        E = [];
      function S(e) {
        if (v == a.Loaded) return void e();
        if (v == a.NotLoaded) {
          let e = document.createElement("script");
          e.src = "https://www.youtube.com/iframe_api";
          let t = document.getElementsByTagName("script")[0];
          t.parentNode.insertBefore(e, t), (window.onYouTubeIframeAPIReady = D);
        }
        E.findIndex((t) => e == t) < 0 && E.push(e);
      }
      function D() {
        v = a.Loaded;
        for (let e of E) e();
        E = [];
      }
      class f extends i.Component {
        constructor(e) {
          super(e),
            (this.m_strPlayerID = ""),
            (this.m_player = null),
            (this.m_playerContainer = null),
            (this.m_bPlayerReady = !1),
            (this.m_strPlayerID = "YoutubePlayer_" + f.s_nPlayerIndex++),
            (this.state = { bYoutubeLoaded: !1 });
        }
        componentWillUnmount() {
          var e;
          this.DestroyPlayer(), (e = this.OnYoutubeScriptsReady), _.Zf(E, e);
        }
        shouldComponentUpdate(e, t) {
          if (!this.m_player) return !1;
          const n = this.props;
          return n.autoplay != e.autoplay ||
            n.controls != e.controls ||
            n.showInfo != e.showInfo ||
            n.video != e.video
            ? (this.CreatePlayer(e), !1)
            : ((n.width == e.width && n.height == e.height) ||
                (this.m_bPlayerReady &&
                  e.width &&
                  e.height &&
                  this.m_player.setSize(e.width, e.height)),
              n.forcePause != e.forcePause);
        }
        componentDidUpdate(e) {
          e.forcePause != this.props.forcePause &&
            (this.props.forcePause
              ? this.m_player.pauseVideo()
              : this.m_player.playVideo());
        }
        DestroyPlayer() {
          if (this.m_player)
            try {
              this.m_player.stopVideo && this.m_player.stopVideo(),
                this.m_player.destroy && this.m_player.destroy();
            } catch (e) {
            } finally {
              this.m_player = null;
            }
        }
        BindPlayerContainer(e) {
          this.m_playerContainer != e &&
            ((this.m_playerContainer = e),
            this.DestroyPlayer(),
            this.m_playerContainer && S(this.OnYoutubeScriptsReady));
        }
        OnYoutubeScriptsReady() {
          this.CreatePlayer(this.props);
        }
        CreatePlayer(e) {
          if ((this.DestroyPlayer(), !this.m_playerContainer)) return;
          const t = !1 === e.autoplay ? 0 : 1,
            n = !0 === e.showInfo ? 1 : 0,
            a = !0 === e.controls ? 1 : 0,
            i = !0 === e.showFullscreenBtn ? 1 : 0,
            l = !0 === e.playsInline ? 1 : 0;
          let r = {
              width: void 0 !== e.width ? String(e.width) : void 0,
              height: void 0 !== e.height ? String(e.height) : void 0,
              videoId: e.video,
              playerVars: {
                autoplay: t,
                showinfo: n,
                autohide: 1,
                fs: i,
                modestbranding: 1,
                rel: 0,
                playsinline: l,
                iv_load_policy: 3,
                controls: a,
                start: e.startSeconds,
              },
              events: {
                onReady: this.OnPlayerReady,
                onStateChange: this.OnPlayerStateChange,
                onError: this.OnError,
              },
            },
            o = this.m_playerContainer.firstElementChild;
          (this.m_bPlayerReady = !1), (this.m_player = new YT.Player(o, r));
        }
        OnPlayerReady(e) {
          if (((this.m_bPlayerReady = !0), this.props.onVideoInfoChanged)) {
            let e = this.m_player.getVideoData(),
              t = { strAuthor: "", strTitle: "", strVideoID: "" };
            e.author && (t.strAuthor = e.author),
              e.title && (t.strTitle = e.title),
              e.video_id && (t.strVideoID = e.video_id),
              this.props.onVideoInfoChanged(t);
          }
          this.props.width &&
            this.props.height &&
            this.m_player.setSize(this.props.width, this.props.height),
            this.props.autoplay && this.m_player.playVideo(),
            this.props.onPlayerReady && this.props.onPlayerReady();
        }
        OnPlayerStateChange(e) {
          switch (e.data) {
            case YT.PlayerState.UNSTARTED:
              break;
            case YT.PlayerState.BUFFERING:
              this.props.onBuffering && this.props.onBuffering();
              break;
            case YT.PlayerState.PLAYING:
              this.props.onPlaying && this.props.onPlaying();
              break;
            case YT.PlayerState.PAUSED:
              this.props.onPaused && this.props.onPaused();
              break;
            case YT.PlayerState.ENDED:
              this.props.onMovieEnd && this.props.onMovieEnd();
          }
        }
        OnError(e) {
          console.log("Youtube: Playback failed", e),
            this.props.onError && this.props.onError(e);
        }
        OnPlayerLeftView() {
          this.props.autopause &&
            this.m_player &&
            this.m_bPlayerReady &&
            this.m_player.pauseVideo();
        }
        PlayVideo(e) {
          this.m_player &&
            this.m_bPlayerReady &&
            (e && this.m_player.seekTo(0, !0), this.m_player.playVideo());
        }
        render() {
          const e = i.createElement(
            "div",
            {
              key: this.m_strPlayerID,
              ref: this.BindPlayerContainer,
              className: (0, c.Z)("YoutubePlayer", this.props.classnames),
            },
            i.createElement(r.V, { className: "YoutubePlayerThrobber" }),
          );
          return this.props.autopause
            ? i.createElement(h.h, { onLeave: this.OnPlayerLeftView }, e)
            : e;
        }
      }
      (f.s_nPlayerIndex = 0),
        (0, p.gn)([g.ak], f.prototype, "BindPlayerContainer", null),
        (0, p.gn)([g.ak], f.prototype, "OnYoutubeScriptsReady", null),
        (0, p.gn)([g.ak], f.prototype, "CreatePlayer", null),
        (0, p.gn)([g.ak], f.prototype, "OnPlayerReady", null),
        (0, p.gn)([g.ak], f.prototype, "OnPlayerStateChange", null),
        (0, p.gn)([g.ak], f.prototype, "OnError", null),
        (0, p.gn)([g.ak], f.prototype, "OnPlayerLeftView", null),
        (0, p.gn)([g.ak], f.prototype, "PlayVideo", null);
      var y = n(14411),
        b = n.n(y);
      function I(e) {
        const {
            videoID: t,
            bShowVideoImmediately: n,
            bAutoPlay: a,
            nStartSeconds: p,
            classNameSize: _,
            classNameAlign: h,
          } = e,
          [g, v] = (0, i.useState)(!n),
          [E, D] = (0, i.useState)(!1),
          y = (0, o.T)("YouTubeInlineSnippet"),
          [I, C] = (0, i.useState)({
            title: (0, m.Xx)("#Loading"),
            description: "",
            videoid: t,
            views: "0",
          });
        (0, i.useEffect)(() => {
          g &&
            l.A.LoadYouTubeDynamicData([t], y)
              .then((e) => {
                !y.token.reason && e.length > 0 && (C(e[0]), D(!0));
              })
              .catch((e) =>
                console.error(
                  "YouTubeInlineSnippet: " + (0, s.l)(e).strErrorMsg,
                ),
              );
        }, [g, y, t]);
        const k = !1;
        if (
          (i.useEffect(() => {
            n && S(() => {});
          }, [n, k]),
          g)
        ) {
          const e = I.title,
            n = I.views,
            a = I.description;
          return i.createElement(
            "div",
            { className: b().DynamicLinkBox, onClick: () => v(!1) },
            i.createElement("img", {
              className: b().DynamicLink_Preview,
              src: "https://img.youtube.com/vi/" + t + "/0.jpg",
            }),
            i.createElement(
              "div",
              { className: b().DynamicLink_Content },
              i.createElement(
                "div",
                { className: b().DynamicLink_Name },
                (0, m.Xx)("#EventEditor_YouTubeVideoTitle", e),
              ),
              i.createElement(
                "div",
                { className: b().DynamicLink_YoutubeViews },
                (0, m.Xx)(
                  "#EventEditor_YouTubeVideoViews",
                  (0, d.AV)(Number(n)),
                ),
              ),
              i.createElement(
                "div",
                { className: b().Dynamiclink_Content },
                E && a,
                !E && i.createElement(r.V, { size: "medium" }),
              ),
            ),
          );
        }
        return i.createElement(
          "div",
          { className: (0, c.Z)(b().PreviewYouTubeVideo, _, h), id: t },
          i.createElement("img", {
            src:
              u.De.COMMUNITY_CDN_URL +
              "public/shared/images/responsive/youtube_16x9_placeholder.gif",
          }),
          i.createElement(f, {
            video: t,
            autoplay: null != a && a,
            startSeconds: p,
            controls: !0,
            playsInline: !0,
            autopause: !0,
            showFullscreenBtn: !0,
          }),
        );
      }
    },
    9466: (e, t, n) => {
      "use strict";
      n.d(t, { j: () => F });
      var a = n(47427),
        i = n(85556),
        l = n(30750),
        r = n(27605),
        o = n(77936),
        s = n(38071),
        c = n(27174),
        m = n(12055),
        d = n(20029),
        u = n(65650),
        p = n(1485),
        _ = n(31846),
        h = n(13129),
        g = n(23188),
        v = n.n(g);
      let E = 1;
      function S(e) {
        const {
            onDropFiles: t,
            renderDesciption: n,
            elAdditonalButtons: i,
            strOverrideDragAndDropText: l,
          } = e,
          [r] = (0, a.useState)(++E),
          o = (0, a.useRef)(),
          [s, c] = (0, a.useState)(!1),
          m = (0, a.useRef)(0),
          d = (0, a.useCallback)((e) => {
            e.preventDefault(), e.stopPropagation();
          }, []),
          u = (0, a.useCallback)(
            (e) => {
              let n = e.target.files;
              n && n.length > 0 && n[0] && t(n),
                o.current && o.current.value && (o.current.value = null);
            },
            [t],
          );
        return a.createElement(
          "div",
          {
            className: (0, h.Z)(
              s ? v().DragAndDropContainerDragging : v().DragAndDropContainer,
              "DragAndDropContainer",
            ),
            onDrag: d,
            onDragStart: d,
            onDragEnd: d,
            onDragOver: d,
            onDragEnter: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (m.current += 1),
                ((e.dataTransfer.files && e.dataTransfer.files[0]) ||
                  (e.dataTransfer.types &&
                    "Files" === e.dataTransfer.types[0])) &&
                  (s || c(!0));
            },
            onDragLeave: (e) => {
              e.preventDefault(),
                e.stopPropagation(),
                (m.current -= 1),
                0 === m.current && s && c(!1);
            },
            onDrop: (e) => {
              e.preventDefault(), e.stopPropagation(), (m.current = 0), c(!1);
              const n = e.dataTransfer.files;
              n && n.length > 0 && n[0] && t(n);
            },
          },
          Boolean(n) && n(),
          a.createElement(
            "div",
            null,
            l || (0, _.Xx)("#ImagePicker_DragAndDrop"),
          ),
          a.createElement(
            "div",
            { className: v().ImageUploadBar },
            a.createElement(
              "label",
              { htmlFor: "imagepickerfilechoice" + r },
              a.createElement(
                "span",
                null,
                (0, _.Xx)("#ImagePicker_OrBrowse"),
                " ",
              ),
              a.createElement(
                "span",
                { className: v().SelectImageButton },
                (0, _.Xx)("#selectimage_select_file"),
              ),
            ),
            a.createElement("input", {
              ref: o,
              style: { display: "none" },
              id: "imagepickerfilechoice" + r,
              type: "file",
              onSubmit: u,
              onChange: u,
              multiple: !0,
              accept: "image/png, image/jpeg, image/gif",
            }),
          ),
          i,
          e.children,
        );
      }
      var D = n(71741),
        f = n.n(D),
        y = n(77178),
        b = n(90069),
        I = n(7765),
        C = n.n(I),
        k = n(62613),
        A = n(46882),
        w = n(16649),
        P = n(50423),
        T = n(9075),
        N = n(34216),
        R = n.n(N);
      function G(e) {
        const {
            imageUploader: t,
            rgSupportArtwork: n,
            strOverrideDragAndDropText: r,
            forceResolution: o,
            localizedPrimaryImage: s,
            elAdditonalButtons: c,
            rgRealmList: m,
          } = e,
          [p, h] = (0, l.SZ)(() => [
            t.GetUploadImages(),
            u.U.Get().GetCurEditLanguage(),
          ]),
          g = a.useCallback(
            (e) =>
              (0, i.mG)(this, void 0, void 0, function* () {
                let i = Array.from(e),
                  l = !0;
                for (let r = 0; r < i.length; r++) {
                  const i = e.item(r),
                    o = (0, d.Z)(i.name, h);
                  try {
                    const e = (0, d.C)(o, h, m);
                    (l = yield t.AddImageForLanguage(i, e, n, s)),
                      l ||
                        (console.error(
                          "ArtworkUploader.OnDropFiles: failed on i=" +
                            r +
                            " file=" +
                            i.name,
                        ),
                        (0, b.AM)(
                          a.createElement(y.JX, {
                            strDescription: (0, _.Xx)(
                              "#ImagePicker_Error",
                              i.name,
                            ),
                          }),
                          window,
                        ));
                  } catch (e) {
                    let t = (0, w.l)(e);
                    console.error(
                      "ArtworkUploader.OnDropFiles: " + t.strErrorMsg,
                      t,
                    ),
                      (0, b.AM)(
                        a.createElement(y.JX, {
                          strDescription: (0, _.Xx)(
                            "#EventError_Code",
                            t.strErrorMsg,
                          ),
                        }),
                        window,
                      );
                  }
                }
                return l;
              }),
            [h, t, s, m, n],
          );
        return a.createElement(
          S,
          {
            onDropFiles: g,
            elAdditonalButtons: c,
            strOverrideDragAndDropText: r,
          },
          a.createElement(
            a.Fragment,
            null,
            a.createElement(
              "div",
              { className: R().UploadPreviewCtn },
              p.map((e) =>
                a.createElement(B, {
                  key: "arttabupload_" + e.file + "_" + e.uploadTime,
                  asset: e,
                  supported: n,
                  forceResolution: o,
                  forceFileType: s && s.file_type,
                  fnOnRemove: () => t.DeleteUploadImage(e),
                  languageRealms: m,
                }),
              ),
            ),
          ),
          a.createElement(L, {
            imageUploader: t,
            fnOnUploadImageRequested: () =>
              (0, i.mG)(this, void 0, void 0, function* () {
                yield t.UploadAllImages(m, h, n, o, s && s.file_type);
              }),
          }),
        );
      }
      function L(e) {
        const { imageUploader: t, fnOnUploadImageRequested: n } = e,
          [i] = (0, l.SZ)(() => [t.GetUploadImages()]);
        return a.createElement(
          "div",
          {
            style: { display: "flex" },
            className: R().UploadPreviewButtonsCtn,
          },
          Boolean(i.length) &&
            a.createElement(
              p.zx,
              { style: { margin: "8px" }, onClick: n },
              (0, _.Xx)("#ImageUpload_Upload"),
            ),
          Boolean(i.length) &&
            a.createElement(
              p.zx,
              { style: { margin: "8px" }, onClick: t.ClearImages },
              (0, _.Xx)("#ImageUpload_Clear"),
            ),
        );
      }
      const B = (0, r.Pi)((e) => {
        const { asset: t, fnOnRemove: n, supported: i, languageRealms: l } = e,
          r = i.map((e) => {
            let n = (0, _.Xx)("#EventEditor_ArtworkType_" + e);
            "spotlight" == e &&
              (n = (0, _.Xx)("#EventEditor_ArtworkType_store_spotlight"));
            const a = c.h1[e];
            let i;
            a &&
              !a.bDisableEnforceDimensions &&
              (n += ` - ${a.width}x${a.height}`),
              (t.BIsOriginalMinimumDimensions(e) && (0, c.W4)(t.fileType, e)) ||
                (i = R().ArtworkDimensionTooSmall);
            return { label: n, data: e, strOptionClass: i };
          }),
          d = {
            pending: (0, _.Xx)("#ImageUpload_Pending"),
            uploading: (0, _.Xx)("#ImageUpload_Uploading"),
            success: (0, _.Xx)("#ImageUpload_SuccessCard"),
            failed: (0, _.Xx)("#ImageUpload_Failed"),
          },
          u = new Array(),
          g = _.LJ.GetLanguageListForRealms(l || [s.IN.k_ESteamRealmGlobal]);
        for (const e of g) {
          const t = (0, _.Xx)("#Language_" + (0, o.j_)(e));
          u.push({ label: t, data: e });
        }
        u.sort((e, t) => e.label.localeCompare(t.label));
        const v = [];
        u.forEach((e) => v.push({ label: e.label, data: e.data }));
        const E = t.IsValidAssetType(
            e.supported,
            e.forceResolution,
            e.forceFileType,
          ),
          S = E.needsCrop
            ? (0, _.Xx)("#ImageUpload_NeedsCrop")
            : E.error
              ? (0, _.Xx)("#ImageUpload_Invalid")
              : d[t.status];
        return a.createElement(
          "div",
          { className: R().UploadPreview },
          a.createElement(
            "div",
            { className: R().UploadPreviewDelete, onClick: () => n(t) },
            a.createElement(k.pVO, null),
          ),
          a.createElement(x, { asset: t }),
          a.createElement(p.ry, {
            strDropDownClassName: f().DropDownScroll,
            rgOptions: v,
            selectedOption: t.language,
            onChange: (e) => (t.language = e.data),
          }),
          Boolean(r.length > 1) &&
            a.createElement(p.ry, {
              rgOptions: r.filter((e) => "hero" !== e.data),
              selectedOption: t.type || r[0].data,
              onChange: (e) => (t.type = e.data),
            }),
          a.createElement(
            "div",
            { className: (0, h.Z)(f().FlexColumnContainer) },
            S,
            Boolean("uploading" == S) &&
              a.createElement(
                "div",
                { className: C().FlexCenter },
                a.createElement(A.V, { size: "small" }),
              ),
          ),
          a.createElement(
            "div",
            { className: R().UploadPreviewError },
            t.message,
          ),
          E.error &&
            a.createElement(
              "div",
              { className: R().UploadPreviewError },
              E.error,
            ),
          E.needsCrop &&
            a.createElement(
              a.Fragment,
              null,
              a.createElement(
                p.KM,
                {
                  onClick: () =>
                    ((t) => {
                      if (t instanceof m.Mr) {
                        t.ResetImage();
                        const n = window,
                          i = a.createElement(T.e, {
                            ownerWin: n,
                            uploadFile: t,
                            forceResolution: e.forceResolution,
                            fileType: e.forceFileType || 3,
                          });
                        (0, b.BR)(i, n, "CropModal", {
                          strTitle: (0, _.Xx)("#ImageUpload_CropModalTitle"),
                        });
                      }
                      console.log(
                        "ArtworkUploadEmbeddedDialog trying to crop non image",
                        t.fileType,
                        t.type,
                      );
                    })(t),
                },
                (0, _.Xx)("#ImageUpload_OpenEditor"),
              ),
            ),
        );
      });
      function x(e) {
        const { asset: t } = e;
        return c.D_.includes(t.fileType)
          ? a.createElement(
              "div",
              {
                className: R().PreviewImgCtn,
                onClick: (e) =>
                  (0, b.AM)(a.createElement(M, { asset: t }), (0, P.RA)(e)),
              },
              a.createElement(
                "span",
                { className: R().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
              a.createElement(
                "video",
                {
                  height: 120,
                  controls: !1,
                  autoPlay: !0,
                  loop: !0,
                  muted: !0,
                },
                a.createElement("source", { src: t.dataUrl }),
              ),
            )
          : a.createElement(
              "div",
              {
                className: R().PreviewImgCtn,
                style: { backgroundImage: `url(${t.dataUrl})` },
              },
              a.createElement(
                "span",
                { className: R().PreviewImgInfo },
                t.width,
                " x ",
                t.height,
              ),
            );
      }
      function M(e) {
        const { asset: t, closeModal: n } = e;
        return a.createElement(
          y.uH,
          { bAlertDialog: !0, closeModal: n },
          a.createElement(
            "video",
            { controls: !0, autoPlay: !0, loop: !0, muted: !0 },
            a.createElement("source", { src: t.dataUrl }),
          ),
        );
      }
      var O = n(98330);
      function F(e) {
        const { strUploadAjaxURL: t, fnOnUploadSuccess: n } = e,
          [i] = (0, a.useState)(new O._(t, n));
        return a.createElement(G, Object.assign({}, e, { imageUploader: i }));
      }
    },
    8897: (e, t, n) => {
      "use strict";
      n.d(t, { V: () => g });
      var a = n(80751),
        i = n.n(a),
        l = n(47427),
        r = n(77936),
        o = n(27174),
        s = n(908),
        c = n(65650),
        m = n(77681),
        d = n.n(m),
        u = n(62613),
        p = n(31846),
        _ = n(33431),
        h = n.n(_);
      function g(e) {
        const {
            rgAssetLangs: t,
            fnGetAssetUrl: n,
            fnDeletAssetLang: a,
            imageClassname: i,
            fnDeleteAllAssets: o,
          } = e,
          [s, m] = (0, l.useState)(c.U.Get().GetCurEditLanguage()),
          [_, h] = (0, l.useState)(n(s));
        return (
          (0, l.useEffect)(() => {
            const e = n(s);
            e ? h(e) : t.length > 0 ? m(t[0]) : h(null);
          }, [s, n, t]),
          l.createElement(
            "div",
            { className: d().UploadedImageDisplayCtn },
            l.createElement(
              "div",
              { className: d().UploaderLeftCol },
              l.createElement(v, { curAssetURL: _, imageClassname: i }),
            ),
            l.createElement(
              "div",
              { className: d().UploaderRightCol },
              l.createElement(
                "div",
                { className: d().SectionCtn },
                l.createElement(
                  "div",
                  { className: d().LangCountTitle },
                  t.length,
                  " Localized Assets",
                ),
                l.createElement(
                  "div",
                  { className: d().LangSelectCtn },
                  t.map((e) => {
                    const t = (0, r.j_)(e);
                    return l.createElement(
                      "div",
                      { className: d().UploaderImgLang, key: "image" + t },
                      l.createElement(
                        "a",
                        {
                          href: "#",
                          onClick: (t) => {
                            t.preventDefault(), m(e), h(n(e));
                          },
                        },
                        Boolean(e === s)
                          ? l.createElement(
                              "span",
                              { className: d().LangSelected },
                              "" + t,
                            )
                          : l.createElement("span", null, "" + t),
                      ),
                      l.createElement(
                        "a",
                        {
                          href: "#",
                          onClick: (t) => {
                            t.preventDefault(), a(e);
                          },
                        },
                        l.createElement(u.X, null),
                      ),
                    );
                  }),
                ),
                Boolean(t.length) &&
                  l.createElement(
                    "a",
                    {
                      href: "#",
                      className: d().DeleteAll,
                      onClick: (e) => {
                        o ? o() : t.forEach((e) => a(e));
                      },
                    },
                    (0, p.Xx)("#Button_DeleteAll"),
                  ),
              ),
            ),
          )
        );
      }
      function v(e) {
        const { curAssetURL: t, imageClassname: n } = e;
        if (!t)
          return l.createElement(
            "div",
            { className: h().ArtNoArt },
            (0, p.Xx)("#ImageDisplay_NoAssetUploaded"),
          );
        const a = (0, s.qn)(t);
        return o.D_.includes(a)
          ? l.createElement(E, Object.assign({}, e))
          : o.f7.includes(a)
            ? l.createElement(S, {
                className: n || h().ArtPreview,
                strTextURL: t,
              })
            : l.createElement("img", {
                className: n || h().ArtPreview,
                src: t,
              });
      }
      function E(e) {
        const { curAssetURL: t, imageClassname: n } = e,
          a = (0, l.useRef)();
        return (
          (0, l.useEffect)(() => {
            a.current && (a.current.load(), a.current.play());
          }, [t]),
          l.createElement(
            "video",
            {
              ref: a,
              className: n || h().ArtPreview,
              autoPlay: !0,
              loop: !0,
              controls: !0,
              muted: !0,
            },
            l.createElement("source", { src: t }),
          )
        );
      }
      function S(e) {
        const { strTextURL: t, className: n } = e,
          [a, r] = (0, l.useState)("");
        return (
          (0, l.useEffect)(() => {
            i()
              .get(t)
              .then((e) => {
                r(e.data);
              })
              .catch((e) => {
                console.error(e);
              });
          }, [t]),
          l.createElement("textarea", {
            className: n,
            value: a,
            readOnly: !0,
            rows: 20,
          })
        );
      }
    },
    36194: (e, t, n) => {
      "use strict";
      n.d(t, { z: () => o });
      var a = n(85556),
        i = n(47427),
        l = n(77266),
        r = n(20417);
      class o extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              color: this.props.color || "rgba(1.0,1.0,1.0,1.0)",
            });
        }
        static GetColorString(e) {
          return `rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`;
        }
        OnColorChange(e) {
          const t = o.GetColorString(e);
          this.setState({ color: t }), this.props.onChange(t);
        }
        render() {
          return i.createElement(l.AI, {
            onChange: this.OnColorChange,
            color: this.state.color,
          });
        }
      }
      (0, a.gn)([r.ak], o.prototype, "OnColorChange", null);
    },
    33682: (e, t, n) => {
      "use strict";
      n.d(t, {
        hp: () => H,
        tk: () => B,
        ag: () => X,
        uC: () => j,
        D3: () => ae,
      });
      var a = n(85556),
        i = n(54842),
        l = n(27605),
        r = n(47427),
        o = n(42287),
        s = n(37265),
        c = n(48371),
        m = n(80886);
      class d extends r.Component {
        constructor(e) {
          super(e);
        }
        render() {
          if (null == this.props.text)
            return r.createElement(r.Fragment, null, this.props.children);
          let e;
          if (
            ((e =
              this.props.text instanceof Array
                ? this.props.text
                    .map((e) => (e ? e.toString() : ""))
                    .filter((e) => e.length > 0)
                    .join("\n")
                : this.props.text.toString()),
            1 == r.Children.count(this.props.children))
          ) {
            let t = r.Children.only(this.props.children);
            return r.cloneElement(t, {
              "data-copystyle": this.props.style,
              "data-copytext": e,
            });
          }
          return (
            console.log(
              `Error: CopyableText must be the parent of exactly one child:\n\tcopystyle=${this.props.style} copytext=${e}`,
            ),
            r.createElement(r.Fragment, null, this.props.children)
          );
        }
      }
      d.defaultProps = { text: "" };
      var u = n(22042),
        p = n(13129),
        _ = n(31846),
        h = n(20417);
      function g(e, t) {
        return e + "economy/sticker/" + t;
      }
      var v = n(37563),
        E = n(1485),
        S = n(91618),
        D = n(15633),
        f = n(99970);
      class y extends r.Component {
        constructor(e) {
          super(e), (this.state = { activeIndex: e.initialActiveIndex || 0 });
        }
        render() {
          const { config: e } = this.props,
            { activeIndex: t } = this.state,
            n = e[t] && e[t].renderContent ? e[t].renderContent() : null,
            a = e.length > 1,
            i = a
              ? ({ detail: { button: t } }) => {
                  t === D.eV.BUMPER_LEFT
                    ? this.setState({
                        activeIndex: Math.max(0, this.state.activeIndex - 1),
                      })
                    : t === D.eV.BUMPER_RIGHT &&
                      this.setState({
                        activeIndex: Math.min(
                          e.length - 1,
                          this.state.activeIndex + 1,
                        ),
                      });
                }
              : void 0;
          return r.createElement(
            S.s,
            { className: f.Picker, onButtonDown: i },
            a && r.createElement(b, null, this.RenderTabs()),
            n,
          );
        }
        RenderTabs() {
          return this.props.config.map(({ renderTab: e }, t) => {
            const n = this.state.activeIndex === t;
            return r.createElement(
              C,
              {
                key: t,
                active: n,
                onClick: () => this.setState({ activeIndex: t }),
              },
              e(n),
            );
          });
        }
      }
      function b(e) {
        return r.createElement(
          S.s,
          { className: f.Tabs, "flow-children": "row" },
          e.children,
        );
      }
      function I(e) {
        return r.createElement("div", { className: f.Content }, e.children);
      }
      function C(e) {
        const { active: t, children: n, onClick: a } = e;
        return r.createElement(
          S.s,
          {
            className: (0, p.Z)(f.Tab, t && f.Active),
            focusClassName: f.Focus,
            onActivate: a,
          },
          r.createElement(
            "div",
            { className: (0, p.Z)(f.TabContent, t && f.Active) },
            n,
          ),
        );
      }
      function k(e) {
        const {
          items: t,
          renderItem: n,
          onItemSelect: a,
          keyExtractor: i,
          renderEmpty: l,
        } = e;
        let o = t.map((e, l) =>
          r.createElement(
            S.s,
            {
              key: i(e),
              className: f.Item,
              onActivate: () => a(t[l]),
              autoFocus: 0 === l,
              focusClassName: f.Focus,
            },
            n(t[l]),
          ),
        );
        return (
          0 === t.length && l && (o = l()),
          r.createElement(
            S.s,
            { "flow-children": "grid", className: f.ItemList },
            o,
          )
        );
      }
      function A(e) {
        const { title: t, onFilterChange: n, filter: i, onSubmit: l } = e,
          o = (0, a._T)(e, ["title", "onFilterChange", "filter", "onSubmit"]);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            I,
            null,
            r.createElement(
              P,
              { title: t },
              r.createElement(k, Object.assign({}, o)),
            ),
          ),
          r.createElement(T, { value: i, onChange: n, onSubmit: l }),
        );
      }
      function w(e) {
        const { onFilterChange: t, filter: n, sections: i, title: l } = e;
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            I,
            null,
            l && r.createElement("div", { className: f.SectionedPageTitle }, l),
            i.map((e) => {
              var { title: t } = e,
                n = (0, a._T)(e, ["title"]);
              return r.createElement(
                P,
                { title: t, key: t },
                r.createElement(k, Object.assign({}, n)),
              );
            }),
          ),
          r.createElement(T, { value: n, onChange: t }),
        );
      }
      function P(e) {
        return r.createElement(
          "div",
          { className: f.Section },
          r.createElement("div", { className: f.SectionTitle }, e.title),
          r.createElement("div", { className: f.SectionContent }, e.children),
        );
      }
      function T(e) {
        const { value: t, onChange: n, onSubmit: a } = e;
        return r.createElement(
          "div",
          { className: f.FilterInputContainer },
          r.createElement(E.II, {
            type: "text",
            placeholder: "Search...",
            className: f.FilterInput,
            value: t,
            onChange: (e) => n(e.target.value),
            onSubmit: a,
          }),
        );
      }
      function N(e) {
        const { className: t } = e,
          n = (0, a._T)(e, ["className"]);
        return r.createElement(
          "div",
          Object.assign({ className: (0, p.Z)(t, f.AddonPickerMessage) }, n),
        );
      }
      var R = n(44652),
        G = n.n(R),
        L = n(14609);
      class B extends r.PureComponent {
        constructor() {
          super(...arguments),
            (this.state = { showHover: !1 }),
            (this.m_ref = r.createRef());
        }
        OnMouseEnter(e) {
          this.setState({ showHover: !0 });
        }
        OnMouseLeave(e) {
          this.setState({ showHover: !1 });
        }
        render() {
          const { emoticon: e, large: t, emoticonHoverStore: n } = this.props,
            a = `:${e}:`,
            i = t && n.BLoaded(e) ? n.Get(e).url : c.u.GetEmoticonURL(e, t);
          return r.createElement(
            r.Fragment,
            null,
            r.createElement(
              d,
              { text: a, style: "merge-adjacent" },
              r.createElement("img", {
                src: i,
                className: (0, p.Z)(G().emoticon, t ? G().large : void 0),
                "data-emoticon": e,
                onMouseEnter: this.OnMouseEnter,
                onMouseLeave: this.OnMouseLeave,
                ref: this.m_ref,
              }),
            ),
            this.state.showHover &&
              r.createElement(x, {
                target: this.m_ref.current,
                store: n,
                emoticon: e,
              }),
          );
        }
      }
      (0, a.gn)([h.ak], B.prototype, "OnMouseEnter", null),
        (0, a.gn)([h.ak], B.prototype, "OnMouseLeave", null);
      const x = (0, l.Pi)((e) => {
          const { target: t, store: n, emoticon: a } = e,
            i = n.Get(a);
          return r.createElement(
            M,
            {
              target: t,
              title: `:${a}:`,
              subtitle: i && i.app_name ? i.app_name : void 0,
            },
            r.createElement(B, {
              emoticon: a,
              emoticonHoverStore: n,
              large: !0,
            }),
          );
        }),
        M = ({ target: e, title: t, subtitle: n, children: a }) =>
          r.createElement(
            s.T,
            {
              target: e,
              style: { zIndex: 1700 },
              className: G().EmoticonHover,
            },
            a,
            r.createElement(
              "div",
              { className: G().Info },
              r.createElement(
                "div",
                { className: G().Name },
                t || r.createElement("span", null, ""),
              ),
              r.createElement(
                "div",
                { className: G().AppName },
                n || r.createElement("span", null, ""),
              ),
            ),
          );
      function O(e) {
        return e.recent_emoticons;
      }
      function F(e) {
        return e.recent_stickers;
      }
      function U(e) {
        return O(e).length + F(e).length > 0;
      }
      const H = (0, l.Pi)((e) => {
        const {
          emoticonStore: t,
          emoticonHoverStore: n,
          roomEffectSettings: a,
          strFlairGroupID: l,
          onEmoticonSelected: o,
          onRoomEffectSelected: s,
          onStickerSelected: c,
        } = e;
        !(function (e) {
          const [t, n] = (0, r.useState)(e.is_initialized);
          (0, r.useEffect)(() => {
            if (!e.is_initialized) {
              e.UpdateEmoticonList();
              const t = (0, i.gx)(
                () => e.is_initialized,
                () => n(e.is_initialized),
              );
              return () => t();
            }
            return () => {};
          }, [e]);
        })(t);
        const m = [];
        return (
          U(t) &&
            m.push({
              renderTab: (e) =>
                r.createElement(
                  "span",
                  {
                    title: (0, _.Xx)("#AddonPicker_RecentlyUsed"),
                    className: (0, p.Z)(
                      G().PickerTab,
                      G().Clock,
                      e && G().ActiveTab,
                    ),
                  },
                  r.createElement(se, null),
                ),
              renderContent: () =>
                r.createElement(q, {
                  store: t,
                  hoverStore: n,
                  onEmoticonSelect: (e) => o(e.name),
                  onStickerSelect: (e) => c(e.name),
                  flairGroupID: l,
                }),
            }),
          r.createElement(
            u.xV,
            null,
            r.createElement(y, {
              config: [
                ...m,
                {
                  renderTab: (e) =>
                    r.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: (0, p.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      r.createElement(re, null),
                    ),
                  renderContent: () =>
                    r.createElement(W, {
                      store: t,
                      hoverStore: n,
                      onItemSelect: (e) => o(e.name),
                      flairGroupID: l,
                    }),
                },
                {
                  renderTab: (e) =>
                    r.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Stickers"),
                        className: (0, p.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      r.createElement(le, null),
                    ),
                  renderContent: () =>
                    r.createElement(Z, {
                      store: t,
                      onItemSelect: (e) => c(e.name),
                    }),
                },
                {
                  renderTab: (e) =>
                    r.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_RoomEffects"),
                        className: (0, p.Z)(G().PickerTab, e && G().ActiveTab),
                      },
                      r.createElement(oe, null),
                    ),
                  renderContent: () =>
                    r.createElement(K, {
                      store: t,
                      effectSettings: a,
                      onItemSelect: (e) => s(e.name),
                    }),
                },
              ],
            }),
          )
        );
      });
      let V = class extends r.Component {
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          const {
              emoticonStore: e,
              emoticonHoverStore: t,
              onEmoticonSelected: n,
              onStickerSelected: a,
              strFlairGroupID: i,
            } = this.props,
            l = [];
          return (
            U(e) &&
              l.push({
                renderTab: (e) =>
                  r.createElement(
                    "span",
                    {
                      title: (0, _.Xx)("#AddonPicker_RecentlyUsed"),
                      className: (0, p.Z)(
                        G().PickerTab,
                        G().Clock,
                        e && G().ActiveTab,
                      ),
                    },
                    r.createElement(se, null),
                  ),
                renderContent: () =>
                  r.createElement(q, {
                    store: e,
                    hoverStore: t,
                    onEmoticonSelect: (e) => n(e.name),
                    onStickerSelect: (e) => a(e.name),
                    flairGroupID: i,
                  }),
              }),
            r.createElement(
              u.xV,
              null,
              r.createElement(y, {
                config: [
                  ...l,
                  {
                    renderTab: (e) =>
                      r.createElement(
                        "span",
                        {
                          title: (0, _.Xx)("#AddonPicker_Emoticons"),
                          className: (0, p.Z)(
                            G().PickerTab,
                            e && G().ActiveTab,
                          ),
                        },
                        r.createElement(re, null),
                      ),
                    renderContent: () =>
                      r.createElement(W, {
                        store: e,
                        hoverStore: t,
                        onItemSelect: (e) => n(e.name),
                        flairGroupID: i,
                      }),
                  },
                  {
                    renderTab: (e) =>
                      r.createElement(
                        "span",
                        {
                          title: (0, _.Xx)("#AddonPicker_Stickers"),
                          className: (0, p.Z)(
                            G().PickerTab,
                            e && G().ActiveTab,
                          ),
                        },
                        r.createElement(le, null),
                      ),
                    renderContent: () =>
                      r.createElement(Z, {
                        store: e,
                        onItemSelect: (e) => a(e.name),
                      }),
                  },
                ],
              }),
            )
          );
        }
      };
      V = (0, a.gn)([l.Pi], V);
      class X extends r.Component {
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return r.createElement(
            u.xV,
            null,
            r.createElement(y, {
              config: [
                {
                  renderTab: () =>
                    r.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: G().PickerTab,
                      },
                      r.createElement(re, null),
                    ),
                  renderContent: () =>
                    r.createElement(Q, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class j extends r.Component {
        constructor(e) {
          super(e), (this.state = { strSearchText: "" });
          let t = this.props.emoticonStore;
          t.is_initialized ||
            (t.UpdateEmoticonList(),
            (this.m_disposeEmoticonStore = (0, i.gx)(
              () => t.is_initialized,
              () => this.forceUpdate(),
            )));
        }
        componentWillUnmount() {
          this.m_disposeEmoticonStore && this.m_disposeEmoticonStore();
        }
        render() {
          return r.createElement(
            u.xV,
            null,
            r.createElement(y, {
              config: [
                {
                  renderTab: () =>
                    r.createElement(
                      "span",
                      {
                        title: (0, _.Xx)("#AddonPicker_Emoticons"),
                        className: G().PickerTab,
                      },
                      r.createElement(re, null),
                    ),
                  renderContent: () =>
                    r.createElement(Y, {
                      store: this.props.emoticonStore,
                      hoverStore: this.props.emoticonHoverStore,
                      onItemSelect: (e) => this.props.OnSelected(e.name, !1),
                      flairGroupID: this.props.strFlairGroupID,
                    }),
                },
              ],
            }),
          );
        }
      }
      class q extends r.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onEmoticonSelect: n,
              onStickerSelect: a,
            } = this.props,
            { filter: i } = this.state,
            l = [];
          return (
            O(e) &&
              l.push({
                title: (0, _.Xx)("#AddonPicker_RecentEmoticons"),
                items: c.u.FilterEmoticons(O(e), i),
                onItemSelect: n,
                renderItem: (e) =>
                  r.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  r.createElement(
                    N,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            F(e).length &&
              l.push({
                title: (0, _.Xx)("#AddonPicker_RecentStickers"),
                items: c.u.FilterStickers(F(e), i),
                onItemSelect: a,
                renderItem: (e) => r.createElement($, { sticker: e }),
                keyExtractor: ({ name: e }) => e,
                renderEmpty: () =>
                  r.createElement(
                    N,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Stickers"),
                        ),
                  ),
              }),
            r.createElement(w, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: i,
              sections: l,
            })
          );
        }
      }
      class W extends r.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: n,
              flairGroupID: a,
            } = this.props,
            { filter: i } = this.state,
            l = !i && a ? e.GetFlairListByGroupID(a) : e.emoticon_list,
            o = c.u.FilterEmoticons(l, i).slice(0, 1e3);
          return r.createElement(A, {
            title: (0, _.Xx)("#AddonPicker_Emoticons"),
            items: o,
            onItemSelect: n,
            renderItem: (e) =>
              r.createElement(J, { emoticon: e, emoticonHoverStore: t }),
            keyExtractor: (e) => e.name,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: i,
            onSubmit: () => n(o[0]),
            renderEmpty: () =>
              i
                ? r.createElement(N, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : r.createElement(z, null),
          });
        }
      }
      function z() {
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            N,
            null,
            (0, _.Xx)(
              "#AddonPicker_NoneOwned",
              (0, _.Xx)("#AddonPicker_Emoticons"),
            ),
          ),
          r.createElement(
            N,
            null,
            (0, _.kQ)(
              "#AddonPicker_AcquireAtPointsShopOrMarket",
              r.createElement(
                L.ns,
                { href: `${v.De.STORE_BASE_URL}points/shop/c/emoticons` },
                (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
              ),
              r.createElement(
                L.ns,
                { href: `${v.De.COMMUNITY_BASE_URL}market` },
                (0, _.Xx)("#AddonPicker_AcquireAtPointsShopOrMarket_Link"),
              ),
            ),
          ),
        );
      }
      class Z extends r.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const { store: e, onItemSelect: t } = this.props,
            { filter: n } = this.state,
            a = c.u.FilterStickers(e.GetStickerList(), n);
          return r.createElement(A, {
            title: (0, _.Xx)("#EmoticonPicker_StickerHeading"),
            items: a,
            onItemSelect: t,
            renderItem: (e) => r.createElement($, { sticker: e }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: n,
            onSubmit: () => t(a[0]),
            renderEmpty: () =>
              n
                ? r.createElement(N, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      N,
                      null,
                      (0, _.Xx)(
                        "#AddonPicker_NoneOwned",
                        (0, _.Xx)("#AddonPicker_Stickers"),
                      ),
                    ),
                    r.createElement(
                      N,
                      null,
                      (0, _.kQ)(
                        "#AddonPicker_AcquireAtPointsShop",
                        r.createElement(
                          L.ns,
                          {
                            href: `${v.De.STORE_BASE_URL}points/shop/c/stickers`,
                          },
                          (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      class K extends r.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const { store: e, effectSettings: t, onItemSelect: n } = this.props,
            { filter: a } = this.state,
            i = e.GetEffectList().filter(({ name: e }) => e.indexOf(a) > -1);
          return r.createElement(A, {
            title: (0, _.Xx)("#EmoticonPicker_EffectHeading"),
            items: i,
            onItemSelect: n,
            renderItem: (e) =>
              r.createElement(te, { effect: e, roomEffectSettings: t }),
            keyExtractor: ({ name: e }) => e,
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: a,
            onSubmit: () => n(i[0]),
            renderEmpty: () =>
              a
                ? r.createElement(N, null, (0, _.Xx)("#AddonPicker_NoResults"))
                : r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(
                      N,
                      null,
                      (0, _.Xx)(
                        "#AddonPicker_NoneOwned",
                        (0, _.Xx)("#AddonPicker_RoomEffects"),
                      ),
                    ),
                    r.createElement(
                      N,
                      null,
                      (0, _.kQ)(
                        "#AddonPicker_AcquireAtPointsShop",
                        r.createElement(
                          L.ns,
                          {
                            href: `${v.De.STORE_BASE_URL}points/shop/c/chateffects`,
                          },
                          (0, _.Xx)("#AddonPicker_AcquireAtPointsShop_Link"),
                        ),
                      ),
                    ),
                  ),
          });
        }
      }
      let Q = class extends r.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: n,
              flairGroupID: a,
            } = this.props,
            { filter: i } = this.state,
            l = [];
          return (
            O(e).length &&
              l.push({
                title: (0, _.Xx)("#AddonPicker_RecentEmoticons"),
                items: c.u.FilterEmoticons(O(e), i),
                onItemSelect: n,
                renderItem: (e) =>
                  r.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  r.createElement(
                    N,
                    null,
                    i
                      ? (0, _.Xx)("#AddonPicker_NoResults")
                      : (0, _.Xx)(
                          "#AddonPicker_NoRecent",
                          (0, _.Xx)("#AddonPicker_Emoticons"),
                        ),
                  ),
              }),
            r.createElement(w, {
              onFilterChange: (e) => this.setState({ filter: e }),
              filter: i,
              sections: [
                ...l,
                {
                  title: (0, _.Xx)("#AddonPicker_AllEmoticons"),
                  items: c.u.FilterStickers(e.emoticon_list, i).slice(0, 1e3),
                  onItemSelect: n,
                  renderItem: (e) =>
                    r.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                  keyExtractor: (e) => e.name,
                  renderEmpty: () =>
                    i
                      ? r.createElement(
                          N,
                          null,
                          (0, _.Xx)("#AddonPicker_NoResults"),
                        )
                      : r.createElement(z, null),
                },
              ],
            })
          );
        }
      };
      Q = (0, a.gn)([l.Pi], Q);
      let Y = class extends r.Component {
        constructor() {
          super(...arguments), (this.state = { filter: "" });
        }
        render() {
          const {
              store: e,
              hoverStore: t,
              onItemSelect: n,
              flairGroupID: a,
            } = this.props,
            { filter: i } = this.state;
          return r.createElement(w, {
            onFilterChange: (e) => this.setState({ filter: e }),
            filter: i,
            sections: [
              {
                title: (0, _.Xx)("#ChatEntryButton_Flair"),
                items: c.u.FilterStickers(e.GetFlairListByGroupID(a), i),
                onItemSelect: n,
                renderItem: (e) =>
                  r.createElement(J, { emoticon: e, emoticonHoverStore: t }),
                keyExtractor: (e) => e.name,
                renderEmpty: () =>
                  i
                    ? r.createElement(
                        N,
                        null,
                        (0, _.Xx)("#AddonPicker_NoResults"),
                      )
                    : r.createElement(z, null),
              },
            ],
          });
        }
      };
      Y = (0, a.gn)([l.Pi], Y);
      const J = (e) => {
        const { emoticon: t, emoticonHoverStore: n, large: a } = e,
          i = !t.last_used && t.time_received;
        return r.createElement(
          "div",
          { className: G().EmoticonItem },
          r.createElement(B, {
            emoticon: t.name,
            emoticonHoverStore: n,
            large: a,
          }),
          i && r.createElement(ae, null),
        );
      };
      class $ extends r.Component {
        constructor() {
          super(...arguments),
            (this.state = { showHover: !1 }),
            (this.m_ref = r.createRef());
        }
        render() {
          const e = this.props,
            { sticker: t, className: n } = e,
            i = (0, a._T)(e, ["sticker", "className"]),
            l = g(v.De.COMMUNITY_CDN_URL, t.name);
          return r.createElement(
            "div",
            Object.assign(
              {
                ref: this.m_ref,
                className: (0, p.Z)(n, G().StickerButton),
                onMouseOver: () => this.setState({ showHover: !0 }),
                onFocus: () => this.setState({ showHover: !0 }),
                onMouseLeave: () => this.setState({ showHover: !1 }),
                onBlur: () => this.setState({ showHover: !1 }),
              },
              i,
            ),
            r.createElement("img", { style: { width: "100%" }, src: l }),
            this.state.showHover &&
              r.createElement(ee, { target: this.m_ref.current, sticker: t }),
          );
        }
      }
      const ee = (0, l.Pi)((e) => {
        const {
            target: t,
            sticker: { name: n, appid: a },
          } = e,
          [i] = (0, m.vs)(a, {});
        return r.createElement(
          M,
          { target: t, title: n, subtitle: null == i ? void 0 : i.GetName() },
          r.createElement("img", {
            src: g(v.De.COMMUNITY_CDN_URL, n),
            className: G().StickerHoverSticker,
          }),
        );
      });
      class te extends r.Component {
        constructor() {
          super(...arguments),
            (this.state = { showHover: !1 }),
            (this.m_ref = r.createRef());
        }
        render() {
          const e = this.props,
            { effect: t, roomEffectSettings: n, className: i } = e,
            l = (0, a._T)(e, ["effect", "roomEffectSettings", "className"]),
            o = n[t.name];
          return r.createElement(
            "div",
            Object.assign(
              {
                ref: this.m_ref,
                onMouseOver: () => this.setState({ showHover: !0 }),
                onFocus: () => this.setState({ showHover: !0 }),
                onMouseLeave: () => this.setState({ showHover: !1 }),
                onBlur: () => this.setState({ showHover: !1 }),
                className: (0, p.Z)(i, G().EffectButton),
              },
              l,
            ),
            o.renderEffectIcon(),
            this.state.showHover &&
              r.createElement(ne, {
                target: this.m_ref.current,
                effect: t,
                roomEffectSettings: n,
              }),
          );
        }
      }
      const ne = (0, l.Pi)((e) => {
        const {
            target: t,
            effect: { name: n, appid: a },
            roomEffectSettings: i,
          } = e,
          l = i[n],
          [o] = (0, m.vs)(a, {});
        return r.createElement(
          M,
          { target: t, title: n, subtitle: null == o ? void 0 : o.GetName() },
          r.createElement(
            "div",
            { className: G().EffectHoverEffect },
            l.renderEffectIcon(),
          ),
        );
      });
      function ae() {
        return r.createElement(
          "div",
          { className: G().NewEmoticonIndicator },
          r.createElement("div", { className: G().NewEmoticonCircle }),
        );
      }
      class ie extends r.Component {
        constructor(e) {
          super(e), (this.state = { visible: !1 });
        }
        SetVisible(e) {
          e && !this.state.visible && this.setState({ visible: !0 });
        }
        componentDidMount() {
          this.props.coordinator.RegisterChild(
            o.findDOMNode(this),
            this.SetVisible,
          );
        }
        componentWillUnmount() {
          this.props.coordinator.UnregisterChild(o.findDOMNode(this));
        }
        render() {
          let e = this.props.emoticon,
            t = [G().EmoticonSelector_Item],
            n = !1;
          return (
            !e.last_used &&
              e.time_received &&
              (t.push(G().EmoticonSelector_Item_New), (n = !0)),
            r.createElement(
              "div",
              {
                className: (0, p.Z)(...t),
                "data-emoticon": e.name,
                onClick: this.props.onClick,
              },
              this.state.visible &&
                r.createElement(B, {
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  emoticon: e.name,
                  large: !0,
                }),
              n && r.createElement(ae, null),
            )
          );
        }
      }
      function le(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 36 36",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            d: "M8 4C5.79086 4 4 5.79086 4 8V27C4 29.2091 5.79086 31 8 31H13V20C13 16.134 16.134 13 20 13H31V8C31 5.79086 29.2091 4 27 4H8Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M16 20C16 17.7909 17.7909 16 20 16H31L16 31V20Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M29 24.0625V25C29 25.2671 28.9738 25.5282 28.9239 25.7806L30.8858 26.1688C30.9609 25.7892 31 25.3982 31 25V24.0625H29Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M28.3263 27.2225C28.0342 27.6587 27.6587 28.0342 27.2225 28.3263L28.3351 29.9882C28.9885 29.5507 29.5507 28.9885 29.9882 28.3351L28.3263 27.2225Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M21 29H22.1875V31H19L21 29Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M24.0625 29H25C25.2671 29 25.5282 28.9738 25.7806 28.9239L26.1688 30.8858C25.7892 30.9609 25.3982 31 25 31H24.0625V29Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M29 22.1875V21L31 19V22.1875H29Z",
          }),
        );
      }
      function re(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 36 36",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M18 3C15.0333 3 12.1332 3.87973 9.66645 5.52796C7.19972 7.17618 5.27713 9.51886 4.14181 12.2597C3.0065 15.0006 2.70945 18.0166 3.28823 20.9264C3.86701 23.8361 5.29562 26.5088 7.3934 28.6066C9.49119 30.7044 12.1639 32.133 15.0737 32.7118C17.9834 33.2906 20.9994 32.9935 23.7403 31.8582C26.4811 30.7229 28.8238 28.8003 30.472 26.3336C32.1203 23.8668 33 20.9667 33 18C33 16.0302 32.612 14.0796 31.8582 12.2597C31.1044 10.4399 29.9995 8.78628 28.6066 7.3934C27.2137 6.00052 25.5601 4.89563 23.7403 4.14181C21.9204 3.38799 19.9698 3 18 3ZM9.00001 15C9.00001 14.4067 9.17595 13.8266 9.5056 13.3333C9.83524 12.8399 10.3038 12.4554 10.852 12.2284C11.4001 12.0013 12.0033 11.9419 12.5853 12.0576C13.1672 12.1734 13.7018 12.4591 14.1213 12.8787C14.5409 13.2982 14.8266 13.8328 14.9424 14.4147C15.0581 14.9967 14.9987 15.5999 14.7716 16.1481C14.5446 16.6962 14.1601 17.1648 13.6667 17.4944C13.1734 17.8241 12.5934 18 12 18C11.2044 18 10.4413 17.6839 9.87869 17.1213C9.31608 16.5587 9.00001 15.7956 9.00001 15ZM24 18C23.4067 18 22.8266 17.8241 22.3333 17.4944C21.8399 17.1648 21.4554 16.6962 21.2284 16.1481C21.0013 15.5999 20.9419 14.9967 21.0576 14.4147C21.1734 13.8328 21.4591 13.2982 21.8787 12.8787C22.2982 12.4591 22.8328 12.1734 23.4147 12.0576C23.9967 11.9419 24.5999 12.0013 25.1481 12.2284C25.6962 12.4554 26.1648 12.8399 26.4944 13.3333C26.8241 13.8266 27 14.4067 27 15C27 15.7956 26.6839 16.5587 26.1213 17.1213C25.5587 17.6839 24.7957 18 24 18ZM26.3149 23.6788C26.7672 22.8295 27 21.9193 27 21H18H9C9 21.9193 9.23279 22.8295 9.68508 23.6788C10.1374 24.5281 10.8003 25.2997 11.636 25.9497C12.4718 26.5998 13.4639 27.1154 14.5558 27.4672C15.6478 27.8189 16.8181 28 18 28C19.1819 28 20.3522 27.8189 21.4442 27.4672C22.5361 27.1154 23.5282 26.5998 24.364 25.9497C25.1997 25.2997 25.8626 24.5281 26.3149 23.6788Z",
          }),
        );
      }
      function oe(e) {
        return r.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 36 36",
              fill: "none",
            },
            e,
          ),
          r.createElement("path", {
            fill: "currentColor",
            d: "M14.7163 7.6875L17.2476 15.5344C17.564 16.6102 18.4499 17.4328 19.5257 17.8125L27.3726 20.3438L19.5257 22.875C18.4499 23.1914 17.6273 24.0773 17.2476 25.1531L14.7163 33L12.1851 25.1531C11.8687 24.0773 10.9827 23.2547 9.90696 22.875L2.06009 20.3438L9.90696 17.8125C10.9827 17.4961 11.8054 16.6102 12.1851 15.5344L14.7163 7.6875Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M24.488 3L25.7861 7.06499C25.9591 7.63321 26.3918 8.07031 26.9543 8.24514L30.9784 9.55643L26.9543 10.8677C26.3918 11.0426 25.9591 11.4796 25.7861 12.0479L24.488 16.1129L23.1899 12.0479C23.0168 11.4796 22.5841 11.0426 22.0216 10.8677L17.9976 9.55643L22.0216 8.24514C22.5841 8.07031 23.0168 7.63321 23.1899 7.06499L24.488 3Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M8.11778 3.9375L8.76682 5.99185C8.85336 6.25411 9.0697 6.47265 9.32932 6.56007L11.363 7.21571L9.32932 7.87136C9.0697 7.95878 8.85336 8.17732 8.76682 8.43958L8.11778 10.4939L7.46874 8.43958C7.3822 8.17732 7.16586 7.95878 6.90624 7.87136L4.87259 7.21571L6.90624 6.56007C7.16586 6.47265 7.3822 6.25411 7.46874 5.99185L8.11778 3.9375Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M30.6178 12.375L31.2668 14.4293C31.3534 14.6916 31.5697 14.9102 31.8293 14.9976L33.863 15.6532L31.8293 16.3089C31.5697 16.3963 31.3534 16.6148 31.2668 16.8771L30.6178 18.9314L29.9687 16.8771C29.8822 16.6148 29.6659 16.3963 29.4062 16.3089L27.3726 15.6532L29.4062 14.9976C29.6659 14.9102 29.8822 14.6916 29.9687 14.4293L30.6178 12.375Z",
          }),
          r.createElement("path", {
            fill: "currentColor",
            d: "M25.9303 24.5625L26.5793 26.6168C26.6659 26.8791 26.8822 27.0977 27.1418 27.1851L29.1755 27.8407L27.1418 28.4964C26.8822 28.5838 26.6659 28.8023 26.5793 29.0646L25.9303 31.1189L25.2812 29.0646C25.1947 28.8023 24.9784 28.5838 24.7187 28.4964L22.6851 27.8407L24.7187 27.1851C24.9784 27.0977 25.1947 26.8791 25.2812 26.6168L25.9303 24.5625Z",
          }),
        );
      }
      function se(e) {
        const { className: t } = e,
          n = (0, a._T)(e, ["className"]);
        return r.createElement(
          "svg",
          Object.assign(
            {
              className: (0, p.Z)("SVGIcon_Button SVGIcon_Clock", t),
              version: "1.1",
              x: "0px",
              y: "0px",
              width: "20px",
              height: "20px",
              viewBox: "0 0 24 24",
            },
            n,
          ),
          r.createElement("path", {
            d: "M15.999 15c-.15 0-.303-.034-.446-.105l-4-2A1.001 1.001 0 0111 12V5a1 1 0 012 0v6.382l3.447 1.724A1 1 0 0115.999 15zM12 24C5.383 24 0 18.617 0 12S5.383 0 12 0s12 5.383 12 12-5.383 12-12 12zm0-22C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2z",
          }),
        );
      }
      (0, a.gn)([h.ak], ie.prototype, "SetVisible", null);
    },
    63109: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => E });
      var a = n(85556),
        i = n(47427),
        l = n(27605),
        r = n(20417),
        o = n(82493),
        s = n(91618),
        c = n(95315),
        m = n(33682),
        d = n(31846),
        u = n(13129),
        p = n(87368),
        _ = n.n(p),
        h = n(7686);
      const g = 1576780700;
      let v = class extends i.Component {
        OnEmoticonClick(e) {
          var t;
          const {
            emoticonStore: n,
            strFlairGroupID: a,
            SetUIDisplayPref: l,
            contextOptions: r,
            bShowChatAddons: o,
          } = this.props;
          let s = null;
          if (
            ((s = o
              ? i.createElement(m.hp, {
                  emoticonStore: this.props.emoticonStore,
                  emoticonHoverStore: this.props.emoticonHoverStore,
                  strFlairGroupID: this.props.strFlairGroupID,
                  onEmoticonSelected: (e) =>
                    this.props.OnEmoticonSelected(e, !1),
                  roomEffectSettings: this.props.roomEffectSettings,
                  onRoomEffectSelected: this.props.onRoomEffectSelected,
                  onStickerSelected: this.props.onStickerSelected,
                })
              : a &&
                  n.flair_list &&
                  (null === (t = n.GetFlairListByGroupID(a)) || void 0 === t
                    ? void 0
                    : t.length) > 0
                ? i.createElement(m.uC, {
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: this.props.emoticonHoverStore,
                    strFlairGroupID: this.props.strFlairGroupID,
                    OnSelected: this.props.OnEmoticonSelected,
                  })
                : i.createElement(m.ag, {
                    emoticonStore: this.props.emoticonStore,
                    emoticonHoverStore: this.props.emoticonHoverStore,
                    strFlairGroupID: this.props.strFlairGroupID,
                    OnSelected: this.props.OnEmoticonSelected,
                  })),
            (0, c.yV)(
              s,
              e,
              r || {
                bOverlapHorizontal: !0,
                bPreferPopLeft: !0,
                bPreferPopTop: !0,
              },
            ),
            this.BHaveUnseenEmoticons() && l)
          ) {
            let e = this.GetNewestIndicatorTime();
            (!e || e < g) && (e = g), l("rtLastAckedNewEmoticons", e);
          }
        }
        GetNewestIndicatorTime() {
          let e = this.props.emoticonStore,
            t = Number.MIN_SAFE_INTEGER,
            n = e.GetTimeReceivedNewestEmoticon();
          n && (t = n);
          let a = e.GetTimeReceivedForStickerOrEffect();
          return (t = Math.max(a, t)), t > Number.MIN_SAFE_INTEGER ? t : void 0;
        }
        BHaveUnseenEmoticons() {
          const { rtLastAckedNewEmoticons: e } = this.props;
          let t = this.GetNewestIndicatorTime();
          return !e || e < g || (t && (!e || e < t));
        }
        render() {
          const { disabled: e, className: t, ttip: n, useImg: a } = this.props;
          let l = [t],
            r = !1;
          return (
            e ? l.push("disabled") : this.BHaveUnseenEmoticons() && (r = !0),
            n && l.push("ttip"),
            a
              ? i.createElement(
                  s.s,
                  {
                    onClick: this.OnEmoticonClick,
                    onOKActionDescription: (0, d.Xx)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    focusable: !0,
                  },
                  i.createElement("img", {
                    src: this.props.useImg,
                    className: (0, u.Z)(...l),
                    title:
                      this.props.title ||
                      (0, d.Xx)("#ChatEntryButton_Emoticon"),
                    "data-tooltip-text": n,
                  }),
                )
              : (l.push(_().chatSubmitButton, _().EmoticonPickerButton),
                i.createElement(
                  o.wl,
                  {
                    className: (0, u.Z)(...l),
                    onOKActionDescription: (0, d.Xx)(
                      "#ChatEntryButton_Emoticon",
                    ),
                    type: "button",
                    onClick: this.OnEmoticonClick,
                    title:
                      this.props.title ||
                      (0, d.Xx)("#ChatEntryButton_Emoticon"),
                    disabled: e,
                    "data-tooltip-text": n,
                  },
                  this.props.buttonIcon || i.createElement(h.tk, null),
                  r && i.createElement(m.D3, null),
                ))
          );
        }
      };
      (0, a.gn)([r.ak], v.prototype, "OnEmoticonClick", null),
        (v = (0, a.gn)([l.Pi], v));
      const E = v;
    },
    21167: (e, t, n) => {
      "use strict";
      n.d(t, { oZ: () => k, pL: () => w });
      var a = n(47427),
        i = n(82493),
        l = n(91618),
        r = n(58670),
        o = n(77151),
        s = (n(80886), n(85556)),
        c = n(37563);
      function m(e) {
        const { href: t, children: n, bAllowFocuseableAnchor: l } = e,
          r = (0, s._T)(e, ["href", "children", "bAllowFocuseableAnchor"]);
        return (0, c.h4)()
          ? a.createElement("div", Object.assign({}, r), n)
          : l
            ? a.createElement(i.IS, Object.assign({ href: t }, r), n)
            : a.createElement("a", Object.assign({ href: t }, r), n);
      }
      var d = n(62210),
        u = n(13129),
        p = n(31846),
        _ = n(24549),
        h = n(13499),
        g = n(71738);
      const v =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmz9LxDAYxpNyIhzICeIkiLM46KAf4EY9HBzcnDwXJ0cnFxddHdQP4ScQcXJxUvDP7qAOLg5Ot8TnpDhIkja5mL5t3hcechDS9Pmlb3mba6VSSqQcmUg8GAADYAAMgAHoQkr5K8QppGouvU9THZAbF+hvo3mDOjVfbOmbApsNMD/SPaDf5HuANQXQN4+fT4ax79CAqK9ZzSWvTYFWwYF2LH2rgHRP0T0W7rNs2maWg4yj2Uq5DtiAplIG0BcJhA1Al0thBsAAGEDToxVzMtQWL38LFBRTk6HHkAWQG+lEGMMpwAAYAANgAAyAATAABsAAGAADIPUw1POYs/ef5xkVAB5jb2KMSToFlFITaMaSBADzw32DK6idHIDc/CW0klwKlDB/bhtsUlEsUjEP3VrO8wySJp+1BlDWvG2hawvAxXzjALiatwEYpRBad4BwgYLmS2NkGs2ax9y70LKh7wTaw3yqLE3fK8Al5nTmoYfA8xy5+swquoSHK38NLQQ87DFWfZ98KUzJfHQA1MxHBUDRfEwAJM3/PG5bvhkK+THRKzRTpXnjC6GRAISMA5g/9EhB5x2hJY+Tu/MY8whti3Kv3Q5g/jnoLlXR6/KOlJWH+S7m+ohwEya3HxDNPMUNERLmqwJAxnwVAEiZjw2AnPmiOiCJ4D9HUwfwLcAAxHgyaE4johYAAAAASUVORK5CYII=";
      var E = n(80289);
      const S =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtNJREFUeNrsmk1rE0EYgHe19ZBIY2kj4qUQVGjxAz2J4gcVvfmBP8FI8eZF8OJNL4oFPYrGX1CK4lEMiChe/aCClNBeRGxLTTE5GDU+Y2bDJG5rL5lZ950XnsxkE5h9n8zszkw2bDabgeTYEAgPL8AL8AK8AC/AC/AC5EafegnDcM0vMVvMUOyA7bBNswVymgHYDOp7m/SxUNczRlvZdZ5XDX7oeh2+q9OAqq6rY99gRR9TfIXPmk8wS171f+QVhH9eYgRw/BhFEQ7q5MP/7MdVwmbhNZTI8fm6BPBe/XoP4XzKevs0XCDX6qoCdPIvYE9Kh/xbOBpJULl3XwQfpDh5FXt1ju1o9wDKQ7x/KeTif5icX3X3gKKgu18xbh4wLkjAeMcQIPLwRdgcaCssRD1gTOAkcMwcAgWBAgqmgBGBAkZMAfkeN1ZPoIC8KWCox409hePwJkEChmwKCPRi5ABMJOSO0yFg2EaLSPgF96nuhFt6aesqhk0BgzZbRsIKXKU6Co8dCRg0BWRdnAESKnCO6gl4Z7n5rCmg3+VgREKZYj9cUrMzS832mwJyrq9ISPgJ9/T1YRIaPW4y170YSkSozQq4QnU3POl1e4ndFUbCRzhD9RS8FyfAVvQl9cRYpu+iuA2nRQnQG7PX4LKNu1MkoOr6TkDiGykuwnULi7Mo57aAhuPk1RbVncDujnTDvAjWHCVegEdUnwX2t+NrpoBly4kPwE2qH+Cso463bA6BRUuJK+FqS/pG0NqUdBmLpoAlC8mrP1vvwr6E3HCWbAo46bCrrykgugb0egWWSeBca8EUMC9wFjxvCqgIFFAxBcwIFDDTFsCyU42HOUHJz+mcO5bDZUECynH7ASVBAkp/CVBPTFBMCUh+Sufayts/JGWE/uBI0HqkLG0xbSYf2wNi5u7yHpRcZSGT7kdlJYd/XN4L8AK8AC/AC/ACvACx8VuAAQDxke5GRJ5P8AAAAABJRU5ErkJggg==";
      var D = n(10162),
        f = n(25006),
        y = n(46882),
        b = n(94930),
        I = n(20613),
        C = n(71741);
      function k(e) {
        const {
            creatorID: t,
            bShowTagline: n,
            bHideCreatorType: i,
            bSmallFormat: s,
            bHideFollowButton: d,
            bAddLinkToMemberList: g,
          } = e,
          v = (0, r.iG)(t.clan_account_id),
          [E] = (0, o.LA)();
        if (E || !v)
          return a.createElement(
            "div",
            { className: b.DevSummaryWidgetCtn },
            a.createElement(y.V, {
              string: (0, p.Xx)("#Loading"),
              size: "medium",
              position: "center",
            }),
          );
        const S = t.type,
          k =
            "developer" == t.type
              ? (0, p.Xx)("#CreatorHome_DevelopedBy")
              : "publisher" == t.type
                ? (0, p.Xx)("#CreatorHome_PublishedBy")
                : (0, p.Xx)("#CreatorHome_InFranchise"),
          w = v.GetCreatorHomeURL(S),
          P = v
            .GetSocialList()
            .map((e) =>
              a.createElement(A, {
                social: e,
                key: "creator_" + v.GetClanAccountID() + "_" + e.external_type,
              }),
            ),
          T = v.GetNumFollowers();
        return a.createElement(
          D.SV,
          null,
          a.createElement(
            f.ZP,
            { feature: "salecreatorhome" },
            a.createElement(
              l.s,
              {
                className: (0, u.Z)(
                  b.DevSummaryCtn,
                  s ? b.SmallFormat : b.LargeFormat,
                ),
                "flow-children": "row",
              },
              !i && a.createElement("span", { className: b.Title }, k),
              a.createElement(
                "div",
                { className: b.DevSummaryWidgetCtn },
                a.createElement("div", {
                  className: b.DevSummaryBackground,
                  style: {
                    backgroundImage: `url(${v.GetAvatarURLFullSize()} )`,
                  },
                }),
                a.createElement(
                  "div",
                  {
                    className: (0, u.Z)(
                      b.DevSummaryContent,
                      C.FlexColumnContainer,
                      C.FlexContainSpaceBetween,
                    ),
                  },
                  a.createElement(
                    "div",
                    { className: C.FlexRowContainer },
                    a.createElement(
                      m,
                      {
                        href: (0, h.OL)(w),
                        className: b.AvatarLink,
                        bAllowFocuseableAnchor: !0,
                      },
                      a.createElement("img", {
                        className: (0, u.Z)(b.Avatar, "Avatar_Trgt"),
                        src: v.GetAvatarURLFullSize(),
                      }),
                    ),
                    a.createElement(
                      "div",
                      {
                        className: (0, u.Z)(
                          C.FlexColumnContainer,
                          b.CreatorDescCtn,
                        ),
                      },
                      a.createElement(
                        "div",
                        {
                          className: (0, u.Z)(
                            b.CreatorTitleCtn,
                            C.FlexColumnContainer,
                          ),
                        },
                        a.createElement(
                          m,
                          { href: (0, h.OL)(w), className: b.CreatorNameName },
                          v.GetName(),
                        ),
                        Boolean(n) &&
                          a.createElement(
                            "div",
                            {
                              className: (0, u.Z)(
                                C.FlexColumnContainer,
                                b.CreatorTagline,
                              ),
                            },
                            v.GetTagLine(),
                          ),
                      ),
                      a.createElement(
                        "div",
                        {
                          className: (0, u.Z)(
                            s ? C.FlexColumnContainer : C.FlexRowContainer,
                            b.SocialFollowersCtn,
                          ),
                        },
                        a.createElement(
                          "div",
                          { className: b.FollowBtnCtn },
                          Boolean(!d) &&
                            a.createElement(I.C4, {
                              clanAccountID: t.clan_account_id,
                              creatorID: t,
                            }),
                          a.createElement(
                            "div",
                            { className: b.Followers },
                            a.createElement("span", null, (0, _.AV)(T)),
                            a.createElement("br", null),
                            (0, p.Xx)("#CreatorHome_JustFollowers"),
                          ),
                        ),
                        Boolean(P.length > 0) &&
                          a.createElement(
                            "div",
                            {
                              className: (0, u.Z)(
                                b.SocialContainer,
                                C.FlexColumnContainer,
                              ),
                            },
                            P,
                          ),
                      ),
                    ),
                  ),
                  Boolean(g) &&
                    a.createElement(
                      "a",
                      {
                        href:
                          c.De.COMMUNITY_BASE_URL +
                          "gid/" +
                          v.GetClanSteamID().ConvertTo64BitString() +
                          "/members/",
                        target: "_blank",
                        className: b.MembersListLink,
                      },
                      (0, p.Xx)("#ClanMembershipList"),
                    ),
                ),
              ),
            ),
          ),
        );
      }
      function A(e) {
        const { social: t } = e;
        let n = "";
        switch (t.external_type) {
          case 3:
          case 7:
            n = g.Z;
            break;
          case 5:
            n = v;
            break;
          case 4:
            n = E.Z;
            break;
          case 6:
            n = S;
        }
        const l = (0, h.bk)(t.external_url);
        return a.createElement(
          i.IS,
          {
            href: l,
            target: c.De.IN_CLIENT ? void 0 : "_blank",
            "data-tooltip-text": t.external_user_name
              ? t.external_user_name
              : t.external_url,
            className: (0, u.Z)(b.SocialLink),
          },
          a.createElement("img", { className: (0, u.Z)(b.SocialImg), src: n }),
          a.createElement("div", null, (0, _.AV)(t.external_follows)),
        );
      }
      function w(e) {
        const { clanInfo: t, bAddLinkToMemberList: n } = e;
        if (
          ((0, d.X)(
            t && t.clanAccountID,
            "CuratorHoverContent expect clanInfo, not supplied",
          ),
          !t)
        )
          return null;
        const i = {
          clan_account_id: t.clanAccountID,
          name: t.group_name,
          type: "developer",
        };
        return a.createElement(
          "div",
          { className: b.CuratorHoverCtn },
          a.createElement(k, {
            creatorID: i,
            bSmallFormat: !0,
            bShowTagline: !0,
            bHideCreatorType: !0,
            bAddLinkToMemberList: !0,
          }),
        );
      }
    },
    93803: (e, t, n) => {
      "use strict";
      n.d(t, { d: () => zt });
      var a = n(85556),
        i = n(47427),
        l = n(83682),
        r = n(4481),
        o = n(29525),
        s = n(60646),
        c = n(33682),
        m = n(13499),
        d = n(23231);
      class u extends r.DX {
        constructor(e, t, n, a) {
          super(e),
            (this.m_LinkFilter = m.H7),
            (this.m_parentNode = void 0),
            (this.m_parentNode = t),
            (this.m_mapHostToComponent = n),
            (this.m_globalStoreLink = a);
        }
        AppendText(e, t = !1) {
          let n = e;
          if (
            t &&
            (null == this.m_parentNode || "img" != this.m_parentNode.tag)
          ) {
            let e = this.m_LinkFilter.exec(n);
            for (; e; ) {
              if (e.index > 0) {
                let n = e.input.substr(0, e.index);
                super.AppendText(n, t);
              }
              let a = e[0],
                i = !1;
              if (this.m_mapHostToComponent)
                for (let e = 0; e < this.m_mapHostToComponent.length; ++e)
                  if (this.m_mapHostToComponent[e].urlRegExp.exec(a)) {
                    (i = !0),
                      super.AppendNode(
                        this.m_mapHostToComponent[e].fnBBComponent(
                          a,
                          this.m_globalStoreLink,
                        ),
                      );
                    break;
                  }
              i || super.AppendNode((0, d.hF)(a)),
                (n = e.input.substr(e.index + a.length)),
                (e = this.m_LinkFilter.exec(n));
            }
          }
          n.length > 0 && super.AppendText(n, t);
        }
      }
      class p extends r.DX {
        constructor() {
          super(...arguments),
            (this.m_EmoteRegex = new RegExp("[:]([a-zA-Z0-9_]+)[:]"));
        }
        AppendText(e, t = !1) {
          let n = e;
          if (e.length >= 3) {
            let e = this.m_EmoteRegex.exec(n);
            for (; e; ) {
              if (e.index > 0) {
                let n = e.input.substr(0, e.index);
                super.AppendText(n, t);
              }
              let a = e[1];
              super.AppendNode(
                i.createElement(
                  c.tk,
                  { emoticonHoverStore: s.$, emoticon: a },
                  [],
                ),
              ),
                (n = e.input.substr(e.index + a.length + 2)),
                (e = this.m_EmoteRegex.exec(n));
            }
          }
          n.length > 0 && super.AppendText(n, t);
        }
      }
      class _ extends r.DX {
        constructor(e, t) {
          super(e), (this.m_parentNode = void 0), (this.m_parentNode = t);
        }
        AppendText(e, t = !1) {
          let n = e;
          this.m_parentNode &&
            "img" == this.m_parentNode.tag &&
            (n = (0, m.et)(n)),
            super.AppendText(n, t);
        }
      }
      var h = n(20417),
        g = n(89e3),
        v = n(35427),
        E = n(45010),
        S = n(14411),
        D = n.n(S),
        f = n(90286),
        y = n(29480),
        b = n(16649),
        I = n(31846),
        C = n(37563);
      const k = (e) => /^\d+$/.test(e);
      function A(e) {
        const { sharedFileID: t } = e,
          n = (0, y.T)("SharedFileSnippet"),
          [l, r] = (0, i.useState)(!1),
          [o, s] = (0, i.useState)(() => ({
            sharedfileid: t,
            title: (0, I.Xx)("#Loading"),
            description: "",
            type: "",
            previewurl: "",
            appid: 0,
            url: C.De.COMMUNITY_BASE_URL + "sharedfiles/filedetails/?id=" + t,
          }));
        (0, i.useEffect)(() => {
          (() => {
            (0, a.mG)(this, void 0, void 0, function* () {
              try {
                const e = yield f.A.LoadSharedFileDynamicData([t], n);
                if (!n.token.reason && e.length > 0) {
                  const t = e[0];
                  k(t.url) &&
                    (t.url =
                      C.De.COMMUNITY_BASE_URL +
                      "sharedfiles/filedetails/?id=" +
                      t.url),
                    s(t),
                    console.log(e[0]),
                    r(!0);
                }
              } catch (e) {
                const t = (0, b.l)(e);
                console.error("SharedFileSnippet: " + t.strErrorMsg, t);
              }
            });
          })();
        }, [n, t]);
        let c = void 0 !== o.personnaname && o.personnaname.length > 0;
        return i.createElement(
          "a",
          {
            href: o.url,
            className: D().DynamicLinkBox,
            "data-modal-content-sizetofit": !!o.bSizeToFit,
            "data-appid": o.appid,
            "data-publishedfileid": t,
          },
          i.createElement("img", {
            className: D().DynamicLink_Preview,
            src: o.previewurl,
          }),
          i.createElement(
            "div",
            { className: D().DynamicLink_Content },
            i.createElement(
              "div",
              { className: D().DynamicLink_Name },
              o.title,
            ),
            i.createElement(
              "div",
              null,
              i.createElement(
                "span",
                { className: D().DynamicLink_Type },
                o.type,
              ),
            ),
            c &&
              i.createElement(
                "div",
                { className: D().DynamicLink_Author },
                (0, I.kQ)(
                  "#EventEditor_Author",
                  i.createElement(
                    "span",
                    { className: D().DynamicLink_AuthorName },
                    o.personnaname,
                  ),
                ),
              ),
            i.createElement(
              "div",
              { className: D().DynamicLink_Description },
              o.description,
            ),
          ),
        );
      }
      var w = n(62613),
        P = n(13129),
        T = n(80751),
        N = n.n(T),
        R = n(27605),
        G = n(77936),
        L = n(62698),
        B = n(93243),
        x = n(44174),
        M = n(15690),
        O = n(46882),
        F = n(28918),
        U = n(81913);
      let H = class extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bLoading: this.props.announcementGID
                ? !x.j1.BHasClanAnnouncementGID(this.props.announcementGID)
                : !x.j1.BHasClanAnnouncementGID(this.props.eventGID),
              bFailedLoad: !1,
            }),
            (this.m_cancelSignal = N().CancelToken.source());
        }
        componentDidMount() {
          this.HandleLoadEventInfo();
        }
        HandleLoadEventInfo() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const {
              appid: e,
              strVanity: t,
              announcementGID: n,
              eventGID: a,
              strGroupVanity: i,
            } = this.props;
            let l = this.props.clanSteamID;
            try {
              if (this.state.bLoading) {
                if (void 0 !== t) {
                  l = (yield B.sV.LoadOGGClanInfoForIdentifier(t)).clanSteamID;
                } else if (void 0 !== i) {
                  l = (yield B.sV.LoadOGGClanInfoForGroupVanity(i)).clanSteamID;
                }
                const r = x.j1.LoadPartnerEventGeneric(l, e, a, n, 0);
                let o = yield r;
                yield Promise.all([
                  M.Z.Get().QueueAppRequest(o.appid, {
                    include_assets: !0,
                    include_basic_info: !0,
                    include_release: !0,
                  }),
                ]),
                  this.setState({ bFailedLoad: !1, bLoading: !1 });
              }
            } catch (e) {
              this.HandleError(e);
            }
          });
        }
        HandleError(e) {
          let t = (0, b.l)(e);
          const {
            eventGID: n,
            announcementGID: a,
            strGroupVanity: i,
            strVanity: l,
          } = this.props;
          console.error(
            "EventSnippet hit error on announceGID " +
              a +
              " eventGID " +
              n +
              " strVanity " +
              l +
              " strGroupVanity " +
              i +
              " error: " +
              t.strErrorMsg,
          ),
            this.setState({ bFailedLoad: !0 });
        }
        componentWillUnmount() {
          this.m_cancelSignal.cancel("component unmounted");
        }
        render() {
          var e;
          const {
            appid: t,
            announcementGID: n,
            eventGID: a,
            strURL: l,
            fnFilterImageURLsForKnownFailures: r,
            fnImageFailureCallback: o,
          } = this.props;
          if (this.state.bFailedLoad) return (0, d.hF)(l);
          if (this.state.bLoading) return i.createElement(O.V, null);
          let s =
            void 0 !== n
              ? x.j1.GetClanEventFromAnnouncementGID(n)
              : x.j1.GetClanEventModel(a);
          if (null == s) return (0, d.hF)(l);
          let c = (0, G.jM)(C.De.LANGUAGE),
            m = s.GetImageForSizeAsArrayWithFallback(
              "capsule",
              c,
              L.FN.capsule_main,
            );
          r && (m = r(m));
          let u = s.GetNameWithFallback(c),
            p = s.GetSubTitleWithSummaryFallback(c),
            _ =
              null === (e = M.Z.Get().GetApp(t)) || void 0 === e
                ? void 0
                : e.GetName(),
            h = (0, I.$1)(s.GetStartTimeAndDateUnixSeconds());
          return i.createElement(
            U.JW,
            {
              eventModel: s,
              route: U.Ue.k_eView,
              className: D().DynamicLinkBox,
              "data-modal-content-sizetofit": !0,
              "data-appid": t,
            },
            i.createElement(F.j, {
              className: D().DynamicLink_Preview,
              rgSources: m,
              onIncrementalError: (e, t, n) => o && o(t),
            }),
            i.createElement(
              "div",
              { className: D().DynamicLink_Content },
              i.createElement(
                "div",
                { className: D().DynamicLink_Author },
                (0, I.Xx)(
                  28 == s.type
                    ? "#EventDisplay_Share_Announcement"
                    : "#EventDisplay_Share_Event",
                  _,
                ),
                i.createElement("span", { className: D().DynamicLink_Date }, h),
              ),
              i.createElement(
                "div",
                { className: D().DynamicLink_Name },
                i.createElement("div", { className: D().DynamicLink_Type }, u),
              ),
              i.createElement(
                "div",
                { className: D().DynamicLink_Description },
                p,
              ),
            ),
          );
        }
      };
      H = (0, a.gn)([R.Pi], H);
      var V = n(11448),
        X = n.n(V),
        j = n(64245),
        q = n.n(j);
      let W = class extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = { bSummaryMode: !0, bLoadedMetaData: !1 });
        }
        componentDidMount() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let e =
              "https://sketchfab.com/oembed?url=https://sketchfab.com/models/" +
              this.props.modelID;
            try {
              let t = yield N().get(e);
              this.setState({ bLoadedMetaData: !0, data: t.data });
            } catch (e) {
              this.setState({ bError: !0 }),
                console.error(
                  "SketchFabEmbed failed to load: " + (0, b.l)(e).strErrorMsg,
                );
            }
          });
        }
        OnSketchFabClick() {
          this.state.bLoadedMetaData && this.setState({ bSummaryMode: !1 });
        }
        render() {
          const { modelID: e } = this.props;
          return this.state.bError
            ? i.createElement(
                "div",
                {
                  className: q().dynamiclink_box,
                  onClick: this.OnSketchFabClick,
                },
                i.createElement("span", null, e),
                i.createElement(
                  "span",
                  null,
                  (0, I.Xx)("#EventDisplay_SketchFab_Error_Network"),
                ),
              )
            : this.state.bSummaryMode
              ? i.createElement(
                  "div",
                  {
                    className: q().dynamiclink_box,
                    onClick: this.OnSketchFabClick,
                  },
                  Boolean(this.state.bLoadedMetaData)
                    ? i.createElement(
                        i.Fragment,
                        null,
                        i.createElement("img", {
                          className: q().dynamiclink_preview,
                          src: this.state.data.thumbnail_url,
                        }),
                        i.createElement("img", {
                          className: q().sketchfab_play_overlay_image,
                        }),
                        i.createElement(
                          "div",
                          { className: q().dynamiclink_content },
                          i.createElement(
                            "div",
                            { className: q().dynamiclink_name },
                            i.createElement(
                              "span",
                              { className: q().dynamiclink_type },
                              (0, I.Xx)("#EventDisplay_Sketchfab"),
                            ),
                            i.createElement(
                              "div",
                              null,
                              this.state.data.title,
                              "",
                            ),
                          ),
                          i.createElement(
                            "div",
                            { className: q().dynamiclink_author },
                            this.state.data.author_name,
                          ),
                        ),
                      )
                    : i.createElement(O.V, { size: "medium" }),
                )
              : i.createElement(
                  "div",
                  { className: q().sketchfabmodelembedded },
                  i.createElement("iframe", {
                    className: q().sketchfabmodelembedded,
                    src:
                      "https://sketchfab.com/models/" +
                      this.props.modelID +
                      "/embed?autostart=1",
                    frameBorder: 0,
                    allowFullScreen: !0,
                  }),
                );
        }
      };
      (0, a.gn)([h.ak], W.prototype, "OnSketchFabClick", null),
        (W = (0, a.gn)([R.Pi], W));
      var z = n(54842),
        Z = n(79545),
        K = n(77581),
        Q = n(88016),
        Y = n(62210),
        J = n(45492);
      class $ {
        GetItem(e) {
          return this.m_mapDefIDtoDefinition.get(e);
        }
        GetItemChangeCallback(e) {
          return (
            this.m_defChangeCallback.has(e) ||
              this.m_defChangeCallback.set(e, new J.pB()),
            this.m_defChangeCallback.get(e)
          );
        }
        GetKeyCategoryAndClass(e, t) {
          return e + "_" + t;
        }
        GetItemsByCategoryAndClass(e, t) {
          const n = this.GetKeyCategoryAndClass(e, t);
          return this.m_mapCategoryAndClassToItems.get(n);
        }
        GetItemsByCategoryAndClassCallback(e, t) {
          const n = this.GetKeyCategoryAndClass(e, t);
          return (
            this.m_defCategoryAndClassToChangeCallback.has(n) ||
              this.m_defCategoryAndClassToChangeCallback.set(n, new J.pB()),
            this.m_defCategoryAndClassToChangeCallback.get(n)
          );
        }
        LoadRewardDefinition(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapDefIDToPromise.has(e) ||
                this.m_mapDefIDToPromise.set(
                  e,
                  this.InternalLoadRewardDefinition(e),
                ),
              this.m_mapDefIDToPromise.get(e)
            );
          });
        }
        InternalLoadRewardDefinition(e) {
          var t, n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_mapDefIDtoDefinition.has(e))
              return this.m_mapDefIDtoDefinition.get(e);
            const a = Z.gA.Init(Q.eQ);
            a.Body().set_definitionids([e]);
            let l = null;
            try {
              const r = yield Q.pQ.QueryRewardItems(
                this.m_SteamInterface.GetServiceTransport(),
                a,
              );
              if (
                1 == r.GetEResult() &&
                (null === (t = r.Body().definitions()) || void 0 === t
                  ? void 0
                  : t.length) > 0
              ) {
                (0, Y.X)(
                  1 ==
                    (null === (n = r.Body().definitions()) || void 0 === n
                      ? void 0
                      : n.length),
                  `Requested definition ID ${e} and receive # ${null === (i = r.Body().definitions()) || void 0 === i ? void 0 : i.length}, expecting exactly one.`,
                );
                const t = r.Body().definitions()[0].toObject();
                return (
                  this.m_mapDefIDtoDefinition.set(e, t),
                  this.GetItemChangeCallback(e).Dispatch(t),
                  t
                );
              }
              l = (0, b.l)(r);
            } catch (e) {
              l = (0, b.l)(e);
            }
            return (
              console.error(
                "CLoyaltyRewardDefinitionStore.LoadRewardDefinition failed: " +
                  (null == l ? void 0 : l.strErrorMsg),
                l,
              ),
              null
            );
          });
        }
        LoadRewardDefinitionByCategoryAndClass(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = this.GetKeyCategoryAndClass(e, t);
            return (
              this.m_mapCategoryAndClassToPromise.has(n) ||
                this.m_mapCategoryAndClassToPromise.set(
                  n,
                  this.InternalLoadRewardDefinitionByCategoryAndClass(e, t),
                ),
              this.m_mapCategoryAndClassToPromise.get(n)
            );
          });
        }
        InternalLoadRewardDefinitionByCategoryAndClass(e, t) {
          var n;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = this.GetKeyCategoryAndClass(e, t);
            if (this.m_mapCategoryAndClassToItems.has(a))
              return this.m_mapCategoryAndClassToItems.get(a);
            const i = Z.gA.Init(Q.eQ);
            i.Body().set_community_item_classes([t]),
              i.Body().set_filter_match_any_category_tags([e]);
            let l = null;
            try {
              const r = yield Q.pQ.QueryRewardItems(
                this.m_SteamInterface.GetServiceTransport(),
                i,
              );
              if (
                1 == r.GetEResult() &&
                (null === (n = r.Body().definitions()) || void 0 === n
                  ? void 0
                  : n.length) > 0
              ) {
                const n = r
                  .Body()
                  .definitions()
                  .map((e) => e.toObject());
                return (
                  n.forEach((e) => {
                    this.m_mapDefIDtoDefinition.has(e.defid) ||
                      (this.m_mapDefIDtoDefinition.set(e.defid, e),
                      this.GetItemChangeCallback(e.defid).Dispatch(e));
                  }),
                  this.m_mapCategoryAndClassToItems.set(a, n),
                  this.GetItemsByCategoryAndClassCallback(e, t).Dispatch(n),
                  ("dev" != C.De.WEB_UNIVERSE && "beta" != C.De.WEB_UNIVERSE) ||
                    console.log(
                      "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass loaded " +
                        n.length,
                    ),
                  n
                );
              }
              l = (0, b.l)(r);
            } catch (e) {
              l = (0, b.l)(e);
            }
            return (
              console.error(
                "CLoyaltyRewardDefinitionStore.LoadRewardDefinitionByCategoryAndClass failed: " +
                  (null == l ? void 0 : l.strErrorMsg),
                l,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            $.s_Singleton ||
              (($.s_Singleton = new $()),
              $.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_LoyaltyRewardDefinitionStore = $.s_Singleton)),
            $.s_Singleton
          );
        }
        constructor() {
          (this.m_mapDefIDtoDefinition = new Map()),
            (this.m_mapDefIDToPromise = new Map()),
            (this.m_defChangeCallback = new Map()),
            (this.m_mapCategoryAndClassToItems = new Map()),
            (this.m_mapCategoryAndClassToPromise = new Map()),
            (this.m_defCategoryAndClassToChangeCallback = new Map()),
            (this.m_SteamInterface = null);
        }
        Init() {
          this.m_SteamInterface = new K.J(C.De.WEBAPI_BASE_URL);
        }
      }
      var ee = n(59728),
        te = n(60537),
        ne = n.n(te);
      function ae(e) {
        const { defid: t, url: n } = e,
          a = (function (e) {
            const [t, n] = (0, i.useState)($.Get().GetItem(e));
            return (
              (0, i.useEffect)(() => {
                t || $.Get().LoadRewardDefinition(e);
              }, [e, t]),
              (0, h.Qg)($.Get().GetItemChangeCallback(e), n),
              t
            );
          })(t);
        if (!a || !a.community_item_data) return null;
        const l = a.appid,
          r = a.community_item_data.item_image_large,
          o = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${l}/${r}`;
        return (
          "dev" == C.De.WEB_UNIVERSE &&
            console.log("reward itemdef", (0, z.ZN)(a)),
          i.createElement(
            "div",
            { className: ne().Ctn },
            i.createElement(
              ee.HP,
              { toolTipContent: a.community_item_data.item_description },
              i.createElement("img", {
                src: o,
                alt: a.community_item_data.item_title,
              }),
            ),
          )
        );
      }
      var ie = n(55999),
        le = n(96008),
        re = n(80886),
        oe = n(86437);
      function se(e) {
        const { inputType: t, id: n } = e,
          [a] = (0, re.jk)(n, (0, oe.TM)(t), {});
        let l = "bundle" == t ? "bundle" : "sub" == t ? "sub" : "game";
        return i.createElement(
          "div",
          {
            className: (0, P.Z)(le.AppSummaryWidgetCtn, "AppSummaryWidgetCtn"),
          },
          i.createElement(ie.ju, {
            id: n,
            type: l,
            bShowDemoButton: 1 == (null == a ? void 0 : a.GetAppType()),
            bAllowTwoLinesForHeader: !0,
          }),
        );
      }
      const ce =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|store\.steamchina\.com)\/(app|bundle|sub)\/(\d+)/i,
        me =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/(games|app|ogg|gid|groups)\/(\w+)\/(?:announcements\/detail|partnerevents\/view_old_announcement)\/(\d+)/i,
        de =
          /(?:steamcommunity\.com|valve\.org\/community|community\.\S+\.steam\.dev|steam\.dev\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/partnerevents\/view\/(\d+)/i,
        ue =
          /(?:steampowered\.com|valve\.org\/store|store\.\S+\.steam\.dev|steam\.dev\/store|store\.steamchina\.com)\/(?:news|newshub)\/(group|app)\/(\w+)\/view\/(\d+)/i,
        pe = /:\/\/medal.tv\/(?:clip|clips)\/([a-z0-9]+)/i,
        _e = /sketchfab.com\/(?:models\/(?:[^\/\s]+-)?)([a-z0-9]{32})/i,
        he = /twitter\.com\/(\w+)(\/?)$/i,
        ge = /twitter\.com\/hashtag\/(\w+)(\/?)$/i,
        ve = /twitch\.tv\/(\w+)(\/?)$/i,
        Ee =
          /(?:steamcommunity\.com|valve\.org\/community|steam\.dev\/community|community\.\S+\.steam\.dev|my\.steamchina\.com)\/id\/(\w+)(\/?)$/i,
        Se =
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store|store\.steamchina\.com)\/points\/shop\/.*reward\/(\d+)$/i;
      let De = null;
      function fe(e, t) {
        if ((0, C.h4)()) return null;
        const n = (0, g.S6)(e);
        return void 0 !== (null == n ? void 0 : n.strVideoID)
          ? i.createElement(E.O, {
              videoID: n.strVideoID,
              nStartSeconds: n.nStartSeconds,
              classNameAlign: "",
              classNameSize: D().sizeFull,
              bShowVideoImmediately: !1,
            })
          : (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function ye(e, t) {
        if ((0, C.h4)()) return null;
        const n = new RegExp(pe).exec(e);
        if (n && n.length > 1) {
          const e = n[1];
          if ((null == e ? void 0 : e.length) > 0) {
            let n =
              "https://medal.tv/clip/" +
              e +
              "/?autoplay=0&donate=0" +
              (t && t.event ? "&steamappid=" + t.event.appid : "");
            return i.createElement("iframe", {
              className: V.MedalTVWidget,
              src: n,
              frameBorder: 0,
              allow: "autoplay",
            });
          }
        }
        return (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function be(e, t) {
        let n = new RegExp(_e).exec(e);
        if (n && n.length > 1) {
          let e = n[1];
          if (e && e.length > 1) return i.createElement(W, { modelID: e });
        }
        return (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function Ie(e, t) {
        const n = e.split("?");
        let a;
        if (2 == n.length) {
          const e = new URLSearchParams(n[1]);
          e.has("id") && (a = e.get("id"));
        }
        return void 0 !== a
          ? i.createElement(A, { sharedFileID: a })
          : (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function Ce(e) {
        let t = (0, m.FM)(e).toLocaleLowerCase(),
          n = (0, m.FM)(C.De.STORE_BASE_URL),
          a = (0, m.FM)(C.De.COMMUNITY_BASE_URL);
        const i =
          "dev" === C.De.WEB_UNIVERSE ||
          (0, m.FM)(C.De.STORE_BASE_URL).endsWith(".steam.dev");
        return (
          t == n ||
          t == a ||
          (i &&
            (t.includes("steampowered.com") ||
              t.includes("steamcommunity.com") ||
              t.includes("steamchina.com")))
        );
      }
      function ke(e, t) {
        if (Ce(e)) {
          let t = new RegExp(ce).exec(e);
          if (t && t.length > 2) {
            let e = t[1],
              n = Number(t[2]);
            if (n > 0) return i.createElement(se, { id: n, inputType: e });
          }
        }
        return (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function Ae(e, t) {
        if (Ce(e)) {
          const t = new RegExp(Se).exec(e);
          if (t && t.length > 1) {
            const n = Number(t[1]);
            if (n > 0)
              return i.createElement(
                "div",
                { className: (0, P.Z)(V.LoyaltyRewardCtn) },
                i.createElement(ae, { defid: n, url: e }),
              );
          }
        }
        return (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function we(e, t) {
        if (Ce(e)) {
          let t = new RegExp(me).exec(e);
          if (t && t.length > 2) {
            let n, a, l, r;
            "gid" == t[1]
              ? (a = new v.K(t[2]))
              : "groups" == t[1]
                ? (r = t[2])
                : isNaN(+t[2])
                  ? (l = t[2])
                  : (n = Number(t[2]));
            let o = t[3];
            if (
              ((void 0 !== n && n > 0) ||
                void 0 !== l ||
                void 0 !== r ||
                void 0 !== a) &&
              null != o &&
              o.length > 0
            )
              return i.createElement(H, {
                appid: n,
                clanSteamID: a,
                strVanity: l,
                strGroupVanity: r,
                announcementGID: o,
                strURL: e,
              });
          }
        }
        return (0, d.hF)(e, null == t ? void 0 : t.event);
      }
      function Pe(e, t) {
        return xe(ue, e, t);
      }
      function Te(e, t) {
        return xe(de, e, t);
      }
      function Ne(e, t) {
        return (0, C.h4)() ? null : Be(e, i.createElement(w.tLe, null), "@", t);
      }
      function Re(e, t) {
        return (0, C.h4)() ? null : Be(e, i.createElement(w.tLe, null), "#", t);
      }
      function Ge(e, t) {
        return (0, C.h4)()
          ? null
          : Be(e, i.createElement(w.Lk$, null), void 0, t);
      }
      function Le(e, t) {
        return Be(e, i.createElement(w.ui7, null), void 0, t);
      }
      function Be(e, t, n, a) {
        let l;
        const r = e.endsWith("/") ? e.length - 1 : e.length,
          o = e.lastIndexOf("/", r - 1);
        -1 != o && o + 1 < e.length && (l = e.substring(o + 1, r)),
          n && l && (l = n + l);
        const s = (0, d.hF)(e, null == a ? void 0 : a.event, null != l ? l : e);
        return i.createElement(
          "div",
          { className: V.SocialLink },
          i.createElement("div", { className: V.SocialIcon }, t),
          s,
        );
      }
      function xe(e, t, n) {
        if (Ce(t)) {
          let n = new RegExp(e).exec(t);
          if (n && n.length > 2) {
            let e, a, l, r;
            "gid" == n[1]
              ? (a = new v.K(n[2]))
              : "group" == n[1]
                ? (a = v.K.InitFromClanID(Number.parseInt(n[2])))
                : "groups" == n[1]
                  ? (r = n[2])
                  : isNaN(+n[2])
                    ? (l = n[2])
                    : (e = Number(n[2]));
            const o = n[3];
            if (
              ((void 0 !== e && e > 0) ||
                void 0 !== l ||
                void 0 !== r ||
                void 0 !== a) &&
              null != o &&
              o.length > 0
            )
              return i.createElement(H, {
                appid: e,
                clanSteamID: a,
                strVanity: l,
                strGroupVanity: r,
                eventGID: o,
                strURL: t,
              });
          }
        }
        return (0, d.hF)(t, null == n ? void 0 : n.event);
      }
      var Me = n(51688);
      class Oe {
        constructor() {
          (this.file = void 0),
            (this.dataURL = void 0),
            (this.timestamp = 0),
            (this.imageWidth = 0),
            (this.imageHeight = 0),
            (this.eUploadState = 0),
            (this.uploadProgress = 0),
            (this.strErrorDescription = void 0),
            (0, z.rC)(this);
        }
      }
      (0, a.gn)([z.LO], Oe.prototype, "file", void 0),
        (0, a.gn)([z.LO], Oe.prototype, "dataURL", void 0),
        (0, a.gn)([z.LO], Oe.prototype, "imageWidth", void 0),
        (0, a.gn)([z.LO], Oe.prototype, "imageHeight", void 0),
        (0, a.gn)([z.LO], Oe.prototype, "eUploadState", void 0),
        (0, a.gn)([z.LO], Oe.prototype, "uploadProgress", void 0),
        (0, a.gn)([z.LO], Oe.prototype, "strErrorDescription", void 0);
      class Fe {
        constructor(e) {
          (this.m_fileUploadProps = new Oe()),
            (0, z.rC)(this),
            (this.m_Callbacks = e);
        }
        get file_upload_props() {
          return this.m_fileUploadProps;
        }
        get file_upload_data_url() {
          return this.m_fileUploadProps.dataURL;
        }
        get file() {
          return this.m_fileUploadProps.file;
        }
        LogFileUploadMessage(e) {
          this.m_Callbacks.LogFileUploadMessage &&
            this.m_Callbacks.LogFileUploadMessage(e);
        }
        SetUploadFileError(e, t) {
          (this.m_fileUploadProps.eUploadState = e),
            (this.m_fileUploadProps.strErrorDescription = t),
            (this.m_fileUploadProps.displayFileName = null);
        }
        SetImageFileToUpload(e, t = Ue) {
          var n, i, l;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!e) return void this.SetFileToUpload(null);
            const a =
              null !==
                (l =
                  null === (i = (n = this.m_Callbacks).GetFileNameOverride) ||
                  void 0 === i
                    ? void 0
                    : i.call(n)) && void 0 !== l
                ? l
                : e.name;
            if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
              return void this.SetUploadFileError(
                4,
                (0, I.Xx)(
                  "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                  a,
                  this.m_Callbacks.GetMaxFileSizeMB(),
                ),
              );
            let r = e.name.split(".").pop().toLowerCase();
            if (
              -1 ==
              [
                "jpg",
                "jpeg",
                "png",
                "gif",
                "webm",
                "mpg",
                "mp4",
                "mpeg",
                "ogv",
              ].indexOf(r)
            )
              return void this.SetUploadFileError(
                5,
                (0, I.Xx)("#Chat_Settings_Error_ChatFileTypeNotSupported", a),
              );
            const o = yield t(e);
            this.SetFileToUpload(o.file),
              (this.m_fileUploadProps.imageHeight = o.height),
              (this.m_fileUploadProps.imageWidth = o.width);
          });
        }
        SetOtherFileToUpload(e) {
          var t, n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!e) return void this.SetFileToUpload(null);
            const a =
              null !==
                (i =
                  null === (n = (t = this.m_Callbacks).GetFileNameOverride) ||
                  void 0 === n
                    ? void 0
                    : n.call(t)) && void 0 !== i
                ? i
                : e.name;
            if (e.size > 1024 * this.m_Callbacks.GetMaxFileSizeMB() * 1024)
              return void this.SetUploadFileError(
                4,
                (0, I.Xx)(
                  "#Chat_Settings_Error_ChatFileTooLarge_dynamic",
                  a,
                  this.m_Callbacks.GetMaxFileSizeMB(),
                ),
              );
            let l = e.name.split(".").pop().toLowerCase();
            -1 != ["zip"].indexOf(l)
              ? this.SetFileToUpload(e)
              : this.SetUploadFileError(
                  5,
                  (0, I.Xx)("#Chat_Settings_Error_ChatFileTypeNotSupported", a),
                );
          });
        }
        SetFileToUpload(e) {
          if (
            ((this.m_fileUploadProps.file = e),
            (this.m_fileUploadProps.dataURL = null),
            (this.m_fileUploadProps.hmac = null),
            (this.m_fileUploadProps.sha1 = null),
            (this.m_fileUploadProps.imageWidth = 0),
            (this.m_fileUploadProps.imageHeight = 0),
            !e)
          )
            return void (this.m_fileUploadProps.eUploadState = 0);
          this.m_fileUploadProps.eUploadState = 1;
          let t = "";
          for (; t.length < 40; )
            t += Math.floor(16 * Math.random()).toString(16);
          let n = "";
          try {
            n = URL.createObjectURL(e);
          } catch (e) {
            console.error(`Failed to created object URL from file: ${e}`);
          }
          (this.m_fileUploadProps.dataURL = n),
            (this.m_fileUploadProps.displayFileName = e.name),
            (this.m_fileUploadProps.uploadFileName =
              window.performance.now() + "_" + e.name),
            (this.m_fileUploadProps.sha1 = t),
            (this.m_fileUploadProps.hmac = ""),
            (this.m_fileUploadProps.timestamp = 0);
        }
        RetryFileUpload() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.BeginFileUpload(this.m_fileUploadProps.additionalProps);
          });
        }
        BeginFileUpload(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = this.m_fileUploadProps.file;
            if (!t)
              throw (
                ((0, Y.X)(
                  !1,
                  "Must SetImageFileToUpload before calling BeginFileUpload",
                ),
                new Error("Invalid State"))
              );
            (this.m_fileUploadProps.eUploadState = 2),
              (this.m_fileUploadProps.uploadProgress = 0),
              (this.m_fileUploadProps.additionalProps = e);
            let n = new FormData();
            n.append("sessionid", C.De.SESSIONID),
              n.append("l", C.De.LANGUAGE),
              n.append("file_size", t.size.toString()),
              n.append("file_name", this.m_fileUploadProps.uploadFileName),
              n.append("file_sha", this.m_fileUploadProps.sha1),
              n.append(
                "file_image_width",
                this.m_fileUploadProps.imageWidth.toString(),
              ),
              n.append(
                "file_image_height",
                this.m_fileUploadProps.imageHeight.toString(),
              ),
              n.append("file_type", t.type),
              this.m_Callbacks.PopulateBeginFileUploadFormData &&
                this.m_Callbacks.PopulateBeginFileUploadFormData(
                  n,
                  this.file_upload_props.additionalProps,
                );
            try {
              let e,
                t = yield fetch(
                  this.m_Callbacks.GetBeginFileUploadURL() +
                    `?l=${C.De.LANGUAGE}`,
                  { method: "POST", body: n, credentials: "include" },
                );
              try {
                e = yield t.json();
              } catch (e) {}
              if (!e || !e.result) throw new Error();
              if (!t.ok) {
                let n = null;
                throw (
                  ((0, z.z)(() => {
                    (this.m_fileUploadProps.eUploadState = 3),
                      this.LogFileUploadMessage(t),
                      (n = (null == e ? void 0 : e.message)
                        ? null == e
                          ? void 0
                          : e.message
                        : (0, I.Xx)("#Chat_Settings_Error_ServerError")),
                      (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                        "#Chat_Upload_ErrorStart",
                        n,
                      ));
                  }),
                  n)
                );
              }
              return (
                (this.m_fileUploadProps.timestamp = e.timestamp),
                (this.m_fileUploadProps.hmac = e.hmac),
                this.DoFileUpload(e.result)
              );
            } catch (e) {
              let t = e || (0, I.Xx)("#ConnectionTrouble_FailedToConnect");
              throw (
                ((0, z.z)(() => {
                  (this.m_fileUploadProps.eUploadState = 3),
                    (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                      "#Chat_Upload_ErrorStart",
                      t,
                    ));
                }),
                t)
              );
            }
          });
        }
        DoFileUpload(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = this.m_fileUploadProps.file,
              n = e.use_https ? "https://" : "http://";
            n += e.url_host + e.url_path;
            let a = {
              onUploadProgress: (e) => {
                let t = (e.loaded / e.total) * 100;
                t > this.m_fileUploadProps.uploadProgress &&
                  (0, z.z)(() => {
                    this.m_fileUploadProps.uploadProgress = t;
                  });
              },
              headers: {},
              transformRequest: [(e) => e],
            };
            for (let t = 0; t < e.request_headers.length; ++t) {
              let n = e.request_headers[t];
              "Content-Length" != n.name &&
                "Host" != n.name &&
                (a.headers[n.name] = n.value);
            }
            try {
              return yield N().put(n, t, a), this.CommitFileUpload(!0, e.ugcid);
            } catch (t) {
              throw (
                (this.LogFileUploadMessage(t.response),
                (0, z.z)(() => {
                  (this.m_fileUploadProps.strErrorDescription = (0, I.Xx)(
                    "#Chat_Upload_ErrorCloud",
                  )),
                    (this.m_fileUploadProps.eUploadState = 3),
                    (this.m_fileUploadProps.uploadProgress = 0);
                }),
                this.CommitFileUpload(!1, e.ugcid),
                this.m_fileUploadProps.strErrorDescription)
              );
            }
          });
        }
        CommitFileUpload(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = this.m_fileUploadProps.file,
              a = this.m_fileUploadProps.sha1,
              i = new FormData();
            i.append("sessionid", C.De.SESSIONID),
              i.append("l", C.De.LANGUAGE),
              i.append("file_name", this.m_fileUploadProps.uploadFileName),
              i.append("file_sha", a),
              i.append("success", e ? "1" : "0"),
              i.append("ugcid", t),
              i.append("file_type", n.type),
              i.append(
                "file_image_width",
                this.m_fileUploadProps.imageWidth.toString(),
              ),
              i.append(
                "file_image_height",
                this.m_fileUploadProps.imageHeight.toString(),
              ),
              i.append(
                "timestamp",
                this.m_fileUploadProps.timestamp.toString(),
              ),
              i.append("hmac", this.m_fileUploadProps.hmac),
              this.m_Callbacks.PopulateCommitFileUploadFormData(
                i,
                this.file_upload_props.additionalProps,
              );
            try {
              let t = yield fetch(this.m_Callbacks.GetCommitFileUploadURL(), {
                method: "POST",
                body: i,
              });
              return (
                e
                  ? ((this.m_fileUploadProps.uploadProgress = 0),
                    (this.m_fileUploadProps.eUploadState = 6))
                  : (this.m_fileUploadProps.eUploadState = 3),
                t
              );
            } catch (t) {
              if (!e) return null;
              let n = null;
              throw (
                ((0, z.z)(() => {
                  if (
                    (this.LogFileUploadMessage(t),
                    (this.m_fileUploadProps.uploadProgress = 0),
                    (this.m_fileUploadProps.eUploadState = 3),
                    t.response)
                  ) {
                    let e = t.response.data;
                    t.response.status, e && e.success;
                    n = e.message
                      ? e.message
                      : (0, I.Xx)("#Chat_Settings_Error_ServerError");
                  } else n = (0, I.Xx)("#ConnectionTrouble_FailedToConnect");
                  this.m_fileUploadProps.strErrorDescription = `Failed to commit upload: ${n}`;
                }),
                n)
              );
            }
          });
        }
        ClearFileUploadError() {
          (3 != this.m_fileUploadProps.eUploadState &&
            4 != this.m_fileUploadProps.eUploadState &&
            5 != this.m_fileUploadProps.eUploadState) ||
            this.Reset();
        }
        Reset() {
          this.SetFileToUpload(null);
        }
      }
      function Ue(e) {
        return new Promise((t) => {
          let n = new FileReader();
          (n.onload = () => {
            let a = e,
              i = (function (e) {
                let t = new DataView(e),
                  n = 0,
                  a = 0,
                  i = [],
                  l = 0;
                if (65496 == t.getUint16(n)) {
                  n += 2;
                  let r = t.getUint16(n);
                  for (n += 2; n < t.byteLength && n < 131072; ) {
                    if (65505 == r)
                      (i[l] = { recess: a, offset: n - 2 }),
                        (a = n + t.getUint16(n)),
                        l++;
                    else if (65498 == r) break;
                    (n += t.getUint16(n)), (r = t.getUint16(n)), (n += 2);
                  }
                  let o = e.byteLength - a;
                  if (
                    (i.forEach((e) => {
                      o += e.offset - e.recess;
                    }),
                    o === e.byteLength)
                  )
                    return e;
                  const s = new Uint8Array(o);
                  if (i.length > 0) {
                    let t = 0;
                    i.forEach((n) => {
                      let a = n.offset - n.recess;
                      s.set(new Uint8Array(e.slice(n.recess, n.offset)), t),
                        (t += a);
                    }),
                      s.set(new Uint8Array(e.slice(a)), t);
                  }
                  return s.buffer;
                }
                return e;
              })(n.result),
              l = new Blob([i], { type: e.type });
            if (l) {
              let t = l;
              (t.lastModifiedDate = new Date(e.lastModified)),
                (t.name = e.name),
                (a = t);
            }
            if (0 == e.type.indexOf("image")) {
              let n = new Image();
              (n.src = URL.createObjectURL(e)),
                (n.onload = (e) => {
                  t({ file: a, width: n.width, height: n.height });
                });
            } else t({ file: a, width: 0, height: 0 });
          }),
            n.readAsArrayBuffer(e);
        });
      }
      (0, a.gn)([z.aD], Fe.prototype, "SetUploadFileError", null),
        (0, a.gn)([z.aD], Fe.prototype, "SetImageFileToUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "SetOtherFileToUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "SetFileToUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "RetryFileUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "BeginFileUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "DoFileUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "CommitFileUpload", null),
        (0, a.gn)([z.aD], Fe.prototype, "ClearFileUploadError", null),
        (0, a.gn)([z.aD], Fe.prototype, "Reset", null);
      var He = n(72728),
        Ve = n(1485),
        Xe = n(58798),
        je = n(84478),
        qe = n(45418),
        We = n.n(qe);
      const ze = (e) => {
        const [t, n] = (0, i.useState)(!0),
          [l, r] = (0, i.useState)(null);
        if (
          ((0, i.useEffect)(() => {
            if (0 == e.appid || 0 == e.trailerBaseID)
              return void r((0, I.Xx)("#TrailerPlayer_ID_NotProvided"));
            (0, a.mG)(void 0, void 0, void 0, function* () {
              yield M.Z.Get().QueueAppRequest(e.appid, {
                include_trailers: !0,
              }),
                M.Z.Get().BHasApp(e.appid)
                  ? (M.Z.Get()
                      .GetApp(e.appid)
                      .GetAllTrailers()
                      .GetTrailerByID(e.trailerBaseID) ||
                      (console.error(
                        "Trailer " +
                          e.trailerBaseID +
                          " doesn't existed within appid " +
                          e.appid,
                      ),
                      r(
                        (0, I.Xx)(
                          "#TrailerPlayer_CouldNotLoad",
                          e.appid,
                          e.trailerBaseID,
                        ),
                      )),
                    n(!1))
                  : r(
                      (0, I.Xx)(
                        "#TrailerPlayer_CouldNotLoad",
                        e.appid,
                        e.trailerBaseID,
                      ),
                    );
            });
          }, [e.appid, e.trailerBaseID]),
          l)
        )
          return e.bIsPreviewMode
            ? i.createElement("div", { className: We().ErrorDiv }, l)
            : null;
        if (t)
          return i.createElement(O.V, {
            string: (0, I.Xx)("#Loading"),
            size: "small",
          });
        const o = M.Z.Get()
            .GetApp(e.appid)
            .GetAllTrailers()
            .GetTrailerByID(e.trailerBaseID),
          s = o.GetTrailerMax(),
          c = {
            sPoster: o.GetScreenshot(),
            rgVideoSources: [
              { sURL: s.strWebMURL, sFormat: "video/webm" },
              { sURL: s.strMP4URL, sFormat: "video/mp4" },
            ],
          };
        return i.createElement(je.Y, {
          bControls: !0,
          bAutoPlay: !1,
          bLoop: !1,
          video: c,
        });
      };
      var Ze = n(22945),
        Ke = n(81851),
        Qe = n(10162);
      const Ye = i.lazy(() =>
          Promise.all([n.e(2706), n.e(4601)]).then(n.bind(n, 65682)),
        ),
        Je = (e) => {
          const t = (0, i.useRef)(null),
            [n, l] = (0, i.useState)(Ke.D.Get().GetVODForAppID(e.appid)),
            [r, o] = (0, i.useState)(
              !Boolean(Ke.D.Get().GetVODForAppID(e.appid)),
            );
          return (
            (0, i.useEffect)(
              () => () => t.current && t.current("VODPlayer: unmounting"),
            ),
            (0, i.useEffect)(() => {
              let i = n;
              if (
                (n &&
                  n.appid != e.appid &&
                  (i = Ke.D.Get().GetVODForAppID(e.appid)),
                !i)
              ) {
                const n = () =>
                  (0, a.mG)(void 0, void 0, void 0, function* () {
                    t.current && t.current();
                    const n = N().CancelToken.source();
                    (t.current = n.cancel),
                      (i = yield Ke.D.Get().LoadVODForAppID(e.appid)),
                      n.token.reason || l(i),
                      o(!1);
                  });
                o(!0), n();
              }
              n != i && l(i);
            }, [e.appid, n]),
            !n && e.bPreviewMode
              ? i.createElement(
                  "div",
                  null,
                  (0, I.Xx)(
                    r ? "#VODPlayer_Loading" : "#VODPlayer_ErrorLoading",
                    e.appid,
                  ),
                )
              : i.createElement(
                  "div",
                  { className: Ze.BroadcastCtn },
                  i.createElement(
                    Qe.SV,
                    null,
                    i.createElement(
                      i.Suspense,
                      { fallback: null },
                      i.createElement(Ye, {
                        nAppIDVOD: e.appid,
                        watchLocation: 9,
                        bStartPaused: !0,
                      }),
                    ),
                  ),
                )
          );
        };
      var $e = n(31659),
        et = n(14609),
        tt = n(50423),
        nt = n(97087),
        at = n(13896);
      function it(e) {
        const t = (0, C.id)(),
          n = (0, nt.Zh)(nt.H_),
          a = "true" === String((0, o.im)(e.args, "autoadvance")).toLowerCase();
        return i.createElement(
          at.l,
          {
            hideArrows: !n,
            hidePips: t,
            visibleElements: 1,
            useTestScrollbar: !1,
            bLazyRenderChildren: !0,
            screenIsWide: n,
            bAutoAdvance: a,
            className: X().ScreenshotCarousel,
          },
          e.children,
        );
      }
      var lt = n(82493),
        rt = n(56365);
      function ot(e) {
        const { fileUploadManager: t } = e,
          n = (0, i.useRef)();
        return i.createElement(
          "div",
          { className: rt.Ctn },
          i.createElement("input", {
            type: "file",
            accept: ".jpg,.jpeg,.png,.gif,.webm,.mpg,.mpeg,.ogv,.mp4",
            style: { display: "none" },
            name: "fileupload",
            ref: n,
            onChange: (e) => {
              var n, a;
              (null ===
                (a =
                  null === (n = e.currentTarget) || void 0 === n
                    ? void 0
                    : n.files) || void 0 === a
                ? void 0
                : a.length) > 0 &&
                (t.SetImageFileToUpload(e.currentTarget.files[0]),
                (e.currentTarget.value = ""));
            },
          }),
          i.createElement(
            lt.wl,
            {
              type: "button",
              title: (0, I.Xx)("#Button_Upload"),
              onOKActionDescription: (0, I.Xx)("#Button_Upload"),
              onClick: () => n.current.click(),
            },
            i.createElement(w.pkz, null),
          ),
        );
      }
      var st = n(30750),
        ct = n(42742);
      function mt(e) {
        const { fileUploadManager: t } = e,
          n = (0, st.SZ)(() => t.file_upload_props.eUploadState);
        return 1 == n
          ? i.createElement(dt, { fileUploadManager: t })
          : 3 == n || 5 == n || 4 == n
            ? i.createElement(pt, { fileUploadManager: t })
            : 0 != n
              ? i.createElement(ut, { fileUploadManager: t })
              : null;
      }
      function dt(e) {
        const { fileUploadManager: t } = e,
          n = t.file;
        return i.createElement(
          "div",
          { className: ct.UploadPreviewContainer },
          Boolean(-1 != n.type.indexOf("image")) &&
            i.createElement("img", {
              className: ct.UploadPreview,
              src: t.file_upload_data_url,
            }),
          Boolean(-1 != n.type.indexOf("video")) &&
            i.createElement(w.nkn, null),
          i.createElement(
            "div",
            { className: ct.FileUploadFileName },
            "'",
            n.name,
            "'",
          ),
          i.createElement(
            "div",
            { className: ct.FileUploadCancel, onClick: () => t.Reset() },
            i.createElement(w.pVO, null),
          ),
          i.createElement(
            Ve.KM,
            {
              className: ct.FileUploadBtn,
              onClick: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  yield t.BeginFileUpload(), t.Reset();
                }),
            },
            (0, I.Xx)("#Button_Upload"),
          ),
        );
      }
      function ut(e) {
        const { fileUploadManager: t } = e,
          [n, a, l] = (0, st.SZ)(() => [
            t.file_upload_props.file,
            t.file_upload_props.displayFileName,
            t.file_upload_props.uploadProgress,
          ]),
          r = n ? (0, I.Xx)("#Uploading_Item", a) : "",
          o = { width: l + "%" };
        return i.createElement(
          "div",
          { className: ct.FileUploadProgressContainer },
          i.createElement("div", { className: ct.FileUploadProgressName }, r),
          i.createElement(
            "div",
            {
              className: (0, P.Z)(
                ct.FileUploadProgressBarContainer,
                "DialogProgressBar_ProgressBarContainer",
              ),
            },
            i.createElement("div", {
              className: "DialogProgressBar_Value",
              style: o,
            }),
          ),
        );
      }
      function pt(e) {
        const { fileUploadManager: t } = e,
          [n, l, r] = (0, st.SZ)(() => [
            t.file_upload_props.strErrorDescription,
            t.file_upload_props.displayFileName,
            t.file_upload_props.eUploadState,
          ]),
          o = l ? (0, I.Xx)("#Uploading_Item", l) : "",
          s = n || (0, I.Xx)("#Chat_Upload_ErrorCloud");
        return i.createElement(
          "div",
          { className: ct.FileUploadProgressContainer },
          i.createElement("div", { className: ct.FileUploadProgressName }, o),
          i.createElement(
            "div",
            { className: ct.FileUploadErrorDescription },
            s,
          ),
          i.createElement(
            "div",
            { className: ct.FileUploadActions },
            i.createElement(
              Ve.Uq,
              { className: "DialogLayout_NoMinWidth" },
              Boolean(3 == r) &&
                i.createElement(
                  Ve.KM,
                  {
                    onClick: () =>
                      (0, a.mG)(this, void 0, void 0, function* () {
                        yield t.RetryFileUpload(), t.Reset();
                      }),
                  },
                  (0, I.Xx)("#Chat_Upload_ErrorAction_Retry"),
                ),
              i.createElement(
                Ve.zx,
                { onClick: () => t.ClearFileUploadError() },
                (0, I.Xx)("#Chat_Upload_ErrorAction_Close"),
              ),
            ),
          ),
        );
      }
      var _t = n(77178),
        ht = n(90069),
        gt = n(80212),
        vt = n(13557);
      class Et {
        GetInventoryForApp(e) {
          return this.m_mapInventoryByApp.get(e);
        }
        GetItemDefsChangeForAppID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new J.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestAppCommunityItems(e, t) {
          this.m_mapInventoryByApp.set(e, t),
            this.GetItemDefsChangeForAppID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        LoadCommunityInventory(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return e
              ? (this.m_mapPromises.has(e) ||
                  this.m_mapPromises.set(
                    e,
                    this.InternalLoadCommunityInventory(e),
                  ),
                this.m_mapPromises.get(e))
              : 2;
          });
        }
        InternalLoadCommunityInventory(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = Z.gA.Init(vt.o0);
            t.Body().set_filter_appids([e]);
            let n = null;
            try {
              const a = yield vt.Ts.GetCommunityInventory(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == a.GetEResult()) {
                const t = new Array();
                return (
                  a
                    .Body()
                    .items()
                    .forEach((e) => t.push(e.toObject())),
                  this.m_mapInventoryByApp.set(e, t),
                  this.GetItemDefsChangeForAppID(e).Dispatch(t),
                  1
                );
              }
              n = (0, b.l)(a);
            } catch (e) {
              n = (0, b.l)(e);
            }
            return (
              console.error(
                "CQuestCommunityInventoryStore.InternalLoadCommunityInventory failed: on appid " +
                  e +
                  " error: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              2
            );
          });
        }
        static Get() {
          return (
            Et.s_Singleton ||
              ((Et.s_Singleton = new Et()),
              Et.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_QuestCommunityInventoryStore = Et.s_Singleton)),
            Et.s_Singleton
          );
        }
        constructor() {
          (this.m_mapInventoryByApp = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_listChangeCallback = new Map()),
            (this.m_SteamInterface = null);
        }
        Init() {
          const e = (0, C.kQ)("read_inventory_token", "application_config");
          (0, Y.X)(
            e,
            "CQuestCommunityInventoryStore: missing read_inventory:steam oauth permission",
          ),
            (this.m_SteamInterface = new K.J(C.De.WEBAPI_BASE_URL, e));
        }
      }
      function St(e) {
        const [t, n] = (0, i.useState)(Et.Get().GetInventoryForApp(e));
        return (
          (0, i.useEffect)(() => {
            e &&
              !Et.Get().BHasLoadedDef(e) &&
              Et.Get().LoadCommunityInventory(e);
          }, [e]),
          (0, h.Qg)(Et.Get().GetItemDefsChangeForAppID(e), n),
          t
        );
      }
      (0, a.gn)([h.ak], Et.prototype, "SetTestAppCommunityItems", null);
      class Dt {
        GetClaimItemState() {
          return this.m_claimState;
        }
        GetClaimStateChangeCallback() {
          return this.m_claimStateChangeCallback;
        }
        GetClaimedSaleRewardItemDef() {
          return this.m_claimedFreeItemDef;
        }
        GetNextClaimTime() {
          if (!this.m_rtNextClaimTime) return null;
          return new Date(1e3 * this.m_rtNextClaimTime);
        }
        TEST_OverrideClaimState(e) {
          (this.m_bInTestMode = !0),
            (this.m_canClaimPromise = null),
            (this.m_claimPromise = null),
            e.bCanClaimNewItem
              ? (this.m_testNextClaimFakeResponse = {
                  bAlreadyClaimedCurrentItem: !0,
                  bCanClaimNewItem: !1,
                  rtNextClaimTime: Math.floor(Date.now() / 1e3) + 3600,
                  appid: 2243810,
                  community_item_type: 2,
                  community_item_class: 11,
                })
              : (this.m_testNextClaimFakeResponse = null),
            (this.m_claimState = e),
            this.GetClaimStateChangeCallback().Dispatch(this.m_claimState);
        }
        ActivateProfileModifier(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = Z.gA.Init(vt.yg);
            t.Body().set_communityitemid(e.communityitemid),
              t.Body().set_appid(e.appid),
              t.Body().set_activate(!0);
            const n = yield vt.Ts.ActivateProfileModifierItem(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            );
            return (
              1 != n.GetEResult() &&
                console.error(
                  `Error when calling QuestService.ActivateProfileModifierItem: EResult=${n.GetEResult()}`,
                ),
              n.GetEResult()
            );
          });
        }
        LoadCanUserClaimItem() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.m_bInTestMode
              ? this.m_claimState
              : (this.m_canClaimPromise ||
                  (this.m_canClaimPromise =
                    this.InternalLoadCanUserClaimItem()),
                this.m_canClaimPromise);
          });
        }
        InternalLoadCanUserClaimItem() {
          var e, t, n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            (0, Y.X)(
              C.L7.logged_in,
              "User must be logged to use CSaleItemClaimableRewardsStore",
            );
            const a = Z.gA.Init(Q.FE);
            a.Body().set_language(C.De.LANGUAGE);
            let l = null;
            try {
              const r = yield Q.tE.CanClaimItem(
                this.m_SteamInterface.GetServiceTransport(),
                a,
              );
              if (1 == r.GetEResult())
                return (
                  (this.m_claimedFreeItemDef = Boolean(
                    null === (e = r.Body().reward_item()) || void 0 === e
                      ? void 0
                      : e.defid(),
                  )
                    ? r.Body().reward_item().toObject()
                    : null),
                  (this.m_claimState = {
                    bCanClaimNewItem: r.Body().can_claim(),
                    bAlreadyClaimedCurrentItem: Boolean(
                      this.m_claimedFreeItemDef,
                    ),
                    appid:
                      null === (t = this.m_claimedFreeItemDef) || void 0 === t
                        ? void 0
                        : t.appid,
                    community_item_type:
                      null === (n = this.m_claimedFreeItemDef) || void 0 === n
                        ? void 0
                        : n.community_item_type,
                    community_item_class:
                      null === (i = this.m_claimedFreeItemDef) || void 0 === i
                        ? void 0
                        : i.community_item_class,
                    rtNextClaimTime:
                      r.Body().next_claim_time() > 0
                        ? r.Body().next_claim_time()
                        : void 0,
                  }),
                  (this.m_rtNextClaimTime = r.Body().next_claim_time()),
                  this.SetClaimTimer(),
                  this.GetClaimStateChangeCallback().Dispatch(
                    this.m_claimState,
                  ),
                  this.m_claimState
                );
              l = (0, b.l)(r);
            } catch (e) {
              l = (0, b.l)(e);
            }
            return (
              console.error(
                "CSaleItemClaimableRewardsStore.InternalLoadCanUserClaimItem failed: error: " +
                  (null == l ? void 0 : l.strErrorMsg),
                l,
              ),
              { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
            );
          });
        }
        UserClaimItem() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_testNextClaimFakeResponse &&
                (console.log(
                  "CSaleItemClaimableRewardsStore - testing, pretending claim action succeeded",
                  (0, z.ZN)(this.m_testNextClaimFakeResponse),
                ),
                (this.m_claimState = this.m_testNextClaimFakeResponse),
                this.GetClaimStateChangeCallback().Dispatch(this.m_claimState),
                (this.m_rtNextClaimTime = this.m_claimState.rtNextClaimTime),
                this.SetClaimTimer(),
                (this.m_testNextClaimFakeResponse = null)),
              this.m_bInTestMode
                ? this.m_claimState
                : (this.m_claimPromise ||
                    (this.m_claimPromise = this.InternalUserClaimItem()),
                  this.m_claimPromise)
            );
          });
        }
        InternalUserClaimItem() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            (0, Y.X)(
              C.L7.logged_in,
              "User must be logged to use CSaleItemClaimableRewardsStore",
            ),
              (0, Y.X)(
                this.m_claimState.bCanClaimNewItem,
                "Only should be called when we previously verified you can claim something. ",
              );
            const e = Z.gA.Init(Q.xs);
            e.Body().set_language(C.De.LANGUAGE);
            let t = null;
            try {
              const n = yield Q.tE.ClaimItem(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              if (1 == n.GetEResult())
                return (
                  (this.m_claimedFreeItemDef = n
                    .Body()
                    .reward_item()
                    .toObject()),
                  (this.m_claimState = {
                    bCanClaimNewItem: !1,
                    bAlreadyClaimedCurrentItem: Boolean(
                      this.m_claimedFreeItemDef,
                    ),
                    appid: this.m_claimedFreeItemDef.appid,
                    community_item_type:
                      this.m_claimedFreeItemDef.community_item_type,
                    community_item_class:
                      this.m_claimedFreeItemDef.community_item_class,
                    rtNextClaimTime:
                      n.Body().next_claim_time() > 0
                        ? n.Body().next_claim_time()
                        : void 0,
                  }),
                  this.GetClaimStateChangeCallback().Dispatch(
                    this.m_claimState,
                  ),
                  (this.m_rtNextClaimTime = n.Body().next_claim_time()),
                  this.SetClaimTimer(),
                  this.m_claimState
                );
              if (29 == n.GetEResult())
                return (
                  (this.m_canClaimPromise =
                    this.InternalLoadCanUserClaimItem()),
                  this.m_canClaimPromise
                );
              t = (0, b.l)(n);
            } catch (e) {
              t = (0, b.l)(e);
            }
            return (
              console.error(
                "CSaleItemClaimableRewardsStore.InternalUserClaimItem failed: error: " +
                  (null == t ? void 0 : t.strErrorMsg),
                t,
              ),
              { bCanClaimNewItem: !1, bAlreadyClaimedCurrentItem: !1 }
            );
          });
        }
        SetClaimTimer() {
          if (this.m_claimTimer) return;
          if (!this.m_rtNextClaimTime) return;
          const e = Date.now();
          let t = new Date(1e3 * this.m_rtNextClaimTime);
          const n = Math.max(0, Math.min(1, t.getTime() - e));
          this.m_claimTimer = window.setTimeout(
            () => {
              (this.m_claimTimer = void 0),
                Date.now() > t.getTime()
                  ? ((this.m_canClaimPromise = null),
                    (this.m_claimPromise = null),
                    (this.m_claimedFreeItemDef = null),
                    (this.m_claimState = {
                      bCanClaimNewItem: !0,
                      bAlreadyClaimedCurrentItem: !1,
                      rtNextClaimTime: void 0,
                    }),
                    this.GetClaimStateChangeCallback().Dispatch(
                      this.m_claimState,
                    ))
                  : this.SetClaimTimer();
            },
            n > 3e5 ? n / 2 : n,
          );
        }
        static Get() {
          return (
            Dt.s_Singleton ||
              ((Dt.s_Singleton = new Dt()),
              Dt.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SaleItemClaimableRewardsStore = Dt.s_Singleton)),
            Dt.s_Singleton
          );
        }
        constructor() {
          (this.m_claimState = {
            bCanClaimNewItem: !1,
            bAlreadyClaimedCurrentItem: !1,
          }),
            (this.m_SteamInterface = null),
            (this.m_canClaimPromise = null),
            (this.m_claimPromise = null),
            (this.m_claimStateChangeCallback = new J.pB()),
            (this.m_testNextClaimFakeResponse = null),
            (this.m_bInTestMode = !1);
        }
        Init() {
          const e = (0, C.kQ)("loyalty_webapi_token", "application_config");
          (0, Y.X)(
            e,
            "CQuestCommunityInventoryStore: missing loyalty_webapi_token oauth permission",
          ),
            (this.m_SteamInterface = new K.J(C.De.WEBAPI_BASE_URL, e));
        }
      }
      (0, a.gn)([h.ak], Dt.prototype, "TEST_OverrideClaimState", null),
        (0, a.gn)([h.ak], Dt.prototype, "UserClaimItem", null);
      var ft = n(83743),
        yt = n(9921);
      class bt {
        GetItemDefForAppID(e) {
          return this.m_mapAppToDefs.get(e);
        }
        GetItemDefsChangeForEventID(e) {
          return (
            this.m_listChangeCallback.has(e) ||
              this.m_listChangeCallback.set(e, new J.pB()),
            this.m_listChangeCallback.get(e)
          );
        }
        BHasLoadedDef(e) {
          return this.m_mapPromises.has(e);
        }
        SetTestItemDefs(e, t) {
          this.m_mapAppToDefs.set(e, t),
            this.GetItemDefsChangeForEventID(e).Dispatch(t),
            this.m_mapPromises.set(e, Promise.resolve(1));
        }
        LoadAppCommunityItems(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return e
              ? (this.m_mapPromises.has(e) ||
                  this.m_mapPromises.set(
                    e,
                    this.InternalLoadAppCommunityItems(e, t),
                  ),
                this.m_mapPromises.get(e))
              : 2;
          });
        }
        InternalLoadAppCommunityItems(e, t) {
          var n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const l =
                  C.De.COMMUNITY_BASE_URL +
                  (t
                    ? "minigame/ajaxgetgameitemdefsforeditor"
                    : "minigame/ajaxgetgameitemdefs"),
                r = {
                  appid: e,
                  origin: self.origin,
                  l: C.De.LANGUAGE,
                  sessionid: t ? C.De.SESSIONID : void 0,
                },
                o = yield N().get(l, { params: r, withCredentials: t });
              if (
                200 == (null == o ? void 0 : o.status) &&
                1 ==
                  (null === (n = null == o ? void 0 : o.data) || void 0 === n
                    ? void 0
                    : n.success) &&
                (null === (i = null == o ? void 0 : o.data) || void 0 === i
                  ? void 0
                  : i.item_definitions)
              )
                return (
                  this.m_mapAppToDefs.set(e, o.data.item_definitions),
                  this.GetItemDefsChangeForEventID(e).Dispatch(
                    o.data.item_definitions,
                  ),
                  1
                );
              a = (0, b.l)(o);
            } catch (e) {
              a = (0, b.l)(e);
            }
            return (
              console.error(
                "CSaleMiniGameItemDefStore.InternalLoadAppCommunityItems failed: on appid " +
                  e +
                  " edit? " +
                  t +
                  " error: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              2
            );
          });
        }
        static Get() {
          return (
            bt.s_Singleton ||
              ((bt.s_Singleton = new bt()),
              bt.s_Singleton.Init(),
              "dev" == C.De.WEB_UNIVERSE &&
                (window.g_SaleMiniGameItemDefStore = bt.s_Singleton)),
            bt.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppToDefs = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_listChangeCallback = new Map());
        }
        Init() {}
      }
      function It(e, t, n) {
        const a = (function (e, t) {
            const [n, a] = (0, i.useState)(bt.Get().GetItemDefForAppID(e));
            return (
              (0, i.useEffect)(() => {
                e &&
                  !bt.Get().BHasLoadedDef(e) &&
                  bt.Get().LoadAppCommunityItems(e, t);
              }, [e, t]),
              (0, h.Qg)(bt.Get().GetItemDefsChangeForEventID(e), a),
              n
            );
          })(e, n),
          [l, r] = (0, i.useState)(null);
        return (
          (0, i.useEffect)(() => {
            if (e && a && null == l) {
              const n = a.find(
                (n) => n.active && n.appid == e && n.item_type == t,
              );
              n && r(n);
            }
          }, [l, a, e, t]),
          l
        );
      }
      function Ct(e) {
        const { appid: t, community_item_type: n, bForEdit: a } = e,
          l = It(t, n, a);
        if (
          (null == l ? void 0 : l.item_movie_mp4) &&
          (null == l ? void 0 : l.item_movie_webm)
        ) {
          const e = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${null == l ? void 0 : l.item_image_large}`,
            n = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${null == l ? void 0 : l.item_movie_webm}`,
            a = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${null == l ? void 0 : l.item_movie_mp4}`;
          return i.createElement(
            "video",
            { muted: !0, controls: !1, autoPlay: !0, loop: !0, poster: e },
            i.createElement("source", { src: n, type: "video/webm" }),
            Boolean(!C.De.IN_CLIENT) &&
              i.createElement("source", { src: a, type: "video/mp4" }),
          );
        }
        if (l) {
          const n = `${C.De.MEDIA_CDN_COMMUNITY_URL}images/items/${t}/${(null == l ? void 0 : l.item_image_small) || (null == l ? void 0 : l.item_image_large)}`;
          return i.createElement("img", {
            className: e.className,
            src: n,
            alt: null == l ? void 0 : l.item_name,
          });
        }
        return i.createElement(O.V, {
          size: "small",
          string: (0, I.Xx)("#Loading"),
        });
      }
      function kt(e) {
        const t = (function () {
            const [e, t] = (0, i.useState)(Dt.Get().GetClaimItemState()),
              [n, a] = (0, i.useState)(!0);
            return (
              (0, i.useEffect)(() => {
                Dt.Get()
                  .LoadCanUserClaimItem()
                  .then(t)
                  .finally(() => a(!1));
              }, []),
              (0, h.Qg)(Dt.Get().GetClaimStateChangeCallback(), t),
              Object.assign(Object.assign({}, e), { bLoading: n })
            );
          })(),
          { bLoading: n } = t,
          { className: a, bPreviewMode: l, rewardType: r } = e;
        return i.createElement(
          Ve.zx,
          {
            className: (0, P.Z)("CSSClaimItemButton", a),
            onClick: (e) => {
              t.bCanClaimNewItem
                ? (0, ht.AM)(
                    i.createElement(wt, { rewardType: r }),
                    (0, tt.RA)(e),
                  )
                : ("dev" == C.De.WEB_UNIVERSE ||
                    "beta" == C.De.WEB_UNIVERSE ||
                    l) &&
                  ((0, ht.AM)(
                    i.createElement(wt, { rewardType: r }),
                    (0, tt.RA)(e),
                  ),
                  console.log(
                    "Show dialog for debugging, since already claimed: ",
                    (0, z.ZN)(t),
                  ));
            },
            disabled: n,
          },
          Boolean(n)
            ? i.createElement(O.V, {
                string: (0, I.Xx)("#Loading"),
                size: "small",
              })
            : i.createElement(At, { claimState: t }),
        );
      }
      function At(e) {
        const { claimState: t, strButtonOverride: n, rewardType: a } = e;
        if (t.bAlreadyClaimedCurrentItem)
          return i.createElement(
            "div",
            { className: (0, P.Z)(yt.CheckMark, "CSSClaimedState") },
            i.createElement(w.JrY, null),
            i.createElement(
              "span",
              null,
              " ",
              (null == n ? void 0 : n.length) > 0
                ? n
                : (0, I.Xx)("#Sale_ClaimableReward_AlreadyClaimed"),
            ),
          );
        let l = (0, I.Xx)("#Sale_ClaimableReward_generic");
        switch ((null == t ? void 0 : t.community_item_class) || a) {
          case 11:
            l = (0, I.Xx)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            l = (0, I.Xx)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            l = (0, I.Xx)("#Sale_ClaimableReward_animatedavatar");
        }
        return i.createElement("span", { className: "CSSUnclaimedState" }, l);
      }
      function wt(e) {
        const { closeModal: t, rewardType: n } = e,
          { fnClaimItem: a } = { fnClaimItem: Dt.Get().UserClaimItem },
          l = (0, ft.tx)(),
          [r, o] = i.useState(null);
        i.useEffect(() => {
          l.bLoading ||
            (l.fnSetLoading(!0),
            a()
              .then((e) => {
                if (
                  (o(e), console.log("claim response", (0, z.ZN)(e)), e.appid)
                ) {
                  let t = (0, I.Xx)("#Sale_ClaimableReward_completed_generic");
                  const a = (null == r ? void 0 : r.community_item_class) || n;
                  switch (a) {
                    case 11:
                      t = (0, I.Xx)("#Sale_ClaimableReward_completed_sticker");
                      break;
                    case 8:
                      t = (0, I.Xx)(
                        "#Sale_ClaimableReward_completed_profilemodifier",
                      );
                      break;
                    case 15:
                      t = (0, I.Xx)(
                        "#Sale_ClaimableReward_completed_animatedavatar",
                      );
                  }
                  l.fnSetStrSuccess("   "),
                    l.fnSetElSuccess(
                      i.createElement(
                        "div",
                        { className: yt.DialogCtn },
                        i.createElement("span", null, t),
                        i.createElement(Pt, {
                          appid: e.appid,
                          community_item_type: e.community_item_type,
                          rewardType: a,
                        }),
                      ),
                    );
                } else l.fnSetStrError((0, I.Xx)("#Sale_ClaimableReward_Busy"));
              })
              .catch((e) =>
                l.fnSetStrError((0, I.Xx)("#Sale_ClaimableReward_Busy")),
              ));
        }, [null == r ? void 0 : r.community_item_class, l, a, n]);
        let s = (0, I.Xx)("#Sale_ClaimableReward_generic");
        switch ((null == r ? void 0 : r.community_item_class) || n) {
          case 11:
            s = (0, I.Xx)("#Sale_ClaimableReward_sticker");
            break;
          case 8:
            s = (0, I.Xx)("#Sale_ClaimableReward_profilemodifier");
            break;
          case 15:
            s = (0, I.Xx)("#Sale_ClaimableReward_animatedavatar");
        }
        return i.createElement(ft.NT, {
          state: l,
          strDialogTitle: s,
          closeModal: t,
        });
      }
      function Pt(e) {
        const { appid: t, community_item_type: n, rewardType: a } = e;
        return t && n
          ? i.createElement(
              i.Fragment,
              null,
              i.createElement(Ct, { appid: t, community_item_type: n }),
              Boolean(8 == a) &&
                i.createElement(Tt, { appid: t, community_item_type: n }),
            )
          : null;
      }
      function Tt(e) {
        const { appid: t, community_item_type: n } = e,
          l = St(t),
          [r, o] = i.useState(!1);
        if (!l) return null;
        const s = l.find((e) => e.item_type == n);
        return s
          ? i.createElement(
              "div",
              { className: yt.EquipCtn },
              Boolean(r)
                ? i.createElement(
                    "div",
                    null,
                    (0, I.Xx)(
                      "#Sale_ClaimableReward_profilemodifier_apply_success",
                    ),
                  )
                : i.createElement(
                    Ve.zx,
                    {
                      onClick: (e) => {
                        (function (e) {
                          return (0, a.mG)(this, void 0, void 0, function* () {
                            return Dt.Get().ActivateProfileModifier(e);
                          });
                        })(s).then((e) => {
                          1 == e && o(!0);
                        });
                      },
                    },
                    (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_apply"),
                  ),
              i.createElement(
                lt.IS,
                { href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}` },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            )
          : i.createElement(
              "div",
              null,
              i.createElement(
                lt.IS,
                {
                  href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}/edit/goldenprofile`,
                },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_choose"),
              ),
              i.createElement(
                lt.IS,
                { href: `${C.De.COMMUNITY_BASE_URL}profiles/${C.L7.steamid}` },
                (0, I.Xx)("#Sale_ClaimableReward_profilemodifier_view"),
              ),
            );
      }
      var Nt = n(2284);
      let Rt = null;
      function Gt(e) {
        var t;
        let n = (0, o.im)(e.args);
        const a = (0, o.im)(e.args, "style"),
          l = (0, o.im)(e.args, "id"),
          r = (function (e) {
            return "button" === e
              ? (0, P.Z)(V.LinkButton, "LinkButton")
              : (0, P.Z)(V.Link, "Link");
          })(a);
        e.context.event;
        if (void 0 === n) return e.children || "";
        if ("string" == typeof n && n.length > 0) {
          const a = o.vZ(
            n,
            e.language,
            null === (t = e.context.event) || void 0 === t
              ? void 0
              : t.rtime32_last_modified,
          );
          n = "string" == typeof a ? a : a[1];
        }
        return (
          "dev" == C.De.WEB_UNIVERSE &&
            "store" == (0, C.Zv)() &&
            "store.steampowered.com" == (0, m.FM)(n) &&
            (n = n.replace(
              "https://store.steampowered.com/",
              C.De.STORE_BASE_URL,
            )),
          "string" == typeof n && n.length > 0 && "#" == n[0]
            ? i.createElement("a", { className: r, href: n }, e.children)
            : "steam://settings/account" == n
              ? i.createElement(
                  et.ns,
                  { className: r, href: "steam://settings/account" },
                  e.children,
                )
              : i.createElement(
                  d.z,
                  { className: r, url: n, event: e.context.event, id: l },
                  e.children,
                )
        );
      }
      function Lt(e) {
        const { showErrorInfo: t, event: n } = e.context;
        let a = e && e.children && e.children.toString();
        if (
          (null == a || null == a || 0 == a.length) &&
          ((a = e && e.args && e.args[""]),
          null == a || null == a || 0 == a.length)
        )
          return i.createElement(i.Fragment, null);
        const l = o.vZ(
          a,
          e.language,
          null == n ? void 0 : n.rtime32_last_modified,
        );
        if ("string" == typeof l) {
          let e;
          return (
            (a = l),
            (e = (!n || !n.BHasTag("auto_rssfeed")) && !(0, m.dK)(a)),
            t || (a = (0, m.et)(a)),
            t
              ? i.createElement($e.e, {
                  src: a,
                  crossOrigin: e ? "anonymous" : void 0,
                })
              : i.createElement(Nt.l, {
                  src: a,
                  crossOrigin: e ? "anonymous" : void 0,
                })
          );
        }
        return i.createElement(F.j, { rgSources: l });
      }
      function Bt(e) {
        const t = (0, o.im)(e.args);
        if (null == t || null == t || 0 == t.length) return "";
        const n = e && e.children && e.children.toString(),
          a = new Array();
        return (
          a.push(
            `${C.De.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/${C.De.LANGUAGE}/${t}`,
          ),
          "english" != C.De.LANGUAGE &&
            a.push(
              `${C.De.MEDIA_CDN_COMMUNITY_URL}images/steamworks_docs/english/${t}`,
            ),
          i.createElement(F.j, { rgSources: a, alt: n })
        );
      }
      function xt(e) {
        const t = Ft(
            e.args,
            "appid",
            e.context.event.appid ? e.context.event.appid : 0,
          ),
          n = Ft(e.args, "trailerid", 0);
        return i.createElement(ze, {
          appid: t,
          trailerBaseID: n,
          bIsPreviewMode: e.context.showErrorInfo,
        });
      }
      function Mt(e) {
        const t = Ft(e.args, "appid", 0);
        return i.createElement(Je, {
          appid: t,
          bPreviewMode: e.context.showErrorInfo,
        });
      }
      function Ot(e) {
        const t = (0, o.im)(e.args, "name"),
          n = (0, o.im)(e.args, "title"),
          a = (0, o.im)(e.args, "company"),
          l = (0, o.im)(e.args, "photo");
        return e.context.bShowShortSpeakerInfo
          ? i.createElement(Xe.G$, {
              name: t,
              title: n,
              company: a,
              photo: l,
              bio: e.children,
            })
          : i.createElement(Xe.qs, {
              name: t,
              title: n,
              company: a,
              photo: l,
              bio: e.children,
            });
      }
      function Ft(e, t, n) {
        const a = (0, o.im)(e, t);
        return void 0 === a || null == a ? n : Number.parseInt(a);
      }
      function Ut(e) {
        const t = (0, o.im)(e.args, "name"),
          n =
            "true" === ((0, o.im)(e.args, "visible") || "false").toLowerCase(),
          a = (0, He.x)(t);
        if (!t) {
          return e.context.showErrorInfo
            ? i.createElement("div", null, "Failed to provide giveaway name")
            : null;
        }
        return a && a.registered && ((a.eligible && n) || (!a.eligible && !n))
          ? e.children
          : null;
      }
      function Ht(e) {
        const t = e.context.showErrorInfo;
        if (!C.L7.logged_in)
          return i.createElement(
            Ve.zx,
            { onClick: gt.Xt, className: "CSSClaimItemLoginButton" },
            (0, I.Xx)("#Sale_ClaimableReward_Login"),
          );
        const n = (0, o.im)(e.args, "type");
        let a;
        if (n)
          switch (n) {
            case "profilemodifier":
              a = 8;
              break;
            case "sticker":
              a = 11;
          }
        return i.createElement(kt, { bPreviewMode: t, rewardType: a });
      }
      function Vt(e) {
        const t = Number.parseInt((0, o.im)(e.args, "id")) || 0,
          n =
            "true" === ((0, o.im)(e.args, "visible") || "false").toLowerCase(),
          a = e.context.showErrorInfo,
          [l, r] = (0, re.ie)(t, {});
        if (!t || 1 == r)
          return !t && a
            ? i.createElement("div", null, "Error: PackageID Not Set")
            : null;
        let s = !1;
        return (
          (s = M.Z.Get().BHasStoreItem(t, 1)
            ? Boolean(l.GetBestPurchaseOption())
            : !M.Z.Get().BIsPackageUnavailableDueToCountryRestriction(t)),
          (!s && !n) || (s && n) ? e.children : null
        );
      }
      function Xt(e) {
        if ("GameAwardDrop2022" === e) {
          const t = (0, He.x)(e),
            n = (0, He.v)();
          return t
            ? t.registered
              ? {
                  bInitialState: !1,
                  bSuccessState: t.eligible,
                  bFailedState: !t.eligible,
                  fnAction: t.eligible
                    ? void 0
                    : () =>
                        (0, a.mG)(this, void 0, void 0, function* () {
                          yield n.fnCreateRegistration(e);
                        }),
                }
              : {
                  bInitialState: !0,
                  fnAction: () =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      yield n.fnCreateRegistration(e);
                    }),
                }
            : { bInitialState: !0 };
        }
        return { bInitialState: !0 };
      }
      function jt(e) {
        const t = (0, o.im)(e.args, "action"),
          n = (0, o.im)(e.args, "initialToken"),
          a = (0, o.im)(e.args, "successToken"),
          l = (0, o.im)(e.args, "failToken"),
          r = Xt(t);
        if (!(t && n && a && l)) {
          return e.context.showErrorInfo
            ? i.createElement(
                "div",
                null,
                "Failed to provide all tokens. Dialog will not appear",
              )
            : null;
        }
        return C.L7.logged_in || "test" == t || "nologinrequired" == t
          ? i.createElement(
              Ve.zx,
              {
                className: "CSSActionDialogButton",
                onClick: (r) => {
                  (0, ht.AM)(
                    i.createElement(
                      qt,
                      {
                        strAction: t,
                        strInitialToken: n,
                        strSuccessToken: a,
                        strFailToken: l,
                      },
                      e.children,
                    ),
                    (0, tt.RA)(r),
                  );
                },
              },
              Boolean(r.bInitialState) && (0, I.Xx)(n),
              Boolean(r.bSuccessState) && (0, I.Xx)(a),
              Boolean(r.bFailedState) && (0, I.Xx)(l),
            )
          : i.createElement(
              Ve.zx,
              { className: "CSSActionDialogButton", onClick: gt.Xt },
              (0, I.Xx)("#Login_SignIn"),
            );
      }
      function qt(e) {
        const {
            strAction: t,
            children: n,
            closeModal: a,
            strInitialToken: l,
            strSuccessToken: r,
            strFailToken: o,
          } = e,
          s = Xt(t),
          [c, m] = i.useState(Boolean(s.fnAction));
        return (
          i.useEffect(() => {
            s.fnAction && (m(!0), s.fnAction().finally(() => m(!1)));
          }, [s]),
          i.createElement(
            _t.RG,
            {
              bDisableBackgroundDismiss: !0,
              closeModal: a,
              onCancel: a,
              className: "CSSActionDialogDialog",
            },
            i.createElement(
              Ve.h4,
              null,
              Boolean(s.bInitialState) && (0, I.Xx)(l),
              Boolean(s.bSuccessState) && (0, I.Xx)(r),
              Boolean(s.bFailedState) && (0, I.Xx)(o),
            ),
            i.createElement(
              Ve.uT,
              null,
              i.createElement(
                Ve.Ac,
                null,
                c
                  ? i.createElement(O.V, {
                      size: "medium",
                      position: "center",
                      string: (0, I.Xx)("#Loading"),
                    })
                  : n,
              ),
            ),
          )
        );
      }
      function Wt(e) {
        const { showErrorInfo: t, event: n } = e.context,
          a = n.clanSteamID.GetAccountID(),
          [l] = i.useState(
            new Fe(
              (function (e) {
                const t = {
                  PopulateBeginFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  PopulateCommitFileUploadFormData: (t) => {
                    t.append("clan_account_id", "" + e);
                  },
                  GetBeginFileUploadURL: () =>
                    C.De.STORE_BASE_URL + "saleaction/ajaxbeginfileupload",
                  GetCommitFileUploadURL: () =>
                    C.De.STORE_BASE_URL + "saleaction/ajaxcommitfileupload",
                  LogFileUploadMessage: (e) => {
                    console.log("UploadFileButton: ", e);
                  },
                  GetMaxFileSizeMB: () => 100,
                };
                return t;
              })(a),
            ),
          );
        return a == Me.sq ||
          a == Me.RQ ||
          (2 == C.De.EUNIVERSE && a == Me.$Y) ||
          (1 == C.De.EUNIVERSE && a == Me._L)
          ? i.createElement(
              "div",
              null,
              i.createElement(ot, { fileUploadManager: l }),
              i.createElement(mt, { fileUploadManager: l }),
            )
          : t
            ? i.createElement("div", null, (0, I.Xx)("#CloudUpload_NotSupport"))
            : null;
      }
      class zt extends i.Component {
        constructor(e) {
          super(e),
            (this.m_parser = new l.Z6(
              zt.sm_BBCodeDictionary,
              this.ElementAccumulator,
              e.languageOverride,
            ));
        }
        ElementAccumulator(e) {
          return new _(
            new p(
              new u(
                new r.So(new r.LT(), 0),
                e,
                (null == De &&
                  (De = (0, C.h4)()
                    ? [
                        { urlRegExp: new RegExp(ce), fnBBComponent: ke },
                        { urlRegExp: new RegExp(de), fnBBComponent: Te },
                        { urlRegExp: new RegExp(ue), fnBBComponent: Pe },
                        { urlRegExp: new RegExp(me), fnBBComponent: we },
                        { urlRegExp: new RegExp(Ee), fnBBComponent: Le },
                      ]
                    : [
                        {
                          urlRegExp: new RegExp(/youtu.be|youtube.com/i),
                          fnBBComponent: fe,
                        },
                        {
                          urlRegExp: new RegExp(
                            /community.+sharedfiles\/filedetails\/\?id=\d+/i,
                          ),
                          fnBBComponent: Ie,
                        },
                        { urlRegExp: new RegExp(ce), fnBBComponent: ke },
                        { urlRegExp: new RegExp(de), fnBBComponent: Te },
                        { urlRegExp: new RegExp(ue), fnBBComponent: Pe },
                        { urlRegExp: new RegExp(me), fnBBComponent: we },
                        { urlRegExp: new RegExp(pe), fnBBComponent: ye },
                        { urlRegExp: new RegExp(_e), fnBBComponent: be },
                        { urlRegExp: new RegExp(he), fnBBComponent: Ne },
                        { urlRegExp: new RegExp(ge), fnBBComponent: Re },
                        { urlRegExp: new RegExp(ve), fnBBComponent: Ge },
                        { urlRegExp: new RegExp(Ee), fnBBComponent: Le },
                        { urlRegExp: new RegExp(Se), fnBBComponent: Ae },
                      ]),
                De),
                {
                  partnerEventStore: this.props.partnerEventStore,
                  event: this.props.event,
                },
              ),
            ),
            e,
          );
        }
        static AddDictionary(e) {
          zt.sm_BBCodeDictionary = new Map([
            ...Array.from(zt.sm_BBCodeDictionary.entries()),
            ...Array.from(e.entries()),
          ]);
        }
        render() {
          return (
            this.m_parser.UpdateOverrideLanguage(this.props.languageOverride),
            this.m_parser.ParseBBCode(this.props.text, {
              showErrorInfo: this.props.showErrorInfo,
              event: this.props.event,
              bShowShortSpeakerInfo: this.props.bShowShortSpeakerInfo,
            })
          );
        }
      }
      (zt.sm_BBCodeDictionary = new Map([
        ...Array.from(o.Be.entries()),
        ...Array.from(
          (null == Rt &&
            (Rt = new Map([
              ["url", { Constructor: Gt, autocloses: !1 }],
              [
                "h1",
                {
                  Constructor: o.LW(o.R6, V.Header1),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h2",
                {
                  Constructor: o.LW(o.zV, V.Header2),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "h3",
                {
                  Constructor: o.LW(o.BB, V.Header3),
                  autocloses: !1,
                  skipFollowingNewline: !0,
                },
              ],
              [
                "quote",
                { Constructor: o.LW(o.pu, V.BlockQuote), autocloses: !1 },
              ],
              [
                "list",
                {
                  Constructor: o.LW(o.aV, V.UnorderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "olist",
                {
                  Constructor: o.LW(o.GS, V.OrderedList),
                  autocloses: !1,
                  skipInternalNewline: !0,
                },
              ],
              [
                "*",
                { Constructor: o.HC, autocloses: !0, skipInternalNewline: !0 },
              ],
              ["img", { Constructor: Lt, autocloses: !1 }],
              ["previewyoutube", { Constructor: o.MJ, autocloses: !1 }],
              ["looping_media", { Constructor: o.jj, autocloses: !1 }],
              ["video", { Constructor: o.qy, autocloses: !1 }],
              ["youtubeorvideo", { Constructor: o.YC, autocloses: !1 }],
              ["trailer", { Constructor: xt, autocloses: !0 }],
              ["vod", { Constructor: Mt, autocloses: !1 }],
              [
                "speaker",
                {
                  Constructor: Ot,
                  autocloses: !1,
                  skipInternalNewline: !0,
                  allowWrapTextForCopying: !0,
                },
              ],
              ["giveawayeligible", { Constructor: Ut, autocloses: !1 }],
              ["claimitem", { Constructor: Ht, autocloses: !0 }],
              ["packagepurchaseable", { Constructor: Vt, autocloses: !1 }],
              ["actiondialog", { Constructor: jt, autocloses: !1 }],
              ["uploadfilebutton", { Constructor: Wt, autocloses: !0 }],
              ["docimg", { Constructor: Bt, autocloses: !1 }],
              ["carousel", { Constructor: it, autocloses: !1 }],
            ])),
          Rt).entries(),
        ),
      ])),
        (0, a.gn)([h.ak], zt.prototype, "ElementAccumulator", null);
    },
    26293: (e, t, n) => {
      "use strict";
      n.d(t, { C: () => X, m: () => V });
      var a = n(85556),
        i = n(27605),
        l = n(37485),
        r = n(47427),
        o = n(77936),
        s = n(95315),
        c = n(70924),
        m = n(29292),
        d = n(93243),
        u = n(73229),
        p = n(64936),
        _ = n(42855),
        h = n(54842),
        g = n(37563),
        v = n(80751),
        E = n.n(v);
      class S {
        constructor() {
          (this.m_bValidatedEmail = !1),
            (this.m_nMobileDeviceCount = 0),
            (this.m_bIsLoaded = !1),
            (this.m_bLoadedFromConfig = !1),
            (0, h.rC)(this);
        }
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, g.ip)("notificationstore", "application_config");
            this.ValidateStoreDefault(e) &&
              (0, h.z)(() => {
                (this.m_bIsLoaded = !0),
                  (this.m_bValidatedEmail = e.email_validated),
                  (this.m_nMobileDeviceCount = e.mobile_device_count);
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          return (
            e &&
            "object" == typeof e &&
            "number" == typeof e.mobile_device_count
          );
        }
        BIsLoaded() {
          return this.m_bIsLoaded;
        }
        BHasValidatedEmail() {
          return this.m_bValidatedEmail;
        }
        BHasPushNotification() {
          return this.m_nMobileDeviceCount > 0;
        }
        HintLoad() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.LazyInit(),
              this.m_bIsLoaded
                ? 1
                : g.L7.logged_in
                  ? (this.m_promise || (this.m_promise = this.InternalLoad()),
                    this.m_promise)
                  : 1
            );
          });
        }
        InternalLoad() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = g.De.STORE_BASE_URL + "notification/ajaxusersettings",
              t = yield E().get(e, { withCredentials: !0 });
            return (
              1 == t.data.success &&
                (0, h.z)(() => {
                  (this.m_bIsLoaded = !0),
                    (this.m_bValidatedEmail = t.data.email_validated),
                    (this.m_nMobileDeviceCount = t.data.mobile_device_count);
                }),
              t.data.success
            );
          });
        }
      }
      (0, a.gn)([h.LO], S.prototype, "m_bValidatedEmail", void 0),
        (0, a.gn)([h.LO], S.prototype, "m_nMobileDeviceCount", void 0);
      let D = new S();
      var f = n(27241),
        y = n(1485),
        b = n(24827),
        I = n(77178),
        C = n(90069),
        k = n(62613),
        A = n(46882),
        w = n(59728),
        P = n(16649),
        T = n(13129),
        N = n(31846),
        R = n(20417),
        G = n(46984),
        L = n(13499),
        B = n(11448),
        x = n.n(B),
        M = n(81913),
        O = n(38752),
        F = n(71741),
        U = n(80212),
        H = n(63493);
      let V = class extends r.Component {
        constructor() {
          super(...arguments),
            (this.m_elDropDownRef = r.createRef()),
            (this.m_bLoadWasCancelled = !1),
            (this.state = {
              bIsOpen: !1,
              bIsLoadingNotificationSettings: !D.BIsLoaded(),
            });
        }
        componentDidMount() {
          this.state.bIsLoadingNotificationSettings &&
            D.HintLoad()
              .catch(
                (e) => (
                  console.error(
                    "EventReminderWidget load fail: " + (0, P.l)(e).strErrorMsg,
                  ),
                  2
                ),
              )
              .then((e) => {
                1 != e ||
                  this.m_bLoadWasCancelled ||
                  this.setState({ bIsLoadingNotificationSettings: !1 });
              }),
            !this.props.eventModel.appid &&
              this.props.eventModel.clanSteamID &&
              d.sV.LoadClanInfoForClanSteamID(
                this.props.eventModel.clanSteamID,
              );
        }
        componentWillUnmount() {
          this.m_bLoadWasCancelled = !0;
        }
        ToggleMenu(e) {
          const t = _.cb.Get().BIsUserLoggedIn();
          t || g.De.IN_CLIENT
            ? (!t &&
                g.De.IN_CLIENT &&
                console.log(
                  "EventReminderWidget: In Client: Cannot use login widget. We expect to be already logged in.",
                ),
              this.state.bIsOpen ? this.HideMenu() : this.ShowMenu(),
              e.stopPropagation(),
              e.preventDefault())
            : (0, C.AM)(
                r.createElement(I.uH, {
                  strTitle: (0, N.Xx)("#EventDisplay_Share_NotLoggedIn"),
                  strDescription: (0, N.Xx)(
                    "#EventDisplay_Share_NotLoggedIn_Description",
                  ),
                  strOKButtonText: (0, N.Xx)("#MobileLogin_SignIn"),
                  onOK: () => (0, U.Xt)(),
                }),
                window,
              );
        }
        ShowMenu() {
          if (this.m_iMenuInstance) this.m_iMenuInstance.Show();
          else {
            let e = r.createElement(
                q,
                Object.assign({}, this.props, {
                  fnHasReminderSet: () => this.BHasSomeNotificationSetting(),
                  fnHidePanel: this.HideMenu,
                }),
              ),
              t = {
                bOverlapHorizontal: !0,
                bOverlapVertical: !0,
                bDisablePopTop: !0,
                bMatchWidth: !0,
                strClassName: (0, T.Z)(
                  O.ReminderDialog,
                  O.ReminderOptions,
                  f.contextMenu,
                ),
              };
            (this.m_iMenuInstance = (0, s.yV)(
              e,
              this.m_elDropDownRef.current,
              t,
            )),
              this.m_iMenuInstance.SetOnHideCallback(this.HideMenu);
          }
          this.setState({ bIsOpen: !0 }),
            u.Y.RecordAppInteractionEvent(
              this.props.eventModel.appid,
              u.g.k_eReminder_Opened,
            );
        }
        HideMenu() {
          this.m_iMenuInstance && this.m_iMenuInstance.Hide(),
            this.setState({ bIsOpen: !1 });
        }
        BHasSomeNotificationSetting() {
          const { eventModel: e } = this.props,
            t = e.GID;
          return (
            (D.BHasValidatedEmail() &&
              _.cb
                .Get()
                .BFollowsEventAndNotifiedBy(
                  e.clanSteamID,
                  t,
                  _.rE.k_ENotifyFlagByEmail,
                )) ||
            (D.BHasPushNotification() &&
              _.cb
                .Get()
                .BFollowsEventAndNotifiedBy(
                  e.clanSteamID,
                  t,
                  _.rE.k_ENotifyFlagByPush,
                ))
          );
        }
        render() {
          const e = this.props.bOnlyShowIcon && !this.state.bIsOpen,
            t = this.BHasSomeNotificationSetting();
          return r.createElement(
            "div",
            {
              className: (0, T.Z)({
                [O.ReminderCheckBox]: !0,
                [x().ReminderCtn]: !0,
                [O.IconMode]: e,
                [O.TextMode]: !e,
                ReminderSet: t,
                RemindMeWidget: !0,
              }),
              onClick: this.ToggleMenu,
              ref: this.m_elDropDownRef,
            },
            t &&
              r.createElement(
                "div",
                { className: O.RemindCheck },
                r.createElement(k.JrY, null),
              ),
            e &&
              r.createElement(
                "div",
                { className: O.RemindBell },
                r.createElement(k.Uos, null),
              ),
            r.createElement(
              "div",
              { className: O.ReminderDefault },
              (0, N.Xx)("#EventDisplay_Reminder_SetReminder"),
            ),
            r.createElement("div", { className: O.ReminderOptions }),
          );
        }
      };
      function X(e) {
        const { bPreviewMode: t, eventGID: n } = e,
          i = (0, a._T)(e, ["bPreviewMode", "eventGID"]),
          l = (0, m.XC)(n);
        if (!l)
          return t
            ? r.createElement(
                "div",
                { className: H.ErrorDiv },
                (0, N.Xx)("#EventDidplay_Reminder_EventNotVisible", n),
              )
            : null;
        const s = (0, o.jM)(g.De.LANGUAGE);
        return r.createElement(
          V,
          Object.assign({ lang: s }, i, { eventModel: l }),
        );
      }
      function j(e) {
        return l.unix(e).utc().format("YYYYMMDD[T]HHmmss[Z]");
      }
      (0, a.gn)([R.ak], V.prototype, "ToggleMenu", null),
        (0, a.gn)([R.ak], V.prototype, "ShowMenu", null),
        (0, a.gn)([R.ak], V.prototype, "HideMenu", null),
        (V = (0, a.gn)([i.Pi], V));
      let q = class extends r.Component {
        constructor() {
          super(...arguments), (this.state = { bIsRequestInFlight: !1 });
        }
        OnChangeFollowOrIgnore(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const { eventModel: a } = this.props,
              i = null == a ? void 0 : a.GID;
            if (i && i != o.Z3) {
              this.setState({ bIsRequestInFlight: !0 });
              try {
                yield _.cb
                  .Get()
                  .SetFollowOrUnfollowEvent(!e, t, a.clanSteamID, i, n),
                  e &&
                    (n === _.rE.k_ENotifyFlagByEmail
                      ? this.TrackEventAction(u.g.k_eReminder_Email)
                      : n === _.rE.k_ENotifyFlagByPush &&
                        this.TrackEventAction(u.g.k_eReminder_MobilePush));
              } catch (e) {
                (0, C.BR)(
                  r.createElement(
                    I.JX,
                    {
                      strTitle: (0, N.Xx)(
                        t
                          ? "#EventDisplay_Reminder_IgnoreEvent_Error"
                          : "#EventDisplay_Reminder_FollowEvent_Error",
                      ),
                      strDescription: (0, N.Xx)(
                        t
                          ? "#EventDisplay_Reminder_IgnoreEvent_ErrorDesc"
                          : "#EventDisplay_Reminder_FollowEvent_ErrorDesc",
                      ),
                    },
                    (0, P.l)(e).strErrorMsg,
                  ),
                  window,
                );
              }
              this.setState({ bIsRequestInFlight: !1 });
            }
          });
        }
        OnChangeFollowByEmail(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.rE.k_ENotifyFlagByEmail);
        }
        OnChangeFollowByPush(e) {
          this.OnChangeFollowOrIgnore(e, !1, _.rE.k_ENotifyFlagByPush);
        }
        GetExternalCalendarEventTitle() {
          const { eventModel: e, lang: t } = this.props,
            n = e.GetNameWithFallback(t);
          if (c.xM.BHasEntityNameForID(e.appid, e.clanSteamID.GetAccountID())) {
            return `${c.xM.GetEntityNameForID(e.appid, e.clanSteamID.GetAccountID())}: ${n}`;
          }
          return n;
        }
        TrackEventAction(e) {
          const { eventModel: t } = this.props;
          u.Y.RecordAppInteractionEvent(t.appid, e);
        }
        GetExternalCalendarEventBody() {
          const { eventModel: e, lang: t } = this.props;
          let n = e.GetSubTitleWithLanguageFallback(t);
          n = n ? `${n}\n\n\n` : "";
          const a = e.GetSummaryWithFallback(t),
            i = e.jsondata.bSaleEnabled
              ? M.Ue.k_eStoreSalePage
              : M.Ue.k_eStoreView;
          return `${n}${a}\n\n${(0, M.q)(e, i, "forceAbsolute")}`;
        }
        GetGoogleCalendarLink() {
          const { eventModel: e } = this.props,
            t = encodeURIComponent(this.GetExternalCalendarEventTitle()),
            n = encodeURIComponent(this.GetExternalCalendarEventBody()),
            a = e.GetStartTimeAndDateUnixSeconds(),
            i = j(a),
            l = j(e.GetEndTimeAndDateUnixSeconds() || a + G._H.PerHour),
            r =
              (g.De.IN_CLIENT ? "steam://openurl_external/" : "") +
              `https://calendar.google.com/calendar/r/eventedit?text=${t}&details=${n}&dates=${i}/${l}`;
          return (0, L.OL)(r);
        }
        GetICSDownloadLink(e) {
          const { eventModel: t, lang: n } = this.props,
            a = t.appid
              ? "app/" + t.appid
              : "group/" + t.clanSteamID.GetAccountID(),
            i = "l=" + (0, o.j_)(n);
          return `${g.De.STORE_BASE_URL}${(0, M.x3)()}/download/${a}/${e}/${t.GID}?${i}`;
        }
        render() {
          const {
              eventModel: e,
              bShowStartTime: t,
              bExpandLeft: n,
              bOnlyShowIcon: a,
              fnHasReminderSet: i,
              fnHidePanel: l,
            } = this.props,
            o = D.BHasValidatedEmail(),
            s = D.BHasPushNotification(),
            c = t && e.GetStartTimeAndDateUnixSeconds();
          return r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              {
                className: (0, T.Z)(
                  O.ReminderCheckBox,
                  a ? O.IconMode : O.TextMode,
                  "RemindMeWidget",
                ),
                onClick: l,
              },
              i() &&
                r.createElement(
                  "div",
                  { className: O.RemindCheck },
                  r.createElement(k.JrY, null),
                ),
              a &&
                r.createElement(
                  "div",
                  { className: O.RemindBell },
                  r.createElement(k.Uos, null),
                ),
              r.createElement(
                "div",
                { className: O.ReminderDefault },
                (0, N.Xx)("#EventDisplay_Reminder_SetReminder"),
              ),
              r.createElement("div", { className: O.ReminderOpennedOptions }),
            ),
            r.createElement(
              "div",
              {
                className: (0, T.Z)(
                  O.FlexColumnContainer,
                  O.ReminderBackground,
                  n && O.ReminderExpandsLeft,
                ),
              },
              this.state.bIsRequestInFlight &&
                r.createElement(A.V, {
                  className: O.RpcThrobber,
                  size: "xlarge",
                  position: "center",
                }),
              c &&
                r.createElement(
                  "div",
                  { className: O.FullStartTime },
                  (0, N.kQ)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    (0, N.$1)(
                      c,
                      (0, G.U8)(
                        new Date(1e3 * c),
                        p.JW.GetTimeNowWithOverrideAsDate(),
                      ),
                    ),
                    (0, b.w$)(c, !0),
                  ),
                ),
              r.createElement(
                "div",
                { className: O.ReminderOptionsHeader },
                (0, N.Xx)("#EventDisplay_Reminder_GetNotification_Via"),
              ),
              r.createElement(
                "div",
                { className: (0, T.Z)(O.ReminderOption, !o && O.Unverified) },
                r.createElement(
                  w.HP,
                  {
                    className: O.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, N.Xx)(
                      o
                        ? "#EventReminder_NotifyByEmail_ttip"
                        : "#EventReminder_NotifyByEmail_Missing",
                    ),
                  },
                  r.createElement(y.ji, {
                    label: (0, N.Xx)("#EventDisplay_Reminder_ViaEmail"),
                    disabled: !o,
                    checked: _.cb
                      .Get()
                      .BFollowsEventAndNotifiedBy(
                        e.clanSteamID,
                        e.GID,
                        _.rE.k_ENotifyFlagByEmail,
                      ),
                    onChange: this.OnChangeFollowByEmail,
                  }),
                ),
                !o &&
                  r.createElement(
                    "div",
                    { className: F.FlexColumnContainer },
                    r.createElement(
                      "a",
                      {
                        href: g.De.STORE_BASE_URL + "account/",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            u.g.k_eReminder_EmailUnverified,
                          ),
                      },
                      (0, N.Xx)("#EventReminder_NotifyByEmail_Missing_Add"),
                    ),
                  ),
              ),
              r.createElement(
                "div",
                { className: (0, T.Z)(O.ReminderOption, !s && O.Unverified) },
                r.createElement(
                  w.HP,
                  {
                    className: O.CheckboxWrapper,
                    bTopmost: !0,
                    toolTipContent: (0, N.Xx)(
                      s
                        ? "#EventReminder_NotifyByMobile_ttip"
                        : "#EventReminder_NotifyByMobile_Missing",
                    ),
                  },
                  r.createElement(y.ji, {
                    label: (0, N.Xx)("#EventDisplay_Reminder_ViaMobileApp"),
                    disabled: !s,
                    checked: _.cb
                      .Get()
                      .BFollowsEventAndNotifiedBy(
                        e.clanSteamID,
                        e.GID,
                        _.rE.k_ENotifyFlagByPush,
                      ),
                    onChange: this.OnChangeFollowByPush,
                  }),
                ),
                !s &&
                  r.createElement(
                    "div",
                    { className: F.FlexColumnContainer },
                    r.createElement(
                      "a",
                      {
                        href: g.De.STORE_BASE_URL + "mobile/?show=steamapp",
                        target: g.De.IN_CLIENT ? void 0 : "_blank",
                        onClick: () =>
                          this.TrackEventAction(
                            u.g.k_eReminder_MobilePushMissing,
                          ),
                      },
                      (0, N.Xx)("#EventReminder_NotifyByMobile_Install"),
                    ),
                  ),
              ),
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: O.ReminderOptionsHeader },
                  (0, N.Xx)("#EventDisplay_Reminder_AddToCalendar"),
                ),
                r.createElement(
                  "div",
                  { className: O.ReminderCalendarOptions },
                  r.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      href: this.GetICSDownloadLink("ics"),
                      onClick: () =>
                        this.TrackEventAction(u.g.k_eReminder_CalendarApple),
                    },
                    (0, N.Xx)("#EventDisplay_Reminder_AppleCalendar_Short"),
                  ),
                  r.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      target: g.De.IN_CLIENT ? void 0 : "_blank",
                      href: this.GetGoogleCalendarLink(),
                      onClick: () =>
                        this.TrackEventAction(u.g.k_eReminder_CalendarGoogle),
                    },
                    (0, N.Xx)("#EventDisplay_Reminder_GoogleCalendar_Short"),
                  ),
                  r.createElement(
                    "a",
                    {
                      className: O.ReminderOption,
                      href: this.GetICSDownloadLink("outlook"),
                      onClick: () =>
                        this.TrackEventAction(u.g.k_eReminder_CalendarOutlook),
                    },
                    (0, N.Xx)("#EventDisplay_Reminder_OutlookCalendar_Short"),
                  ),
                ),
              ),
              !1,
            ),
          );
        }
      };
      (0, a.gn)([R.ak], q.prototype, "OnChangeFollowByEmail", null),
        (0, a.gn)([R.ak], q.prototype, "OnChangeFollowByPush", null),
        (0, a.gn)([R.ak], q.prototype, "TrackEventAction", null),
        (q = (0, a.gn)([i.Pi], q));
    },
    27910: (e, t, n) => {
      "use strict";
      n.d(t, { Pi: () => E, ko: () => S, uW: () => v });
      var a = n(85556),
        i = n(27605),
        l = n(30750),
        r = n(47427),
        o = n(77936),
        s = n(38071),
        c = n(65650),
        m = n(71741),
        d = n.n(m),
        u = n(13129),
        p = n(31846),
        _ = n(12251),
        h = n(20417),
        g = n(59728);
      let v = class extends r.Component {
        GenerateLanguageOptions() {
          let e = [];
          const {
            fnFilterLanguage: t,
            fnLangHasData: n,
            fnLastUpdateRTime: a,
            fnIsLangSupported: i,
          } = this.props;
          this.props.bAllowUnsetOption &&
            e.push(
              r.createElement(
                "option",
                { key: "langpicker_unset", value: -1 },
                (0, p.Xx)("#language_selection_none"),
              ),
            );
          let l = new Array();
          const c = this.props.realms || [s.IN.k_ESteamRealmGlobal];
          for (const e of p.LJ.GetLanguageListForRealms(c)) {
            if (t && !t(e)) continue;
            const n = (0, o.j_)(e),
              a = (0, p.Xx)("#Language_" + n),
              r = Boolean(i) && i(e);
            l.push({ eLang: e, sLocName: a, bSupported: r });
          }
          l.sort((e, t) =>
            e.bSupported != t.bSupported
              ? e.bSupported
                ? -1
                : 1
              : e.sLocName.localeCompare(t.sLocName),
          );
          let m = !1;
          for (const t of l) {
            t.bSupported != m &&
              (e.push(
                r.createElement(
                  "option",
                  {
                    key: t.bSupported ? "SupportedGroup" : "UnsupportedGroup",
                    className: d().SupportedGroupLabel,
                    disabled: !0,
                  },
                  (0, p.Xx)(
                    t.bSupported
                      ? "#LanguageGroup_Supported"
                      : "#LanguageGroup_Unsupported",
                  ),
                ),
              ),
              (m = t.bSupported));
            const i = n && n(t.eLang),
              l = a && a(t.eLang);
            let o = t.sLocName;
            l &&
              0 !== l &&
              ((o += " "),
              (o += (0, p.Xx)(
                "#Language_Last_Update",
                (0, p.vX)(l) + " @ " + (0, _.Sc)(l, { bForce24HourClock: !1 }),
              ))),
              e.push(
                r.createElement(
                  "option",
                  {
                    key: "langpicker" + t.eLang + (i ? "_hasdata" : ""),
                    value: t.eLang,
                    className: (0, u.Z)(
                      { [d().LanguageWithContent]: i },
                      t.bSupported
                        ? d().SupportedLanguage
                        : d().UnsupportedLanguage,
                    ),
                  },
                  o,
                ),
              );
          }
          return e;
        }
        OnLanguageChange(e) {
          const { fnOnLanguageChanged: t, selectedLang: n } = this.props;
          let a = Number.parseInt(e.currentTarget.value);
          a != n && t && t(a);
        }
        render() {
          const { selectedLang: e, bDisabled: t, strTooltip: n } = this.props;
          let a = this.GenerateLanguageOptions();
          return r.createElement(
            g.HP,
            { toolTipContent: n },
            r.createElement(
              "select",
              { value: e, onChange: this.OnLanguageChange, disabled: t },
              a,
            ),
          );
        }
      };
      function E(e) {
        const [t, n] = (0, l.SZ)(() => [
          c.U.Get().GetHasLocalizationContext(),
          c.U.Get().GetCurEditLanguage(),
        ]);
        return r.createElement(v, {
          selectedLang: n,
          fnLangHasData: c.U.Get().BHasLanguageData,
          fnOnLanguageChanged: c.U.Get().SetCurEditLanguage,
          bDisabled: !t,
          strTooltip: t ? void 0 : (0, p.Xx)("#Localization_EditorNotInFocus"),
        });
      }
      function S(e) {
        const { fnLangHasData: t } = e;
        r.useEffect(
          () => (
            c.U.Get().SetHasLocalizationContext(!0),
            () => c.U.Get().SetHasLocalizationContext(!1)
          ),
          [],
        );
        const n = (0, l.SZ)(() => {
          const e = [];
          for (let n = 0; n < 31; ++n) e[n] = t(n);
          return e;
        });
        return (
          r.useEffect(() => c.U.Get().SetHasLanguage(n), [n]),
          r.createElement(r.Fragment, null)
        );
      }
      (0, a.gn)([h.ak], v.prototype, "OnLanguageChange", null),
        (v = (0, a.gn)([i.Pi], v));
    },
    82093: (e, t, n) => {
      "use strict";
      n.d(t, { DF: () => l, QI: () => r, SY: () => o });
      var a = n(47427);
      const i = { eLocation: 0 },
        l = a.createContext(i);
      function r(e) {
        const { children: t, location: n } = e;
        return a.createElement(
          l.Provider,
          { value: Object.assign(Object.assign({}, i), { eLocation: n }) },
          t,
        );
      }
      function o() {
        return a.useContext(l);
      }
    },
    58798: (e, t, n) => {
      "use strict";
      n.d(t, { qs: () => E, pj: () => S, G$: () => D });
      var a = n(85556),
        i = n(27605),
        l = n(47427),
        r = n(29525),
        o = n(77936),
        s = n(83654),
        c = n(37265),
        m = (n(59728), n(20417)),
        d = n(37563),
        u = n(83682),
        p = n(4481);
      function _(e) {
        return new p.So(new p.LT(), 0);
      }
      function h(e) {
        const { text: t, languageOverride: n } = e,
          [a] = (0, l.useState)(
            new u.Z6(new Map([...Array.from(r.Be.entries())]), _, n),
          );
        return l.createElement(l.Fragment, null, a.ParseBBCode(t, {}));
      }
      var g = n(16003),
        v = n.n(g);
      const E = (0, i.Pi)((e) => {
        const t = e.photo ? (0, r.vZ)(e.photo, (0, o.jM)(d.De.LANGUAGE)) : null,
          n = e.photo ? ("string" == typeof t ? t : t[1]) : null,
          a = Boolean(e.title),
          i = Boolean(e.company);
        return l.createElement(
          "div",
          { className: v().SpeakerPopup, onMouseLeave: e.fnClose },
          l.createElement(
            "div",
            { className: v().SpeakerInfoOuter },
            e.photo && l.createElement("img", { src: n }),
            l.createElement(
              "div",
              { className: v().SpeakerInfoInner },
              l.createElement("div", null, e.name),
              (a || i) &&
                l.createElement(
                  "div",
                  null,
                  a &&
                    l.createElement(
                      "span",
                      { className: v().SpeakerTitle },
                      e.title,
                    ),
                  a && i && l.createElement("span", null, ", "),
                  i && l.createElement("span", null, e.company),
                ),
            ),
          ),
          e.bio &&
            l.createElement(
              "div",
              { className: v().SpeakerBio },
              e.bio,
              e.bioString && l.createElement(h, { text: e.bioString }),
            ),
        );
      });
      class S extends l.Component {
        constructor() {
          super(...arguments), (this.m_refAnchor = l.createRef());
        }
        ClosePopup() {
          this.m_fnHidePopup &&
            (this.m_fnHidePopup(),
            (this.m_fnHidePopup = null),
            window.removeEventListener("scroll", this.OnScroll));
        }
        componentWillUnmount() {
          this.ClosePopup();
        }
        OnScroll() {
          Math.abs(window.scrollY - this.m_nScrollPosAtHoverStart) > 50 &&
            this.ClosePopup();
        }
        OnHover(e) {
          const t = this.m_refAnchor.current;
          if (!t) return;
          const n = {
              direction: "right",
              bEnablePointerEvents: !0,
              style: { maxWidth: 640, minHeight: t.clientHeight },
              target: t,
            },
            a = "presenter-hover-" + Math.floor(1e8 * Math.random());
          (this.m_fnHidePopup = () =>
            S.sm_embeddedElements.HideElement(t.ownerDocument, a)),
            window.addEventListener("scroll", this.OnScroll),
            (this.m_nScrollPosAtHoverStart = window.scrollY);
          S.sm_embeddedElements.ShowElementDelayed(
            t.ownerDocument,
            150,
            l.createElement(
              c.T,
              Object.assign({}, n),
              l.createElement(
                E,
                Object.assign({}, this.props, { fnClose: this.OnLeave }),
              ),
            ),
            a,
          );
        }
        OnLeave(e) {
          this.ClosePopup();
        }
        render() {
          return l.createElement(
            "div",
            {
              className: v().SpeakerHover,
              ref: this.m_refAnchor,
              onMouseEnter: this.OnHover,
              onFocus: this.OnHover,
              onMouseLeave: this.OnLeave,
              onBlur: this.OnLeave,
            },
            this.props.children,
          );
        }
      }
      (S.sm_embeddedElements = new s.AN("presenter-hover-source-elements")),
        (0, a.gn)([m.ak], S.prototype, "ClosePopup", null),
        (0, a.gn)([m.ak], S.prototype, "OnScroll", null),
        (0, a.gn)([m.ak], S.prototype, "OnHover", null),
        (0, a.gn)([m.ak], S.prototype, "OnLeave", null);
      class D extends l.Component {
        render() {
          const e = this.props.photo
              ? (0, r.vZ)(this.props.photo, (0, o.jM)(d.De.LANGUAGE))
              : null,
            t =
              this.props.photo && !this.props.hidePhotoInCompactView
                ? "string" == typeof e
                  ? e
                  : e[1]
                : null,
            n = Boolean(this.props.title),
            a = Boolean(this.props.company);
          return l.createElement(
            "div",
            { className: v().SpeakerOuter },
            l.createElement(
              S,
              Object.assign({}, this.props),
              l.createElement(
                "div",
                { className: v().Speaker },
                l.createElement(
                  "div",
                  { className: v().SpeakerInfoOuter },
                  !!t && l.createElement("img", { src: t }),
                  l.createElement(
                    "div",
                    { className: v().SpeakerInfoInner },
                    l.createElement("div", null, this.props.name),
                    (n || a) &&
                      l.createElement(
                        "div",
                        null,
                        n &&
                          l.createElement(
                            "span",
                            { className: v().SpeakerTitle },
                            this.props.title,
                          ),
                        n && a && l.createElement("span", null, ", "),
                        a && l.createElement("span", null, this.props.company),
                      ),
                  ),
                ),
              ),
            ),
          );
        }
      }
    },
    92936: (e, t, n) => {
      "use strict";
      n.d(t, { _U: () => Se, YK: () => Ee, AO: () => De });
      var a = n(47427),
        i = n(35427),
        l = n(58670),
        r = n(13129),
        o = n(37563),
        s = n(71741),
        c = n.n(s),
        m = n(43301),
        d = n(59728),
        u = n(31846),
        p = n(53343),
        _ = n(15980),
        h = n(19399),
        g = n(85556),
        v = n(79545),
        E = n(44922),
        S = n(54842),
        D = n(77581),
        f = (n(97087), n(38079)),
        y = n(75375),
        b = n(45492),
        I = n(20417);
      function C(e, t) {
        const n = null == t ? void 0 : t.nSaleTagID,
          a = null == t ? void 0 : t.strContentHubType,
          i = null == t ? void 0 : t.strContentHubCategory,
          l = null == t ? void 0 : t.nContentHubTagID,
          r = null == t ? void 0 : t.bDiscountsOnly,
          o = null == t ? void 0 : t.bPrioritizeDiscounts,
          s = null == t ? void 0 : t.strOptInName,
          c = null == t ? void 0 : t.nOptInTagID,
          m = null == t ? void 0 : t.nPruneTagID;
        let d = e.toString();
        return (
          n
            ? (d += "_" + n)
            : a &&
              ((d += "_" + a),
              "category" === a && i
                ? (d += "_" + i)
                : "tags" === a && l && (d += "_" + l),
              r ? (d += "_d") : o && (d += "_p"),
              s && c && m && (d += "_" + s)),
          d
        );
      }
      function k(e) {
        const t = null == e ? void 0 : e.nSaleTagID,
          n = null == e ? void 0 : e.strContentHubType,
          a = null == e ? void 0 : e.strContentHubCategory,
          i = null == e ? void 0 : e.nContentHubTagID,
          l = null == e ? void 0 : e.bDiscountsOnly,
          r = null == e ? void 0 : e.bPrioritizeDiscounts,
          o = null == e ? void 0 : e.strOptInName,
          s = null == e ? void 0 : e.nOptInTagID,
          c = null == e ? void 0 : e.nPruneTagID,
          m = null == e ? void 0 : e.bOptInOnly,
          d = new f._v();
        if (t) {
          const e = new f.KQ();
          e.set_sale_tagid(t), d.set_sale_filter(e);
        } else if (n) {
          const e = new f.AY();
          if (
            (e.set_hub_type(n),
            "category" === n
              ? e.set_hub_category(a)
              : "tags" === n && e.set_hub_tagid(i),
            l ? e.set_discount_filter(1) : r && e.set_discount_filter(2),
            o)
          ) {
            const t = new f.q8();
            t.set_name(o),
              t.set_optin_tagid(s),
              t.set_prune_tagid(c),
              t.set_optin_only(m),
              e.set_optin(t);
          }
          d.set_content_hub_filter(e);
        }
        return d;
      }
      class A {
        GetTotalSkippedAppsForDiscoveryQueue(e, t) {
          const n = C(e, t);
          return this.m_mapDiscoveryQueues.get(n).skipped;
        }
        GetNumAppsSeenForDiscoveryQueue(e, t) {
          const n = C(e, t);
          return this.m_mapSkippedAppCount.get(n) || 0;
        }
        GetSkippedAppKey(e, t, n) {
          return `${e}_${C(t, n)}`;
        }
        GetInClientCompletedQueues(e, t) {
          const n = C(e, t);
          return this.m_mapInClientCompleted.get(n) || 0;
        }
        GetInClientCompletedQueuesCallback(e, t) {
          const n = C(e, t);
          return (
            this.m_mapInClientCompletedCallback.has(n) ||
              this.m_mapInClientCompletedCallback.set(n, new b.pB()),
            this.m_mapInClientCompletedCallback.get(n)
          );
        }
        GetExhaustedCallback(e, t) {
          const n = C(e, t);
          return (
            this.m_mapExhuastedCallback.has(n) ||
              this.m_mapExhuastedCallback.set(n, new b.pB()),
            this.m_mapExhuastedCallback.get(n)
          );
        }
        BIsExhausted(e, t) {
          const n = C(e, t);
          return this.m_setExhuasted.has(n);
        }
        LoadDiscoveryQueue(e, t, n) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            const a = C(e, n),
              i = v.gA.Init(y.cJ);
            i.Body().set_queue_type(e),
              i.Body().set_country_code(o.De.COUNTRY || "US"),
              i.Body().set_rebuild_queue(t),
              i.Body().set_rebuild_queue_if_stale(!0),
              (1 !== e && 9 !== e) ||
                i.Body().settings().set_include_coming_soon(!0),
              (Boolean(null == n ? void 0 : n.nSaleTagID) ||
                Boolean(null == n ? void 0 : n.strContentHubType)) &&
                i.Body().set_store_page_filter(k(n));
            const l = yield y.d6.GetDiscoveryQueue(this.m_transport, i),
              r = l.GetEResult();
            if (1 == r) {
              const t = l.Body().toObject();
              this.m_mapDiscoveryQueues.set(a, t),
                t.exhausted
                  ? this.m_setExhuasted.has(a) ||
                    (this.m_setExhuasted.add(a),
                    this.GetExhaustedCallback(e, n).Dispatch(!0))
                  : this.m_setExhuasted.has(a) &&
                    (this.m_setExhuasted.delete(a),
                    this.GetExhaustedCallback(e, n).Dispatch(!1)),
                this.m_mapSkippedAppCount.set(a, t.skipped || 0);
            } else
              console.warn(
                "Error",
                r,
                "failed to get discovery queue type",
                e,
                "key",
                a,
              );
            return r;
          });
        }
        GetDiscoveryQueueAppsOfType(e, t, n) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            const a = C(e, n);
            return (
              (!t && this.m_mapDiscoveryQueues.has(a)) ||
                (yield this.LoadDiscoveryQueue(e, t, n)),
              {
                appids: this.m_mapDiscoveryQueues.get(a).appids,
                exhausted: this.m_mapDiscoveryQueues.get(a).exhausted,
              }
            );
          });
        }
        SkipDiscoveryQueueItem(e, t, n) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            C(t, n);
            const a = this.GetSkippedAppKey(e, t, n);
            if (!this.m_mapSkippedApps.has(a)) {
              const i = C(t, n),
                l = this.m_mapDiscoveryQueues.get(i).appids,
                r = l[l.length - 1] == e;
              this.m_mapSkippedApps.set(a, !0),
                this.m_mapSkippedAppCount.set(
                  i,
                  (this.m_mapSkippedAppCount.get(i) || 0) + 1,
                );
              const o = v.gA.Init(y.Ew);
              o.Body().set_appid(e),
                o.Body().set_queue_type(t),
                (Boolean(null == n ? void 0 : n.nSaleTagID) ||
                  Boolean(null == n ? void 0 : n.strContentHubType)) &&
                  o.Body().set_store_page_filter(k(n));
              const s = (yield y.d6.SkipDiscoveryQueueItem(
                this.m_transport,
                o,
              )).GetEResult();
              1 != s && 29 != s
                ? (console.warn("Error", s, "failed to skip appid ", e),
                  this.m_mapSkippedApps.delete(a))
                : r && this.MarkDiscoveryQueueCompleted(t, n);
            }
          });
        }
        MarkDiscoveryQueueCompleted(e, t) {
          const n = C(e, t);
          if (this.m_mapInClientCompleted.has(n)) {
            const a = this.m_mapInClientCompleted.get(n) + 1;
            this.m_mapInClientCompleted.set(n, a),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(a);
          } else
            this.m_mapInClientCompleted.set(n, 0),
              this.GetInClientCompletedQueuesCallback(e, t).Dispatch(0);
        }
        LoadSkippedApps(e, t) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            C(e, t);
            const n = v.gA.Init(y.iM);
            n.Body().set_steamid(o.L7.steamid),
              n.Body().set_queue_type(e),
              (Boolean(null == t ? void 0 : t.nSaleTagID) ||
                Boolean(null == t ? void 0 : t.strContentHubType)) &&
                n.Body().set_store_page_filter(k(t));
            const a = yield y.d6.GetDiscoveryQueueSkippedApps(
              this.m_transport,
              n,
            );
            return 1 === a.GetEResult()
              ? a.Body().appids() || []
              : (console.warn(
                  "Failed to retrieve skipped apps for discovery queue.",
                  e,
                  t,
                  a.GetEResult(),
                ),
                []);
          });
        }
        static Init(e) {
          A.Get().m_transport = e;
        }
        static BHasTransport() {
          return Boolean(A.Get().m_transport);
        }
        static Get() {
          return (
            this.s_DiscoveryQueueStore ||
              (this.s_DiscoveryQueueStore = new A()),
            this.s_DiscoveryQueueStore
          );
        }
        constructor() {
          (this.m_mapDiscoveryQueues = new Map()),
            (this.m_mapSkippedApps = new Map()),
            (this.m_mapSkippedAppCount = new Map()),
            (this.m_mapInClientCompleted = new Map()),
            (this.m_mapInClientCompletedCallback = new Map()),
            (this.m_setExhuasted = new Set()),
            (this.m_mapExhuastedCallback = new Map()),
            (0, S.rC)(this);
        }
      }
      (A.s_DiscoveryQueueStore = null),
        (0, g.gn)([S.LO], A.prototype, "m_mapDiscoveryQueues", void 0);
      n(47242), n(11448), n(11578);
      var w = n(91618),
        P = n(54879),
        T = n(80751),
        N = n.n(T),
        R = (n(42718), n(77151)),
        G = n(80998);
      n(15690), n(40057);
      a.createContext({});
      class L {
        static Init(e) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            (L.Get().m_transport = e.GetServiceTransport()),
              (L.Get().m_DynamicUserStore = yield R.jg.Get().HintLoad());
          });
        }
        static BIsLoaded() {
          var e;
          return Boolean(
            L.Get().m_transport &&
              (null === (e = L.Get().m_DynamicUserStore) || void 0 === e
                ? void 0
                : e.BIsLoaded()),
          );
        }
        static Get() {
          return (
            this.s_AppRelevanceStore || (this.s_AppRelevanceStore = new L()),
            this.s_AppRelevanceStore
          );
        }
        GetTransport() {
          return this.m_transport;
        }
        GetDynamicUserStore() {
          return this.m_DynamicUserStore;
        }
        GetFriendsRecommendedAppKey(e) {
          return `FriendsRecommendedAppKey_${e}`;
        }
        LoadFriendsRecommendedApp(e) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            const t = v.gA.Init(P.tR);
            t.Body().set_appid(e);
            const n = yield P.fG.GetFriendsRecommendedApp(this.m_transport, t),
              a = n.GetEResult();
            if (1 == a) return n.Body().toObject();
            throw `Error ${a} failed to call GetFriendsRecommendedApp ${e}`;
          });
        }
        GetStoreRelevanceDataAppKey(e) {
          return `StoreRelevanceDataAppKey_${e}`;
        }
        LoadStoreRelevanceData(e) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            let t = { appid: e },
              n = { arrSimilarPlayedApps: [], bRecommendedByIR: !1 };
            const a = (yield N().get(
              `${o.De.STORE_BASE_URL}explore/ajaxgetstorerelevancedata`,
              { params: t, withCredentials: !0, timeout: 1e4 },
            )).data;
            return (
              a &&
                1 == a.success &&
                (a.results.similar_played_apps &&
                  (n.arrSimilarPlayedApps = a.results.similar_played_apps.map(
                    (e) => ({
                      appid: e.appid,
                      playtimeForever: e.playtime_forever,
                    }),
                  )),
                a.results.recommended_by_ir && (n.bRecommendedByIR = !0)),
              n
            );
          });
        }
      }
      L.s_AppRelevanceStore = null;
      n(80886);
      var B = n(62613),
        x = n(82493);
      n(4030), n(84686), n(3783), n(4654), n(31421), n(84270), n(13557);
      n(86437), n(74031), n(85305), n(11619), n(46157);
      var M = n(42287),
        O = n(45651),
        F = n(60616),
        U = n(59794),
        H = n(15633),
        V = n(48766),
        X = n(68785),
        j = n(56617);
      const q = new X.sO("VirtualizedBoxCarousel").Debug;
      a.forwardRef(function (e, t) {
        const { name: n, initialColumn: i } = e,
          [l, r] = (0, j.i4)("VBC_" + n, i || 0),
          s = (0, o.id)();
        return a.createElement(
          W,
          Object.assign({}, e, {
            ref: t,
            focusedColumn: l,
            setFocusedColumn: r,
            autoHeight: !s,
          }),
        );
      });
      class W extends a.PureComponent {
        constructor() {
          super(...arguments),
            (this.state = { nContainerWidth: 0, nRightPadding: 0 }),
            (this.m_refContainer = a.createRef()),
            (this.m_refGrid = void 0),
            (this.m_refGridElement = void 0),
            (this.m_scrollAnimation = null),
            (this.m_mapRefs = new Map()),
            (this.m_iStart = 0),
            (this.m_iEnd = 0),
            (this.m_activeScrollTo = null),
            (this.m_timeout = void 0),
            (this.m_nTouchStartClientX = void 0),
            (this.m_bMouseDown = !1);
        }
        StartScrollAnimation(e, t, n, a, i) {
          let l = this.m_refGrid;
          if (l)
            if (i) {
              const l = this.m_refGridElement;
              q("StartScrollAnimation", n, a, i);
              let r = {
                msDuration: i,
                timing: this.props.scrollTiming,
                onComplete: () => this.OnAnimationScrollComplete(e, t, n, a),
              };
              this.m_scrollAnimation && this.m_scrollAnimation.End(),
                (this.m_scrollAnimation = new V.jg(l, { scrollLeft: a }, r)),
                this.m_scrollAnimation.Start();
            } else
              l.scrollToPosition({ scrollLeft: a, scrollTop: 0 }),
                this.OnAnimationScrollComplete(e, t, n, a);
        }
        RestoreScrollPosition(e) {
          this.StartScrollAnimation(
            H.eV.INVALID,
            0,
            "RestoreScrollPosition",
            e,
            0,
          );
        }
        SendScrollNotification(e) {
          this.m_timeout && window.clearTimeout(this.m_timeout);
          const t = this.props.fnOnScroll;
          this.m_timeout = window.setTimeout(() => {
            t && t(e), (this.m_timeout = void 0);
          }, 250);
        }
        OnAnimationScrollComplete(e, t, n, a) {
          M.unstable_batchedUpdates(() => {
            q("OnAnimationScrollComplete", n, a),
              this.SendScrollNotification(a);
            const i = this.m_mapRefs.get(n);
            i &&
              i.current &&
              (q("Sending focus to", n), i.current.TakeFocus(e)),
              this.props.setFocusedColumn(t),
              (this.m_scrollAnimation = null),
              (this.m_activeScrollTo = null);
          });
        }
        OnTouchStart(e) {
          1 == e.touches.length &&
            (this.m_nTouchStartClientX = e.touches[0].clientX);
        }
        OnTouchEnd(e) {
          this.m_nTouchStartClientX = void 0;
        }
        OnTouchMove(e) {
          if (!this.m_refGrid || 0 == e.touches.length) return;
          const t = this.m_nTouchStartClientX - e.touches[0].clientX;
          this.BlockMovementLeftPastFirstElement(e, t);
        }
        OnMouseDown(e) {
          this.m_bMouseDown = !0;
        }
        OnMouseUp(e) {
          this.m_bMouseDown = !1;
        }
        BlockMovementLeftPastFirstElement(e, t) {
          const n = this.m_refGrid.getOffsetForCell({
            alignment: this.props.scrollToAlignment,
            columnIndex: this.props.nIndexLeftmost,
          });
          this.m_refGridElement.scrollLeft - n.scrollLeft + t < 0 &&
            e.cancelable &&
            (console.warn("Blocking touch scroll out of bounds"),
            e.cancelable && e.preventDefault());
        }
        SnapBackToFirstElement(e) {
          console.warn("Carousel out of bounds, scrolling back to", e),
            this.RestoreScrollPosition(e);
        }
        OnScroll(e) {
          var t;
          const n =
            null === (t = this.m_refGrid) || void 0 === t
              ? void 0
              : t.getOffsetForCell({
                  alignment: this.props.scrollToAlignment,
                  columnIndex: this.props.nIndexLeftmost,
                });
          this.SendScrollNotification(e.scrollLeft),
            e.scrollLeft < Math.floor(null == n ? void 0 : n.scrollLeft) &&
              this.SnapBackToFirstElement(n.scrollLeft),
            this.UpdateScrollArrows();
        }
        GetCellColumnWidth(e) {
          let { fnGetColumnWidth: t } = this.props,
            n = t(e.index) + this.props.nItemMarginX;
          return (
            e.index == this.props.nNumItems - 1 &&
              (n += this.state.nRightPadding),
            n
          );
        }
        OnItemFocused(e, t) {
          this.m_bMouseDown ||
            this.ScrollToItem(
              H.eV.INVALID,
              t,
              this.props.scrollToAlignment || "auto",
              void 0,
              0,
            );
        }
        CellRenderer(e) {
          const {
              fnGetColumnWidth: t,
              fnGetId: n,
              fnItemRenderer: i,
              nItemHeight: l,
              autoFocus: r,
            } = this.props,
            { key: o, columnIndex: s, style: c } = e,
            m = t(s),
            d = parseInt(c.left.toString()),
            u = n(s),
            p = !this.m_mapRefs.has(u),
            _ = this.m_mapRefs.get(u) || (0, x.Hy)();
          return (
            this.m_mapRefs.set(u, _),
            a.createElement(
              w.s,
              {
                key: o,
                navKey: o,
                navRef: _,
                focusable: !1,
                onGamepadDirection: this.OnGamepadDirection,
                autoFocus: r && s == this.props.focusedColumn && p,
                "data-id": u,
                onFocus: (e) => this.OnItemFocused(e, s),
                style: c,
              },
              i(s, m, l, d),
            )
          );
        }
        OnSectionRendered(e) {
          (this.m_iStart = e.columnStartIndex),
            (this.m_iEnd = e.columnStopIndex),
            q("Section rendered", this.m_iStart, this.m_iEnd),
            this.UpdateScrollArrows();
        }
        get alignment() {
          return this.props.scrollToAlignment || "start";
        }
        GetLastFocusableColumn() {
          let e = this.props.nNumItems - 1;
          if (this.props.fnDoesItemTakeFocus)
            for (
              ;
              !this.props.fnDoesItemTakeFocus(e) &&
              e > this.props.nIndexLeftmost;

            )
              e--;
          return q("LastFocusableColumn: ", e), e;
        }
        UpdateScrollArrows() {
          var e, t, n;
          if (this.props.fnUpdateArrows) {
            const a =
                null === (e = this.m_refGrid) || void 0 === e
                  ? void 0
                  : e.getOffsetForCell({
                      alignment: this.props.scrollToAlignment,
                      columnIndex: this.props.nIndexLeftmost,
                    }),
              i =
                null === (t = this.m_refGrid) || void 0 === t
                  ? void 0
                  : t.getOffsetForCell({
                      alignment: this.props.scrollToAlignment,
                      columnIndex: this.GetLastFocusableColumn(),
                    }),
              l = Math.round(
                null === (n = this.m_refGridElement) || void 0 === n
                  ? void 0
                  : n.scrollLeft,
              ),
              r =
                l != Math.floor(null == a ? void 0 : a.scrollLeft) &&
                l != Math.round(null == a ? void 0 : a.scrollLeft),
              o =
                l != Math.floor(null == i ? void 0 : i.scrollLeft) &&
                l != Math.round(null == i ? void 0 : i.scrollLeft);
            q(
              "ShowLeftArrow: ",
              r,
              a,
              " ShowRightArrow: ",
              o,
              i,
              " ScrollPos: ",
              l,
            ),
              this.props.fnUpdateArrows(r, o);
          }
        }
        BindGridObject(e) {
          if (
            (this.m_refGridElement &&
              (this.m_refGridElement.removeEventListener(
                "touchstart",
                this.OnTouchStart,
              ),
              this.m_refGridElement.removeEventListener(
                "touchend",
                this.OnTouchEnd,
              ),
              this.m_refGridElement.removeEventListener(
                "touchmove",
                this.OnTouchMove,
              ),
              this.m_refGridElement.removeEventListener(
                "mousedown",
                this.OnMouseDown,
              ),
              this.m_refGridElement.removeEventListener(
                "mouseup",
                this.OnMouseUp,
              )),
            (this.m_refGrid = e),
            (this.m_refGridElement = void 0),
            this.m_refGrid)
          ) {
            const e = M.findDOMNode(this.m_refGrid);
            (this.m_refGridElement = e),
              null == e || e.addEventListener("touchstart", this.OnTouchStart),
              null == e || e.addEventListener("touchend", this.OnTouchEnd),
              null == e ||
                e.addEventListener("touchmove", this.OnTouchMove, {
                  passive: !1,
                }),
              null == e || e.addEventListener("mousedown", this.OnMouseDown),
              null == e || e.addEventListener("mouseup", this.OnMouseUp);
            const t = window.getComputedStyle(e),
              n = parseInt(t.getPropertyValue("padding-right")) || 0,
              a = parseInt(t.getPropertyValue("scroll-padding-right")) || 0,
              i = Math.max(n, a);
            i != this.state.nRightPadding &&
              (q("Computed", i, "additional right padding"),
              this.setState({ nRightPadding: i }, () => {
                this.m_refGrid.recomputeGridSize({
                  columnIndex: this.props.nNumItems - 1,
                });
              }));
          }
        }
        componentDidMount() {
          this.m_refContainer.current &&
            ((this.m_resizeObserver = (0, I.it)(
              this.m_refContainer.current,
              this.OnResize,
            )),
            q(
              "componentDidMount Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({
              nContainerWidth: this.m_refContainer.current.clientWidth,
            }));
        }
        componentDidUpdate(e) {
          var t;
          this.props.fnGetColumnWidth != e.fnGetColumnWidth &&
            (q("Column width function changes, recalculating sizes"),
            null === (t = this.m_refGrid) ||
              void 0 === t ||
              t.recomputeGridSize());
        }
        componentWillUnmount() {
          var e;
          null === (e = this.m_resizeObserver) ||
            void 0 === e ||
            e.disconnect();
        }
        OnResize() {
          const e = this.m_refContainer.current.clientWidth;
          e != this.state.nContainerWidth &&
            (q(
              "OnResize Setting width to",
              this.m_refContainer.current.clientWidth,
            ),
            this.setState({ nContainerWidth: e })),
            this.UpdateScrollArrows();
        }
        ScrollLeft(e) {
          const t = this.m_iEnd - this.m_iStart,
            n = (0, O.Lh)(
              this.props.focusedColumn - t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            a = this.alignment;
          return this.ScrollToItem(H.eV.INVALID, n, a, e);
        }
        ScrollRight(e) {
          const t = this.m_iEnd - this.m_iStart,
            n = (0, O.Lh)(
              this.props.focusedColumn + t,
              this.props.nIndexLeftmost,
              this.props.nNumItems - 1,
            ),
            a = this.alignment;
          return this.ScrollToItem(H.eV.INVALID, n, a, e);
        }
        ScrollToFirstChild() {
          return this.ScrollToItem(
            H.eV.INVALID,
            this.props.nIndexLeftmost,
            "auto",
          );
        }
        MoveLeft(e) {
          q("MoveLeft from", this.props.focusedColumn);
          let t = this.props.focusedColumn - 1;
          for (
            ;
            t != this.props.nIndexLeftmost - 1 &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t--;
          return t == this.props.nIndexLeftmost - 1
            ? (q("At left edge, not handling left gamepad"), !1)
            : (q("MoveLeft to", t),
              this.ScrollToItem(
                e ? e.detail.button : H.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        MoveRight(e) {
          q("MoveRight from", this.props.focusedColumn);
          let t = this.props.focusedColumn + 1;
          for (
            ;
            t != this.props.nNumItems &&
            this.props.fnDoesItemTakeFocus &&
            !this.props.fnDoesItemTakeFocus(t);

          )
            t++;
          return t == this.props.nNumItems
            ? (q("At right edge, not handling right gamepad"), !1)
            : (q("MoveRight to", t),
              this.ScrollToItem(
                e ? e.detail.button : H.eV.INVALID,
                t,
                this.props.scrollToAlignment || "auto",
                e,
              ));
        }
        ScrollToItem(e, t, n, a, i) {
          if (
            this.m_activeScrollTo &&
            this.m_activeScrollTo.alignment === n &&
            this.m_activeScrollTo.iNewFocus === t
          )
            return !0;
          if (
            (q("ScrollToItem", t, n, a, i),
            t != this.props.focusedColumn &&
              this.m_refGrid &&
              (!this.props.fnDoesItemTakeFocus ||
                this.props.fnDoesItemTakeFocus(t)))
          ) {
            const l = this.m_refGrid.getOffsetForCell({
                alignment: n,
                columnIndex: t,
                rowIndex: 0,
              }),
              r = this.props.fnGetId(t);
            return (
              q("Scrolling to item", t, r, n, l.scrollLeft, i),
              (this.m_activeScrollTo = { iNewFocus: t, alignment: n }),
              this.props.fnOnFocusedColumnChange &&
                this.props.fnOnFocusedColumnChange(this.props.focusedColumn, t),
              this.StartScrollAnimation(
                e,
                t,
                r,
                l.scrollLeft,
                null != i ? i : this.props.scrollDuration,
              ),
              null == a || a.stopPropagation(),
              null == a || a.preventDefault(),
              !0
            );
          }
          return !1;
        }
        OnGamepadButtonDown(e) {
          switch ((q("OnGamepadButtonDown", e.detail), e.detail.button)) {
            case H.eV.BUMPER_LEFT:
              return !!this.props.enableBumperPaging && this.ScrollLeft(e);
            case H.eV.BUMPER_RIGHT:
              return !!this.props.enableBumperPaging && this.ScrollRight(e);
          }
          return !1;
        }
        OnGamepadDirection(e) {
          switch ((q("OnGamepadDirection", e.detail), e.detail.button)) {
            case H.eV.DIR_LEFT:
              return this.MoveLeft(e);
            case H.eV.DIR_RIGHT:
              return this.MoveRight(e);
          }
          return !1;
        }
        render() {
          const {
              className: e,
              nNumItems: t,
              nIndexLeftmost: n,
              nHeight: i,
              nItemHeight: l,
              overscan: r = 3,
              scrollToAlignment: o,
              focusedColumn: s,
              autoHeight: c,
            } = this.props,
            m = this.state.nContainerWidth;
          return (
            q("Inner render", this.props.name, this.props.nNumItems, m, n, s),
            a.createElement(
              w.s,
              {
                ref: this.m_refContainer,
                "flow-children": "row",
                onButtonDown: this.OnGamepadButtonDown,
                focusable: !1,
              },
              m &&
                a.createElement(U.rj, {
                  ref: this.BindGridObject,
                  className: e,
                  cellRenderer: this.CellRenderer,
                  onScroll: this.OnScroll,
                  onSectionRendered: this.OnSectionRendered,
                  columnCount: t,
                  columnWidth: this.GetCellColumnWidth,
                  overscanColumnCount: r,
                  overscanIndicesGetter: ({
                    cellCount: e,
                    overscanCellsCount: t,
                    startIndex: n,
                    stopIndex: a,
                  }) => ({
                    overscanStartIndex: Math.max(0, n - t),
                    overscanStopIndex: Math.min(e - 1, a + t),
                  }),
                  rowCount: 1,
                  rowHeight: l,
                  height: i,
                  width: m,
                  containerStyle: { overflow: "visible" },
                  scrollToAlignment: this.alignment,
                  scrollToColumn: s,
                  tabIndex: null,
                  autoHeight: c,
                }),
            )
          );
        }
      }
      (W.defaultProps = {
        nIndexLeftmost: 0,
        scrollDuration: 100,
        scrollTiming: "sine",
        enableBumperPaging: !1,
        initialColumn: 0,
        bPlaySoundOnFailedScroll: !0,
      }),
        (0, g.gn)([I.ak], W.prototype, "RestoreScrollPosition", null),
        (0, g.gn)([I.ak], W.prototype, "OnAnimationScrollComplete", null),
        (0, g.gn)([I.ak], W.prototype, "OnTouchStart", null),
        (0, g.gn)([I.ak], W.prototype, "OnTouchEnd", null),
        (0, g.gn)([I.ak], W.prototype, "OnTouchMove", null),
        (0, g.gn)([I.ak], W.prototype, "OnMouseDown", null),
        (0, g.gn)([I.ak], W.prototype, "OnMouseUp", null),
        (0, g.gn)(
          [I.ak, (0, F.D)(250)],
          W.prototype,
          "SnapBackToFirstElement",
          null,
        ),
        (0, g.gn)([I.ak], W.prototype, "OnScroll", null),
        (0, g.gn)([I.ak], W.prototype, "GetCellColumnWidth", null),
        (0, g.gn)([I.ak], W.prototype, "OnItemFocused", null),
        (0, g.gn)([I.ak], W.prototype, "CellRenderer", null),
        (0, g.gn)([I.ak], W.prototype, "OnSectionRendered", null),
        (0, g.gn)(
          [I.ak, (0, F.D)(250)],
          W.prototype,
          "UpdateScrollArrows",
          null,
        ),
        (0, g.gn)([I.ak], W.prototype, "BindGridObject", null),
        (0, g.gn)([I.ak], W.prototype, "OnResize", null),
        (0, g.gn)([I.ak], W.prototype, "ScrollLeft", null),
        (0, g.gn)([I.ak], W.prototype, "ScrollRight", null),
        (0, g.gn)([I.ak], W.prototype, "ScrollToFirstChild", null),
        (0, g.gn)([I.ak], W.prototype, "MoveLeft", null),
        (0, g.gn)([I.ak], W.prototype, "MoveRight", null),
        (0, g.gn)([I.ak], W.prototype, "OnGamepadButtonDown", null),
        (0, g.gn)([I.ak], W.prototype, "OnGamepadDirection", null);
      n(77178), n(79883), n(1485), n(26918);
      n(25006), n(29480), n(93334), n(81874), n(99823);
      var z = n(27605),
        Z = n(42411),
        K = n(28918);
      const Q =
        n.p +
        "images/applications/appmgmt/avatar_default_full.jpg?v=valveisgoodatcaching";
      var Y = n(5167),
        J = n.n(Y);
      const $ = a.memo(function (e) {
        const {
            strAvatarURL: t,
            size: n,
            className: i,
            statusStyle: l,
            statusPosition: o,
            children: s,
          } = e,
          c = (0, g._T)(e, [
            "strAvatarURL",
            "size",
            "className",
            "statusStyle",
            "statusPosition",
            "children",
          ]),
          m = a.useMemo(() => {
            const e = [];
            return (
              t && e.push(t),
              e.push(
                (function (e) {
                  switch (e) {
                    case "X-Small":
                    case "Small":
                      return "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAIAAgAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A/P4mW5nmllmeSR3LMzMSSc1a07R73V72KzsILi9u5TiOC2RpJHPoFGSarQ/ef6n+de4fAn9oaL4D+DfGX9i6Uf8AhO9XSKDT9eZY3WxiDZcBGByTkn0JCZBxQB41qeiX+iXslnqNtdWF3H9+3uo2jkX6q2CKpgy208MsUzxyI4ZWViCDmvsr9rrUdT1j9nb4T6h8RBbH4qXUs0zMsSxXJ04hivnKoAU5MPGBg7uM7q+NpvvJ9R/OgAh+8/1P867T4POI/iz4Mc6U+u7NZtG/suPbuu8TKfKG4hct93njnmuKIltp5opYXjkRyrKykEHNWbDVbvSr63vbKaezvLeRZYbi3ZkkidTlWVhyCCMgjpQB6l+1F411nx58dPFWpa5a3mnXaXP2ZNOvXVpLKNBhYflJUY5PB5JJ6k15LN95PqP51a1PWr7WtQnvtRuLm/vrhzJNc3TtJLIx6lmbJJ9zVQCW5nhiiheSR3CqqqSSc0Af/9k=";
                    case "Medium":
                    case "MediumLarge":
                      return "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gODAK/9sAQwAGBAUGBQQGBgUGBwcGCAoQCgoJCQoUDg8MEBcUGBgXFBYWGh0lHxobIxwWFiAsICMmJykqKRkfLTAtKDAlKCko/9sAQwEHBwcKCAoTCgoTKBoWGigoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgo/8AAEQgAQABAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8Inmk8+T94/3j/EfWmedJ/z0f/vo0T/6+T/eP86ZQA/zpP8Ano//AH0aPOk/56P/AN9GmVo6Loeq65M0Wj6ddXrr94QRF9v1I6fjQBR86T/no/8A30aPOk/56P8A99GtHW/Dus6GV/tjS7yyD8K00RVW+h6GsugB/nSf89H/AO+jT4JpPPj/AHj/AHh/EfWoafB/r4/94fzoAJ/9fJ/vH+dMp8/+vk/3j/OmUAXdE099W1mw06Jgsl3PHApPYswUH9a+qPF3iHSPhF4S0+003TxK0hMcEAbZvIA3SO2OvIz6k18nW88ttcRz28jxTRMHSRGKsrA5BBHQg1b1TWdT1fy/7V1G8vfLzs+0TNJtz1xknHQUAfUXw+8c6Z8UdN1HS9V0xIpUTM1s7eYkiE43KcAgg/lxg180+NtEHhzxZqmkqxdLWcojHqUPK598EV9CfBbwpF4G8J3fiLxA4trm5hEsnmceRCOQD/tHqR9B1r568a63/wAJH4r1TVghRLqYuinqE6KD74AoAxafB/r4/wDeH86ZT4P9fH/vD+dABP8A6+T/AHj/ADplPn/18n+8f50ygArt/gtpltq/xK0e2vYxJArPMUYZDFEZhn2yBXEV0/w203VNX8YWdloOoHTtQkWQx3IZl2gISeV55AI/GgD1H9pvxPdi/s/DcDGOz8pbqfHWRizBQfYbc/U+1eD12PxW0fWtE8Tpa+I9UOqXpt0cTl2bCEthctz1B/OuOoAKfB/r4/8AeH86ZT4P9fH/ALw/nQAT/wCvk/3j/OmVNPDJ58n7t/vH+E+tM8mT/nm//fJoAZV7Q9Xv9C1KLUNJuGtryMEJIoBIyCD1BHQmqnkyf883/wC+TR5Mn/PN/wDvk0AaHiHXtT8RX4vdau2u7oIIxIygHaCSBwB6msyn+TJ/zzf/AL5NHkyf883/AO+TQAynwf6+P/eH86PJk/55v/3yafBDJ58f7t/vD+E+tAH/2Q==";
                    case "Large":
                    case "X-Large":
                    case "FillArea":
                      return Q;
                  }
                })(n),
              ),
              e
            );
          }, [t, n]);
        return a.createElement(
          "div",
          Object.assign(
            {
              className: (0, r.Z)(
                J().avatarHolder,
                "avatarHolder",
                "no-drag",
                n || "Medium",
                i,
              ),
            },
            c,
          ),
          a.createElement("div", {
            className: (0, r.Z)(J().avatarStatus, "avatarStatus", o),
            style: l,
          }),
          a.createElement(K.j, {
            className: (0, r.Z)(J().avatar, "avatar"),
            rgSources: m,
            draggable: !1,
          }),
          s,
        );
      });
      let ee = class extends a.Component {
        render() {
          const e = this.props,
            { persona: t, size: n, animatedAvatar: i, className: l } = e,
            s = (0, g._T)(e, [
              "persona",
              "size",
              "animatedAvatar",
              "className",
            ]);
          let c = "";
          return (
            i && i.image_small && 0 != i.image_small.length
              ? (c = o.De.MEDIA_CDN_COMMUNITY_URL + "images/" + i.image_small)
              : t &&
                ((c = t.avatar_url_medium),
                "Small" == n || "X-Small" == n
                  ? (c = t.avatar_url)
                  : ("Large" != n && "X-Large" != n && "FillArea" != n) ||
                    (c = t.avatar_url_full)),
            a.createElement(
              $,
              Object.assign(
                {
                  strAvatarURL: c,
                  size: n,
                  className: (0, r.Z)((0, Z.sB)(t), l),
                },
                s,
              ),
            )
          );
        }
      };
      ee = (0, g.gn)([z.Pi], ee);
      const te = (0, z.Pi)((e) => {
        const { profileItem: t, className: n, bDisableAnimation: i } = e,
          l = (0, g._T)(e, ["profileItem", "className", "bDisableAnimation"]);
        if (!t || !t.image_small || 0 == t.image_small.length) return null;
        let s = i ? t.image_large : t.image_small;
        return (
          s || (s = t.image_small),
          s.startsWith("https://") ||
            (s = o.De.MEDIA_CDN_COMMUNITY_URL + "images/" + s),
          a.createElement(
            "div",
            Object.assign(
              { className: (0, r.Z)(J().avatarFrame, n, "avatarFrame") },
              l,
            ),
            a.createElement("img", { className: J().avatarFrameImg, src: s }),
          )
        );
      });
      let ne = class extends a.Component {
        constructor(e) {
          super(e),
            (this.state = { bAnimate: "None" != this.props.loopDuration }),
            (this.m_timer = 0);
        }
        componentDidMount() {
          this.props.bParentHovered || this.SetupAnimationTimer();
        }
        SetupAnimationTimer() {
          let e = 0;
          switch (this.props.loopDuration) {
            case "Short":
              e = 2500;
              break;
            case "Medium":
              e = 5e3;
              break;
            case "Long":
              e = 1e4;
          }
          0 != e &&
            (this.setState({ bAnimate: "None" != this.props.loopDuration }),
            (this.m_timer = window.setTimeout(
              () => this.setState({ bAnimate: !1 }),
              e,
            )));
        }
        StopAnimationTimer() {
          this.m_timer &&
            (window.clearTimeout(this.m_timer), (this.m_timer = 0));
        }
        onHover() {
          this.SetupAnimationTimer();
        }
        componentWillUnmount() {
          this.StopAnimationTimer();
        }
        componentDidUpdate(e) {
          this.props.loopDuration != e.loopDuration &&
            ("None" == this.props.loopDuration
              ? (this.setState({ bAnimate: !1 }), this.StopAnimationTimer())
              : "Infinite" == this.props.loopDuration
                ? (this.setState({ bAnimate: !0 }), this.StopAnimationTimer())
                : (this.setState({ bAnimate: !0 }),
                  this.SetupAnimationTimer())),
            this.props.bParentHovered != e.bParentHovered &&
              (this.props.bParentHovered &&
              "None" != this.props.loopDuration &&
              "Infinite" != this.props.loopDuration
                ? (this.setState({ bAnimate: !0 }), this.StopAnimationTimer())
                : this.state.bAnimate && this.SetupAnimationTimer());
        }
        render() {
          let e = this.props,
            {
              loopDuration: t,
              animatedAvatar: n,
              avatarFrame: i,
              children: l,
              style: r,
              bLimitProfileFrameAnimationTime: o,
              bParentHovered: s,
            } = e,
            c = (0, g._T)(e, [
              "loopDuration",
              "animatedAvatar",
              "avatarFrame",
              "children",
              "style",
              "bLimitProfileFrameAnimationTime",
              "bParentHovered",
            ]);
          return (
            c.onClick &&
              (r = Object.assign(Object.assign({}, r), { cursor: "pointer" })),
            this.state.bAnimate || (n = null),
            a.createElement(
              "div",
              {
                onMouseEnter: () =>
                  this.setState({
                    bAnimate: "None" != this.props.loopDuration,
                  }),
                onMouseLeave: () => this.SetupAnimationTimer(),
              },
              a.createElement(
                ee,
                Object.assign({ animatedAvatar: n }, c),
                l,
                a.createElement(te, {
                  profileItem: i,
                  bDisableAnimation: o && !this.state.bAnimate,
                }),
              ),
            )
          );
        }
      };
      ne = (0, g.gn)([z.Pi], ne);
      var ae = n(77936),
        ie = n(16091),
        le = n.n(ie);
      let re = class extends a.Component {
        static get hoverClass() {
          return le().hoverParent;
        }
        render() {
          const e = this.props,
            { persona: t, animating: n, className: i, size: l, dim: o } = e,
            s = (0, g._T)(e, [
              "persona",
              "animating",
              "className",
              "size",
              "dim",
            ]);
          let c = "";
          return (
            "medium" == l
              ? (c = le().Medium)
              : "large" == l && (c = le().Large),
            a.createElement(
              "div",
              Object.assign(
                {
                  className: (0, r.Z)(
                    le().SnoozeContainer,
                    t.online_state,
                    i,
                    n && le().animating,
                    c,
                    o && le().Dim,
                  ),
                },
                s,
              ),
              a.createElement(
                "div",
                {
                  "data-text": "Z",
                  className: (0, r.Z)(le().SnoozeZ, le().Z1),
                },
                "Z",
              ),
              a.createElement(
                "div",
                {
                  "data-text": "Z",
                  className: (0, r.Z)(le().SnoozeZ, le().Z2),
                },
                "Z",
              ),
              a.createElement(
                "div",
                {
                  "data-text": "Z",
                  className: (0, r.Z)(le().SnoozeZ, le().Z3),
                },
                "Z",
              ),
            )
          );
        }
      };
      re = (0, g.gn)([z.Pi], re);
      var oe = n(26358),
        se = n.n(oe),
        ce = n(7686);
      const me = (0, z.Pi)((e) => {
        const { persona: t, className: n } = e,
          i = (0, g._T)(e, ["persona", "className"]);
        if (!t) return null;
        if (!t.is_online) return null;
        const l = t.HasStateFlag(512),
          o = t.HasStateFlag(2048),
          s = !o && t.HasStateFlag(1024);
        return a.createElement(
          a.Fragment,
          null,
          l &&
            a.createElement(
              "div",
              Object.assign(
                {
                  className: (0, r.Z)(
                    n,
                    se().PersonaStatusIcon,
                    se().MobilePhoneIcon,
                    (0, Z.sB)(t),
                  ),
                  title: (0, u.Xx)("#Platform_Hint_Mobile"),
                },
                i,
              ),
              a.createElement(ce.Mr, null),
            ),
          o &&
            a.createElement(
              "div",
              Object.assign(
                {
                  className: (0, r.Z)(
                    n,
                    se().PersonaStatusIcon,
                    se().VRIcon,
                    (0, Z.sB)(t),
                  ),
                  title: (0, u.Xx)("#Platform_Hint_VR"),
                },
                i,
              ),
              a.createElement(B.VR, null),
            ),
          s &&
            a.createElement(
              "div",
              Object.assign(
                {
                  className: (0, r.Z)(
                    n,
                    se().PersonaStatusIcon,
                    se().BigPictureIcon,
                    (0, Z.sB)(t),
                  ),
                  title: (0, u.Xx)("#Platform_Hint_BigPicture"),
                },
                i,
              ),
              a.createElement(B.Ucz, null),
            ),
        );
      });
      var de = n(32633),
        ue = n.n(de);
      function pe(e) {
        return a.createElement(
          a.Fragment,
          null,
          a.createElement(
            "span",
            { className: ue().partyBeaconJoin },
            (0, u.Xx)("#User_WantsToPlay"),
          ),
          "",
          e.persona.GetCurrentGameName(),
        );
      }
      let _e = class extends a.Component {
        render() {
          const e = this.props,
            {
              className: t,
              onContextMenu: n,
              persona: i,
              eFriendRelationship: l,
              bIsSelf: s,
              bParenthesizeNicknames: c,
              strNickname: m,
              bCompactView: d,
              bHideGameName: p,
              bHideEnhancedRichPresenceLabel: _,
              bHideSnooze: h,
              bHideStatus: v,
              renderStatus: E,
              renderRichPresence: S,
              bHidePersona: D,
              bDNDSet: f,
              bHasPartyBeacon: y,
              bHasGamePrivacy: b,
              bNoMask: I,
            } = e,
            C = (0, g._T)(e, [
              "className",
              "onContextMenu",
              "persona",
              "eFriendRelationship",
              "bIsSelf",
              "bParenthesizeNicknames",
              "strNickname",
              "bCompactView",
              "bHideGameName",
              "bHideEnhancedRichPresenceLabel",
              "bHideSnooze",
              "bHideStatus",
              "renderStatus",
              "renderRichPresence",
              "bHidePersona",
              "bDNDSet",
              "bHasPartyBeacon",
              "bHasGamePrivacy",
              "bNoMask",
            ]);
          let k = null,
            A = null,
            w = null,
            P = [
              t,
              ue().personaNameAndStatusLabel,
              (0, Z.sB)(i),
              d && ue().compactView,
              I && ue().NoMask,
            ];
          y || i.has_public_party_beacon
            ? (A = a.createElement(pe, { persona: i }))
            : (0, ae.fk)(l)
              ? ((A = (0, u.Xx)("#PersonaStateBlocked")), P.push(ue().blocked))
              : i.is_ingame
                ? ((A =
                    !i.is_in_nonsteam_game || s || (0, ae.my)(l)
                      ? i.GetCurrentGameName()
                      : (0, u.Xx)("#PersonaStateInNonSteamGame")),
                  s || D
                    ? s &&
                      i.is_awayOrSnooze &&
                      (w = (0, u.Xx)("#PersonaStateAway"))
                    : (w = i.GetCurrentGameRichPresence()))
                : i.m_broadcastAccountId &&
                  (A = (0, u.Xx)("#PersonaStateWatchingBroadcast")),
            A || (A = i.GetLocalizedOnlineStatus()),
            E && (A = E());
          let T = !D && !h;
          !1 === h && (T = !0),
            i.is_awayOrSnooze && T && (k = a.createElement(re, { persona: i }));
          let N = null;
          n
            ? (N = a.createElement(
                "div",
                { className: "ContextMenuButton", onClick: n },
                a.createElement(B.$gZ, null),
              ))
            : P.push(ue().noContextMenu),
            D && P.push(ue().hidePersona),
            S && (w = S()),
            (!p && w) || P.push(ue().twoLine);
          const R = !i.is_ingame && !v,
            G = !_ && w,
            L = A && (!p || !G),
            x = (0, ae.hz)(o.De.LAUNCHER_TYPE);
          let M = m && !c,
            O = M ? m : i.m_strPlayerName,
            F = !D && (L || R) && G;
          return a.createElement(
            "div",
            Object.assign({}, C, {
              className: (0, r.Z)(...P),
              onContextMenu: n,
            }),
            a.createElement(
              "div",
              { className: (0, r.Z)(ue().statusAndName, F && ue().threeLines) },
              a.createElement(
                "div",
                { className: ue().playerName },
                O || "",
                c &&
                  m &&
                  a.createElement(
                    "span",
                    { className: ue().playerNickname },
                    "(",
                    m,
                    ")",
                  ),
              ),
              f &&
                a.createElement(
                  "div",
                  {
                    className: ue().DNDContainer,
                    title: (0, u.Xx)("#User_ToggleDoNotDisturb"),
                  },
                  a.createElement(B.YVR, null),
                ),
              M &&
                a.createElement(
                  "span",
                  {
                    className: ue().playerNicknameBracket,
                    title: (0, u.Xx)("#isNickname"),
                  },
                  " *",
                ),
              a.createElement(me, { persona: i }),
              k,
              (i.m_bPlayerNamePending || i.m_bAvatarPending) &&
                x &&
                a.createElement(
                  "div",
                  {
                    className: ue().PendingPersona,
                    title: (0, u.Xx)("#SteamChina_PendingPersonaName"),
                  },
                  a.createElement(B.SUY, null),
                ),
              N,
            ),
            !D &&
              a.createElement(
                "div",
                { className: ue().richPresenceContainer },
                (L || R) &&
                  a.createElement(
                    "div",
                    {
                      className: (0, r.Z)(
                        ue().gameName,
                        F && ue().threeLines,
                        ue().richPresenceLabel,
                        "no-drag",
                      ),
                    },
                    b &&
                      a.createElement(
                        "div",
                        {
                          className: ue().gameIsPrivateIcon,
                          title: (0, u.Xx)("#User_GameInfoHidden"),
                        },
                        a.createElement(B._GE, null),
                      ),
                    A,
                  ),
                G &&
                  a.createElement(
                    "div",
                    { className: (0, r.Z)(ue().richPresenceLabel, "no-drag") },
                    w,
                    " ",
                  ),
              ),
          );
        }
      };
      _e = (0, g.gn)([z.Pi], _e);
      (0, z.Pi)((e) => {
        const {
            persona: t,
            bParenthesizeNicknames: n,
            strNickname: i,
            bIgnorePersonaStatus: l,
            className: o,
          } = e,
          s = (0, g._T)(e, [
            "persona",
            "bParenthesizeNicknames",
            "strNickname",
            "bIgnorePersonaStatus",
            "className",
          ]);
        let c = i && !n ? i : t.m_strPlayerName;
        return a.createElement(
          "span",
          Object.assign({}, s, { className: (0, r.Z)(o, !l && (0, Z.sB)(t)) }),
          a.createElement(
            "span",
            { className: ue().playerName },
            c || "",
            n &&
              i &&
              a.createElement(
                "span",
                { className: ue().playerNickname },
                "(",
                i,
                ")",
              ),
          ),
        );
      });
      n(93243), n(46882), n(44910), n(51915), n(88619);
      new X.sO("AppRelevance").Debug;
      n(10095), n(13499), n(95082);
      new X.sO("DiscoveryQueueWizard").Debug;
      n(44500), n(98866), n(58538);
      n(16649);
      n(83059);
      function he(e, t) {
        return {
          nSaleTagID: !e.BUsesContentHubForItemSource() && e.featured_app_tagid,
          strContentHubType: e.GetContentHubType(),
          strContentHubCategory: e.GetContentHubCategory(),
          nContentHubTagID: e.GetContentHubTag(),
          bDiscountsOnly: e.BContentHubDiscountedOnly(),
          bPrioritizeDiscounts: t || !1,
          strOptInName: e.jsondata.prune_list_optin_name,
          nOptInTagID: e.jsondata.optin_tagid,
          nPruneTagID: e.jsondata.optin_prune_tagid,
          bOptInOnly: e.jsondata.optin_only,
        };
      }
      class ge {
        constructor() {
          (this.m_loadPromise = new Map()),
            (this.m_mapLoadedData = new Map()),
            (0, S.rC)(this);
          const e = (0, o.kQ)("loyalty_webapi_token", "application_config"),
            t = new D.J(o.De.WEBAPI_BASE_URL, e || void 0);
          this.m_serviceTransport = t.GetServiceTransport();
        }
        static GetRelevantSections(e) {
          return e
            .GetSaleSections()
            .filter(
              (e) =>
                "items" == e.section_type &&
                "personalized_carousel" == e.smart_section_type,
            );
        }
        static GetSectionIndex(e, t) {
          return ge
            .GetRelevantSections(t)
            .findIndex((t) => t.unique_id == e.unique_id);
        }
        GetTagNameForSaleSection(e, t) {
          var n;
          const a = ge.GetSectionIndex(e, t),
            i = this.m_mapLoadedData.get(t.GID);
          return i
            ? null === (n = i[a]) || void 0 === n
              ? void 0
              : n.sTagName
            : (this.GetCapsulesForSaleSection(e, t), null);
        }
        GetCapsulesForSaleSection(e, t) {
          return (0, g.mG)(this, void 0, void 0, function* () {
            const n = ge.GetSectionIndex(e, t);
            if (this.m_loadPromise.has(t.GID)) {
              return (yield this.m_loadPromise.get(t.GID))[n];
            }
            const a = this.LoadData(t);
            this.m_loadPromise.set(t.GID, a);
            const i = yield a;
            return this.m_mapLoadedData.set(t.GID, i), i[n];
          });
        }
        LoadData(e) {
          var t, n;
          return (0, g.mG)(this, void 0, void 0, function* () {
            const a = v.gA.Init(E.JJ),
              i = ge.GetRelevantSections(e);
            for (const e of i) {
              const i = a.Body().add_sections();
              i.set_sort(
                null !== (t = e.smart_section_personalized_carousel_sort) &&
                  void 0 !== t
                  ? t
                  : 13,
              ),
                i.set_min_items(
                  null !==
                    (n = e.smart_section_personalized_carousel_min_items) &&
                    void 0 !== n
                    ? n
                    : 4,
                ),
                i.set_randomize(
                  e.smart_section_personalized_carousel_randomize,
                );
            }
            const l = he(e, !0);
            a.Body().set_context((0, G.Fq)(!1)), a.Body().set_filters(k(l));
            const r = yield E.Ax.GetItemsByUserRecommendedTags(
              this.m_serviceTransport,
              a,
            );
            if (1 != r.GetEResult())
              return (
                console.error(
                  "GetItemsByUserRecommendedTags failed with error" +
                    r.GetEResult(),
                ),
                null
              );
            return r
              .Body()
              .sections()
              .map((e) => ({
                sTagName: e.tag_name(),
                rgCapsules: e.store_item_ids().flatMap((e) => {
                  const t = ge.ConvertStoreItemIDToAppType(e);
                  return t ? [t] : [];
                }),
              }));
          });
        }
        static ConvertStoreItemIDToAppType(e) {
          return e.appid()
            ? { id: e.appid(), type: "game" }
            : e.bundleid()
              ? { id: e.bundleid(), type: "bundle" }
              : e.packageid()
                ? { id: e.tagid(), type: "sub" }
                : void 0;
        }
        LoadTestData() {
          return (0, g.mG)(this, void 0, void 0, function* () {
            yield new Promise((e) => setTimeout(e, 3e3));
            const e = [];
            return (
              e.push({
                sTagName: "Foo",
                rgCapsules: [
                  { type: "game", id: 1817230 },
                  { type: "game", id: 977950 },
                  { type: "game", id: 1585220 },
                  { type: "game", id: 1122720 },
                ],
              }),
              e.push({
                sTagName: "Bar",
                rgCapsules: [
                  { type: "game", id: 268910 },
                  { type: "game", id: 2321470 },
                ],
              }),
              e.push(void 0),
              e.push({
                sTagName: "Baz",
                rgCapsules: [
                  { type: "game", id: 2066020 },
                  { type: "game", id: 1778820 },
                  { type: "game", id: 2138710 },
                  { type: "game", id: 502500 },
                  { type: "game", id: 630 },
                  { type: "game", id: 692890 },
                  { type: "game", id: 394510 },
                  { type: "game", id: 1971870 },
                  { type: "game", id: 1384160 },
                ],
              }),
              e
            );
          });
        }
        static Get() {
          return (
            ge.s_Singleton ||
              ((ge.s_Singleton = new ge()),
              ("dev" != o.De.WEB_UNIVERSE && "beta" != o.De.WEB_UNIVERSE) ||
                (window.g_PersonalizedCarouselStore = ge.s_Singleton)),
            ge.s_Singleton
          );
        }
      }
      (0, g.gn)([S.LO], ge.prototype, "m_mapLoadedData", void 0);
      var ve = n(82093);
      function Ee(e, t) {
        return (
          u.LZ.GetWithFallback(e.localized_label, t) ||
          ("#Sale_default_label" === e.default_label
            ? ""
            : (0, u.Xx)(e.default_label))
        );
      }
      function Se(e, t, n, r, o, s) {
        const c = (function (e, t, n) {
          if ("items" === e.section_type)
            switch (e.smart_section_type) {
              case "wishlist":
                return "#Sale_default_label_OnYourWishlist";
              case "interactive_recommender":
              case "tag_recommender":
                return "#Sale_default_label_RecommendedForYou";
              case "personalized_carousel":
                if (n) {
                  const n = t
                      .GetSaleSections()
                      .filter(
                        (e) =>
                          "items" == e.section_type &&
                          "personalized_carousel" == e.smart_section_type,
                      ),
                    a = n.findIndex((t) => t.unique_id == e.unique_id);
                  return (0, u.Xx)(
                    "#Sale_PersonalizedCarousel_Section_Editor_title",
                    a + 1,
                    n.length,
                  );
                }
                const a = ge.Get().GetTagNameForSaleSection(e, t);
                return a
                  ? (0, u.Xx)("#Sale_PersonalizedCarousel_Section_title", a)
                  : null;
            }
          if ("tabs" === e.section_type) return "";
          if ("curator" === e.section_type) {
            if (e.curator_clan_id) {
              let t = i.K.InitFromClanID(e.curator_clan_id),
                n = l.bq.GetCreatorHome(t);
              if (n) return (0, u.Xx)("#Sale_CuratorSection_Name", n.GetName());
            }
            return "#Sale_CuratorSection";
          }
          return "event_schedule" === e.section_type
            ? "#Sale_EventSchedule"
            : "curator_recommendation" === e.section_type
              ? "#Sale_CuratorRecommendation_title"
              : "discoveryqueue" === e.section_type
                ? "#DiscoveryQueue_Title"
                : "sale_events" === e.section_type
                  ? "#Sale_SaleEvent_Section"
                  : null;
        })(e, t, 1 == o);
        if (null !== c) return c && c.startsWith("#") ? (0, u.Xx)(c) : c;
        const m =
            u.LZ.GetWithFallback(e.localized_label, n) ||
            ("#Sale_default_label" === e.default_label
              ? ""
              : (0, u.Xx)(e.default_label)),
          d = u.LZ.GetWithFallback(e.localized_label_image, n);
        if (!s && d) {
          const e = `${(0, h.OL)()}${r}/${d}`;
          return a.createElement("img", { loading: "lazy", src: e, alt: m });
        }
        return m;
      }
      const De = (0, z.Pi)((e) => {
        const {
            section: t,
            event: n,
            language: i,
            nHiddenCapsules: l,
            title: s,
            subtitle: h,
          } = e,
          g = (0, ve.SY)(),
          v = s || Se(t, n, i, n.clanSteamID.GetAccountID(), g.eLocation);
        if (!v) return null;
        const E =
          h ||
          (function (e, t) {
            return (
              u.LZ.GetWithFallback(e.localized_subtitle, t) ||
              (e.default_subtitle &&
              "#Sale_default_subtitle" !== e.default_subtitle
                ? (0, u.Xx)(e.default_subtitle)
                : "")
            );
          })(t, i);
        let S = a.createElement(
            "div",
            {
              className: (0, r.Z)(c().SaleSectionHeader, "SaleSectionHeader"),
              style: fe(t, n, i),
            },
            v,
          ),
          D = a.createElement(
            "div",
            {
              className: (0, r.Z)(
                c().SaleSectionHeader,
                c().SaleSectionSubtitle,
                "SaleSectionSubtitle",
              ),
              style: ye(t, n, i),
            },
            E,
          );
        const f = e.link || t.label_link;
        let y = null;
        if (
          f &&
          ((S = a.createElement(m.K, { url: f }, S)),
          "browseall" === t.label_link_style)
        ) {
          const e = (0, u.Xx)("#Sale_SectionLink_BrowseAll");
          y = a.createElement(
            m.K,
            {
              className: (0, r.Z)(
                p.SectionLabelLinkButton,
                "SaleSectionLabelLinkButton",
              ),
              url: t.label_link,
            },
            e,
          );
        }
        return a.createElement(
          "div",
          { className: (0, r.Z)(p.SectionLabelCtn, "SaleSectionLabelCtn") },
          a.createElement(
            "div",
            { className: p.SectionTitleInnerCtn },
            S,
            Boolean(E) && D,
          ),
          a.createElement(
            "div",
            { className: p.SectionLabelRight },
            !!l &&
              a.createElement(
                d.HP,
                {
                  className: _.SaleSectionSubtext,
                  toolTipContent: "#Sale_HiddenItem_Tooltip",
                },
                a.createElement(
                  "a",
                  { href: o.De.STORE_BASE_URL + "account/preferences" },
                  (0, u.kQ)(
                    1 == l
                      ? "#Sale_HiddenItem_Single_Short"
                      : "#Sale_HiddenItems_Short",
                    l,
                  ),
                ),
              ),
            y,
          ),
        );
      });
      function fe(e, t, n) {
        return {
          fontFamily: be(t.jsondata.sale_font, n),
          fontWeight: t.jsondata.sale_font_weight,
          fontSize: `${t.jsondata.sale_section_font_size}px`,
          textTransform: t.jsondata.sale_section_disable_capitalize
            ? "initial"
            : null,
          color: e.label_color,
        };
      }
      function ye(e, t, n) {
        return {
          fontFamily: be(t.jsondata.sale_font, n),
          fontWeight: 300,
          fontSize: `${t.jsondata.sale_section_font_size && t.jsondata.sale_section_font_size - 3}px`,
          letterSpacing: 0,
          lineHeight: `${t.jsondata.sale_section_font_size}px`,
          textTransform: t.jsondata.sale_section_disable_capitalize
            ? "initial"
            : null,
          color: e.label_color,
          opacity: "50%",
        };
      }
      function be(e, t) {
        return (
          (e = e || ""),
          12 === t
            ? e.replace("Jolly Lodger", "New Rocker")
            : 23 === t ||
                19 === t ||
                24 === t ||
                18 === t ||
                8 === t ||
                26 === t
              ? e.replace("Sigmar One", "Play")
              : 6 === t
                ? e.replace("Sigmar One", "Noto Serif SC")
                : 7 === t
                  ? e.replace("Sigmar One", "Noto Serif TC")
                  : 10 === t
                    ? e.replace("Sigmar One", "M PLUS Rounded 1c")
                    : 4 === t
                      ? e.replace("Sigmar One", "Black Han Sans")
                      : 9 === t
                        ? e.replace("Sigmar One", "Prompt")
                        : e
        );
      }
    },
    11578: (e, t, n) => {
      "use strict";
      n.d(t, { V: () => i });
      var a = n(62698);
      function i(e, t, n) {
        if (e.disable_background && !n)
          return { paddingLeft: 0, paddingRight: 0 };
        let i = "";
        if (e.background_image) {
          i += `,url(${a.aN.GenerateArtworkURLFromHashAndExtensions(t.clanSteamID, e.background_image)})`;
        }
        return {
          background:
            `linear-gradient(0deg, ${e.background_gradient_bottom || "transparent"} 0%, ${e.background_gradient_top || "transparent"} 100%)` +
            i,
          backgroundRepeat: e.background_repeat,
          borderStyle: e.border_color && e.border_width ? "solid" : void 0,
          borderColor: e.border_color,
          borderWidth: e.border_width ? `${e.border_width}px` : void 0,
        };
      }
    },
    84478: (e, t, n) => {
      "use strict";
      n.d(t, { Y: () => u });
      var a = n(85556),
        i = n(47427),
        l = n(77936),
        r = n(38071),
        o = n(31846),
        s = n(13499),
        c = n(37563),
        m = n(20417);
      class d {
        constructor() {
          (this.m_bUserHasVolumePreference = !1),
            (this.m_flVolumePreference = 0);
        }
        BUserHasVolumePreference() {
          return this.m_bUserHasVolumePreference;
        }
        SetVolumePreference(e) {
          (this.m_flVolumePreference = e),
            (this.m_bUserHasVolumePreference = !0);
        }
        GetVolumePreference() {
          return this.m_flVolumePreference;
        }
        BVolumePreferenceMuted() {
          return this.m_flVolumePreference < 0.001;
        }
        static Get() {
          return d.s_Singleton || (d.s_Singleton = new d()), d.s_Singleton;
        }
      }
      (0, a.gn)([m.ak], d.prototype, "BUserHasVolumePreference", null),
        (0, a.gn)([m.ak], d.prototype, "SetVolumePreference", null);
      const u = (e) => {
        const { video: t, bAutoPlay: n, bControls: a, bLoop: m, bMuted: u } = e,
          p = (0, i.useMemo)(() => {
            var e;
            return Boolean(
              null === (e = t.rgVideoTracks) || void 0 === e
                ? void 0
                : e.some(
                    (e) => "subtitles" == e.sKind || "captions" == e.sKind,
                  ),
            );
          }, [t.rgVideoTracks]),
          [_, h] = i.useState(!1);
        if (!t.rgVideoSources || !t.rgVideoSources.length) return null;
        const g = (e) => {
            const t = new URL(e);
            return (
              (t.search =
                (t.search ? t.search + "&" : "?") + "origin=" + (0, c.Kc)()),
              t.toString()
            );
          },
          v = t.rgVideoSources
            .filter((e) => Boolean(e.sURL))
            .map((e) =>
              i.createElement("source", {
                key: e.sURL,
                src: g(e.sURL),
                type: e.sFormat,
              }),
            ),
          E = t.rgVideoTracks
            ? t.rgVideoTracks.map((e) => {
                let n = e.eLanguage;
                if ((0, c.h4)())
                  if (o.LJ.IsELanguageValidInRealm(n, r.IN.k_ESteamRealmChina))
                    n = o.LJ.GetELanguageFallback(n);
                  else {
                    if (6 !== n) return null;
                    if (
                      t.rgVideoTracks.find(
                        (e) => o.LJ.GetELanguageFallback(e.eLanguage) === n,
                      )
                    )
                      return null;
                  }
                else if (
                  !o.LJ.IsELanguageValidInRealm(n, r.IN.k_ESteamRealmGlobal)
                )
                  return null;
                return i.createElement("track", {
                  key: e.sURL + n,
                  src: g(e.sURL),
                  kind: e.sKind,
                  default: e.bDefault,
                  srcLang: (0, l.dt)(n),
                  label: (0, o.Xx)("#language_selection_" + (0, l.j_)(n)),
                });
              })
            : null,
          S = (function (e) {
            return !(
              !(0, s.dK)(e.sPoster) ||
              (e.rgVideoSources &&
                e.rgVideoSources.some((e) => !(0, s.dK)(e.sURL))) ||
              (e.rgVideoTracks &&
                e.rgVideoTracks.some((e) => !(0, s.dK)(e.sURL)))
            );
          })(t);
        let D;
        (!S || (p && "public" == c.De.WEB_UNIVERSE)) && (D = "anonymous");
        const f = u || (n && d.Get().BVolumePreferenceMuted()),
          y = t.sPoster ? g(t.sPoster) : "";
        return i.createElement(
          "video",
          {
            width: "100%",
            height: "auto",
            autoPlay: n,
            muted: f,
            playsInline: !0,
            controls: a,
            poster: y,
            loop: m,
            crossOrigin: D,
            onVolumeChange: (e) => {
              const t = e.target,
                n = t.muted ? 0 : t.volume;
              _ && d.Get().SetVolumePreference(n);
            },
            onPlay: (e) => {
              const t = e.target,
                a = 0 == t.currentTime,
                i = d.Get().BUserHasVolumePreference();
              if ((h(!0), a))
                if (i || n)
                  i &&
                    ((t.volume = d.Get().GetVolumePreference()),
                    (t.muted = d.Get().BVolumePreferenceMuted()));
                else {
                  const e = t.muted ? 0 : t.volume;
                  d.Get().SetVolumePreference(e);
                }
            },
          },
          v,
          E,
        );
      };
    },
    7686: (e, t, n) => {
      "use strict";
      n.d(t, { Mr: () => o, tk: () => s });
      var a = n(47427),
        i = n(62613),
        l = n(58538),
        r = n(37563);
      function o() {
        return a.createElement(i.MrB, null);
      }
      function s() {
        return (0, r.id)()
          ? a.createElement(l.tkI, null)
          : a.createElement(i.j5H, null);
      }
    },
    77671: (e, t, n) => {
      "use strict";
      n.d(t, { i: () => i });
      var a = n(65255);
      function i(e, t, n, i) {
        if (!i) return null;
        const l = n ? "?t=" + n : "";
        return i.path.startsWith("images")
          ? `${a.De.MEDIA_CDN_URL}steam/marketing/${e}/${i.path}${l}`
          : `${a.De.BASE_URL_SHARED_CDN}store_item_assets/mm/${e}/${t}/${i.path}${l}`;
      }
    },
    50727: (e, t, n) => {
      "use strict";
      n.d(t, { l: () => h });
      var a,
        i = n(85556),
        l = n(47427),
        r = n(20417),
        o = n(27605),
        s = n(45492),
        c = n(31846),
        m = n(1485),
        d = n(62613),
        u = n(4656),
        p = n.n(u),
        _ = n(45651);
      !(function (e) {
        (e.topleft = "topleft"),
          (e.top = "top"),
          (e.topright = "topright"),
          (e.left = "left"),
          (e.middle = "middle"),
          (e.right = "right"),
          (e.bottomleft = "bottomleft"),
          (e.bottom = "bottom"),
          (e.bottomright = "bottomright");
      })(a || (a = {}));
      let h = class extends l.Component {
        componentWillUnmount() {
          this.m_listeners.Unregister();
        }
        constructor(e) {
          super(e),
            (this.m_fnMouseUp = null),
            (this.m_fnMouseMove = null),
            (this.m_listeners = new s.G_()),
            (this.m_strDescription = ""),
            (this.m_aspectRatio = 1),
            (this.state = {
              curLeftPosPct: this.props.xPosPct,
              curTopPosPct: this.props.yPosPct,
              curRightPosPct: 100 - (this.props.widthPct + this.props.xPosPct),
              curBottomPosPct:
                100 - (this.props.yPosPct + this.props.heightPct),
              curWidthPct: this.props.widthPct,
              curHeightPct: this.props.heightPct,
              EdgeDown: null,
              text_link_url: this.props.link_url,
              text_link_description: this.props.link_description,
              bEditingLink: !1,
              valid_link: this.validateUrl(this.props.link_url),
            }),
            (this.m_strDescription = this.props.link_description),
            (this.m_aspectRatio =
              this.props.heightPct > 0 && this.props.widthPct > 0
                ? this.props.widthPct / this.props.heightPct
                : 1);
        }
        LinkRegionBoxRef(e) {
          this.m_elLinkRegionBox = e;
        }
        OnMouseDown(e, t) {
          (this.m_fnMouseUp = (e) => {
            this.OnMouseUp(e, t);
          }),
            (this.m_fnMouseMove = (e) => {
              this.OnMouseMove(e, t);
            }),
            this.setState({ EdgeDown: t }),
            (this.m_rectLinkRegion =
              this.m_elLinkRegionBox.parentElement.getBoundingClientRect()),
            (this.m_nLocalOffsetXPct =
              ((e.clientX - this.m_rectLinkRegion.left) /
                (this.m_rectLinkRegion.right - this.m_rectLinkRegion.left)) *
                100 -
              this.state.curLeftPosPct),
            (this.m_nLocalOffsetYPct =
              ((e.clientY - this.m_rectLinkRegion.top) /
                (this.m_rectLinkRegion.bottom - this.m_rectLinkRegion.top)) *
                100 -
              this.state.curTopPosPct),
            this.m_listeners.AddEventListener(
              this.m_elLinkRegionBox.ownerDocument.defaultView,
              "mousemove",
              this.m_fnMouseMove,
            ),
            this.m_listeners.AddEventListener(
              this.m_elLinkRegionBox.ownerDocument.defaultView,
              "mouseup",
              this.m_fnMouseUp,
            ),
            e.preventDefault(),
            e.stopPropagation();
        }
        OnMouseMove(e, t) {
          if (void 0 !== this.state.EdgeDown) {
            switch ((e.shiftKey && this.m_fnMouseUp(), t)) {
              case a.left:
                this.UpdateState({
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                });
                break;
              case a.right:
                this.UpdateState({
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                });
                break;
              case a.top:
                this.UpdateState({ curTopPosPct: this.CalcTopEdge(e.clientY) });
                break;
              case a.bottom:
                this.UpdateState({
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case a.topleft:
                this.UpdateState({
                  curTopPosPct: this.CalcBottomEdge(e.clientY),
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                });
                break;
              case a.topright:
                this.UpdateState({
                  curTopPosPct: this.CalcTopEdge(e.clientY),
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                });
                break;
              case a.bottomleft:
                this.UpdateState({
                  curLeftPosPct: this.CalcLeftEdge(e.clientX),
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case a.bottomright:
                this.UpdateState({
                  curRightPosPct: this.CalcRightEdge(e.clientX),
                  curBottomPosPct: this.CalcBottomEdge(e.clientY),
                });
                break;
              case a.middle: {
                const t = (0, _.Lh)(
                    this.CalcLeftEdge(e.clientX),
                    0,
                    100 - this.state.curWidthPct,
                  ),
                  n = 100 - (t + this.state.curWidthPct),
                  a = (0, _.Lh)(
                    this.CalcTopEdge(e.clientY),
                    0,
                    100 - this.state.curHeightPct,
                  ),
                  i = {
                    curLeftPosPct: t,
                    curRightPosPct: n,
                    curTopPosPct: a,
                    curBottomPosPct: 100 - (a + this.state.curHeightPct),
                  };
                this.setState(i);
                break;
              }
            }
            e.preventDefault(), e.stopPropagation();
          }
        }
        IsValidPct(e) {
          return e >= 0 && e <= 100;
        }
        UpdateState(e) {
          let t =
              void 0 !== e.curTopPosPct
                ? e.curTopPosPct
                : this.state.curTopPosPct,
            n =
              void 0 !== e.curBottomPosPct
                ? e.curBottomPosPct
                : this.state.curBottomPosPct,
            a =
              void 0 !== e.curLeftPosPct
                ? e.curLeftPosPct
                : this.state.curLeftPosPct,
            i =
              void 0 !== e.curRightPosPct
                ? e.curRightPosPct
                : this.state.curRightPosPct,
            l = (0, _.Lh)(
              100 - i - a,
              this.props.widthMinPct || 0,
              this.props.widthMaxPct || 100,
            ),
            r = (0, _.Lh)(
              100 - n - t,
              this.props.heightMinPct || 0,
              this.props.heightMaxPct || 100,
            );
          this.props.bLockAspectRatio &&
            (void 0 !== e.curLeftPosPct || void 0 !== e.curRightPosPct
              ? (r = l / this.m_aspectRatio)
              : (l = r * this.m_aspectRatio)),
            void 0 !== e.curLeftPosPct
              ? (a = 100 - i - l)
              : (i = 100 - (a + l)),
            void 0 !== e.curTopPosPct ? (t = 100 - n - r) : (n = 100 - (t + r));
          const o = 100 - i - a,
            s = 100 - n - t;
          this.IsValidPct(a) &&
            this.IsValidPct(i) &&
            this.IsValidPct(t) &&
            this.IsValidPct(n) &&
            this.IsValidPct(o) &&
            this.IsValidPct(s) &&
            this.setState({
              curLeftPosPct: a,
              curRightPosPct: i,
              curTopPosPct: t,
              curBottomPosPct: n,
            });
        }
        GetXPercent(e) {
          return (
            ((e - this.m_rectLinkRegion.left) /
              (this.m_rectLinkRegion.right - this.m_rectLinkRegion.left)) *
              100 -
            this.m_nLocalOffsetXPct
          );
        }
        GetYPercent(e) {
          return (
            ((e - this.m_rectLinkRegion.top) /
              (this.m_rectLinkRegion.bottom - this.m_rectLinkRegion.top)) *
              100 -
            this.m_nLocalOffsetYPct
          );
        }
        CalcLeftEdge(e) {
          return (0, _.Lh)(this.GetXPercent(e), 0, 100);
        }
        CalcRightEdge(e) {
          return (0, _.Lh)(
            100 - (this.GetXPercent(e) + this.state.curWidthPct),
            0,
            100,
          );
        }
        CalcTopEdge(e) {
          return (0, _.Lh)(this.GetYPercent(e), 0, 100);
        }
        CalcBottomEdge(e) {
          return (0, _.Lh)(
            100 - (this.GetYPercent(e) + this.state.curHeightPct),
            0,
            100,
          );
        }
        OnMouseUp(e, t) {
          this.setState({
            curWidthPct:
              100 - this.state.curRightPosPct - this.state.curLeftPosPct,
          }),
            this.setState({
              curHeightPct:
                100 - this.state.curBottomPosPct - this.state.curTopPosPct,
            }),
            this.setState({ EdgeDown: void 0 }),
            this.props.updateFn(this.props.index, {
              xPosPct: this.state.curLeftPosPct,
              yPosPct: this.state.curTopPosPct,
              widthPct: this.state.curWidthPct,
              heightPct: this.state.curHeightPct,
              link_url: this.state.text_link_url,
              link_description: this.state.text_link_description,
            }),
            this.m_listeners.Unregister();
        }
        HandleDelete() {
          return (0, i.mG)(this, void 0, void 0, function* () {
            this.props.deleteFn && this.props.deleteFn(this.props.index);
          });
        }
        OnSetLinkURLChange(e) {
          this.setState({
            text_link_url: e.target.value,
            valid_link: this.validateUrl(e.target.value),
          });
        }
        OnSetLinkDescriptionChange(e) {
          this.setState({ text_link_description: e.target.value });
        }
        validateUrl(e) {
          return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/i.test(
            e,
          );
        }
        OnSaveLink() {
          (this.m_strDescription = this.state.text_link_description),
            this.setState({ bEditingLink: !this.state.bEditingLink }),
            this.props.updateFn(this.props.index, {
              xPosPct: this.state.curLeftPosPct,
              yPosPct: this.state.curTopPosPct,
              widthPct: this.state.curWidthPct,
              heightPct: this.state.curHeightPct,
              link_url: this.state.text_link_url,
              link_description: this.state.text_link_description,
            });
        }
        OnEditLink() {
          this.setState({ bEditingLink: !this.state.bEditingLink });
        }
        render() {
          let e = {
              left: this.state.curLeftPosPct + "%",
              top: this.state.curTopPosPct + "%",
              right: this.state.curRightPosPct + "%",
              bottom: this.state.curBottomPosPct + "%",
            },
            t = p().LinkRegionDragBox;
          return (
            null !== this.state.EdgeDown &&
              (t += ` ${p().EdgeDown} ` + p()[this.state.EdgeDown]),
            l.createElement(
              "div",
              {
                className: t,
                style: e,
                ref: this.LinkRegionBoxRef,
                draggable: !1,
              },
              l.createElement(
                "div",
                { className: p().LinkRegionGridBox },
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().TopLeft}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.topleft);
                  },
                  draggable: !1,
                }),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Top}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.top);
                  },
                }),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().TopRight}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.topright);
                  },
                  draggable: !1,
                }),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Left}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.left);
                  },
                  draggable: !1,
                }),
                l.createElement(
                  "div",
                  {
                    className: `${p().LinkRegionEdge} ${p().Middle}`,
                    onMouseDown: (e) => {
                      this.OnMouseDown(e, a.middle);
                    },
                    draggable: !1,
                  },
                  this.props.deleteFn &&
                    l.createElement(
                      "div",
                      {
                        className: p().LinkRegionDelete,
                        onClick: this.HandleDelete,
                      },
                      l.createElement(d.pVO, null),
                    ),
                  !this.props.bDisableLink &&
                    l.createElement(
                      "div",
                      {
                        className: p().LinkRegionSettings,
                        onClick: this.OnEditLink,
                      },
                      l.createElement(d.pkz, null),
                    ),
                  l.createElement(
                    "div",
                    { className: p().LinkText },
                    " ",
                    this.m_strDescription,
                    " ",
                  ),
                ),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Right}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.right);
                  },
                  draggable: !1,
                }),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().BottomLeft}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.bottomleft);
                  },
                  draggable: !1,
                }),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().Bottom}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.bottom);
                  },
                  draggable: !1,
                }),
                l.createElement("div", {
                  className: `${p().LinkRegionEdge} ${p().BottomRight}`,
                  onMouseDown: (e) => {
                    this.OnMouseDown(e, a.bottomright);
                  },
                  draggable: !1,
                }),
              ),
              this.state.bEditingLink &&
                l.createElement(
                  "div",
                  { className: p().LinkRegionInfo },
                  l.createElement(m.II, {
                    className: p().LinkRegionInput,
                    type: "text",
                    name: "link_url",
                    value: this.state.text_link_url,
                    label: (0, c.Xx)("#SteamTV_LinkURL"),
                    placeholder: "https://www.example.com",
                    onChange: this.OnSetLinkURLChange,
                    mustBeURL: !0,
                  }),
                  l.createElement(m.II, {
                    className: p().LinkRegionInput,
                    type: "text",
                    name: "link_description",
                    value: this.state.text_link_description,
                    label: (0, c.Xx)("#SteamTV_LinkDescription"),
                    placeholder: (0, c.Xx)(
                      "#SteamTV_LinkDescription_Placeholder",
                    ),
                    onChange: this.OnSetLinkDescriptionChange,
                  }),
                  l.createElement(
                    "div",
                    { className: p().LinkRegionButtonContainer },
                    l.createElement(
                      m.zx,
                      {
                        disabled: !this.state.valid_link,
                        onClick: this.OnSaveLink,
                      },
                      " ",
                      (0, c.Xx)("#Button_OK"),
                      " ",
                    ),
                    l.createElement(
                      m.zx,
                      { onClick: this.OnEditLink },
                      " ",
                      (0, c.Xx)("#Button_Cancel"),
                    ),
                  ),
                ),
            )
          );
        }
      };
      (0, i.gn)([r.ak], h.prototype, "LinkRegionBoxRef", null),
        (0, i.gn)([r.ak], h.prototype, "OnMouseDown", null),
        (0, i.gn)([r.ak], h.prototype, "OnMouseMove", null),
        (0, i.gn)([r.ak], h.prototype, "OnMouseUp", null),
        (0, i.gn)([r.ak], h.prototype, "HandleDelete", null),
        (0, i.gn)([r.ak], h.prototype, "OnSetLinkURLChange", null),
        (0, i.gn)([r.ak], h.prototype, "OnSetLinkDescriptionChange", null),
        (0, i.gn)([r.ak], h.prototype, "OnSaveLink", null),
        (0, i.gn)([r.ak], h.prototype, "OnEditLink", null),
        (h = (0, i.gn)([o.Pi], h));
    },
    24827: (e, t, n) => {
      "use strict";
      n.d(t, {
        Ai: () => v,
        H6: () => h,
        Sw: () => D,
        Uy: () => S,
        Zg: () => g,
        uv: () => E,
        w$: () => _,
      });
      var a = n(85556),
        i = n(47427),
        l = n(59728),
        r = n(31846),
        o = n(27605),
        s = n(13129),
        c = n(46984),
        m = n(81602),
        d = n.n(m),
        u = n(64936);
      const p = n(98973);
      function _(e, t) {
        const n = p.tz.guess(),
          a = p.unix(e).tz(n),
          l = (0, r.CE)();
        return (
          l && a.locale(l),
          i.createElement(
            i.Fragment,
            null,
            a.format("LT"),
            t
              ? i.createElement(
                  "span",
                  { "data-tooltip-text": a.format("Z") + ", " + n },
                  "",
                  a.zoneAbbr(),
                )
              : null,
          )
        );
      }
      const h = (0, o.Pi)((e) => {
          const {
              dateAndTime: t,
              bSingleLine: n,
              bOnlyTime: a,
              bOnlyDate: l,
            } = e,
            o = !a && Boolean(t),
            s = !l && Boolean(t),
            c = o && (0, r.$1)(t),
            m = e.stylesmodule
              ? Object.assign(Object.assign({}, d()), e.stylesmodule)
              : d();
          return n
            ? i.createElement(
                "span",
                { className: a || l ? m.DateAndTimeInline : m.DateAndTime },
                o && c,
                i.createElement("span", null, ""),
                Boolean(t && s) && _(t, !0),
              )
            : i.createElement(
                "div",
                { className: m.DateAndTime },
                o &&
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement("div", { className: m.LocalizedDate }, c),
                    " ",
                    i.createElement("span", { className: m.At }, "@"),
                  ),
                i.createElement(
                  "div",
                  { className: m.LocalizedTime },
                  Boolean(t && s) && _(t, !0),
                ),
              );
        }),
        g = (e) => {
          const t = i.createElement(
            "div",
            { className: e.stylesmodule.DateToolTip },
            i.createElement(h, {
              dateAndTime: e.rtFullDate,
              bSingleLine: !0,
              stylesmodule: e.stylesmodule,
            }),
          );
          return i.createElement(
            l.HP,
            {
              toolTipContent: t,
              direction: "top",
              className: e.className,
              bTopmost: !0,
            },
            e.children,
          );
        };
      let v = class extends i.Component {
        render() {
          const { startDateAndTime: e, endDateAndTime: t } = this.props,
            n = this.props.stylesmodule
              ? Object.assign(Object.assign({}, d()), this.props.stylesmodule)
              : d();
          let a =
            this.props.bHideEndTime ||
            null == this.props.endDateAndTime ||
            this.props.endDateAndTime < 1;
          if (null == e || 0 == e)
            return i.createElement(
              "div",
              { className: n.DateAndTime },
              i.createElement(
                "span",
                { className: n.RightSideTitles },
                (0, r.Xx)("#EventDisplay_TimeRange"),
              ),
              (0, r.Xx)("#EventDisplay_TimeDisplayNone"),
            );
          let l = u.JW.GetTimeNowWithOverride();
          if (a)
            return i.createElement(
              "div",
              { className: n.StartDate },
              i.createElement(
                "div",
                { className: n.RightSideTitles },
                (0, r.Xx)(
                  e < l
                    ? "#EventDisplay_TimeInPast"
                    : "#EventDisplay_TimeUpcoming",
                ),
                "",
              ),
              i.createElement(h, { stylesmodule: n, dateAndTime: e }),
            );
          let o = e <= l && l <= t;
          const m = (0, c.yK)(new Date(1e3 * e), new Date(1e3 * t));
          return i.createElement(
            "div",
            { className: n.MultiDateAndTime },
            i.createElement(
              "div",
              { className: n.StartDate },
              i.createElement(
                "span",
                { className: n.RightSideTitles },
                (0, r.Xx)(
                  e >= l
                    ? "#EventDisplay_TimeBeginsOn"
                    : t >= l
                      ? "#EventDisplay_TimeBeginsOn_Past"
                      : "#EventDisplay_TimeBeginsOn_StartAndEnd_Past",
                ),
              ),
              i.createElement(h, {
                stylesmodule: n,
                bSingleLine: !0,
                dateAndTime: e,
              }),
            ),
            i.createElement(
              "div",
              { className: n.EndDate },
              i.createElement(
                "span",
                { className: n.RightSideTitles },
                (0, r.Xx)(
                  t < l
                    ? "#EventDisplay_TimeEndsOn_Past"
                    : "#EventDisplay_TimeEndsOn",
                ),
              ),
              i.createElement(h, {
                stylesmodule: n,
                bSingleLine: !0,
                bOnlyTime: m,
                dateAndTime: t,
              }),
            ),
            o &&
              i.createElement(
                "span",
                { className: n.ActiveEvent },
                i.createElement(
                  "span",
                  {
                    className: (0, s.Z)(
                      n.RightSideTitles,
                      n.ActiveEventCallOut,
                    ),
                  },
                  (0, r.Xx)("#Time_Now"),
                ),
              ),
          );
        }
      };
      v = (0, a.gn)([o.Pi], v);
      let E = class extends i.Component {
        render() {
          const {
              startDateAndTime: e,
              endDateAndTime: t,
              bHideEndTime: n,
            } = this.props,
            a = this.props.stylesmodule
              ? Object.assign(Object.assign({}, d()), this.props.stylesmodule)
              : d();
          if (null == e || 0 == e)
            return i.createElement(
              "div",
              { className: a.DateAndTime },
              i.createElement(
                "span",
                { className: a.RightSideTitles },
                (0, r.Xx)("#EventDisplay_TimeRange"),
              ),
              (0, r.Xx)("#EventDisplay_TimeDisplayNone"),
            );
          const l = u.JW.GetTimeNowWithOverrideAsDate(),
            o = u.JW.GetTimeNowWithOverride(),
            s = (0, c.U8)(new Date(1e3 * e), l),
            m = i.createElement(
              "div",
              { className: a.ShortDateAndTime },
              (0, r.$1)(e, s),
            );
          let p = i.createElement(
            g,
            { rtFullDate: e, stylesmodule: a },
            i.createElement(
              "div",
              { className: a.RightSideTitles },
              (0, r.Xx)(
                e < o
                  ? "#EventDisplay_TimeInPast"
                  : "#EventDisplay_TimeUpcoming",
              ),
            ),
            m,
          );
          if (
            (o < e &&
              e < o + c._H.PerWeek &&
              (p = i.createElement(
                g,
                { rtFullDate: e, stylesmodule: a },
                i.createElement(
                  "div",
                  { className: a.RightSideTitles },
                  (0, r.kQ)(
                    "#EventDisplay_EventUpcoming_WithDateAndTime",
                    m,
                    i.createElement(
                      "div",
                      { className: a.ShortDateAndTime },
                      _(e),
                      " ",
                    ),
                  ),
                ),
              )),
            n || null == t || t < 1)
          )
            return p;
          const h = e <= o && o <= t;
          h &&
            (p = i.createElement(
              g,
              { rtFullDate: e, className: a.ActiveEvent, stylesmodule: a },
              i.createElement(
                "span",
                { className: a.ActiveEventCallOut },
                (0, r.Xx)("#Time_Now"),
              ),
            ));
          let v = null;
          const E = h ? t - o : t - e;
          if (E <= c._H.PerDay) {
            const e = i.createElement(
              "div",
              { className: a.ShortDateAndTime },
              (0, r.yW)(E, !0),
            );
            v =
              t < o
                ? i.createElement(
                    "div",
                    { className: a.RightSideTitles },
                    (0, r.Xx)("#EventDisplay_TimeEndsOn_Ran"),
                    e,
                  )
                : i.createElement(
                    "div",
                    { className: a.RightSideTitles },
                    (0, r.kQ)(
                      h
                        ? "#EventDisplay_TimeLeft"
                        : "#EventDisplay_RunsForDuration",
                      e,
                    ),
                  );
          } else {
            const e = l.getFullYear() == new Date(1e3 * t).getFullYear();
            v = i.createElement(
              i.Fragment,
              null,
              i.createElement(
                "div",
                { className: a.RightSideTitles },
                (0, r.Xx)(
                  t < o
                    ? "#EventDisplay_TimeEndsOn_Past"
                    : "#EventDisplay_TimeEndsOn",
                ),
              ),
              i.createElement(
                "div",
                { className: a.ShortDateAndTime },
                (0, r.$1)(t, e),
              ),
            );
          }
          const S = i.createElement(g, { rtFullDate: t, stylesmodule: a }, v);
          return i.createElement("div", { className: a.ShortDateRange }, p, S);
        }
      };
      function S(e, t, n) {
        const a = u.JW.GetTimeNowWithOverrideAsDate(),
          i = new Date(1e3 * e),
          l = new Date(1e3 * t),
          o = a.getFullYear() == i.getFullYear(),
          s = a.getFullYear() == l.getFullYear(),
          c = i.getFullYear() == l.getFullYear(),
          m = c && i.getMonth() == l.getMonth(),
          d = m && i.getDate() == l.getDate(),
          p = {
            day: "numeric",
            month: null != n ? n : "long",
            year: o ? void 0 : "numeric",
          },
          _ = i.toLocaleDateString(r.Yt.GetPreferredLocales(), p);
        if (d) return _;
        {
          const e = {
            day: "numeric",
            month: m && s ? void 0 : null != n ? n : "long",
            year: c ? void 0 : "numeric",
          };
          return (
            _ + " - " + l.toLocaleDateString(r.Yt.GetPreferredLocales(), e)
          );
        }
      }
      function D(e) {
        const {
          rtStartDate: t,
          rtEndDate: n,
          strMonthFormat: a,
          className: l,
        } = e;
        return i.createElement("div", { className: l }, S(t, n, a), " ");
      }
      E = (0, a.gn)([o.Pi], E);
    },
    84996: (e, t, n) => {
      "use strict";
      n.d(t, { Gp: () => f, Q0: () => y, ko: () => b });
      var a = n(85556),
        i = n(25307),
        l = n.n(i),
        r = n(47427),
        o = n(77936),
        s = n(38071),
        c = n(20029),
        m = n(1485),
        d = n(71741),
        u = n(77178),
        p = n(90069),
        _ = n(46882),
        h = n(16649),
        g = n(13129),
        v = n(31846),
        E = n(45070),
        S = n(59728),
        D = n(49975);
      const f = (e) => {
          const t = (t, n) => {
            t.preventDefault();
            const {
                fnGetLocData: a,
                closeModal: i,
                strFileNamePrefix: l,
                lang: r,
              } = e,
              s = a(),
              c = new E.i();
            let m = l ? l + "_localization" : "localization";
            switch (n) {
              case "csv_row":
                c.WriteLocalizationData_CSV_LanguageRows(s, m + ".csv");
                break;
              case "csv_column":
                c.WriteLocalizationData_CSV_LanguageColumns(s, m + ".csv");
                break;
              case "csv_token":
                c.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                  s,
                  m + ".csv",
                );
                break;
              case "xml":
                c.WriteLocalizationData_XML_SingleLanguage(
                  s,
                  r,
                  m + "_" + (0, o.eV)((0, o.j_)(r)) + ".xml",
                );
            }
            i && i();
          };
          return r.createElement(
            r.Fragment,
            null,
            Boolean(e.bShowCSV) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  m.KM,
                  { onClick: (e) => t(e, "csv_row") },
                  (0, v.Xx)("#Localization_Export_Btn_RowLanguages"),
                ),
                r.createElement(
                  m.KM,
                  { onClick: (e) => t(e, "csv_column") },
                  (0, v.Xx)("#Localization_Export_Btn_ColumnLanguages"),
                ),
                r.createElement(
                  m.KM,
                  { onClick: (e) => t(e, "csv_token") },
                  (0, v.Xx)("#Localization_Export_Btn_TokenLanguages"),
                ),
              ),
            Boolean(e.bShowXML) &&
              r.createElement(
                m.KM,
                { onClick: (e) => t(e, "xml") },
                (0, v.Xx)("#Localization_Export_Btn_XML"),
              ),
          );
        },
        y = (e) => {
          const [t, n] = (0, r.useState)(!1),
            i = (e, t) => {
              n(!1),
                console.log(
                  "ImportLocalizationAction: On Handle Parse error: " +
                    e.message,
                  e,
                ),
                (0, p.AM)(
                  r.createElement(
                    u.JX,
                    null,
                    r.createElement(
                      "div",
                      null,
                      r.createElement(
                        "p",
                        null,
                        (0, v.Xx)("#Localization_Error_Input"),
                      ),
                      r.createElement("p", null, e.message),
                    ),
                  ),
                  window,
                );
            },
            m = (e) => {
              n(!1);
              let t = "";
              e.forEach((e) => {
                t.length > 0 && (t += ", "),
                  (t += (0, v.Xx)("#Language_" + (0, o.j_)(e)));
              }),
                (0, p.AM)(
                  r.createElement(
                    u.uH,
                    {
                      strTitle: (0, v.Xx)("#EventDisplay_Share_Success"),
                      bAlertDialog: !0,
                    },
                    r.createElement(
                      "div",
                      null,
                      0 == t.length
                        ? (0, v.Xx)(
                            "#Localization_Success_ImportComplete_NoChange",
                          )
                        : (0, v.Xx)("#Localization_Success_ImportComplete", t),
                    ),
                  ),
                  window,
                );
            },
            f = (t) =>
              (0, a.mG)(void 0, void 0, void 0, function* () {
                let a = t.target.files;
                if (a && a.length > 0) {
                  n(!0);
                  let t = new Array(),
                    r = new E.i();
                  for (let n = 0; n < a.length; ++n)
                    if (a[n]) {
                      if (a[n].name.toLocaleLowerCase().endsWith(".csv"))
                        return void l().parse(a[0], {
                          header: !0,
                          complete: (t) => {
                            let n = new E.i().DetectAndFormatCSV(t);
                            if (!n)
                              return void i({
                                code: "",
                                message: "",
                                row: 0,
                                type: "filenameerror",
                              });
                            const a = v.LJ.GetLanguageListForRealms([
                                s.IN.k_ESteamRealmGlobal,
                              ]),
                              l = e.fnOnImportLocData(n, a);
                            m(l);
                          },
                          error: i,
                        });
                      if (a[n].name.toLocaleLowerCase().endsWith(".xml")) {
                        let l = (0, c.Z)(a[n].name, -1);
                        if (null == l || -1 == l)
                          return void i({
                            code: "",
                            message: (0, v.Xx)(
                              "#Localization_Error_FileLangauage",
                              a[n].name,
                            ),
                            row: 0,
                            type: "filenameerror",
                          });
                        try {
                          const i =
                            yield r.ReadLocalizationData_XML_SingleLanguage(
                              a[n],
                              l,
                            );
                          e.fnOnImportLocData(i, [l]).map((e) => {
                            -1 == t.indexOf(e) && t.push(e);
                          });
                        } catch (e) {
                          let t = (0, h.l)(e);
                          return void i({
                            code: "",
                            message: (0, v.Xx)(
                              "#Localization_Error_XMLParseError",
                              t.strErrorMsg,
                            ),
                            row: 0,
                            type: "parseerror",
                          });
                        }
                      } else
                        i({
                          code: "",
                          message: (0, v.Xx)(
                            "#Localization_Error_FileExtention",
                            a[n].name,
                          ),
                          row: 0,
                          type: "filenameerror",
                        });
                    }
                  m(t);
                }
              });
          return r.createElement(
            S.HP,
            {
              className: (0, g.Z)(
                e.className ? e.className : d.EditPreviewButton,
              ),
              toolTipContent: e.strToolTip,
            },
            r.createElement(
              "label",
              { className: D.ImportButton, htmlFor: "importlocalization" },
              t && r.createElement(_.V, { size: "small" }),
              r.createElement(
                "div",
                { className: D.Label },
                (0, v.Xx)(e.strLabel ? e.strLabel : "#Localization_Import_Btn"),
              ),
              r.createElement("input", {
                id: "importlocalization",
                className: D.ImportButton,
                style: { display: "none" },
                type: "file",
                onSubmit: f,
                onChange: f,
                multiple: !0,
              }),
            ),
          );
        },
        b = (e) => {
          const {
              fnOnImportLocData: t,
              closeModal: n,
              sampleLocData: a,
              sampleFilename: i,
            } = e,
            l = new E.i();
          return r.createElement(
            u.RG,
            { onCancel: n, closeModal: n },
            r.createElement(m.h4, null, (0, v.Xx)("#ImportLoc_Title")),
            r.createElement(
              m.uT,
              null,
              r.createElement("div", null, (0, v.Xx)("#ImportLoc_Description")),
              r.createElement(
                "div",
                { className: D.ImportLocSampleButtonCtn },
                r.createElement(
                  "div",
                  { className: D.SampleTitle },
                  (0, v.Xx)("#ImportLoc_SampleTitle"),
                ),
                r.createElement(
                  m.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_CSV_LanguageRows(
                        a,
                        i + "_row.csv",
                      ),
                  },
                  (0, v.Xx)("#ImportLoc_CSVLangPerRow"),
                ),
                r.createElement(
                  m.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_CSV_LanguageColumns(
                        a,
                        i + "_col.csv",
                      ),
                  },
                  (0, v.Xx)("#ImportLoc_CSVLangPerCol"),
                ),
                r.createElement(
                  m.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_CSV_TokenAndLanguageColumns(
                        a,
                        i + "_token.csv",
                      ),
                  },
                  (0, v.Xx)("#ImportLoc_CSVTokenLang"),
                ),
                r.createElement(
                  m.zx,
                  {
                    onClick: () =>
                      l.WriteLocalizationData_XML_SingleLanguage(
                        a,
                        0,
                        i + "xml",
                      ),
                  },
                  (0, v.Xx)("#ImportLoc_XML"),
                ),
              ),
            ),
            r.createElement(
              m.$_,
              null,
              r.createElement(y, {
                strLabel: (0, v.Xx)("#BuildNotes_ImportLocalization"),
                fnOnImportLocData: (e, a) => {
                  const i = t(e, a);
                  return n(), i;
                },
              }),
            ),
          );
        };
    },
    28918: (e, t, n) => {
      "use strict";
      n.d(t, { j: () => r });
      var a = n(85556),
        i = n(47427),
        l = n(20417);
      class r extends i.Component {
        constructor(e) {
          super(e),
            (this.m_refImage = i.createRef()),
            (this.state = { nImage: 0 });
        }
        componentDidUpdate(e) {
          JSON.stringify(this.props.rgSources) != JSON.stringify(e.rgSources) &&
            this.setState({ nImage: 0 });
        }
        get src() {
          let e = "";
          return (
            this.props.rgSources &&
              this.props.rgSources.length > this.state.nImage &&
              (e = this.props.rgSources[this.state.nImage]),
            e ||
              (console.warn(
                "MultiSourceImage created with no image src",
                this.props,
                this.state.nImage,
              ),
              (e =
                "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")),
            e
          );
        }
        get imgRef() {
          return this.m_refImage;
        }
        OnImageError(e) {
          this.props.onIncrementalError &&
            this.props.onIncrementalError(
              e,
              this.props.rgSources[this.state.nImage],
              this.state.nImage,
            );
          let t = this.state.nImage + 1;
          t >= this.props.rgSources.length &&
            this.props.onError &&
            this.props.onError(e),
            t < this.props.rgSources.length && this.setState({ nImage: t });
        }
        render() {
          const e = this.props,
            { rgSources: t, onIncrementalError: n, onError: l } = e,
            r = (0, a._T)(e, ["rgSources", "onIncrementalError", "onError"]),
            o = this.src;
          return i.createElement(
            "img",
            Object.assign({ ref: this.m_refImage }, r, {
              src: o,
              onError: this.OnImageError,
            }),
          );
        }
      }
      (0, a.gn)([l.ak], r.prototype, "OnImageError", null);
    },
    23665: (e, t, n) => {
      "use strict";
      n.d(t, { n: () => _ });
      var a = n(47427),
        i = n(8285),
        l = n(13129),
        r = n(31846),
        o = n(71472),
        s = n(97342),
        c = n.n(s),
        m = n(59728),
        d = n(14609),
        u = n(91618);
      class p extends a.Component {
        constructor() {
          super(...arguments), (this.state = { activeTab: "" });
        }
        componentDidMount() {
          this.props.startingTab
            ? this.setState({ activeTab: this.props.startingTab })
            : !this.props.bDisableRouting &&
              this.props.location &&
              this.setState({
                activeTab: (0, o.ks)(this.props.location, "tab"),
              });
        }
        componentDidUpdate(e) {
          !this.props.bDisableRouting &&
            this.props.location &&
            this.props.location.key !== e.location.key &&
            this.setState({ activeTab: (0, o.ks)(this.props.location, "tab") });
        }
        OnTabClick(e) {
          this.setState({ activeTab: e.key }),
            !this.props.bDisableRouting &&
              this.props.history &&
              (0, o.i9)(this.props.history, "tab", e.key),
            e.onClick && e.onClick(e);
        }
        render() {
          const e =
            this.props.tabs.find((e) => e.key === this.state.activeTab) ||
            this.props.tabs[0];
          return a.createElement(
            a.Fragment,
            null,
            a.createElement(
              u.s,
              {
                className: (0, l.Z)(
                  c().GraphicalAssetsTabs,
                  this.props.classNameCtn,
                ),
              },
              this.props.tabs.map((t) => {
                if (!t.hidden) {
                  let n = "";
                  return (
                    "success" === t.statusType
                      ? (n = c().StatusSuccess)
                      : "danger" === t.statusType
                        ? (n = c().StatusDanger)
                        : "caution" === t.statusType && (n = c().StatusCaution),
                    a.createElement(
                      d.M2,
                      {
                        key: t.key,
                        condition: Boolean(t.statusToolTip),
                        wrap: (e) =>
                          a.createElement(
                            m.HP,
                            { toolTipContent: t.statusToolTip || t.tooltip },
                            e,
                          ),
                      },
                      a.createElement(
                        u.s,
                        {
                          key: t.key,
                          className: (0, l.Z)(
                            `${c().GraphicalAssetsTab} ${t.key === e.key ? (0, l.Z)(c().Active, "ActiveTab") : ""}`,
                            this.props.classNameTab,
                          ),
                          onActivate: () => this.OnTabClick(t),
                        },
                        Boolean(t.vo_warning) &&
                          a.createElement(
                            m.HP,
                            { toolTipContent: t.vo_warning },
                            a.createElement(
                              "div",
                              { className: c().VOWarning },
                              (0, r.Xx)("#EventEditor_VOWarning"),
                            ),
                          ),
                        Boolean(t.status) &&
                          a.createElement(
                            "div",
                            {
                              className: (0, l.Z)(c().GraphicalAssetStatus, n),
                            },
                            t.status,
                          ),
                        t.name,
                      ),
                    )
                  );
                }
                return null;
              }),
            ),
            a.createElement(
              u.s,
              null,
              e && a.createElement(u.s, null, e.contents),
            ),
          );
        }
      }
      const _ = (0, i.EN)(p);
    },
    9075: (e, t, n) => {
      "use strict";
      n.d(t, { e: () => p });
      var a = n(85556),
        i = n(47427),
        l = n(27174),
        r = n(1485),
        o = n(50727),
        s = n(77178),
        c = n(13129),
        m = n(31846),
        d = n(20417),
        u = n(46351);
      class p extends i.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              region: {
                xPosPct: 0,
                yPosPct: 0,
                widthPct:
                  (this.GetDestWidth() / this.props.uploadFile.width) * 100,
                heightPct:
                  (this.GetDestHeight() / this.props.uploadFile.height) * 100,
              },
            });
        }
        OnCrop() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            yield this.props.uploadFile.CropImage(
              (this.state.region.xPosPct / 100) * this.props.uploadFile.width,
              (this.state.region.yPosPct / 100) * this.props.uploadFile.height,
              (this.state.region.widthPct / 100) * this.props.uploadFile.width,
              (this.state.region.heightPct / 100) *
                this.props.uploadFile.height,
              this.GetDestWidth(),
              this.GetDestHeight(),
              this.props.fileType,
            ),
              this.props.closeModal();
          });
        }
        UpdateCrop(e, t) {
          this.setState({ region: t });
        }
        GetDestWidth() {
          const { uploadFile: e, forceResolution: t } = this.props;
          return t ? t.width : l.h1[e.type].width;
        }
        GetDestHeight() {
          const { uploadFile: e, forceResolution: t } = this.props;
          return t ? t.height : l.h1[e.type].height;
        }
        GetLargestBoxThatFits(e, t, n, a) {
          let i = n,
            l = (i * t) / Math.max(e, 1);
          return (
            l > a && ((l = a), (i = (l * e) / Math.max(t, 1))),
            { width: i, height: l }
          );
        }
        GetPreviewWindowStyle() {
          const { region: e } = this.state,
            t = this.GetLargestBoxThatFits(
              this.GetDestWidth(),
              this.GetDestHeight(),
              500,
              150,
            ),
            n = t.width,
            a = t.height,
            i = 1 / Math.max(e.widthPct / 100, 1e-4),
            l = 1 / Math.max(e.heightPct / 100, 1e-4),
            r = (this.props.uploadFile.width * e.xPosPct) / 100,
            o = (this.props.uploadFile.height * e.yPosPct) / 100;
          return {
            width: n,
            height: a,
            backgroundPosition: `${-r * ((n * i) / this.props.uploadFile.width)}px ${-o * ((a * l) / this.props.uploadFile.height)}px`,
            backgroundSize: `${100 * i}% ${100 * l}%`,
            backgroundImage: `url(${this.props.uploadFile.dataUrl})`,
          };
        }
        render() {
          const e = (this.GetDestWidth() / this.props.uploadFile.width) * 100,
            t = (this.GetDestHeight() / this.props.uploadFile.height) * 100,
            n = this.GetLargestBoxThatFits(
              this.props.uploadFile.width,
              this.props.uploadFile.height,
              800,
              500,
            );
          return i.createElement(
            s.e1,
            {
              onEscKeypress: this.props.closeModal,
              bDisableBackgroundDismiss: !0,
            },
            i.createElement(
              "div",
              {
                className: (0, c.Z)("DialogContent", "_DialogCenterVertically"),
              },
              i.createElement(
                r.bU,
                null,
                (0, m.Xx)(
                  "#ImageUpload_CropModalTitleDims",
                  this.GetDestWidth(),
                  this.GetDestHeight(),
                ),
              ),
              i.createElement(
                "div",
                { className: (0, c.Z)("DialogBodyText") },
                (0, m.Xx)("#ImageUpload_CropModalDescription"),
              ),
              i.createElement(
                "div",
                {
                  className: u.CropImage,
                  style: { width: n.width, height: n.height },
                },
                i.createElement("img", {
                  style: {
                    maxWidth: "100%",
                    maxHeight: "100%",
                    objectFit: "contain",
                  },
                  src: this.props.uploadFile.dataUrl,
                }),
                i.createElement(o.l, {
                  bLockAspectRatio: !0,
                  bDisableLink: !0,
                  index: 0,
                  updateFn: this.UpdateCrop,
                  xPosPct: 0,
                  yPosPct: 0,
                  widthMinPct: e,
                  heightMinPct: t,
                  widthPct: e,
                  heightPct: t,
                }),
              ),
              i.createElement(
                "div",
                { className: u.CropPreviewGroup },
                i.createElement(
                  "div",
                  { className: u.CropPreviewLabel },
                  (0, m.Xx)("#ImageUpload_CropPreview"),
                ),
                i.createElement("div", { style: this.GetPreviewWindowStyle() }),
              ),
              i.createElement(
                r.KM,
                { onClick: this.OnCrop },
                (0, m.Xx)("#ImageUpload_CropAndContinue"),
              ),
            ),
          );
        }
      }
      (0, a.gn)([d.ak], p.prototype, "OnCrop", null),
        (0, a.gn)([d.ak], p.prototype, "UpdateCrop", null);
    },
    45070: (e, t, n) => {
      "use strict";
      n.d(t, { C: () => c, i: () => m });
      var a = n(85556),
        i = n(77936),
        l = n(38071),
        r = n(83999),
        o = n(88408),
        s = n(31846);
      class c {
        constructor() {
          this.m_mapTokens = new Map();
        }
        GetLocalization(e, t) {
          const n = this.m_mapTokens.get(e);
          if (n && n[t]) return n[t];
        }
        SetLocalization(e, t, n) {
          let a = this.m_mapTokens.get(e);
          a || ((a = (0, r.LG)([], 31, null)), this.m_mapTokens.set(e, a)),
            (a[t] = n);
        }
        GetSortedTokenList() {
          let e = [];
          return (
            this.m_mapTokens.forEach((t, n) => e.push(n)),
            e.sort((e, t) => e.localeCompare(t)),
            e
          );
        }
        GetLanguagesWithTokens() {
          let e = new Map();
          this.m_mapTokens.forEach((t) => {
            for (let n = 0; n < t.length; ++n)
              !e.has(n) &&
                null !== t[n] &&
                void 0 !== t[n] &&
                t[n].trim().length > 0 &&
                e.set(n, !0);
          });
          let t = new Array();
          return (
            e.forEach((e, n) => {
              e && t.push(n);
            }),
            t
          );
        }
        ClearLanguagesTokens(e) {
          e.forEach((e) => {
            this.m_mapTokens.forEach((t, n) => {
              e < t.length && null !== t[e] && (t[e] = null);
            });
          });
        }
        DebugPrintData() {
          const e = new Array();
          return (
            this.m_mapTokens.forEach((t, n) => e.push(`${n}=${t.join(",")}`)),
            e.join("\n")
          );
        }
      }
      class m {
        DetectAndFormatCSV(e) {
          var t, n, a, l, r, o;
          let s = null;
          return (
            (null ===
              (n =
                null === (t = null == e ? void 0 : e.meta) || void 0 === t
                  ? void 0
                  : t.fields) || void 0 === n
              ? void 0
              : n.length) >= 3 &&
            "field" === e.meta.fields[0] &&
            "language" === e.meta.fields[1] &&
            "value" === e.meta.fields[2]
              ? (s = this.ReadLocalizationData_CSV_TokenLanguageList(e))
              : (null ===
                    (l =
                      null === (a = null == e ? void 0 : e.meta) || void 0 === a
                        ? void 0
                        : a.fields) || void 0 === l
                    ? void 0
                    : l.length) >= 2 &&
                  "field" === e.meta.fields[0] &&
                  -1 != (0, i.jM)(e.meta.fields[1], -1)
                ? (s = this.ReadLocalizationData_CSV_LanguageColumns(e))
                : (null ===
                    (o =
                      null === (r = null == e ? void 0 : e.meta) || void 0 === r
                        ? void 0
                        : r.fields) || void 0 === o
                    ? void 0
                    : o.length) >= 2 &&
                  "language" === e.meta.fields[0] &&
                  (s = this.ReadLocalizationData_CSV_LanguageRows(e)),
            s
          );
        }
        ReadLocalizationData_XML_SingleLanguage(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = new c(),
              a = new DOMParser(),
              i = yield o.K.ReadFile(e),
              l = a.parseFromString(i.toString(), "application/xml");
            for (let e = 0; e < l.documentElement.children.length; ++e) {
              const a = l.documentElement.children.item(e),
                i = a.getAttribute("id").toLocaleLowerCase(),
                r = a.textContent;
              n.SetLocalization(i, t, r);
            }
            return n;
          });
        }
        ReadLocalizationData_CSV_TokenLanguageList(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const n = e.field,
                a = (0, i.jM)(e.language);
              t.SetLocalization(n, a, e.value);
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageColumns(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const n = e.field;
              for (let a = 0; a < 31; ++a) {
                const l = (0, i.eV)((0, i.j_)(a));
                t.SetLocalization(n, a, e[l]);
              }
            }),
            t
          );
        }
        ReadLocalizationData_CSV_LanguageRows(e) {
          const t = new c();
          return (
            e.data.forEach((e) => {
              const n = (0, i.jM)(e.language, 31);
              if (31 !== n)
                for (const [a, i] of Object.entries(e))
                  "language" !== a &&
                    "string" == typeof i &&
                    t.SetLocalization(a, n, i);
            }),
            t
          );
        }
        GetExportLanguages() {
          return s.LJ.GetLanguageListForRealms([l.IN.k_ESteamRealmGlobal]);
        }
        WriteLocalizationData_CSV_TokenAndLanguageColumns(e, t) {
          let n = new Array();
          e.GetSortedTokenList().forEach((t) => {
            for (const a of this.GetExportLanguages()) {
              let l = { field: t };
              (l.language = (0, i.eV)((0, i.j_)(a))),
                (l.value = e.GetLocalization(t, a)),
                n.push(l);
            }
          }),
            o.K.WriteCSVToFile(n, t);
        }
        WriteLocalizationData_CSV_LanguageColumns(e, t) {
          let n = new Array();
          e.GetSortedTokenList().forEach((t) => {
            let a = { field: t };
            for (const n of this.GetExportLanguages())
              a[(0, i.eV)((0, i.j_)(n))] = e.GetLocalization(t, n);
            n.push(a);
          }),
            o.K.WriteCSVToFile(n, t);
        }
        WriteLocalizationData_CSV_LanguageRows(e, t) {
          let n = new Array();
          for (const e of this.GetExportLanguages())
            n.push({ language: (0, i.eV)((0, i.j_)(e)) });
          e.GetSortedTokenList().forEach((t) => {
            for (const a of this.GetExportLanguages())
              n[a][t] = e.GetLocalization(t, a);
          }),
            o.K.WriteCSVToFile(n, t);
        }
        WriteLocalizationData_XML_SingleLanguage(e, t, n) {
          let a = document.implementation.createDocument(null, "content", null);
          e.GetSortedTokenList().forEach((n) => {
            let i = a.createElement("string");
            i.setAttribute("id", n),
              i.appendChild(a.createTextNode(e.GetLocalization(n, t) || "")),
              a.documentElement.append(i);
          }),
            o.K.WriteXMLToFile(a, n);
        }
      }
    },
    76330: (e, t, n) => {
      "use strict";
      n.d(t, { J: () => a });
      const a = [
        { id: 303520413, displayName: "Adam" },
        { id: 388445686, displayName: "Adil" },
        { id: 85411739, displayName: "Alden" },
        { id: 1685193861, displayName: "Anna" },
        { id: 1153232713, displayName: "Augusta" },
        { id: 1016413309, displayName: "Brock" },
        { id: 55551709, displayName: "Connor" },
        { id: 1153054355, displayName: "DJ" },
        { id: 328711801, displayName: "Erik" },
        { id: 72848153, displayName: "Izumi" },
        { id: 76493708, displayName: "Jason" },
        { id: 1620810191, displayName: "Javier" },
        { id: 100402330, displayName: "Kassidy" },
        { id: 1561376890, displayName: "Kevin" },
        { id: 1553660262, displayName: "Lyria" },
        { id: 1297385845, displayName: "Marc" },
        { id: 1184183308, displayName: "Miranda" },
        { id: 1152779073, displayName: "Nathaniel" },
        { id: 1258631037, displayName: "Odin" },
        { id: 1211448543, displayName: "Ria" },
        { id: 1538854785, displayName: "Sam" },
        { id: 1289103430, displayName: "Steve" },
        { id: 122962881, displayName: "TomG" },
      ];
    },
    4618: (e, t, n) => {
      "use strict";
      var a;
      function i(e) {
        switch (e) {
          case a.k_ConfigPage_Takeover:
            return "frontpage";
          case a.k_ConfigPage_Takeunder:
            return "takeunder";
          case a.k_ConfigPage_TakeoverSteamChina:
            return "frontpage_china";
          case a.k_ConfigPage_Spotlight:
            return "spotlights";
          case a.k_ConfigPage_EarlyAccess_Takeover:
            return "content_hub_earlyaccess";
          case a.k_ConfigPage_FreeToPlay_Takeover:
            return "content_hub_freetoplay";
          case a.k_ConfigPage_GreatOnDeck_Takeover:
            return "content_hub_greatondeck";
          case a.k_ConfigPage_Category_Action_Takeover:
            return "content_hub_category_action";
          case a.k_ConfigPage_Category_Multiplayer_Takeover:
            return "content_hub_category_multiplayer";
          case a.k_ConfigPage_Demo_Hub_Takeover:
            return "content_hub_demos";
          case a.k_ConfigPage_RPG_Tag_Hub_Takeover:
            return "content_hub_tags_122";
          case a.k_ConfigPage_Racing_Tag_Hub_Takeover:
            return "content_hub_tags_699";
          case a.k_ConfigPage_VR_Hub_Takeover:
            return "content_hub_vr";
          case a.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "content_hub_tags_599";
        }
      }
      function l(e) {
        switch (e) {
          case a.k_ConfigPage_Takeover:
            return "Front Page Takeover";
          case a.k_ConfigPage_Takeunder:
            return "Takeunder";
          case a.k_ConfigPage_TakeoverSteamChina:
            return "Steam China Frontpage Takeover";
          case a.k_ConfigPage_Spotlight:
            return "Front Page Spotlight";
          case a.k_ConfigPage_EarlyAccess_Takeover:
            return "Early Access Content Hub Takeover";
          case a.k_ConfigPage_FreeToPlay_Takeover:
            return "Free to Play Content Hub Takeover";
          case a.k_ConfigPage_GreatOnDeck_Takeover:
            return "Great on Deck Hub Takeover";
          case a.k_ConfigPage_Category_Action_Takeover:
            return "Category Action Hub Takeover";
          case a.k_ConfigPage_Category_Multiplayer_Takeover:
            return "Category Multiplayer Hub Takeover";
          case a.k_ConfigPage_Demo_Hub_Takeover:
            return "Demo Hub Takeover";
          case a.k_ConfigPage_RPG_Tag_Hub_Takeover:
            return "RPG Tag Hub Takeover";
          case a.k_ConfigPage_Racing_Tag_Hub_Takeover:
            return "Racing Tag Hub Takeover";
          case a.k_ConfigPage_VR_Hub_Takeover:
            return "VR Content Hub Takeover";
          case a.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "Casual Tag Hub Takeover";
        }
      }
      function r(e) {
        switch (e) {
          case a.k_ConfigPage_Takeover:
            return "defcon1";
          case a.k_ConfigPage_Takeunder:
            return "takeunder";
          case a.k_ConfigPage_TakeoverSteamChina:
            return "defcon1_china";
          case a.k_ConfigPage_Spotlight:
            return null;
          case a.k_ConfigPage_EarlyAccess_Takeover:
          case a.k_ConfigPage_FreeToPlay_Takeover:
          case a.k_ConfigPage_GreatOnDeck_Takeover:
          case a.k_ConfigPage_Category_Action_Takeover:
          case a.k_ConfigPage_Category_Multiplayer_Takeover:
          case a.k_ConfigPage_Demo_Hub_Takeover:
          case a.k_ConfigPage_RPG_Tag_Hub_Takeover:
          case a.k_ConfigPage_Racing_Tag_Hub_Takeover:
          case a.k_ConfigPage_VR_Hub_Takeover:
          case a.k_ConfigPage_Casual_Tag_Hub_Takeover:
            return "content_hub";
        }
        return null;
      }
      function o(e) {
        return `/admin/store/pageclusteredit/${i(e)}/<grab this ID>`;
      }
      n.d(t, {
        D9: () => i,
        He: () => r,
        II: () => l,
        R6: () => a,
        bG: () => o,
      }),
        (function (e) {
          (e[(e.k_ConfigPage_Takeover = 1)] = "k_ConfigPage_Takeover"),
            (e[(e.k_ConfigPage_Takeunder = 2)] = "k_ConfigPage_Takeunder"),
            (e[(e.k_ConfigPage_TakeoverSteamChina = 3)] =
              "k_ConfigPage_TakeoverSteamChina"),
            (e[(e.k_ConfigPage_Spotlight = 4)] = "k_ConfigPage_Spotlight"),
            (e[(e.k_ConfigPage_EarlyAccess_Takeover = 5)] =
              "k_ConfigPage_EarlyAccess_Takeover"),
            (e[(e.k_ConfigPage_FreeToPlay_Takeover = 6)] =
              "k_ConfigPage_FreeToPlay_Takeover"),
            (e[(e.k_ConfigPage_GreatOnDeck_Takeover = 7)] =
              "k_ConfigPage_GreatOnDeck_Takeover"),
            (e[(e.k_ConfigPage_Category_Action_Takeover = 8)] =
              "k_ConfigPage_Category_Action_Takeover"),
            (e[(e.k_ConfigPage_Category_Multiplayer_Takeover = 9)] =
              "k_ConfigPage_Category_Multiplayer_Takeover"),
            (e[(e.k_ConfigPage_Demo_Hub_Takeover = 10)] =
              "k_ConfigPage_Demo_Hub_Takeover"),
            (e[(e.k_ConfigPage_RPG_Tag_Hub_Takeover = 11)] =
              "k_ConfigPage_RPG_Tag_Hub_Takeover"),
            (e[(e.k_ConfigPage_Racing_Tag_Hub_Takeover = 12)] =
              "k_ConfigPage_Racing_Tag_Hub_Takeover"),
            (e[(e.k_ConfigPage_VR_Hub_Takeover = 13)] =
              "k_ConfigPage_VR_Hub_Takeover"),
            (e[(e.k_ConfigPage_Casual_Tag_Hub_Takeover = 14)] =
              "k_ConfigPage_Casual_Tag_Hub_Takeover");
        })(a || (a = {}));
    },
    12439: (e, t, n) => {
      "use strict";
      n.d(t, { l: () => c });
      var a = n(85556),
        i = n(54842),
        l = n(86437),
        r = n(45492),
        o = n(20417),
        s = n(46984);
      class c {
        constructor(e) {
          (this.m_oDailyDeal = null),
            (this.m_originalDailyDeal = null),
            (this.m_bDirty = !1),
            (this.m_callback = new r.pB()),
            (this.m_storeItemKey = null),
            (0, i.rC)(this),
            this.Reset(e);
        }
        CalculateStoreItemKey() {
          switch (this.m_oDailyDeal.store_item_type) {
            case 1:
              return (0, l.Bl)(void 0, this.m_oDailyDeal.store_item_id);
            case 2:
              return (0, l.Bl)(void 0, void 0, this.m_oDailyDeal.store_item_id);
            default:
              return (0, l.Bl)(this.m_oDailyDeal.store_item_id);
          }
        }
        Reset(e) {
          (this.m_originalDailyDeal = JSON.parse(JSON.stringify(e))),
            (this.m_oDailyDeal = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            (this.m_storeItemKey = this.CalculateStoreItemKey()),
            (this.m_jsonTemplate = e.template_json
              ? JSON.parse(e.template_json)
              : {}),
            (this.m_jsonInternal = e.internal_json
              ? JSON.parse(e.internal_json)
              : {}),
            (this.m_nCreatorID = e.creator_id);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BIsCancelled() {
          return Boolean(this.m_oDailyDeal.cancelled);
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oDailyDeal;
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetCreatorID() {
          return this.m_nCreatorID;
        }
        BHasPromotionPlanAssetRequest() {
          return Boolean(this.m_jsonInternal.promotion_plan_asset_request);
        }
        GetPromotionPlanAssetRequestID() {
          return this.m_jsonInternal.promotion_plan_asset_request;
        }
        BHidePrices() {
          return (
            !!this.m_jsonTemplate.hasOwnProperty("hide_price") &&
            this.m_jsonTemplate.hide_price
          );
        }
        GetStartDateRTime() {
          return this.m_oDailyDeal.rtime32_start_time;
        }
        GetEndDateRTime() {
          return this.m_oDailyDeal.rtime32_start_time + s._H.PerDay;
        }
        BHasHubTarget(e) {
          var t;
          return (
            !(
              !this.m_jsonTemplate.hasOwnProperty("location") ||
              !this.m_jsonTemplate.location.hasOwnProperty("hubTargets")
            ) &&
            (null === (t = this.m_jsonTemplate.location.hubTargets) ||
            void 0 === t
              ? void 0
              : t.includes(e))
          );
        }
        GetHubTargets() {
          return this.m_jsonTemplate.hasOwnProperty("location") &&
            this.m_jsonTemplate.location.hasOwnProperty("hubTargets")
            ? this.m_jsonTemplate.location.hubTargets
            : [];
        }
        GetDealID() {
          return this.m_oDailyDeal.gid;
        }
        GetNotes() {
          var e;
          return null === (e = this.m_jsonInternal) || void 0 === e
            ? void 0
            : e.notes;
        }
        GetDiscountEventID() {
          var e;
          return null !==
            (e = this.m_oDailyDeal.discount_event_id.toString()) && void 0 !== e
            ? e
            : "";
        }
        BHasDiscountEventID() {
          return (
            !!this.m_oDailyDeal.discount_event_id &&
            this.m_oDailyDeal.discount_event_id > 0
          );
        }
        GetOverrideURL() {
          return this.m_jsonTemplate.hasOwnProperty("override_url")
            ? this.m_jsonTemplate.override_url
            : "";
        }
        BHasOverrideURL() {
          var e;
          return (
            (null === (e = this.m_jsonTemplate) || void 0 === e
              ? void 0
              : e.hasOwnProperty("override_url")) &&
            this.m_jsonTemplate.override_url.trim().length > 0
          );
        }
        GetInvitationAccountID() {
          var e;
          return null === (e = this.m_jsonInternal) || void 0 === e
            ? void 0
            : e.invite_account_id;
        }
        SetVisiblity(e) {
          (this.m_jsonTemplate.hasOwnProperty("hide_price") &&
            this.m_jsonTemplate.hide_price == e) ||
            ((this.m_jsonTemplate.hide_price = e ? 1 : 0),
            (this.m_oDailyDeal.template_json = JSON.stringify(
              this.m_jsonTemplate,
            )),
            this.Dispatch());
        }
        AddRemoveHubTarget(e, t) {
          const n = this.GetHubTargets();
          if (e && !(null == n ? void 0 : n.includes(t)))
            this.m_jsonTemplate.hasOwnProperty("location") ||
              (this.m_jsonTemplate.location = []),
              this.m_jsonTemplate.location.hasOwnProperty("hubTargets") ||
                (this.m_jsonTemplate.hubTargets = []),
              this.m_jsonTemplate.location.hubTargets.push(t),
              (this.m_oDailyDeal.template_json = JSON.stringify(
                this.m_jsonTemplate,
              )),
              this.Dispatch();
          else if (!e && (null == n ? void 0 : n.includes(t))) {
            const e = n.indexOf(t);
            e >= 0 &&
              (this.m_jsonTemplate.location.hubTargets.splice(e, 1),
              (this.m_oDailyDeal.template_json = JSON.stringify(
                this.m_jsonTemplate,
              )),
              this.Dispatch());
          }
        }
        RevertChanges() {
          (this.m_oDailyDeal = JSON.parse(
            JSON.stringify(this.m_originalDailyDeal),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        SetNotes(e) {
          var t;
          (null === (t = this.m_jsonInternal) || void 0 === t
            ? void 0
            : t.notes) != e &&
            ((this.m_jsonInternal.notes = e),
            (this.m_oDailyDeal.internal_json = JSON.stringify(
              this.m_jsonInternal,
            )),
            this.Dispatch());
        }
        SetPromotionPlanAssetRequestID(e) {
          var t;
          (null === (t = this.m_jsonInternal) || void 0 === t
            ? void 0
            : t.promotion_plan_asset_request) != e &&
            ((this.m_jsonInternal.promotion_plan_asset_request = e),
            (this.m_originalDailyDeal.internal_json = JSON.stringify(
              this.m_jsonInternal,
            )));
        }
        SetDiscountEventID(e) {
          this.m_oDailyDeal.discount_event_id.toString() != e &&
            ((this.m_oDailyDeal.discount_event_id = parseInt(e)),
            this.Dispatch());
        }
        SetOverrideURL(e) {
          (this.m_jsonTemplate.hasOwnProperty("override_url") &&
            this.m_jsonTemplate.override_url == e) ||
            ((this.m_jsonTemplate.override_url = e),
            (this.m_oDailyDeal.template_json = JSON.stringify(
              this.m_jsonTemplate,
            )),
            this.Dispatch());
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        BHasGenreTarget(e) {
          return !1;
        }
        BHasCategoryTarget(e) {
          return !1;
        }
        AddRemoveGenreTarget(e, t) {}
        AddRemoveCategoryTarget(e, t) {}
      }
      (0, a.gn)([i.LO], c.prototype, "m_bDirty", void 0),
        (0, a.gn)([o.ak], c.prototype, "SetVisiblity", null),
        (0, a.gn)([o.ak], c.prototype, "RevertChanges", null);
    },
    256: (e, t, n) => {
      "use strict";
      n.d(t, {
        $p: () => s,
        Hq: () => r,
        IN: () => d,
        JZ: () => a,
        KZ: () => c,
        Rt: () => o,
        W_: () => l,
        X3: () => i,
        j: () => m,
      });
      const a = [1, 2, 11, 12, 3, 4, 6, 7, 9, 5, 8, 10, 0],
        i = [
          "#msg_action_details",
          "#msg_preload_now",
          "#msg_preload_now_for_free",
          "#msg_prepurchase_now",
          "#msg_play_now",
          "#msg_play_it_now",
          "#msg_weekend_play_free",
          "#msg_action_buy",
          "#msg_action_info",
        ];
      function l(e) {
        switch (e) {
          case 1:
            return "Now Available";
          case 2:
            return "Weekend Deal";
          case 3:
            return "Pre-Purchase";
          case 4:
            return "Play Now";
          case 6:
            return "General";
          case 7:
            return "on Demo Quit";
          case 9:
            return "EJ's Korner";
          case 5:
            return "Pre-Load Now";
          case 8:
            return "Gifting Message";
          case 10:
            return "Major Update";
          case 11:
            return "Midweek Deal";
          case 12:
            return "Daily Deal";
          default:
            return "--------------------";
        }
      }
      const r = [1, 2, 3, 4, 5, 6, 8, 7, 9, 10];
      function o(e) {
        switch (e) {
          case 0:
            return "Invalid type";
          case 1:
            return "Owns apps";
          case 2:
            return "Does not own apps";
          case 3:
            return "Owns packages";
          case 4:
            return "Does not own packages";
          case 5:
            return "Wishlists apps";
          case 6:
            return "Follows apps";
          case 8:
            return "Launched apps";
          case 7:
            return "Played apps a lot";
          case 9:
            return "Recently played apps";
          case 10:
            return "Lapsed players for apps";
        }
        return "Unknown Type";
      }
      function s(e) {
        switch (e) {
          case 8:
            return "Just launched the app just once";
          case 7:
            return "Minimum of 4 hours of playtime";
          case 9:
            return "Played the app within the last year";
          case 10:
            return "Played the app within the last year but not in the last three months";
        }
      }
      function c(e) {
        switch (e) {
          case 3:
          case 4:
            return !0;
        }
        return !1;
      }
      var m;
      function d(e, t) {
        let n = !0;
        return (
          1 == e
            ? (n =
                null == t
                  ? void 0
                  : t.startsWith("https://store.steamchina.com/"))
            : 2 == e &&
              (n =
                null == t
                  ? void 0
                  : t.startsWith("https://store.steampowered.com/")),
          n
        );
      }
      !(function (e) {
        (e[(e.k_EMarketingMessageFlagsNone = 0)] =
          "k_EMarketingMessageFlagsNone"),
          (e[(e.k_EMarketingMessageFlagsHighPriority = 1)] =
            "k_EMarketingMessageFlagsHighPriority"),
          (e[(e.k_EMarketingMessageFlagsPlatformWindows = 2)] =
            "k_EMarketingMessageFlagsPlatformWindows"),
          (e[(e.k_EMarketingMessageFlagsPlatformMac = 4)] =
            "k_EMarketingMessageFlagsPlatformMac"),
          (e[(e.k_EMarketingMessageFlagsPlatformLinux = 8)] =
            "k_EMarketingMessageFlagsPlatformLinux"),
          (e[(e.k_EMarketingMessageFlagsPlatformRestrictions = 14)] =
            "k_EMarketingMessageFlagsPlatformRestrictions");
      })(m || (m = {}));
    },
    17160: (e, t, n) => {
      "use strict";
      n.d(t, { Kq: () => S, VM: () => v, bZ: () => D, kK: () => E });
      var a = n(85556),
        i = n(54842),
        l = n(38071),
        r = n(77936),
        o = n(53545),
        s = n(86437),
        c = n(62210),
        m = n(16997),
        d = n(45492),
        u = n(37563),
        p = n(256),
        _ = n(13913),
        h = n(35427);
      function g(e, t) {
        if (
          ((t.temp_id =
            ("clause" in t ? t.clause + "_" : "filter_") +
            ++D.sm_nTempIDCounter),
          "children" in t)
        )
          Array.isArray(t.children)
            ? t.children.forEach((t) => g(e, t))
            : (console.error(
                `marketing message ${e}:  clause error, clearing its setting so we can continue in the editor. `,
                (0, i.ZN)(t),
              ),
              (t.children = []));
        else {
          const e = t;
          (e.filter_type = parseInt("" + e.filter_type)),
            Array.isArray(e.id_list)
              ? (e.id_list = e.id_list.map((e) => parseInt("" + e)))
              : (e.id_list = []);
        }
      }
      function v(e, t) {
        if (!e || !t) return null;
        const n = JSON.parse(t) || {};
        return (
          n.valid_realms && (n.valid_realms = parseInt(n.valid_realms)),
          n.must_have_market_transactions &&
            (n.must_have_market_transactions =
              "true" === n.must_have_market_transactions),
          n.interactive_recommender_rank &&
            (n.interactive_recommender_rank = parseInt(
              n.interactive_recommender_rank,
            )),
          n.experiment_control_group &&
            (n.experiment_control_group = parseInt(n.experiment_control_group)),
          n.user_filters &&
            ((n.no_filters_required = !1), g(e, n.user_filters)),
          n
        );
      }
      function E(e, t) {
        switch (e) {
          case 1:
            return (0, s.Bl)(t);
          case 2:
            return (0, s.Bl)(null, t);
          case 5:
            return (0, s.Bl)(null, null, t);
        }
        return null;
      }
      function S(e) {
        var t, n;
        if (
          (null ===
            (n =
              null === (t = null == e ? void 0 : e.user_filters) || void 0 === t
                ? void 0
                : t.children) || void 0 === n
            ? void 0
            : n.length) > 0
        ) {
          let t = 0;
          return (
            e.user_filters.children
              .map((e) => e.children.length)
              .forEach((e) => (t += e)),
            t
          );
        }
        return 0;
      }
      class D {
        constructor(e) {
          (this.m_oMessage = null),
            (this.m_originalMessage = null),
            (this.m_oTemplateVars = null),
            (this.m_oAdditionalRestrictions = null),
            (this.m_bDirty = !1),
            (this.m_callback = new d.pB()),
            (this.m_storeItemKey = null),
            (this.m_storeItemID = null),
            (this.m_eSteamRealms = null),
            (this.k_DefaultFilterClause = { clause: "and", children: [] }),
            (0, i.rC)(this),
            this.Reset(e);
        }
        Reset(e) {
          switch (
            ((this.m_originalMessage = JSON.parse(JSON.stringify(e))),
            (this.m_oMessage = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            this.GetRealm())
          ) {
            case 0:
              this.m_eSteamRealms = [l.IN.k_ESteamRealmGlobal];
              break;
            case 1:
              this.m_eSteamRealms = [l.IN.k_ESteamRealmChina];
              break;
            case 2:
              this.m_eSteamRealms = [
                l.IN.k_ESteamRealmGlobal,
                l.IN.k_ESteamRealmChina,
              ];
          }
          (this.m_oTemplateVars = (0, o.r8)(e.template_vars_json) || {}),
            (this.m_oAdditionalRestrictions = v(
              e.gid,
              e.additional_restrictions_json,
            )),
            "featured_video" === this.m_oTemplateVars.custom_display &&
              (this.m_oTemplateVars.background ||
                (this.m_oTemplateVars.background = {})),
            this.SetupStoreItemKey();
        }
        RecursivelyCleanupTempIDForSerialized(e) {
          (e.temp_id = void 0),
            "children" in e &&
              e.children.forEach((e) =>
                this.RecursivelyCleanupTempIDForSerialized(e),
              );
        }
        PrepareMessageModelForUpdate() {
          const e = JSON.parse(JSON.stringify(this.m_oMessage)),
            t = JSON.parse(
              JSON.stringify(this.m_oAdditionalRestrictions || {}),
            );
          return (
            t.user_filters &&
              this.RecursivelyCleanupTempIDForSerialized(t.user_filters),
            (e.template_vars_json = JSON.stringify(this.m_oTemplateVars || {})),
            (e.additional_restrictions_json = JSON.stringify(t || {})),
            e
          );
        }
        SetupStoreItemKey() {
          (this.m_storeItemKey = E(
            this.m_oMessage.association_type,
            this.m_oMessage.associated_id,
          )),
            (this.m_storeItemID = (0, s.Xm)(this.m_storeItemKey));
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BHasAnimatedAssets() {
          return Boolean(this.m_oTemplateVars.has_animated_assets);
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oMessage;
        }
        GetTemplateVarsModel() {
          return this.m_oTemplateVars;
        }
        GetAdditionalRestrictionModel() {
          return this.m_oAdditionalRestrictions;
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetStoreItemID() {
          return this.m_storeItemID;
        }
        GetGID() {
          return this.m_oMessage.gid;
        }
        GetName() {
          return this.m_oMessage.title;
        }
        GetType() {
          return this.m_oMessage.type;
        }
        GetVisibilty() {
          return this.m_oMessage.visibility;
        }
        GetPriority() {
          return this.m_oMessage.priority;
        }
        GetCreatorName() {
          return this.m_oMessage.creator_name;
        }
        GetStartRTime() {
          return this.m_oMessage.start_date;
        }
        GetEndRTime() {
          return this.m_oMessage.end_date;
        }
        GetCountryAllow() {
          return this.m_oMessage.country_allow;
        }
        GetCountryAllowList() {
          return (this.m_oMessage.country_allow || "").split(",");
        }
        GetCountryDeny() {
          return this.m_oMessage.country_deny;
        }
        GetCountryDenyList() {
          return (this.m_oMessage.country_deny || "").split(",");
        }
        GetCustomTemplate() {
          return this.m_oTemplateVars.custom_display || void 0;
        }
        GetFeaturedVideoMP4Url() {
          return this.m_oTemplateVars.featured_video_mp4;
        }
        GetFeaturedVideoWebMUrl() {
          return this.m_oTemplateVars.featured_video_webm;
        }
        GetMustOwnAppID() {
          return this.m_oMessage.must_own_appid;
        }
        GetMustNotOwnAppID() {
          return this.m_oMessage.must_not_own_appid;
        }
        GetMustOwnPackageID() {
          return this.m_oMessage.must_own_packageid;
        }
        GetMustNotOwnPackageID() {
          return this.m_oMessage.must_not_own_packageid;
        }
        GetMustHaveLaunchedAppID() {
          return this.m_oMessage.must_have_launched_appid;
        }
        GetPreviewURL(e = "US", t = "english", n = !1, a = !1, i = []) {
          return `${u.De.PARTNER_BASE_URL}marketingmessages/messagepreview/${this.m_oMessage.gid}/?cc=${e}&l=${t}&bForceSteamChina=${n}&low_bandwidth=${a}&dlc_override=${i ? i.join(",") : ""}`;
        }
        GetSteamRealmsForLanguage() {
          return this.m_eSteamRealms || [l.IN.k_ESteamRealmGlobal];
        }
        GetUserMessageFilters() {
          var e;
          return (
            (null === (e = this.m_oAdditionalRestrictions) || void 0 === e
              ? void 0
              : e.user_filters) || this.k_DefaultFilterClause
          );
        }
        GetInternalAssetURL() {
          return this.m_oAdditionalRestrictions.internal_asset_url;
        }
        BHasPlatformWindows() {
          return Boolean(
            this.m_oMessage.flags & p.j.k_EMarketingMessageFlagsPlatformWindows,
          );
        }
        BHasPlatformMac() {
          return Boolean(
            this.m_oMessage.flags & p.j.k_EMarketingMessageFlagsPlatformMac,
          );
        }
        BHasPlatformLinux() {
          return Boolean(
            this.m_oMessage.flags & p.j.k_EMarketingMessageFlagsPlatformLinux,
          );
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_storeItemKey);
        }
        BHasAssociatedItem() {
          return Boolean(this.m_storeItemID);
        }
        BHasAssociatedItemReleaseState() {
          return Boolean(
            null !=
              this.m_oAdditionalRestrictions.associated_item_release_state &&
              null !=
                this.m_oAdditionalRestrictions.associated_item_release_state &&
              this.m_oAdditionalRestrictions.associated_item_release_state !=
                _.j6.k_StoreInvalidState &&
              this.m_oAdditionalRestrictions.associated_item_release_state !=
                _.j6.k_StoreUnavailable,
          );
        }
        GetAssociatedItemReleaseState() {
          return (
            this.m_oAdditionalRestrictions.associated_item_release_state ||
            _.j6.k_StoreInvalidState
          );
        }
        BIsCountryShow() {
          return (
            !this.m_oMessage.country_deny ||
            0 == this.m_oMessage.country_deny.trim().length
          );
        }
        BOwnershipRestrictionOverride() {
          return this.m_oMessage.ownership_restrictions_overridden;
        }
        BHasLegacyRestrictions() {
          return Boolean(
            this.m_oMessage.ownership_restrictions_overridden ||
              this.m_oMessage.must_own_appid ||
              this.m_oMessage.must_not_own_appid ||
              this.m_oMessage.must_own_packageid ||
              this.m_oMessage.must_not_own_packageid ||
              this.m_oMessage.must_have_launched_appid,
          );
        }
        BExplicitNoAssociationItem() {
          return this.m_oAdditionalRestrictions.explicit_no_associated_item;
        }
        BExplicitNoLegalPartnerNeeded() {
          return this.m_oAdditionalRestrictions.explicit_no_partner_name_needed;
        }
        GetLinkURL() {
          return this.m_oTemplateVars.linkurl || "";
        }
        GetButtonToken() {
          return this.m_oTemplateVars.button_text;
        }
        GetLegalTextPartnerName() {
          return this.m_oTemplateVars.partner;
        }
        BHasLegalLinePartner() {
          var e;
          return Boolean(
            null === (e = this.m_oTemplateVars.partner) || void 0 === e
              ? void 0
              : e.trim().length,
          );
        }
        BHidePriceOnMessage() {
          return this.m_oTemplateVars.hide_price;
        }
        GetAssetsObject(e) {
          return this.m_oTemplateVars[e];
        }
        GetAssetsModifyTime() {
          return this.m_oTemplateVars.last_asset_mtime;
        }
        BIsNoFilterRequired() {
          return this.m_oAdditionalRestrictions.no_filters_required;
        }
        GetWatchList() {
          return this.m_oAdditionalRestrictions.watchlist || [];
        }
        BIsAccountInWatchList(e) {
          var t, n;
          return null ===
            (n =
              null === (t = this.m_oAdditionalRestrictions) || void 0 === t
                ? void 0
                : t.watchlist) || void 0 === n
            ? void 0
            : n.includes(e);
        }
        BHasDynamicFilterForApp(e, t) {
          if (
            !this.m_oAdditionalRestrictions.user_filters ||
            0 == this.m_oAdditionalRestrictions.user_filters.children.length
          )
            return !1;
          let n = this.m_oAdditionalRestrictions.user_filters.children;
          for (let a = 0; a < n.length; ++a) {
            const i = n[a];
            if (this.BRecursiveHasDynamicFilterForApp(i, e, t)) return !0;
          }
          return !1;
        }
        BRecursiveHasDynamicFilterForApp(e, t, n) {
          if ("children" in e) {
            for (let a = 0; a < e.children.length; ++a) {
              const i = e.children[a];
              if (this.BRecursiveHasDynamicFilterForApp(i, t, n)) return !0;
            }
            return !1;
          }
          return (
            "filter_type" in e && e.filter_type == t && e.id_list.includes(n)
          );
        }
        GetRealm() {
          var e;
          return (
            (null === (e = this.m_oAdditionalRestrictions) || void 0 === e
              ? void 0
              : e.valid_realms) || 0
          );
        }
        GetAdminNotes() {
          return this.m_oAdditionalRestrictions.admin_notes || "";
        }
        GetMustUseClientLanguage() {
          return this.m_oAdditionalRestrictions.must_use_client_language || "";
        }
        GetMustHaveClientPackageGTE() {
          var e;
          return null === (e = this.m_oAdditionalRestrictions) || void 0 === e
            ? void 0
            : e.must_have_client_package_gte;
        }
        GetMustHaveClientPackageLTE() {
          var e;
          return null === (e = this.m_oAdditionalRestrictions) || void 0 === e
            ? void 0
            : e.must_have_client_package_lte;
        }
        GetUserMessageFilterCount() {
          return S(this.m_oAdditionalRestrictions);
        }
        GetCustomLegalText() {
          return this.m_oTemplateVars.custom_legal_text || "";
        }
        BUseCustomLegalText() {
          return this.m_oTemplateVars.use_custom_legal_text;
        }
        GetSaleClanEventGID() {
          return this.m_oAdditionalRestrictions.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_oAdditionalRestrictions.sale_clan_account;
        }
        BHasAssociatedSaleEvent() {
          return this.m_oAdditionalRestrictions.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = h.K.InitFromClanID(
              this.m_oAdditionalRestrictions.sale_clan_account,
            );
            return (
              u.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_oAdditionalRestrictions.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BRequiresSalePage() {
          return this.m_oAdditionalRestrictions.requires_sale_page;
        }
        BHasPlanAssetRequestGID() {
          return Boolean(this.m_oAdditionalRestrictions.plan_asset_request_gid);
        }
        GetPlanAssetRequestGID() {
          return this.m_oAdditionalRestrictions.plan_asset_request_gid;
        }
        SaveSuccessClearDirty() {
          (this.m_originalMessage = JSON.parse(
            JSON.stringify(this.m_oMessage),
          )),
            (this.m_bDirty = !1);
        }
        ClearAllLegacyRestrictions() {
          (this.m_oMessage.must_own_appid = 0),
            (this.m_oMessage.must_not_own_appid = 0),
            (this.m_oMessage.must_own_packageid = 0),
            (this.m_oMessage.must_not_own_packageid = 0),
            (this.m_oMessage.must_have_launched_appid = 0),
            (this.m_oMessage.ownership_restrictions_overridden = !1),
            this.Dispatch();
        }
        SetExplicitNoLegalPartnerNeeded(e) {
          this.m_oAdditionalRestrictions.explicit_no_partner_name_needed !==
            e &&
            (e && (this.m_oTemplateVars.partner = void 0),
            (this.m_oAdditionalRestrictions.explicit_no_partner_name_needed =
              e),
            this.Dispatch());
        }
        SetAdminNote(e) {
          this.m_oAdditionalRestrictions.admin_notes != e &&
            ((this.m_oAdditionalRestrictions.admin_notes = e), this.Dispatch());
        }
        SetName(e) {
          this.m_oMessage.title !== e &&
            ((this.m_oMessage.title = e), this.Dispatch());
        }
        SetType(e) {
          this.m_oMessage.type !== e &&
            ((this.m_oMessage.type = e), this.Dispatch());
        }
        SetVisibility(e) {
          this.m_oMessage.visibility !== e &&
            ((this.m_oMessage.visibility = e), this.Dispatch());
        }
        SetAssociation(e, t) {
          if (
            this.m_oMessage.association_type != e ||
            this.m_oMessage.associated_id != t
          )
            switch (e) {
              case 1:
              case 5:
              case 2:
              case 0:
                (this.m_oMessage.association_type = e),
                  (this.m_oMessage.associated_id = t),
                  (this.m_oMessage.associated_name = ""),
                  this.SetupStoreItemKey(),
                  this.Dispatch();
                break;
              case 4:
              case 3:
                this.m_oMessage.associated_name = "" + t;
              default:
                throw new Error(
                  "Unexpected Marketing Message Association Type: " + e,
                );
            }
        }
        ClearAssociation() {
          (this.m_storeItemID = null),
            (this.m_storeItemKey = null),
            (this.m_oMessage.association_type = void 0),
            (this.m_oMessage.associated_id = void 0),
            (this.m_oMessage.associated_name = ""),
            this.Dispatch();
        }
        SetMessageTime(e, t) {
          (this.m_oMessage.start_date === e &&
            this.m_oMessage.end_date === t) ||
            ((this.m_oMessage.start_date = e),
            (this.m_oMessage.end_date = t),
            this.Dispatch());
        }
        SetMessageStartTime(e) {
          this.m_oMessage.start_date !== e &&
            ((this.m_oMessage.start_date = e), this.Dispatch());
        }
        SetMessageEndTime(e) {
          this.m_oMessage.end_date !== e &&
            ((this.m_oMessage.end_date = e), this.Dispatch());
        }
        SetCountryAllow(e) {
          this.m_oMessage.country_allow !== e &&
            ((this.m_oMessage.country_allow = e), this.Dispatch());
        }
        SetCountryDeny(e) {
          this.m_oMessage.country_deny !== e &&
            ((this.m_oMessage.country_deny = e), this.Dispatch());
        }
        ClearCountryRestrictions() {
          (this.m_oMessage.country_allow = void 0),
            (this.m_oMessage.country_deny = void 0),
            this.Dispatch();
        }
        SetAndConvertURL(e, t) {
          this.m_oTemplateVars.linkurl &&
            ((this.m_oTemplateVars.linkurl =
              this.m_oTemplateVars.linkurl.replace(e, t)),
            this.Dispatch());
        }
        SetMustOwnAppID(e) {
          this.m_oMessage.must_own_appid !== e &&
            ((this.m_oMessage.must_own_appid = e), this.Dispatch());
        }
        SetMustNotOwnAppID(e) {
          this.m_oMessage.must_not_own_appid !== e &&
            ((this.m_oMessage.must_not_own_appid = e), this.Dispatch());
        }
        SetMustOwnPackageID(e) {
          this.m_oMessage.must_own_packageid !== e &&
            ((this.m_oMessage.must_own_packageid = e), this.Dispatch());
        }
        SetMustNotOwnPackageID(e) {
          this.m_oMessage.must_not_own_packageid !== e &&
            ((this.m_oMessage.must_not_own_packageid = e), this.Dispatch());
        }
        SetMustHaveLaunchedAppID(e) {
          this.m_oMessage.must_have_launched_appid !== e &&
            ((this.m_oMessage.must_have_launched_appid = e), this.Dispatch());
        }
        SetLinkURL(e) {
          this.m_oTemplateVars.linkurl !== e &&
            ((this.m_oTemplateVars.linkurl = e), this.Dispatch());
        }
        SetRealm(e) {
          if (this.m_oAdditionalRestrictions.valid_realms !== e) {
            switch (
              ((this.m_oAdditionalRestrictions.valid_realms = e),
              this.m_oAdditionalRestrictions.valid_realms)
            ) {
              default:
              case 0:
                this.m_eSteamRealms = [l.IN.k_ESteamRealmGlobal];
                break;
              case 1:
                this.m_eSteamRealms = [l.IN.k_ESteamRealmChina];
                break;
              case 2:
                this.m_eSteamRealms = [
                  l.IN.k_ESteamRealmGlobal,
                  l.IN.k_ESteamRealmChina,
                ];
            }
            this.Dispatch();
          }
        }
        SetMustUseClientLanguage(e) {
          this.m_oAdditionalRestrictions.must_use_client_language != e &&
            ((this.m_oAdditionalRestrictions.must_use_client_language = e),
            this.Dispatch());
        }
        SetMustHaveClientPackageGTE(e) {
          this.m_oAdditionalRestrictions.must_have_client_package_gte != e &&
            ((this.m_oAdditionalRestrictions.must_have_client_package_gte = e),
            this.Dispatch());
        }
        SetMustHaveClientPackageLTE(e) {
          this.m_oAdditionalRestrictions.must_have_client_package_lte != e &&
            ((this.m_oAdditionalRestrictions.must_have_client_package_lte = e),
            this.Dispatch());
        }
        SetPlatformWindows(e) {
          this.SetFlag(p.j.k_EMarketingMessageFlagsPlatformWindows, e);
        }
        SetPlatformMac(e) {
          this.SetFlag(p.j.k_EMarketingMessageFlagsPlatformMac, e);
        }
        SetPlatformLinux(e) {
          this.SetFlag(p.j.k_EMarketingMessageFlagsPlatformLinux, e);
        }
        SetFlag(e, t) {
          t && !Boolean(this.m_oMessage.flags & e)
            ? ((this.m_oMessage.flags |= e), this.Dispatch())
            : !t &&
              Boolean(this.m_oMessage.flags & e) &&
              ((this.m_oMessage.flags &= ~e), this.Dispatch());
        }
        SetNoFiltersRequired(e) {
          this.m_oAdditionalRestrictions.no_filters_required != e &&
            ((this.m_oAdditionalRestrictions.no_filters_required = e),
            this.Dispatch());
        }
        AddToWatchList(e) {
          this.m_oAdditionalRestrictions.watchlist ||
            (this.m_oAdditionalRestrictions.watchlist = []),
            this.m_oAdditionalRestrictions.watchlist.includes(e) ||
              (this.m_oAdditionalRestrictions.watchlist.push(e),
              this.Dispatch());
        }
        ClearWatchList(e) {
          (this.m_oAdditionalRestrictions.watchlist = void 0), this.Dispatch();
        }
        RemoveFromWatchList(e) {
          if (
            this.m_oAdditionalRestrictions.watchlist &&
            this.m_oAdditionalRestrictions.watchlist.includes(e)
          ) {
            const t = this.m_oAdditionalRestrictions.watchlist.findIndex(
              (t) => t === e,
            );
            t >= 0 &&
              (this.m_oAdditionalRestrictions.watchlist.splice(t, 1),
              this.Dispatch());
          }
        }
        ClearUserDynamicFilter() {
          (this.m_oAdditionalRestrictions.user_filters = void 0),
            (this.m_oAdditionalRestrictions.no_filters_required = !1),
            this.Dispatch();
        }
        ReplaceUserFilter(e) {
          (this.m_oAdditionalRestrictions.no_filters_required = !1),
            (this.m_oAdditionalRestrictions.user_filters = e),
            g(this.GetGID(), this.m_oAdditionalRestrictions.user_filters),
            this.Dispatch();
        }
        AddNewAndUserFilter(e = { filter_type: 1, id_list: [] }) {
          this.m_oAdditionalRestrictions ||
            (this.m_oAdditionalRestrictions = {}),
            this.m_oAdditionalRestrictions.user_filters ||
              (this.m_oAdditionalRestrictions.user_filters = {
                clause: "and",
                children: [],
                temp_id: "and_" + ++D.sm_nTempIDCounter,
              }),
            (e.temp_id = "filter_" + ++D.sm_nTempIDCounter);
          const t = {
            clause: "or",
            children: [e],
            temp_id: "or_" + ++D.sm_nTempIDCounter,
          };
          this.m_oAdditionalRestrictions.user_filters.children.push(t),
            this.Dispatch();
        }
        RemoveAndUserFilter(e) {
          this.m_oAdditionalRestrictions.user_filters.children.splice(e, 1),
            0 == this.m_oAdditionalRestrictions.user_filters.children.length &&
              (this.m_oAdditionalRestrictions.user_filters = void 0),
            this.Dispatch();
        }
        BHasSomeIDForAndUserFilter(e) {
          var t, n, a, i;
          return (
            (null ===
              (i =
                null ===
                  (a =
                    null ===
                      (n = (
                        null ===
                          (t =
                            this.m_oAdditionalRestrictions.user_filters
                              .children) || void 0 === t
                          ? void 0
                          : t[e]
                      ).children) || void 0 === n
                      ? void 0
                      : n[0]) || void 0 === a
                  ? void 0
                  : a.id_list) || void 0 === i
              ? void 0
              : i.length) > 0
          );
        }
        AddNewOrUserFilter(e, t = { filter_type: 1, id_list: [] }) {
          const n = this.m_oAdditionalRestrictions.user_filters;
          (0, c.X)("children" in n.children[e], "or clauses broken"),
            "children" in n.children[e] &&
              ((t.temp_id = "filter_" + ++D.sm_nTempIDCounter),
              n.children[e].children.push(t),
              this.Dispatch());
        }
        RemoveOrUserFilterAt(e, t) {
          this.m_oAdditionalRestrictions.user_filters.children[
            e
          ].children.splice(t, 1),
            0 ==
            this.m_oAdditionalRestrictions.user_filters.children[e].children
              .length
              ? this.RemoveAndUserFilter(e)
              : this.Dispatch();
        }
        UpdateUserFilter(e, t, n) {
          const a = this.m_oAdditionalRestrictions.user_filters;
          (0, c.X)("children" in a.children[t], "or clauses broken"),
            "children" in a.children[t] &&
              JSON.stringify(a.children[t].children[n]) != JSON.stringify(e) &&
              ((e.temp_id = "filter_" + ++D.sm_nTempIDCounter),
              (a.children[t].children[n] = e),
              this.Dispatch());
        }
        SetButtonToken(e) {
          this.m_oTemplateVars.button_text != e &&
            ((this.m_oTemplateVars.button_text = e), this.Dispatch());
        }
        SetLegalTextPartnerName(e) {
          this.m_oTemplateVars.partner != e &&
            ((this.m_oTemplateVars.partner = e), this.Dispatch());
        }
        SetHidePriceOnMessage(e) {
          this.m_oTemplateVars.hide_price != e &&
            ((this.m_oTemplateVars.hide_price = e), this.Dispatch());
        }
        SetTemplateAssetImagePath(e, t, n) {
          var a, i;
          const l = (0, r.j_)(n);
          (null ===
            (i =
              null === (a = this.m_oTemplateVars[t]) || void 0 === a
                ? void 0
                : a[l]) || void 0 === i
            ? void 0
            : i.path) !== e &&
            ((this.m_oTemplateVars[t][l] = { type: "file", path: e }),
            (this.m_oTemplateVars.last_asset_mtime = Math.floor(
              Date.now() / 1e3,
            )),
            this.Dispatch());
        }
        ClearAllAssetObjects(e) {
          (this.m_oTemplateVars[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          var n;
          const a = (0, r.j_)(t);
          (null === (n = this.m_oTemplateVars[e]) || void 0 === n
            ? void 0
            : n[a]) && (delete this.m_oTemplateVars[e][a], this.Dispatch());
        }
        ClearUserFilters() {
          (this.m_oAdditionalRestrictions.user_filters = void 0),
            this.Dispatch();
        }
        SetInternalAssetURL(e) {
          this.m_oAdditionalRestrictions.internal_asset_url !== e &&
            ((this.m_oAdditionalRestrictions.internal_asset_url = e),
            this.Dispatch());
        }
        SetCustomLegalText(e) {
          this.m_oTemplateVars.custom_legal_text != e &&
            ((this.m_oTemplateVars.custom_legal_text = e), this.Dispatch());
        }
        SetUseCustomLegalText(e) {
          this.m_oTemplateVars.use_custom_legal_text !== e &&
            ((this.m_oTemplateVars.use_custom_legal_text = e),
            e &&
              !this.m_oTemplateVars.custom_legal_text &&
              (this.m_oTemplateVars.custom_legal_text =
                `&copy; ${new Date().getFullYear()} Valve Corporation and ` +
                (this.m_oTemplateVars.partner
                  ? this.m_oTemplateVars.partner
                  : "_______") +
                ".<br />All Trademarks are property of their respective owners in the US and other countries."),
            this.Dispatch());
        }
        SetAnimatedAssetsEnabled(e) {
          this.m_oTemplateVars.has_animated_assets != e &&
            ((this.m_oTemplateVars.has_animated_assets = e),
            e &&
              (this.m_oTemplateVars.mp4 ||
                ((this.m_oTemplateVars.mp4 = {}),
                (this.m_oTemplateVars.webm = {}),
                (this.m_oTemplateVars.poster = void 0),
                (this.m_oTemplateVars.subtitles = void 0),
                (this.m_oTemplateVars.background = void 0))),
            this.Dispatch());
        }
        ClearCustomTemplate() {
          void 0 !== this.m_oTemplateVars.custom_display &&
            ((this.m_oTemplateVars.custom_display = void 0), this.Dispatch());
        }
        SetCustomTemplate(e) {
          if (this.m_oTemplateVars.custom_display !== e) {
            if (
              ((this.m_oTemplateVars.custom_display = e),
              "featured_video" === e)
            )
              (this.m_oTemplateVars.poster = {}),
                (this.m_oTemplateVars.subtitles = {}),
                (this.m_oTemplateVars.background = {}),
                (this.m_oTemplateVars.mp4 = void 0),
                (this.m_oTemplateVars.webm = void 0);
            this.Dispatch();
          }
        }
        SetFeaturedVideoMP4Url(e) {
          this.m_oTemplateVars.featured_video_mp4 != e &&
            ((this.m_oTemplateVars.featured_video_mp4 = e), this.Dispatch());
        }
        SetFeaturedVideoWebMUrl(e) {
          this.m_oTemplateVars.featured_video_webm != e &&
            ((this.m_oTemplateVars.featured_video_webm = e), this.Dispatch());
        }
        SetExplicitNoAssociatedItem(e) {
          this.m_oAdditionalRestrictions.explicit_no_associated_item != e &&
            ((this.m_oAdditionalRestrictions.explicit_no_associated_item = e),
            this.Dispatch());
        }
        SetAssociatedItemReleaseState(e) {
          this.m_oAdditionalRestrictions.associated_item_release_state != e &&
            (e == _.j6.k_StoreInvalidState || e == _.j6.k_StoreUnavailable
              ? (this.m_oAdditionalRestrictions.associated_item_release_state =
                  void 0)
              : (this.m_oAdditionalRestrictions.associated_item_release_state =
                  e),
            this.Dispatch());
        }
        SetSaleEvent(e, t) {
          (this.m_oAdditionalRestrictions.sale_clan_event_gid === e &&
            this.m_oAdditionalRestrictions.sale_clan_account == t) ||
            ((this.m_oAdditionalRestrictions.sale_clan_event_gid = e),
            (this.m_oAdditionalRestrictions.sale_clan_account = t),
            this.Dispatch());
        }
        ClearSalePage() {
          this.m_oAdditionalRestrictions.sale_clan_event_gid &&
            ((this.m_oAdditionalRestrictions.sale_clan_account = void 0),
            (this.m_oAdditionalRestrictions.sale_clan_event_gid = void 0),
            this.Dispatch());
        }
        SetRequiresSalePage(e) {
          this.m_oAdditionalRestrictions.requires_sale_page != e &&
            ((this.m_oAdditionalRestrictions.requires_sale_page = e),
            this.Dispatch());
        }
        SetPlanAssetRequestGID(e) {
          this.m_oAdditionalRestrictions.plan_asset_request_gid != e &&
            ((this.m_oAdditionalRestrictions.plan_asset_request_gid = e),
            this.Dispatch());
        }
        RevertChanges() {
          this.Reset(JSON.parse(JSON.stringify(this.m_originalMessage))),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (D.sm_nTempIDCounter = 1),
        (0, a.gn)([i.LO], D.prototype, "m_bDirty", void 0),
        (0, a.gn)([m.a], D.prototype, "ClearAllLegacyRestrictions", null),
        (0, a.gn)([m.a], D.prototype, "SetExplicitNoLegalPartnerNeeded", null),
        (0, a.gn)([m.a], D.prototype, "SetAdminNote", null),
        (0, a.gn)([m.a], D.prototype, "SetName", null),
        (0, a.gn)([m.a], D.prototype, "SetType", null),
        (0, a.gn)([m.a], D.prototype, "SetVisibility", null),
        (0, a.gn)([m.a], D.prototype, "SetAssociation", null),
        (0, a.gn)([m.a], D.prototype, "ClearAssociation", null),
        (0, a.gn)([m.a], D.prototype, "SetMessageTime", null),
        (0, a.gn)([m.a], D.prototype, "SetMessageStartTime", null),
        (0, a.gn)([m.a], D.prototype, "SetMessageEndTime", null),
        (0, a.gn)([m.a], D.prototype, "SetCountryAllow", null),
        (0, a.gn)([m.a], D.prototype, "SetCountryDeny", null),
        (0, a.gn)([m.a], D.prototype, "ClearCountryRestrictions", null),
        (0, a.gn)([m.a], D.prototype, "SetAndConvertURL", null),
        (0, a.gn)([m.a], D.prototype, "SetMustOwnAppID", null),
        (0, a.gn)([m.a], D.prototype, "SetMustNotOwnAppID", null),
        (0, a.gn)([m.a], D.prototype, "SetMustOwnPackageID", null),
        (0, a.gn)([m.a], D.prototype, "SetMustNotOwnPackageID", null),
        (0, a.gn)([m.a], D.prototype, "SetMustHaveLaunchedAppID", null),
        (0, a.gn)([m.a], D.prototype, "SetLinkURL", null),
        (0, a.gn)([m.a], D.prototype, "SetRealm", null),
        (0, a.gn)([m.a], D.prototype, "SetMustUseClientLanguage", null),
        (0, a.gn)([m.a], D.prototype, "SetMustHaveClientPackageGTE", null),
        (0, a.gn)([m.a], D.prototype, "SetMustHaveClientPackageLTE", null),
        (0, a.gn)([m.a], D.prototype, "SetPlatformWindows", null),
        (0, a.gn)([m.a], D.prototype, "SetPlatformMac", null),
        (0, a.gn)([m.a], D.prototype, "SetPlatformLinux", null),
        (0, a.gn)([m.a], D.prototype, "SetNoFiltersRequired", null),
        (0, a.gn)([m.a], D.prototype, "AddToWatchList", null),
        (0, a.gn)([m.a], D.prototype, "ClearWatchList", null),
        (0, a.gn)([m.a], D.prototype, "RemoveFromWatchList", null),
        (0, a.gn)([m.a], D.prototype, "ClearUserDynamicFilter", null),
        (0, a.gn)([m.a], D.prototype, "ReplaceUserFilter", null),
        (0, a.gn)([m.a], D.prototype, "AddNewAndUserFilter", null),
        (0, a.gn)([m.a], D.prototype, "RemoveAndUserFilter", null),
        (0, a.gn)([m.a], D.prototype, "AddNewOrUserFilter", null),
        (0, a.gn)([m.a], D.prototype, "RemoveOrUserFilterAt", null),
        (0, a.gn)([m.a], D.prototype, "UpdateUserFilter", null),
        (0, a.gn)([m.a], D.prototype, "SetButtonToken", null),
        (0, a.gn)([m.a], D.prototype, "SetLegalTextPartnerName", null),
        (0, a.gn)([m.a], D.prototype, "SetHidePriceOnMessage", null),
        (0, a.gn)([m.a], D.prototype, "SetTemplateAssetImagePath", null),
        (0, a.gn)([m.a], D.prototype, "ClearAllAssetObjects", null),
        (0, a.gn)([m.a], D.prototype, "DeleteAssetObjectLang", null),
        (0, a.gn)([m.a], D.prototype, "ClearUserFilters", null),
        (0, a.gn)([m.a], D.prototype, "SetInternalAssetURL", null),
        (0, a.gn)([m.a], D.prototype, "SetCustomLegalText", null),
        (0, a.gn)([m.a], D.prototype, "SetUseCustomLegalText", null),
        (0, a.gn)([m.a], D.prototype, "SetAnimatedAssetsEnabled", null),
        (0, a.gn)([m.a], D.prototype, "SetAssociatedItemReleaseState", null),
        (0, a.gn)([m.a], D.prototype, "SetSaleEvent", null),
        (0, a.gn)([m.a], D.prototype, "ClearSalePage", null),
        (0, a.gn)([m.a], D.prototype, "SetRequiresSalePage", null),
        (0, a.gn)([m.a], D.prototype, "SetPlanAssetRequestGID", null),
        (0, a.gn)([m.a], D.prototype, "RevertChanges", null),
        (0, a.gn)([i.aD.bound], D.prototype, "Dispatch", null);
    },
    4771: (e, t, n) => {
      "use strict";
      n.d(t, {
        B7: () => o,
        JA: () => m,
        MH: () => d,
        Sc: () => a,
        Vs: () => l,
        Xj: () => s,
        pM: () => c,
      });
      var a,
        i,
        l,
        r = n(77936);
      function o(e, t) {
        var n, a, i, l, r;
        if (e) {
          const o =
            e.collect_trailer_permissions ||
            e.collect_demo_permissions ||
            e.collect_game_profile_intent;
          return Boolean(
            (null === (n = e.categories) || void 0 === n
              ? void 0
              : n.enabled) ||
              (null === (a = e.artist_statement) || void 0 === a
                ? void 0
                : a.enabled) ||
              (null === (i = e.primary_country) || void 0 === i
                ? void 0
                : i.enabled) ||
              (null === (l = e.press_contact) || void 0 === l
                ? void 0
                : l.enabled) ||
              (null === (r = e.dynamic_sections) || void 0 === r
                ? void 0
                : r.length) > 0 ||
              (e.additional_featuring_section_enabled &&
                o &&
                (!t || t.additional_featuring)),
          );
        }
        return !1;
      }
      function s(e, t, n = "") {
        if (e) {
          const a = (0, r.j_)(t);
          return e[a] ? e[a] : e.english ? e.english : n;
        }
        return n;
      }
      function c(e, t, n = "") {
        if (e) {
          const a = (0, r.j_)(t);
          return e[a] ? e[a] : n;
        }
        return n;
      }
      function m(e, t) {
        var n;
        const a = (0, r.j_)(t);
        return (
          (null === (n = null == e ? void 0 : e[a]) || void 0 === n
            ? void 0
            : n.length) > 0
        );
      }
      function d(e) {
        var t;
        null === (t = e.dynamic_sections) ||
          void 0 === t ||
          t.forEach((e) => {
            var t;
            null === (t = e.lists) ||
              void 0 === t ||
              t.forEach((e) => {
                var t;
                null === (t = e.options) ||
                  void 0 === t ||
                  t.forEach((e, t) => {
                    u(e.text), u(e.tooltip);
                  });
              });
          });
      }
      function u(e) {
        if (e)
          for (let t = 0; t < 31; ++t) {
            const n = (0, r.j_)(t);
            null == e[n] ||
              null == e[n] ||
              Number.isNaN(e[n]) ||
              (e[n] = "" + e[n]);
          }
      }
      !(function (e) {
        (e[(e[""] = 0)] = ""),
          (e[(e["Steam Game Festival"] = 1)] = "Steam Game Festival"),
          (e[(e["Tabletop Festival"] = 2)] = "Tabletop Festival");
      })(a || (a = {})),
        (function (e) {
          (e[(e.k_Optional = 0)] = "k_Optional"),
            (e[(e.k_Suggested = 1)] = "k_Suggested"),
            (e[(e.k_Required = 2)] = "k_Required");
        })(i || (i = {})),
        (function (e) {
          (e[(e.k_EOptInType_EventRegistration = 0)] =
            "k_EOptInType_EventRegistration"),
            (e[(e.k_EOptInType_RecommendedAction = 1)] =
              "k_EOptInType_RecommendedAction");
        })(l || (l = {}));
    },
    20128: (e, t, n) => {
      "use strict";
      n.d(t, {
        I_: () => f,
        S4: () => D,
        UT: () => E,
        Ys: () => p,
        Zu: () => _,
        mj: () => g,
        n: () => S,
        rN: () => h,
        rg: () => v,
        up: () => d,
      });
      var a = n(85556),
        i = n(4771),
        l = n(86236),
        r = n(54842),
        o = n(77936),
        s = n(65650),
        c = n(62210),
        m = n(20417);
      const d = "email_",
        u = "email_section_";
      var p;
      !(function (e) {
        (e[(e.k_RegistrationConfirmation = 0)] = "k_RegistrationConfirmation"),
          (e[(e.k_Reminder = 1)] = "k_Reminder"),
          (e[(e.k_Invite = 2)] = "k_Invite"),
          (e[(e.k_Followup = 3)] = "k_Followup"),
          (e[(e.k_Starting = 4)] = "k_Starting"),
          (e[(e.k_InviteReminder = 5)] = "k_InviteReminder"),
          (e[(e.k_Update = 6)] = "k_Update"),
          (e[(e.k_PermissionRequest = 7)] = "k_PermissionRequest"),
          (e[(e.k_MediaUsageNotification = 8)] = "k_MediaUsageNotification"),
          (e[(e.k_GeneralCommunication = 9)] = "k_GeneralCommunication"),
          (e[(e.k_SteamAwardFinalists = 10)] = "k_SteamAwardFinalists");
      })(p || (p = {}));
      const _ = [
        p.k_Invite,
        p.k_InviteReminder,
        p.k_RegistrationConfirmation,
        p.k_Update,
        p.k_Reminder,
        p.k_Starting,
        p.k_Followup,
        p.k_PermissionRequest,
        p.k_MediaUsageNotification,
        p.k_GeneralCommunication,
        p.k_SteamAwardFinalists,
      ];
      function h(e) {
        switch (e) {
          case p.k_Invite:
            return "Invitation Email";
          case p.k_InviteReminder:
            return "Invitation Reminder Email";
          case p.k_RegistrationConfirmation:
            return "Registration Success Email";
          case p.k_Update:
            return "General Update";
          case p.k_Reminder:
            return "Reminder Email - Just Days Until It Starts";
          case p.k_Starting:
            return "Event Starts Today Email";
          case p.k_Followup:
            return "Follow-up Email";
          case p.k_PermissionRequest:
            return "Media Permission Request";
          case p.k_MediaUsageNotification:
            return "Media Usage Notification";
          case p.k_GeneralCommunication:
            return "Game Specific General Communication";
          case p.k_SteamAwardFinalists:
            return "Steam Awards Finalists Notification";
        }
        return "unknown";
      }
      function g(e) {
        switch (e) {
          case p.k_Invite:
          case p.k_InviteReminder:
            return "Here's what you need to know and how to get registered:";
          case p.k_RegistrationConfirmation:
          case p.k_Update:
            return "Below are some general things to keep in mind and make use of while you prepare for your participation.";
          case p.k_Reminder:
            return "We're here to help connect you with everything you need to have a successful event.";
          case p.k_Starting:
          case p.k_Followup:
          case p.k_PermissionRequest:
          case p.k_MediaUsageNotification:
          case p.k_GeneralCommunication:
            return null;
          case p.k_SteamAwardFinalists:
            return "Here's how to get the most out of the Steam Awards";
        }
        return "unknown";
      }
      var v;
      !(function (e) {
        (e[(e.k_Custom = 0)] = "k_Custom"),
          (e[(e.k_AssetKit = 1)] = "k_AssetKit"),
          (e[(e.k_DemoPressPreview = 2)] = "k_DemoPressPreview"),
          (e[(e.k_ScheduleLiveStream = 3)] = "k_ScheduleLiveStream"),
          (e[(e.k_CancelSection = 4)] = "k_CancelSection"),
          (e[(e.k_DemoNotReady = 5)] = "k_DemoNotReady"),
          (e[(e.k_ReviewCategorization = 6)] = "k_ReviewCategorization"),
          (e[(e.k_DemoReview = 7)] = "k_DemoReview"),
          (e[(e.k_PressPreviewDetails = 8)] = "k_PressPreviewDetails"),
          (e[(e.k_StatsSummary = 9)] = "k_StatsSummary"),
          (e[(e.k_SurveyButton = 10)] = "k_SurveyButton"),
          (e[(e.k_DemoLaunch = 11)] = "k_DemoLaunch"),
          (e[(e.k_CallForRegistration = 12)] = "k_CallForRegistration"),
          (e[(e.k_EnterDiscount = 13)] = "k_EnterDiscount"),
          (e[(e.k_EnterDiscountReminder = 14)] = "k_EnterDiscountReminder"),
          (e[(e.k_LearnMore = 15)] = "k_LearnMore"),
          (e[(e.k_MediaUsePermission = 16)] = "k_MediaUsePermission"),
          (e[(e.k_MeasureResults = 17)] = "k_MeasureResults"),
          (e[(e.k_TrailerOrDemoPermissions = 18)] =
            "k_TrailerOrDemoPermissions"),
          (e[(e.k_NextFestQASession = 19)] = "k_NextFestQASession"),
          (e[(e.k_NextFestReturns = 20)] = "k_NextFestReturns"),
          (e[(e.k_NextFestWhatNext = 21)] = "k_NextFestWhatNext"),
          (e[(e.k_NextFestTips = 22)] = "k_NextFestTips"),
          (e[(e.k_NextFestStartsNow = 23)] = "k_NextFestStartsNow"),
          (e[(e.k_MeasureResultsFree = 24)] = "k_MeasureResultsFree"),
          (e[(e.k_NextFestThankYou = 25)] = "k_NextFestThankYou"),
          (e[(e.k_MediaPermissionReminder = 26)] = "k_MediaPermissionReminder"),
          (e[(e.k_SaleThankYou = 27)] = "k_SaleThankYou"),
          (e[(e.k_NextFestMediaUsageIntended = 28)] =
            "k_NextFestMediaUsageIntended"),
          (e[(e.k_GenericActionLink = 29)] = "k_GenericActionLink"),
          (e[(e.k_SteamAwardsCategories = 30)] = "k_SteamAwardsCategories"),
          (e[(e.k_NextFestMediaUsageIntendedTrailer = 31)] =
            "k_NextFestMediaUsageIntendedTrailer"),
          (e[(e.k_NextFestMediaUsageIntendedLivestream = 32)] =
            "k_NextFestMediaUsageIntendedLivestream"),
          (e[(e.k_NextFestTopGameWrapUp = 33)] = "k_NextFestTopGameWrapUp");
      })(v || (v = {}));
      const E = [
        v.k_Custom,
        v.k_CallForRegistration,
        v.k_AssetKit,
        v.k_DemoPressPreview,
        v.k_DemoReview,
        v.k_DemoLaunch,
        v.k_DemoNotReady,
        v.k_EnterDiscount,
        v.k_EnterDiscountReminder,
        v.k_ScheduleLiveStream,
        v.k_ReviewCategorization,
        v.k_LearnMore,
        v.k_CancelSection,
        v.k_StatsSummary,
        v.k_SurveyButton,
        v.k_MediaUsePermission,
        v.k_TrailerOrDemoPermissions,
        v.k_MeasureResults,
        v.k_MeasureResultsFree,
        v.k_NextFestQASession,
        v.k_PressPreviewDetails,
        v.k_NextFestReturns,
        v.k_NextFestWhatNext,
        v.k_NextFestTips,
        v.k_NextFestStartsNow,
        v.k_NextFestThankYou,
        v.k_NextFestMediaUsageIntended,
        v.k_NextFestMediaUsageIntendedTrailer,
        v.k_NextFestMediaUsageIntendedLivestream,
        v.k_NextFestTopGameWrapUp,
        v.k_MediaPermissionReminder,
        v.k_SaleThankYou,
        v.k_GenericActionLink,
        v.k_SteamAwardsCategories,
      ];
      function S(e) {
        switch (e) {
          case v.k_Custom:
            return "Custom text section";
          case v.k_CallForRegistration:
            return "Register now by dateX";
          case v.k_AssetKit:
            return "Asset kit section";
          case v.k_ScheduleLiveStream:
            return "Livestream, create up to n and see schedule";
          case v.k_CancelSection:
            return "Change of plans? Cancel until x";
          case v.k_DemoNotReady:
            return "Demo: cancel registration by date";
          case v.k_ReviewCategorization:
            return "Review your game's categorization";
          case v.k_DemoReview:
            return "Demo Reminder: Get your demo reviewed";
          case v.k_DemoLaunch:
            return "Demo Reminder: Launch your demo";
          case v.k_DemoPressPreview:
            return "Press Preview, Reminder to register now";
          case v.k_PressPreviewDetails:
            return "Next Fest: Press Preview, details";
          case v.k_EnterDiscount:
            return "Discount, Enter Now";
          case v.k_EnterDiscountReminder:
            return "Discount, Reminder";
          case v.k_SurveyButton:
            return "Survey button";
          case v.k_MeasureResults:
            return "Measuring Your Results (sales, wishlists, demos)";
          case v.k_MeasureResultsFree:
            return "Measuring Your Results (wishlists, demos, livestreams)";
          case v.k_StatsSummary:
            return "Game Stats; demos, wishlists, views, etc.";
          case v.k_LearnMore:
            return "Learn More Link";
          case v.k_MediaUsePermission:
            return "Permission Request: Media Usage";
          case v.k_TrailerOrDemoPermissions:
            return "Permission Request: Trailer and/or Demo";
          case v.k_MediaPermissionReminder:
            return "Permission Reminder: Trailer and/or Demo";
          case v.k_NextFestReturns:
            return "Next Fest:  Returns on _date_";
          case v.k_NextFestQASession:
            return "Next Fest: Join Us For A Live Q&A Session";
          case v.k_NextFestWhatNext:
            return "Next Fest: What's Next";
          case v.k_NextFestTips:
            return "Next Fest: Tips & Best Practices";
          case v.k_NextFestMediaUsageIntended:
            return "Next Fest: We Intend To Feature Your Game";
          case v.k_NextFestMediaUsageIntendedTrailer:
            return "Next Fest: We Intend To Feature Your Game in Trailer";
          case v.k_NextFestMediaUsageIntendedLivestream:
            return "Next Fest: We Intend To Feature Your Game in Livestream";
          case v.k_NextFestStartsNow:
            return "Next Fest: Starts Today!";
          case v.k_NextFestThankYou:
            return "Next Fest: Concludes. Thank You";
          case v.k_NextFestTopGameWrapUp:
            return "Next Fest: Top Games Of The Fest";
          case v.k_SaleThankYou:
            return "Sale Over: Thank You";
          case v.k_GenericActionLink:
            return "Generic Action Link";
          case v.k_SteamAwardsCategories:
            return "Steam Awards Finalist Categories";
        }
        return "unknown";
      }
      class D {
        constructor(e, t) {
          (this.m_email = void 0),
            (this.m_bReadOnly = !1),
            (this.m_sections = void 0),
            (0, r.rC)(this),
            (this.m_strOptInName = e),
            (this.m_email = t),
            (this.m_sections = this.m_email.sections.map((e) => new f(e))),
            (this.m_email.custom_app_list = (
              this.m_email.custom_app_list || []
            ).map((e) => ("string" == typeof e ? Number.parseInt(e) : e)));
        }
        GetOwningOptInName() {
          return this.m_strOptInName;
        }
        SetReadOnly(e) {
          this.m_bReadOnly != e &&
            ((this.m_bReadOnly = e),
            this.m_sections.forEach((t) => t.SetReadOnly(e)));
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        BHasLanguageData(e) {
          var t, n, a;
          const i = (0, o.j_)(e);
          return (
            (null ===
              (n =
                null === (t = this.m_email.subject) || void 0 === t
                  ? void 0
                  : t[i]) || void 0 === n
              ? void 0
              : n.length) > 0 ||
            (null === (a = this.m_sections) || void 0 === a
              ? void 0
              : a.some((t) => t.BHasLangData(e)))
          );
        }
        BIsDraftEmail() {
          return (
            null === this.m_email.email_def_id ||
            void 0 === this.m_email.email_def_id
          );
        }
        BHasSectionType(e) {
          return this.m_sections.some((t) => t.GetType() == e);
        }
        GetModel() {
          return this.m_email;
        }
        GetUniqueID() {
          return this.m_email.unique_id;
        }
        GetType() {
          return this.m_email.type;
        }
        GetNumberSections() {
          return this.m_sections.length;
        }
        GetEmailTargeting() {
          return this.m_email.targeting || 1;
        }
        GetServerEmailDefID() {
          return this.m_email.email_def_id
            ? "" + this.m_email.email_def_id
            : this.m_email.email_def_id;
        }
        GetInternalName() {
          return this.m_email.internal_name;
        }
        GetAssetKitURL() {
          return this.m_email.asset_kit_url;
        }
        GetWikiDocURL() {
          return this.m_email.wiki_doc_url;
        }
        GetSurveyLinkURL() {
          return this.m_email.survey_link_url;
        }
        GetSalePreviewPage() {
          return this.m_email.sale_preview_page;
        }
        GetScheduleMaxItems() {
          return this.m_email.schedule_max_items || 2;
        }
        GetDemoPressPreviewDate() {
          return this.m_email.demo_press_preview_date;
        }
        GetNextEditionDate() {
          return this.m_email.next_edition_date;
        }
        GetCancelDate() {
          return this.m_email.cancel_date;
        }
        GetPreviewDate() {
          return this.m_email.preview_date;
        }
        GetPermissionDate() {
          return this.m_email.permission_date;
        }
        GetTrailerLaunchDate() {
          return this.m_email.trailer_date;
        }
        GetLivestreamLaunchDate() {
          return this.m_email.livestream_date;
        }
        GetPressPreviewVisibleDate() {
          return this.m_email.press_preview_visible_date;
        }
        GetQASessionDate() {
          return this.m_email.qasession_date;
        }
        GetQASessionLink() {
          return this.m_email.qasession_link;
        }
        GetRecordedQASessionLink() {
          return this.m_email.recorded_qa_session_link;
        }
        GetCustomAppTargetList() {
          return this.m_email.custom_app_list || [];
        }
        BHasCustomAppTargetList() {
          var e;
          return Boolean(
            (null === (e = this.m_email.custom_app_list) || void 0 === e
              ? void 0
              : e.length) > 0,
          );
        }
        GetTrailerDemoDeadlineDate() {
          return this.m_email.trailer_demo_deadline_date;
        }
        GetDemoTrailerRegLink() {
          return this.m_email.trailer_demo_reg_link;
        }
        GetGenericActionLink() {
          return this.m_email.generic_action_link;
        }
        GetSteamAwardsAdApp() {
          return this.m_email.steam_awards_advertising_app;
        }
        BHasSteamAwardsAdApp() {
          return Boolean(this.GetSteamAwardsAdApp());
        }
        GetSubject(e) {
          var t;
          return null !== (t = (0, i.pM)(this.m_email.subject, e, "")) &&
            void 0 !== t
            ? t
            : "";
        }
        GetSubjectWithFallback(e) {
          var t;
          return null !==
            (t = (0, i.Xj)(
              this.m_email.subject,
              s.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        GetSections() {
          return this.m_sections;
        }
        GetSection(e) {
          return this.m_sections[e];
        }
        GetSectionByID(e) {
          for (let t = 0; t < this.m_sections.length; ++t)
            if (this.m_sections[t].GetUniqueID() == e)
              return this.m_sections[t];
          return null;
        }
        AddSection(e) {
          if (this.m_bReadOnly) return;
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetSectionByID(u + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          const n = { unique_id: u + t, type: e };
          this.m_email.sections || (this.m_email.sections = []),
            this.m_email.sections.push(n);
          const a = new f(
            this.m_email.sections[this.m_email.sections.length - 1],
          );
          this.m_sections.push(a), l.On.Get().SetDirty(!0);
        }
        SetServerEmailDefID(e) {
          this.m_email.email_def_id == e ||
            this.m_bReadOnly ||
            ((0, c.X)(
              null == this.m_email.email_def_id ||
                null == this.m_email.email_def_id,
              "Error: Reseting emailed def id from " +
                this.m_email.email_def_id +
                " to " +
                e,
            ),
            (this.m_email.email_def_id = "" + e),
            l.On.Get().SetDirty(!0));
        }
        SetType(e) {
          this.m_email.type == e ||
            this.m_bReadOnly ||
            ((this.m_email.type = e), l.On.Get().SetDirty(!0));
        }
        SetEmailTargeting(e) {
          this.m_email.targeting == e ||
            this.m_bReadOnly ||
            ((this.m_email.targeting = e), l.On.Get().SetDirty(!0));
        }
        SetInternalName(e) {
          this.m_email.internal_name == e ||
            this.m_bReadOnly ||
            ((this.m_email.internal_name = e), l.On.Get().SetDirty(!0));
        }
        SetAssetKitURL(e) {
          this.m_email.asset_kit_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.asset_kit_url = e), l.On.Get().SetDirty(!0));
        }
        SetWikiDocURL(e) {
          this.m_email.wiki_doc_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.wiki_doc_url = e), l.On.Get().SetDirty(!0));
        }
        SetSurveyLinkURL(e) {
          this.m_email.survey_link_url == e ||
            this.m_bReadOnly ||
            ((this.m_email.survey_link_url = e), l.On.Get().SetDirty(!0));
        }
        SetSalePreviewURL(e) {
          this.m_email.sale_preview_page == e ||
            this.m_bReadOnly ||
            ((this.m_email.sale_preview_page = e), l.On.Get().SetDirty(!0));
        }
        SetDemoPreviewDate(e) {
          this.m_email.demo_press_preview_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.demo_press_preview_date = e),
            l.On.Get().SetDirty(!0));
        }
        SetCancelDate(e) {
          this.m_email.cancel_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.cancel_date = e), l.On.Get().SetDirty(!0));
        }
        SetPreviewDate(e) {
          this.m_email.preview_date != e &&
            ((this.m_email.preview_date = e), l.On.Get().SetDirty(!0));
        }
        SetPermissionDate(e) {
          this.m_email.permission_date != e &&
            ((this.m_email.permission_date = e), l.On.Get().SetDirty(!0));
        }
        SetTrailerLaunchDate(e) {
          this.m_email.trailer_date != e &&
            ((this.m_email.trailer_date = e), l.On.Get().SetDirty(!0));
        }
        SetLivestreamLaunchDate(e) {
          this.m_email.livestream_date != e &&
            ((this.m_email.livestream_date = e), l.On.Get().SetDirty(!0));
        }
        SetPressPreviewVisibleDate(e) {
          this.m_email.press_preview_visible_date != e &&
            ((this.m_email.press_preview_visible_date = e),
            l.On.Get().SetDirty(!0));
        }
        SetScheduleMaxItems(e) {
          this.m_email.schedule_max_items == e ||
            this.m_bReadOnly ||
            ((this.m_email.schedule_max_items = e), l.On.Get().SetDirty(!0));
        }
        SetNextEditionDate(e) {
          this.m_email.next_edition_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.next_edition_date = e), l.On.Get().SetDirty(!0));
        }
        SetQASessionDate(e) {
          this.m_email.qasession_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_date = e), l.On.Get().SetDirty(!0));
        }
        SetTrailerDemoDeadlineDate(e) {
          this.m_email.trailer_demo_deadline_date == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_deadline_date = e),
            l.On.Get().SetDirty(!0));
        }
        SetQASessionLink(e) {
          this.m_email.qasession_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.qasession_link = e), l.On.Get().SetDirty(!0));
        }
        SetDemoTrailerRegLink(e) {
          this.m_email.trailer_demo_reg_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.trailer_demo_reg_link = e), l.On.Get().SetDirty(!0));
        }
        SetRecordedQASessionLink(e) {
          this.m_email.recorded_qa_session_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.recorded_qa_session_link = e),
            l.On.Get().SetDirty(!0));
        }
        SetSubject(e, t) {
          if (
            (0, i.pM)(this.m_email.subject, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const n = (0, o.j_)(t, "english");
            this.m_email.subject || (this.m_email.subject = {}),
              (this.m_email.subject[n] = e),
              l.On.Get().SetDirty(!0);
          }
        }
        AddAppToCustomList(e) {
          this.m_email.custom_app_list || (this.m_email.custom_app_list = []),
            this.m_email.custom_app_list.includes(e) ||
              (this.m_email.custom_app_list.push(e), l.On.Get().SetDirty(!0));
        }
        RemoveAppToCustomList(e) {
          if (this.m_email.custom_app_list) {
            const t = this.m_email.custom_app_list.findIndex((t) => e == t);
            if (t >= 0)
              return (
                this.m_email.custom_app_list.splice(t, 1),
                l.On.Get().SetDirty(!0),
                !0
              );
          }
          return !1;
        }
        SetGenericActionLink(e) {
          this.m_email.generic_action_link == e ||
            this.m_bReadOnly ||
            ((this.m_email.generic_action_link = e), l.On.Get().SetDirty(!0));
        }
        SetSteamAwardsAdvertisingApp(e) {
          this.m_email.steam_awards_advertising_app == e ||
            this.m_bReadOnly ||
            ((this.m_email.steam_awards_advertising_app = e),
            l.On.Get().SetDirty(!0));
        }
      }
      (0, a.gn)([r.LO], D.prototype, "m_email", void 0),
        (0, a.gn)([r.LO], D.prototype, "m_sections", void 0),
        (0, a.gn)([m.ak], D.prototype, "BHasLanguageData", null),
        (0, a.gn)([m.ak], D.prototype, "GetSubject", null),
        (0, a.gn)([r.aD.bound], D.prototype, "AddSection", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetServerEmailDefID", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetType", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetEmailTargeting", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetInternalName", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetAssetKitURL", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetWikiDocURL", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetSurveyLinkURL", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetSalePreviewURL", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetDemoPreviewDate", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetCancelDate", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetPreviewDate", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetPermissionDate", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetTrailerLaunchDate", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetLivestreamLaunchDate", null),
        (0, a.gn)(
          [r.aD.bound],
          D.prototype,
          "SetPressPreviewVisibleDate",
          null,
        ),
        (0, a.gn)([r.aD.bound], D.prototype, "SetScheduleMaxItems", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetNextEditionDate", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetQASessionDate", null),
        (0, a.gn)(
          [r.aD.bound],
          D.prototype,
          "SetTrailerDemoDeadlineDate",
          null,
        ),
        (0, a.gn)([r.aD.bound], D.prototype, "SetQASessionLink", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetDemoTrailerRegLink", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetRecordedQASessionLink", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetSubject", null),
        (0, a.gn)([r.aD.bound], D.prototype, "AddAppToCustomList", null),
        (0, a.gn)([r.aD.bound], D.prototype, "RemoveAppToCustomList", null),
        (0, a.gn)([r.aD.bound], D.prototype, "SetGenericActionLink", null),
        (0, a.gn)(
          [r.aD.bound],
          D.prototype,
          "SetSteamAwardsAdvertisingApp",
          null,
        );
      class f {
        constructor(e) {
          (this.m_section = void 0),
            (this.m_bReadOnly = !1),
            (0, r.rC)(this),
            (this.m_section = e);
        }
        SetReadOnly(e) {
          this.m_bReadOnly = e;
        }
        BIsReadOnly() {
          return this.m_bReadOnly;
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetType() {
          return this.m_section.type;
        }
        GetModel() {
          return this.m_section;
        }
        BHasLangData(e) {
          return (
            (0, i.JA)(this.m_section.title, e) ||
            (0, i.JA)(this.m_section.description, e)
          );
        }
        GetTitle(e) {
          var t;
          return null !== (t = (0, i.pM)(this.m_section.title, e, "")) &&
            void 0 !== t
            ? t
            : "";
        }
        GetTitleWithFallback(e) {
          var t;
          return null !==
            (t = (0, i.Xj)(
              this.m_section.title,
              s.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        GetDescription(e) {
          var t;
          return null !== (t = (0, i.pM)(this.m_section.description, e, "")) &&
            void 0 !== t
            ? t
            : "";
        }
        GetDescriptionWithFallback(e) {
          var t;
          return null !==
            (t = (0, i.Xj)(
              this.m_section.description,
              s.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        SetType(e) {
          this.m_section.type == e ||
            this.m_bReadOnly ||
            (this.m_section.type == v.k_Custom &&
              e != v.k_Custom &&
              ((this.m_section.title = {}), (this.m_section.description = {})),
            (this.m_section.type = e),
            l.On.Get().SetDirty(!0));
        }
        SetTitle(e, t) {
          if (
            (0, i.pM)(this.m_section.title, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const n = (0, o.j_)(t, "english");
            this.m_section.title || (this.m_section.title = {}),
              (this.m_section.title[n] = e),
              l.On.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if (
            (0, i.pM)(this.m_section.description, t, void 0) != e &&
            !this.m_bReadOnly
          ) {
            const n = (0, o.j_)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[n] = e),
              l.On.Get().SetDirty(!0);
          }
        }
      }
      (0, a.gn)([r.LO], f.prototype, "m_section", void 0),
        (0, a.gn)([m.ak], f.prototype, "GetTitle", null),
        (0, a.gn)([m.ak], f.prototype, "GetDescription", null),
        (0, a.gn)([r.aD.bound], f.prototype, "SetType", null),
        (0, a.gn)([r.aD.bound], f.prototype, "SetTitle", null),
        (0, a.gn)([r.aD.bound], f.prototype, "SetDescription", null);
    },
    1698: (e, t, n) => {
      "use strict";
      n.d(t, {
        FF: () => v,
        Ii: () => I,
        R7: () => S,
        Rg: () => m,
        Vd: () => D,
        _S: () => f,
        b5: () => C,
        ex: () => E,
        gl: () => y,
        hZ: () => u,
        j: () => p,
        kj: () => _,
        nR: () => c,
        oP: () => h,
        pk: () => g,
        tA: () => b,
        ti: () => d,
      });
      var a = n(35427),
        i = n(31846),
        l = n(12251),
        r = n(46984),
        o = n(37563),
        s = n(4618);
      const c = [
          "midweek",
          "weekenddeal",
          "saleevent",
          "themesale",
          "nextfest",
          "seasonalsale",
          "informational",
          "dailydeal",
          "vacation",
          "important",
          "preload",
          "assetrequest",
        ],
        m =
          (new Set(c),
          new Set([
            "midweek",
            "weekenddeal",
            "saleevent",
            "informational",
            "vacation",
            "important",
            "preload",
            "themesale",
            "nextfest",
            "seasonalsale",
          ])),
        d = new Set(["dailydeal", "assetrequest"]),
        u = 604800,
        p = new Map();
      p.set("midweek", "Midweek Deal"),
        p.set("weekenddeal", "Weekend Deal"),
        p.set("saleevent", "Sale Event"),
        p.set("themesale", "Theme Sale"),
        p.set("nextfest", "Next Fests"),
        p.set("seasonalsale", "Seasonal Sale"),
        p.set("informational", "Informational"),
        p.set("dailydeal", "Daily Deal"),
        p.set("vacation", "Vacation/PTO"),
        p.set("important", "Takeover / Takeunder"),
        p.set("preload", "Pre-load"),
        p.set("assetrequest", "Asset Request Only");
      const _ = new Set();
      _.add("seasonalsale"), _.add("themesale"), _.add("nextfest");
      new Set().add("vacation");
      const h = new Set();
      h.add("important");
      const g = new Map();
      g.set("midweek", "#254069"),
        g.set("weekenddeal", "#254069"),
        g.set("saleevent", "#819c8a"),
        g.set("themesale", "#819c8a"),
        g.set("nextfest", "#819c8a"),
        g.set("seasonalsale", "#819c8a"),
        g.set("informational", "#474747"),
        g.set("dailydeal", "#80275D"),
        g.set("vacation", "#6f7485"),
        g.set("important", "#40ccfd"),
        g.set("preload", "#A47332"),
        g.set("assetrequest", "#80875D");
      const v = new Map();
      v.set("midweek", "#discount_desc_preset_midweek"),
        v.set("weekenddeal", "#discount_desc_preset_weekend"),
        v.set("saleevent", "#discount_desc_preset_special"),
        v.set("themesale", "#discount_desc_preset_special"),
        v.set("nextfest", "#discount_desc_preset_special"),
        v.set("seasonalsale", "#discount_desc_preset_special"),
        v.set("informational", "#discount_desc_limited_time_date"),
        v.set("dailydeal", "#discount_desc_preset_daily"),
        v.set("vacation", "#discount_desc_limited_time_date"),
        v.set("important", "#discount_desc_limited_time_date"),
        v.set("preload", "#discount_desc_limited_time_date");
      const E = new Map();
      E.set("midweek", ["Midweek", "Midweek Deal"]),
        E.set("weekenddeal", ["Weekend", "Weekend Deal"]);
      const S = new Map();
      S.set("none", ""),
        S.set("takeover", "Takeover"),
        S.set("takeunder", "Takeunder"),
        S.set("hub_takeover", "Hub takeover"),
        S.set("steamchina_takeover", "SC Takeover"),
        S.set("steamchina_only", "SC");
      const D = [
          "spotlight_art",
          "marketingmessage_art",
          "marketingmessage_art_2",
          "takeover_art",
          "takeover_mobile_art",
          "takeover_webm_art",
          "takeover_mp4_art",
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
          "takeunder_art",
          "takeunder_mobile_art",
          "sale_header",
          "sale_logo",
          "capsule",
          "product_banner",
          "product_mobile_banner",
          "localized_title_image",
        ],
        f = [
          "takeover_webm_art",
          "takeover_mp4_art",
          "takeover_webm_mobile_art",
          "takeover_mp4_mobile_art",
        ];
      function y(e) {
        switch (e) {
          case "marketingmessage_art":
            return "Marketing Message Banner";
          case "marketingmessage_art_2":
            return "Marketing Message Banner 2";
          case "spotlight_art":
            return "Spotlight Banner";
          case "takeover_art":
            return "Takeover Banner";
          case "takeover_webm_art":
            return "Takeover Animated WEBM";
          case "takeover_mp4_art":
            return "Takoever Animated MP4";
          case "takeover_webm_mobile_art":
            return "Takoever Animated Mobile (WEBM)";
          case "takeover_mp4_mobile_art":
            return "Takoever Animated Mobile (MP4)";
          case "takeunder_art":
            return "Takeunder Banner";
          case "takeover_mobile_art":
            return "Takeover Mobile Banner";
          case "takeunder_mobile_art":
            return "Takeunder Mobile Banner";
          case "sale_header":
            return "Sale Page Background";
          case "sale_logo":
            return "Sale Logo Image";
          case "capsule":
            return "Event Cover Image";
          case "product_banner":
            return "Sale's Store Page Banner";
          case "product_mobile_banner":
            return "Sale's Store Page Mobile Banner";
          case "localized_title_image":
            return "Event Header Image";
          default:
            return "Unknown Promo Art Request";
        }
      }
      class b {
        static GetSpotlightEditURL(e) {
          return o.De.PARTNER_BASE_URL + "admin/store/spotlight/" + e;
        }
        static GetMarketingMesssageEditURL(e) {
          return (
            o.De.PARTNER_BASE_URL + "promotion/marketingmessages/edit/" + e
          );
        }
        static GetClusterEditURL(e, t) {
          switch (e) {
            case s.R6.k_ConfigPage_Takeover:
              return b.GetTakeoverEditURL(t);
            case s.R6.k_ConfigPage_Takeunder:
              return b.GetTakeunderEditURL(t);
            case s.R6.k_ConfigPage_TakeoverSteamChina:
              return b.GetSteamChinaTakeoverEditURL(t);
            default:
              return b.GetContentHubTakeoverEditURL(e, t);
          }
        }
        static GetTakeoverEditURL(e) {
          return (
            o.De.PARTNER_BASE_URL + "admin/store/pageclusteredit/frontpage/" + e
          );
        }
        static GetContentHubTakeoverEditURL(e, t) {
          return `${o.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${(0, s.D9)(e)}/${t}`;
        }
        static GetTakeunderEditURL(e) {
          return (
            o.De.PARTNER_BASE_URL + "admin/store/pageclusteredit/takeunder/" + e
          );
        }
        static GetMainCapsuleEditURL(e) {
          return (
            o.De.PARTNER_BASE_URL +
            "admin/store/pageclusteredit/frontpage/" +
            e +
            "?activetab=tab_capsules"
          );
        }
        static GetSteamChinaTakeoverEditURL(e) {
          return (
            o.De.PARTNER_BASE_URL +
            "admin/store/pageclusteredit/frontpage_china/" +
            e
          );
        }
        static GetOptInEditURL(e) {
          return o.De.PARTNER_BASE_URL + "optin/admin/edit/" + e;
        }
        static GetGiveawayControlsURL(e) {
          return o.De.PARTNER_BASE_URL + "giveaways/control/" + e;
        }
        static GetDiscountEditURL(e) {
          return o.De.PARTNER_BASE_URL + "admin/editdiscountevent/" + e;
        }
        static GetGiveawayEditURL(e) {
          return o.De.PARTNER_BASE_URL + "giveaways/control/" + e;
        }
        static GetSalePageClanEditURL(e, t) {
          const n = a.K.InitFromClanID(e);
          return (
            o.De.COMMUNITY_BASE_URL +
            "/gid/" +
            n.ConvertTo64BitString() +
            "/partnerevents/edit/" +
            t
          );
        }
        static GetAdvertingAppLandingURL(e) {
          return o.De.PARTNER_BASE_URL + "apps/landing/" + e;
        }
      }
      const I = new Map();
      I.set("midweek", {
        nMaxSlots: 6,
        rtStartModifier: 10 * r._H.PerHour,
        rtEndModifier: 3 * r._H.PerDay + 10 * r._H.PerHour,
        fnRenderWeekDisplayForSelection: (e, t) => {
          const n = new Date(1e3 * (e + 10800));
          n.setHours(10);
          const a = Math.floor(n.getTime() / 1e3);
          return (
            "Starting " +
            (0, i.$1)(a) +
            " @ " +
            (0, l.Sc)(a) +
            ": " +
            t +
            (1 == t ? " slot" : " slots")
          );
        },
        nDaysDiscountEvent: 7,
        rtDays: 3,
      }),
        I.set("weekenddeal", {
          nMaxSlots: 6,
          rtStartModifier: 3 * r._H.PerDay + 10 * r._H.PerHour,
          rtEndModifier: 7 * r._H.PerDay + 10 * r._H.PerHour,
          fnRenderWeekDisplayForSelection: (e, t) => {
            const n = new Date(1e3 * (e + 259200 + 10800));
            n.setHours(10);
            const a = Math.floor(n.getTime() / 1e3);
            return (
              "Starting " +
              (0, i.$1)(a) +
              " @ " +
              (0, l.Sc)(a) +
              ": " +
              t +
              (1 == t ? " slot" : " slots")
            );
          },
          nDaysDiscountEvent: 7,
          rtDays: 4,
        });
      const C = ["midweek", "weekenddeal"];
      new Set(C);
    },
    28995: (e, t, n) => {
      "use strict";
      n.d(t, { DU: () => d, Es: () => _, Fm: () => u, if: () => p });
      var a = n(85556),
        i = n(77936),
        l = n(54842),
        r = n(35427),
        o = n(65650),
        s = n(83999),
        c = n(16997),
        m = n(45492);
      const d = [
        "localized_capsule_image",
        "localized_sale_header",
        "localized_sale_logo",
        "localized_sale_product_banner",
        "localized_sale_product_mobile_banner",
        "localized_title_image",
      ];
      function u(e) {
        switch (e) {
          case "localized_capsule_image":
            return "Event Cover Image";
          case "localized_sale_header":
            return "Sales Background Image";
          case "localized_sale_logo":
            return "Sales Logo";
          case "localized_sale_product_banner":
            return "Sale Pages Product Banner";
          case "localized_sale_product_mobile_banner":
            return "Sale Pages Product Banner (mobile)";
          case "localized_title_image":
            return "Event Header Image";
        }
        return "";
      }
      function p(e) {
        switch (e) {
          case "localized_capsule_image":
            return "capsule";
          case "localized_sale_header":
            return "sale_header";
          case "localized_sale_logo":
            return "sale_logo";
          case "localized_sale_product_banner":
            return "product_banner";
          case "localized_sale_product_mobile_banner":
            return "product_mobile_banner";
          case "localized_title_image":
            return "background";
        }
        return null;
      }
      class _ {
        constructor(e) {
          (this.m_oSalePage = null),
            (this.m_originalSalePage = null),
            (this.m_bDirty = !1),
            (this.m_callback = new m.pB()),
            (0, l.rC)(this),
            this.Reset(e);
        }
        Reset(e) {
          (this.m_oSalePage = JSON.parse(JSON.stringify(e))),
            this.m_oSalePage &&
              ((this.m_oSalePage.jsondata.localized_capsule_image = (0, s.LG)(
                this.m_oSalePage.jsondata.localized_capsule_image || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_header = (0, s.LG)(
                this.m_oSalePage.jsondata.localized_sale_header || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_logo = (0, s.LG)(
                this.m_oSalePage.jsondata.localized_sale_logo || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_product_banner = (0,
              s.LG)(
                this.m_oSalePage.jsondata.localized_sale_product_banner || [],
                31,
                null,
              )),
              (this.m_oSalePage.jsondata.localized_sale_product_mobile_banner =
                (0, s.LG)(
                  this.m_oSalePage.jsondata
                    .localized_sale_product_mobile_banner || [],
                  31,
                  null,
                )),
              (this.m_oSalePage.jsondata.localized_title_image = (0, s.LG)(
                this.m_oSalePage.jsondata.localized_title_image || [],
                31,
                null,
              )),
              (this.m_oSalePage.clanSteamID = new r.K(
                this.m_oSalePage.clanSteamID,
              ))),
            (this.m_originalSalePage = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oSalePage;
        }
        GetAssetModel() {
          return {
            localized_capsule_image:
              this.m_oSalePage.jsondata.localized_capsule_image,
            localized_sale_header:
              this.m_oSalePage.jsondata.localized_sale_header,
            localized_sale_logo: this.m_oSalePage.jsondata.localized_sale_logo,
            localized_sale_product_banner:
              this.m_oSalePage.jsondata.localized_sale_product_banner,
            localized_sale_product_mobile_banner:
              this.m_oSalePage.jsondata.localized_sale_product_mobile_banner,
            localized_title_image:
              this.m_oSalePage.jsondata.localized_title_image,
          };
        }
        GetName(e = 0) {
          return this.m_oSalePage.name.get(e);
        }
        GetStartDate() {
          return this.m_oSalePage.startTime || 0;
        }
        GetPromoModifyTime() {
          return this.m_oSalePage.rtime32_last_modified;
        }
        GetAssetUpdateTime() {
          return this.m_oSalePage.rtime32_last_modified;
        }
        GetImage(e, t) {
          var n;
          return null === (n = this.m_oSalePage.jsondata[e]) || void 0 === n
            ? void 0
            : n[t];
        }
        GetCurImage(e) {
          return this.m_oSalePage.jsondata[e];
        }
        GetAssetsObject(e) {
          return this.m_oSalePage.jsondata[e];
        }
        GetClanAccountID() {
          return this.m_oSalePage.clanSteamID.GetAccountID();
        }
        GetClanSteamID() {
          return this.m_oSalePage.clanSteamID;
        }
        GetGID() {
          return this.m_oSalePage.GID;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, o.U.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, n) {
          (this.m_oSalePage.jsondata[e][t] = n), this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oSalePage.jsondata[e] = (0, s.LG)([], 31, null)),
            this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          (0, i.j_)(t);
          (this.m_oSalePage.jsondata[e][t] = null), this.Dispatch();
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          this.Reset(this.m_originalSalePage), this.m_callback.Dispatch(this);
        }
      }
      (0, a.gn)([l.LO], _.prototype, "m_bDirty", void 0),
        (0, a.gn)([c.a], _.prototype, "SetCurImage", null),
        (0, a.gn)([l.aD.bound], _.prototype, "SetImage", null),
        (0, a.gn)([c.a], _.prototype, "ClearAllAssetObjects", null),
        (0, a.gn)([c.a], _.prototype, "DeleteAssetObjectLang", null),
        (0, a.gn)([c.a], _.prototype, "RevertChanges", null);
    },
    65311: (e, t, n) => {
      "use strict";
      n.d(t, { P: () => i, y: () => a });
      const a = [
        "webm_page_bg",
        "mp4_page_bg",
        "page_bg",
        "page_bg_mobile",
        "mp4_page_bg_mobile",
        "webm_page_bg_mobile",
      ];
      function i(e) {
        switch (e) {
          case "page_bg":
            return "Takeover Background";
          case "page_bg_mobile":
            return "Takeover Background Mobile";
          case "webm_page_bg":
            return "Takeover Animated (webm)";
          case "mp4_page_bg":
            return "Takeover Animated (mp4)";
          case "webm_page_bg_mobile":
            return "Takeover Animated Mobile (webm)";
          case "mp4_page_bg_mobile":
            return "Takeover Animated Mobile (mp4)";
        }
      }
    },
    28306: (e, t, n) => {
      "use strict";
      n.d(t, { a: () => i, y: () => a });
      const a = ["takeunder_desktop", "takeunder_mobile"];
      function i(e) {
        switch (e) {
          case "takeunder_desktop":
            return "Takeunder Banner";
          case "takeunder_mobile":
            return "Takeunder Bannerr Mobile";
        }
      }
    },
    14790: (e, t, n) => {
      "use strict";
      n.d(t, { LG: () => r, ns: () => l });
      var a = n(47427);
      const i = (0, a.createContext)(null),
        l = () => (0, a.useContext)(i),
        r = i.Provider;
    },
    33687: (e, t, n) => {
      "use strict";
      n.d(t, {
        HN: () => _,
        Lr: () => h,
        o6: () => p,
        oC: () => d,
        og: () => u,
      });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(42718),
        o = n(31846),
        s = n(37563),
        c = n(47427);
      function m(e, t = !0, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = s.De.PARTNER_BASE_URL + "discounts/ajaxgetdiscountbyapp",
            i = new Map();
          if (!e || 0 == e.length) return i;
          const r = [...e],
            o = [];
          for (; r.length > 0; ) {
            const e = r.splice(0, 250),
              i = new FormData();
            i.append("sessionid", s.De.SESSIONID),
              i.append("rgAppIDs", e.join(",")),
              i.append("bExcludeExpired", t ? "1" : "0"),
              n && i.append("publisherid", n.toString()),
              o.push(l().post(a, i, { withCredentials: !0 }));
          }
          return (
            (yield Promise.all(o)).forEach((e) => {
              var t, n, a;
              if (
                200 == (null == e ? void 0 : e.status) &&
                1 ==
                  (null === (t = null == e ? void 0 : e.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                (null === (n = null == e ? void 0 : e.data) || void 0 === n
                  ? void 0
                  : n.map)
              )
                for (let t in e.data.map) {
                  const n = Number.parseInt(t);
                  n && i.set(n, e.data.map[n]);
                }
              else
                console.log(
                  "Error: Failed on FetchDiscountByApp request " +
                    (null == e ? void 0 : e.status) +
                    " " +
                    (null == e ? void 0 : e.statusText) +
                    " " +
                    (null === (a = null == e ? void 0 : e.data) || void 0 === a
                      ? void 0
                      : a.success),
                );
            }),
            i
          );
        });
      }
      function d(e, t, n) {
        const { isLoading: a, data: i } = (0, r.useQuery)(
          ["useOptedInAppWithDiscounts", e, t.join(","), n],
          () => m(t),
          { enabled: (null == t ? void 0 : t.length) > 0 },
        );
        return a ? null : i;
      }
      function u(e, t = !0, n) {
        const { isLoading: a, data: i } = (0, r.useQuery)(
          ["useAppWithDiscounts", e.join(","), t, n],
          () => m(e, t, n),
          { enabled: (null == e ? void 0 : e.length) > 0 },
        );
        return a ? null : i;
      }
      function p(e, t = !0, n) {
        const { isLoading: i, data: o } = (0, r.useQuery)(
          ["useBundleWithDiscounts", e.join(","), t, n],
          () =>
            (function (e, t = !0, n) {
              return (0, a.mG)(this, void 0, void 0, function* () {
                const a =
                    s.De.PARTNER_BASE_URL + "discounts/ajaxgetdiscountbybundle",
                  i = new Map();
                if (!e || 0 == e.length) return i;
                const r = [...e],
                  o = [];
                for (; r.length > 0; ) {
                  const e = r.splice(0, 100),
                    i = new FormData();
                  i.append("sessionid", s.De.SESSIONID),
                    i.append("rgBundleIDs", e.join(",")),
                    i.append("bExcludeExpired", t ? "1" : "0"),
                    n && i.append("publisherid", n.toString()),
                    o.push(l().post(a, i, { withCredentials: !0 }));
                }
                return (
                  (yield Promise.all(o)).forEach((e) => {
                    var t, n, a;
                    if (
                      200 == (null == e ? void 0 : e.status) &&
                      1 ==
                        (null === (t = null == e ? void 0 : e.data) ||
                        void 0 === t
                          ? void 0
                          : t.success) &&
                      (null === (n = null == e ? void 0 : e.data) ||
                      void 0 === n
                        ? void 0
                        : n.map)
                    )
                      for (let t in e.data.map) {
                        const n = Number.parseInt(t);
                        n && i.set(n, e.data.map[n]);
                      }
                    else
                      console.log(
                        "Error: Failed on FetchDiscountByBundle request " +
                          (null == e ? void 0 : e.status) +
                          " " +
                          (null == e ? void 0 : e.statusText) +
                          " " +
                          (null === (a = null == e ? void 0 : e.data) ||
                          void 0 === a
                            ? void 0
                            : a.success),
                      );
                  }),
                  i
                );
              });
            })(e, t, n),
          { enabled: (null == e ? void 0 : e.length) > 0 },
        );
        return i ? null : o;
      }
      function _() {
        return (0, c.useMemo)(
          () =>
            (0, s.kQ)("bundle_discount_conflict_dates", "application_config"),
          [],
        );
      }
      function h(e, t, n, a, i) {
        var l, r;
        const s = null == t ? void 0 : t.get(e);
        if (s) {
          if (s.is_coming_soon) return (0, o.Xx)("#DiscountEvent_ComingSoon");
          if (s.is_free) return (0, o.Xx)("#DiscountEvent_Free");
          if (
            null === (l = s.discounts) || void 0 === l
              ? void 0
              : l.some((e) => e.discountEventID == i)
          )
            return (0, o.Xx)("#DiscountEvent_Official");
          const e =
            null === (r = s.discounts) || void 0 === r
              ? void 0
              : r.filter((e) => e.rtStartDate < a && e.rtEndDate > n);
          if ((null == e ? void 0 : e.length) > 0)
            return e
              .map(
                (e) =>
                  `${e.nDiscountPct}% - ${(0, o.m9)(e.rtStartDate)} to ${(0, o.m9)(e.rtEndDate)} (package id:${e.packageID})`,
              )
              .join("\n");
        }
        return "";
      }
    },
    67675: (e, t, n) => {
      "use strict";
      n.d(t, { G: () => c, X: () => s });
      var a = n(85556),
        i = n(54842),
        l = n(37563);
      const r = new RegExp(
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store)\/sale\/([a-zA-Z0-9\-_&]+)/i,
        ),
        o = new RegExp(
          /(?:steampowered\.com|valve\.org\/store|steam\.dev\/store)\/(?:curator|dev|developer|franchise|pub|publisher)\/[a-zA-Z0-9\-_%]+\/sale\/([a-zA-Z0-9\-_&%]+)/i,
        );
      function s(e) {
        let t = null,
          n = r.exec(e);
        n && n.length > 1 && (t = n);
        let a = o.exec(e);
        return a && a.length > 1 && (t = a), t ? t[1].toLowerCase() : null;
      }
      class c {
        constructor() {
          (this.m_rgMapCluster = new Map()),
            (this.m_rgFeatureNames = new Array()),
            (this.m_rgActiveFeatureNames = new Array()),
            (this.m_rgSpotlights = null),
            (this.m_rgIM = null),
            (this.m_activeDeals = null),
            (this.m_mapSaleVanityTakeover = new Map()),
            (this.m_mapSaleVanitySpotlight = new Map()),
            (this.m_mapSaleVanityIM = new Map()),
            (0, i.rC)(this);
        }
        BHasVanityFeaturing(e) {
          return this.m_mapSaleVanityTakeover.has(e.toLowerCase());
        }
        GetVanityFeaturing(e) {
          return this.m_mapSaleVanityTakeover.get(e.toLowerCase()) || [];
        }
        BHasVanitySpotlight(e) {
          return this.m_mapSaleVanitySpotlight.has(e.toLowerCase());
        }
        GetVanitySpotlight(e) {
          return this.m_mapSaleVanitySpotlight.get(e.toLowerCase());
        }
        BHasVanityIM(e) {
          return this.m_mapSaleVanityIM.has(e.toLowerCase());
        }
        GetVanityIM(e) {
          return this.m_mapSaleVanityIM.get(e.toLowerCase());
        }
        static Get() {
          return (
            c.s_FeatureStore ||
              ((c.s_FeatureStore = new c()), c.s_FeatureStore.Init()),
            c.s_FeatureStore
          );
        }
        InsertVanityToForceFeature(e, t, n) {
          e &&
            (this.m_mapSaleVanityTakeover.has(e) ||
              this.m_mapSaleVanityTakeover.set(e, new Array()),
            this.m_mapSaleVanityTakeover
              .get(e)
              .push({ cluster_name: t.cluster_name, clusters: [n] }));
        }
        InsertVanityToSpotlight(e, t) {
          e && this.m_mapSaleVanitySpotlight.set(e, t);
        }
        Init() {
          let e = (0, l.kQ)("steampagefeaturing", "application_config");
          this.ValidateStoreDefault(e) &&
            (e.forEach((e) => {
              this.m_rgMapCluster.set(e.cluster_name, e.clusters),
                this.m_rgFeatureNames.push(e.cluster_name),
                e.clusters &&
                  e.clusters.length > 0 &&
                  this.m_rgActiveFeatureNames.push(e.cluster_name),
                e.clusters.forEach((t) => {
                  t.page_bg_url &&
                    this.InsertVanityToForceFeature(s(t.page_bg_url), e, t),
                    t.expanded_capsules &&
                      t.expanded_capsules.forEach((n) => {
                        n.website &&
                          "Advertising" == n.type &&
                          this.InsertVanityToForceFeature(s(n.website), e, t);
                      });
                });
            }),
            "dev" == l.De.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Features: " +
                  this.m_rgActiveFeatureNames.length +
                  " Matching Vanity: " +
                  this.m_mapSaleVanityTakeover.size,
                this.m_mapSaleVanityTakeover.keys(),
              ));
          let t = (0, l.kQ)("spotlightfeaturing", "application_config");
          this.ValidateSpotlightDefault(t) &&
            ((this.m_rgSpotlights = t),
            this.m_rgSpotlights &&
              this.m_rgSpotlights.forEach((e) => {
                e.associated_url &&
                  this.InsertVanityToSpotlight(s(e.associated_url), e),
                  e.associated_app &&
                    "Advertising" == e.associated_app.type &&
                    e.associated_app.website &&
                    this.InsertVanityToSpotlight(
                      s(e.associated_app.website),
                      e,
                    );
              }),
            "dev" == l.De.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Spotlight: " +
                  this.m_rgSpotlights.length +
                  " Matchign Vanity: " +
                  this.m_mapSaleVanitySpotlight.size,
                this.m_mapSaleVanitySpotlight.keys(),
              ));
          let n = (0, l.kQ)("marketingmsg", "application_config");
          this.ValidateIMDefault(n) &&
            ((this.m_rgIM = n),
            n.forEach((e) => {
              if (e.template && e.template.linkurl) {
                let t = s(e.template.linkurl);
                this.m_mapSaleVanityIM.set(t, e);
              }
            }),
            "dev" == l.De.WEB_UNIVERSE &&
              console.log(
                "CForceFeatureStore - Total Active Marketing MEssages (IM) : " +
                  this.m_rgIM.length +
                  " Matchign Vanity: " +
                  this.m_mapSaleVanityIM.size,
                this.m_mapSaleVanityIM.keys(),
              ));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].cluster_name &&
            "object" == typeof t[0].clusters
          );
        }
        ValidateSpotlightDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name &&
            "string" == typeof t[0].id
          );
        }
        ValidateIMDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
            "string" == typeof t[0].name
          );
        }
      }
      (0, a.gn)([i.aD], c.prototype, "Init", null);
    },
    86236: (e, t, n) => {
      "use strict";
      n.d(t, {
        Hf: () => y,
        On: () => b,
        cf: () => f,
        tb: () => C,
        y7: () => k,
      });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(4771),
        o = n(20128),
        s = n(54842),
        c = n(47427),
        m = n(77936),
        d = n(65650),
        u = n(83999),
        p = n(16649),
        _ = n(45492),
        h = n(20417),
        g = n(37563),
        v = n(81070),
        E = n(2026),
        S = n(35427);
      const D = "section_",
        f = "list_",
        y = "option_";
      class b {
        static Get() {
          return (
            b.s_Editor ||
              ((b.s_Editor = new b()),
              ("dev" != g.De.WEB_UNIVERSE && "beta" != g.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminEditModel = b.s_Editor)),
            b.s_Editor
          );
        }
        GetActiveStatsChangeCallaback() {
          return this.m_activeStatsChange;
        }
        GetOptInPageID() {
          return this.m_model.pageid;
        }
        GetDynamicOptionByID(e) {
          let t = null;
          return (
            this.GetDynamicSections().forEach((n) => {
              n.unique_id == e.section_id &&
                n.lists.forEach((n) => {
                  n.unique_id == e.list_id &&
                    n.options.forEach((n) => {
                      n.unique_id == e.option_id && (t = n);
                    });
                });
            }),
            t
          );
        }
        BContainDyanmicOptionByIDs(e) {
          return null != this.GetDynamicOptionByID(e);
        }
        GetOptionNameByID(e, t = 0) {
          const n = this.GetDynamicOptionByID(e);
          return n ? this.GetKVLang(n.text, t) : "";
        }
        AddDemoPackage(e) {
          this.m_model.demo_packages || (this.m_model.demo_packages = []),
            this.m_model.demo_packages.push(e),
            this.SetDirty(!0);
        }
        GetDemoPackages() {
          return this.m_model.demo_packages;
        }
        GetName() {
          return this.m_model && this.m_model.pageid
            ? -1 != this.m_model.pageid.indexOf("sale_", 0)
              ? this.m_model.pageid.substring(5)
              : this.m_model.pageid
            : "";
        }
        GetFullName() {
          return this.m_model && this.m_model.pageid ? this.m_model.pageid : "";
        }
        BHasSpecialEventType() {
          var e;
          return Boolean(
            null === (e = this.m_model) || void 0 === e
              ? void 0
              : e.special_event_type,
          );
        }
        GetSpecialEventType() {
          return this.m_model.special_event_type;
        }
        SetSpecialEventType(e) {
          e !== this.m_model.special_event_type &&
            ((this.m_model.special_event_type = e), this.SetDirty(!0));
        }
        GetCurSpecialEventName() {
          return this.GetSpecialEventName(d.U.Get().GetCurEditLanguage());
        }
        GetSpecialEventName(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.special_event_name, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurSpecialEventName(e) {
          this.SetSpecialEventName(d.U.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventName(e, t) {
          this.SetKVLang(this.m_model.special_event_name, e, t);
        }
        GetCurSpecialEventDescription() {
          return this.GetSpecialEventDescription(
            d.U.Get().GetCurEditLanguage(),
          );
        }
        GetSpecialEventDescription(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.special_event_description, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurSpecialEventDescription(e) {
          this.SetSpecialEventDescription(d.U.Get().GetCurEditLanguage(), e);
        }
        SetSpecialEventDescription(e, t) {
          this.SetKVLang(this.m_model.special_event_description, e, t);
        }
        GetQandA1EventStartTime() {
          return this.m_model.rtime_nextfest_question_and_answer1 || 0;
        }
        SetQandA1EventStartTime(e) {
          e != this.m_model.rtime_nextfest_question_and_answer1 &&
            ((this.m_model.rtime_nextfest_question_and_answer1 = e),
            this.SetDirty(!0));
        }
        GetQandA1URL() {
          return this.m_model.nextfest_question_and_answer_url1 || "";
        }
        SetQandA1URL(e) {
          e != this.m_model.nextfest_question_and_answer_url1 &&
            ((this.m_model.nextfest_question_and_answer_url1 = e),
            this.SetDirty(!0));
        }
        GetQandA2EventStartTime() {
          return this.m_model.rtime_nextfest_question_and_answer2 || 0;
        }
        SetQandA2EventStartTime(e) {
          e != this.m_model.rtime_nextfest_question_and_answer2 &&
            ((this.m_model.rtime_nextfest_question_and_answer2 = e),
            this.SetDirty(!0));
        }
        GetQandA2URL() {
          return this.m_model.nextfest_question_and_answer_url2 || "";
        }
        SetQandA2URL(e) {
          e != this.m_model.nextfest_question_and_answer_url2 &&
            ((this.m_model.nextfest_question_and_answer_url2 = e),
            this.SetDirty(!0));
        }
        GetSpecialEventDocLink() {
          return this.m_model.special_event_doc_link;
        }
        SetSpecialEventDocLink(e) {
          e != this.m_model.special_event_doc_link &&
            ((this.m_model.special_event_doc_link = e), this.SetDirty(!0));
        }
        GetSpecialEventTypeMax() {
          return this.m_model.special_event_type_max || 0;
        }
        SetSpecialEventTypeMax(e) {
          e != this.m_model.special_event_type_max &&
            ((this.m_model.special_event_type_max = e), this.SetDirty(!0));
        }
        GetSpecialEventStartTime() {
          return this.m_model.special_event_rt_start || 0;
        }
        SetSpecialEventStartTime(e) {
          e != this.m_model.special_event_rt_start &&
            ((this.m_model.special_event_rt_start = e), this.SetDirty(!0));
        }
        GetSpecialEventEndTime() {
          return this.m_model.special_event_rt_end || 0;
        }
        SetSpecialEventEndTime(e) {
          e != this.m_model.special_event_rt_end &&
            ((this.m_model.special_event_rt_end = e), this.SetDirty(!0));
        }
        BHasSpecialEventTimeSet() {
          return (
            Boolean(this.m_model.special_event_rt_start) ||
            Boolean(this.m_model.special_event_rt_end)
          );
        }
        NCountSpecialEventBlocks() {
          var e;
          return (
            (null === (e = this.m_model.special_event_time_blocks) ||
            void 0 === e
              ? void 0
              : e.length) || 0
          );
        }
        AddSpecialEventBlock() {
          this.m_model.special_event_time_blocks ||
            (this.m_model.special_event_time_blocks = []),
            this.m_model.special_event_time_blocks.push({ block_reason: {} }),
            this.SetDirty(!0);
        }
        RemoveSpecialEventBlock(e) {
          var t;
          return (
            e <
              (null === (t = this.m_model.special_event_time_blocks) ||
              void 0 === t
                ? void 0
                : t.length) &&
            (this.m_model.special_event_time_blocks.splice(e),
            this.SetDirty(!0),
            !0)
          );
        }
        SetSpecialEventBlock(e, t) {
          var n;
          return (
            e <
              (null === (n = this.m_model.special_event_time_blocks) ||
              void 0 === n
                ? void 0
                : n.length) &&
            ((this.m_model.special_event_time_blocks[e] = t),
            this.SetDirty(!0),
            !0)
          );
        }
        GetAllSpecialEventBlocks() {
          return this.m_model.special_event_time_blocks || [];
        }
        MoveSpecialEventblock(e, t) {
          var n, a;
          return (
            e <
              (null === (n = this.m_model.special_event_time_blocks) ||
              void 0 === n
                ? void 0
                : n.length) &&
            t <
              (null === (a = this.m_model.special_event_time_blocks) ||
              void 0 === a
                ? void 0
                : a.length) &&
            e != t &&
            ((0, u.hV)(this.m_model.special_event_time_blocks, e, t),
            this.SetDirty(!0),
            !0)
          );
        }
        BIsInSpecialEventBlockedTime(e) {
          var t, n;
          return Boolean(
            e &&
              (null ===
                (n =
                  null === (t = this.m_model.special_event_time_blocks) ||
                  void 0 === t
                    ? void 0
                    : t.filter(
                        (t) => e >= t.block_rt_start && e < t.block_rt_end,
                      )) || void 0 === n
                ? void 0
                : n.length) > 0,
          );
        }
        BRequiresRemotePlayTogether() {
          return this.m_model.required_app_features.remote_play_together || !1;
        }
        SetRequiresRemotePlayTogether(e) {
          e !==
            (this.m_model.required_app_features.remote_play_together || !1) &&
            ((this.m_model.required_app_features.remote_play_together = e),
            this.SetDirty(!0));
        }
        BRequiresVR() {
          return this.m_model.required_app_features.vr || !1;
        }
        SetRequiresVR(e) {
          e !== (this.m_model.required_app_features.vr || !1) &&
            ((this.m_model.required_app_features.vr = e), this.SetDirty(!0));
        }
        BOptInRegistationOnlyShowSaveButton() {
          return this.m_model.opt_in_registration_only_show_save;
        }
        SetOptInRegistationOnlyShowSaveButton(e) {
          e != this.m_model.opt_in_registration_only_show_save &&
            ((this.m_model.opt_in_registration_only_show_save = e),
            this.SetDirty(!0));
        }
        BIsAdditionalFeaturingSectionEnabled() {
          return this.m_model.additional_featuring_section_enabled;
        }
        SetAdditionalFeaturingSectionEnabled(e) {
          e != this.m_model.additional_featuring_section_enabled &&
            ((this.m_model.additional_featuring_section_enabled = e),
            this.SetDirty(!0));
        }
        BIsCollectTrailerPermissions() {
          return this.m_model.collect_trailer_permissions;
        }
        SetCollectTrailerPermissions(e) {
          e != this.m_model.collect_trailer_permissions &&
            ((this.m_model.collect_trailer_permissions = e), this.SetDirty(!0));
        }
        BIsCollectDemoPermissions() {
          return this.m_model.collect_demo_permissions;
        }
        SetCollectDemoPermissions(e) {
          e != this.m_model.collect_demo_permissions &&
            ((this.m_model.collect_demo_permissions = e), this.SetDirty(!0));
        }
        BIsCollectGameProfileIntent() {
          return this.m_model.collect_game_profile_intent;
        }
        SetCollectGameProfileIntent(e) {
          e != this.m_model.collect_game_profile_intent &&
            ((this.m_model.collect_game_profile_intent = e), this.SetDirty(!0));
        }
        BHasCollectDemoDeadlineDate() {
          return Boolean(this.m_model.collect_demo_deadline);
        }
        GetCollectDemoDeadlineDate() {
          return this.m_model.collect_demo_deadline;
        }
        SetCollectDemoDeadlineDate(e) {
          e != this.m_model.collect_demo_deadline &&
            ((this.m_model.collect_demo_deadline = e), this.SetDirty(!0));
        }
        GetCurEventTitle() {
          var e;
          return null !==
            (e = this.GetEventTitle(d.U.Get().GetCurEditLanguage())) &&
            void 0 !== e
            ? e
            : "";
        }
        GetEventTitle(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.event_title, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurEventTitle(e) {
          this.SetEventTitle(d.U.Get().GetCurEditLanguage(), e);
        }
        SetEventTitle(e, t) {
          this.SetKVLang(this.m_model.event_title, e, t);
        }
        GetCurEligibilityText() {
          var e;
          return null !==
            (e = this.GetEligibilityText(d.U.Get().GetCurEditLanguage())) &&
            void 0 !== e
            ? e
            : "";
        }
        GetEligibilityText(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.eligibility_text, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurEligibilityText(e) {
          this.SetEligibilityText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetEligibilityText(e, t) {
          this.SetKVLang(this.m_model.eligibility_text, e, t);
        }
        GetCurOptInRegistrationTitle() {
          var e;
          return null !==
            (e = this.GetOptInRegistrationTitle(
              d.U.Get().GetCurEditLanguage(),
            )) && void 0 !== e
            ? e
            : "";
        }
        GetOptInRegistrationTitle(e) {
          var t;
          return null !==
            (t = this.GetKVLang(this.m_model.opt_in_registration_title, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurOptInRegistrationTitle(e) {
          this.SetOptInRegistrationTitle(d.U.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationTitle(e, t) {
          this.m_model.opt_in_registration_title ||
            (this.m_model.opt_in_registration_title = {}),
            this.SetKVLang(this.m_model.opt_in_registration_title, e, t);
        }
        GetCurOptInRegistrationCheckbox() {
          var e;
          return null !==
            (e = this.GetOptInRegistrationCheckbox(
              d.U.Get().GetCurEditLanguage(),
            )) && void 0 !== e
            ? e
            : "";
        }
        GetOptInRegistrationCheckbox(e) {
          var t;
          return null !==
            (t = this.GetKVLang(
              this.m_model.opt_in_registration_checkbox,
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        SetCurOptInRegistrationCheckbox(e) {
          this.SetOptInRegistrationCheckbox(d.U.Get().GetCurEditLanguage(), e);
        }
        SetOptInRegistrationCheckbox(e, t) {
          this.m_model.opt_in_registration_checkbox ||
            (this.m_model.opt_in_registration_checkbox = {}),
            this.SetKVLang(this.m_model.opt_in_registration_checkbox, e, t);
        }
        BHasOptInRegistrationTitleOrCheckbox() {
          return (
            Boolean(this.m_model.opt_in_registration_title) ||
            Boolean(this.m_model.opt_in_registration_checkbox)
          );
        }
        BIsOptInEnabled() {
          return this.m_model.sale_optin_enabled;
        }
        SetOptInEnabled(e) {
          e !== this.m_model.sale_optin_enabled &&
            ((this.m_model.sale_optin_enabled = e), this.SetDirty(!0));
        }
        GetOptInType() {
          return this.m_model.optin_type || r.Vs.k_EOptInType_EventRegistration;
        }
        SetOptInType(e) {
          e !== this.m_model.optin_type &&
            ((this.m_model.optin_type = e), this.SetDirty(!0));
        }
        GetPublicEventURL() {
          return this.m_model.public_event_url;
        }
        SetPublicEventURL(e) {
          e != this.m_model.public_event_url &&
            ((this.m_model.public_event_url = e), this.SetDirty(!0));
        }
        GetAssetSetDocFile() {
          return this.m_model.asset_set_doc_file;
        }
        SetAssetSetDocFile(e) {
          e != this.m_model.asset_set_doc_file &&
            ((this.m_model.asset_set_doc_file = e), this.SetDirty(!0));
        }
        GetPublicDocumentationWikiURL() {
          return this.m_model.public_doc_wiki_url;
        }
        SetPublicDocumentationWikiURL(e) {
          e != this.m_model.public_doc_wiki_url &&
            ((this.m_model.public_doc_wiki_url = e), this.SetDirty(!0));
        }
        GetPublicEventID() {
          return this.m_model.public_event_id;
        }
        SetPublicEventID(e) {
          e != this.m_model.public_event_id &&
            ((this.m_model.public_event_id = e), this.SetDirty(!0));
        }
        GetEventStartTime() {
          return this.m_model.event_start_date;
        }
        SetEventStartTime(e) {
          e !== this.m_model.event_start_date &&
            ((this.m_model.event_start_date = e), this.SetDirty(!0));
        }
        GetEventEndTime() {
          return this.m_model.event_end_date;
        }
        SetEventEndTime(e) {
          e !== this.m_model.event_end_date &&
            ((this.m_model.event_end_date = e), this.SetDirty(!0));
        }
        GetEventTrailerDropDate() {
          return this.m_model.trailer_drop_date;
        }
        SetEventTrailerDropDate(e) {
          e !== this.m_model.trailer_drop_date &&
            ((this.m_model.trailer_drop_date = e), this.SetDirty(!0));
        }
        GetOptInDeadlineTime() {
          return this.m_model.optin_deadline_date;
        }
        SetOptInDeadlineTime(e) {
          e !== this.m_model.optin_deadline_date &&
            ((this.m_model.optin_deadline_date = e), this.SetDirty(!0));
        }
        BIsInvitationOnly() {
          return this.m_model.invitation_only;
        }
        SetInvititationOnly(e) {
          e !== this.m_model.invitation_only &&
            ((this.m_model.invitation_only = e), this.SetDirty(!0));
        }
        BIsReleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_released_games;
        }
        SetReleaseGameEligible(e) {
          e !== this.m_model.release_date_eligibility.include_released_games &&
            ((this.m_model.release_date_eligibility.include_released_games = e),
            this.SetDirty(!0));
        }
        BIsUnreleaseGamesEligible() {
          return this.m_model.release_date_eligibility.include_unreleased_games;
        }
        SetUnreleaseGameEligible(e) {
          e !==
            this.m_model.release_date_eligibility.include_unreleased_games &&
            ((this.m_model.release_date_eligibility.include_unreleased_games =
              e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseBeforeDate() {
          return this.m_model.release_date_eligibility.release_before_date;
        }
        SetEligibleReleaseBeforeDate(e) {
          e !== this.m_model.release_date_eligibility.release_before_date &&
            ((this.m_model.release_date_eligibility.release_before_date = e),
            this.SetDirty(!0));
        }
        GetEligibleReleaseAfterDate() {
          return this.m_model.release_date_eligibility.release_after_date;
        }
        SetEligibleReleaseAfterDate(e) {
          e !== this.m_model.release_date_eligibility.release_after_date &&
            ((this.m_model.release_date_eligibility.release_after_date = e),
            this.SetDirty(!0));
        }
        GetCooldownGroupType() {
          return this.m_model.cooldown_group.group_id || 0;
        }
        SetCooldownGroupType(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.group_id) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.group_id = e),
            this.SetDirty(!0));
        }
        GetCooldownRequired() {
          return this.m_model.cooldown_group.cooldown_required || !1;
        }
        SetCooldownRequired(e) {
          (this.m_model.cooldown_group &&
            e === this.m_model.cooldown_group.cooldown_required) ||
            (this.m_model.cooldown_group || (this.m_model.cooldown_group = {}),
            (this.m_model.cooldown_group.cooldown_required = e),
            this.SetDirty(!0));
        }
        GetCooldownDays() {
          return this.m_model.cooldown_group.cooldown_time || 0;
        }
        SetCooldownDays(e) {
          e !== this.m_model.cooldown_group.cooldown_time &&
            ((this.m_model.cooldown_group.cooldown_time = e),
            this.SetDirty(!0));
        }
        GetRequiredTags() {
          let e = [];
          if (this.m_model && this.m_model.required_tags) {
            let t = v.v.Get().GetGameTags();
            Object.keys(this.m_model.required_tags).forEach((n) => {
              const a = t.find((e) => e.value == n);
              a && e.push({ label: a.label, value: a.value });
            });
          }
          return e;
        }
        OnChangeRequiredTags(e) {
          (this.m_model.required_tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.required_tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        GetAppOfficialWeightedTagRankToInclude() {
          return this.m_model.app_official_weighted_tag_rank_to_include || 20;
        }
        SetAppOfficialWeightedTagRankToInclude(e) {
          e !== this.m_model.app_official_weighted_tag_rank_to_include &&
            ((this.m_model.app_official_weighted_tag_rank_to_include = e),
            this.SetDirty(!0));
        }
        GetModel() {
          return this.m_model;
        }
        GetDynamicSections() {
          return this.m_model.dynamic_sections || [];
        }
        GetEditableDynamicSections() {
          return this.m_dynamicSections || [];
        }
        GetDynamicSectionByID(e) {
          return this.m_mapDynamicSection.get(e);
        }
        GetEmailDefinitionByID(e) {
          return this.m_mapEmails.get(e);
        }
        GetFirstEmail() {
          var e;
          return (null === (e = this.m_EmailDefinitions) || void 0 === e
            ? void 0
            : e.length) > 0
            ? this.m_EmailDefinitions[0]
            : void 0;
        }
        GetEmailDefinitions() {
          return this.m_EmailDefinitions;
        }
        GetCurDescription() {
          return this.GetDescription(d.U.Get().GetCurEditLanguage());
        }
        GetDescription(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.description, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurDescription(e) {
          this.SetDescription(d.U.Get().GetCurEditLanguage(), e);
        }
        SetDescription(e, t) {
          this.SetKVLang(this.m_model.description, e, t);
        }
        GetCurHelpText() {
          return this.GetHelpText(d.U.Get().GetCurEditLanguage());
        }
        GetHelpText(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.help_text, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurHelpText(e) {
          this.SetHelpText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetHelpText(e, t) {
          this.SetKVLang(this.m_model.help_text, e, t);
        }
        GetCurAppealsText() {
          return this.GetAppealsText(d.U.Get().GetCurEditLanguage());
        }
        GetAppealsText(e) {
          var t;
          return null !== (t = this.GetKVLang(this.m_model.appeals_text, e)) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurAppealsText(e) {
          this.SetAppealsText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetAppealsText(e, t) {
          this.SetKVLang(this.m_model.appeals_text, e, t);
        }
        GetCurPruningCriteriaText() {
          return this.GetPruningCriteriaText(d.U.Get().GetCurEditLanguage());
        }
        GetPruningCriteriaText(e) {
          var t;
          return null !== (t = this.m_model.eligibility_criteria) &&
            void 0 !== t
            ? t
            : "";
        }
        SetCurPruningCriteriaText(e) {
          this.SetPruningCriteriaText(d.U.Get().GetCurEditLanguage(), e);
        }
        SetPruningCriteriaText(e, t) {
          (this.m_model.eligibility_criteria = t), this.SetDirty(!0);
        }
        GetPointShopPriorityApps() {
          return this.m_model.point_shop_priority_appids;
        }
        SetPointShopPriorityApps(e) {
          (this.m_model.point_shop_priority_appids = e), this.SetDirty(!0);
        }
        GetPointShopIncludedApps() {
          return this.m_model.point_shop_included_appids;
        }
        SetPointShopIncludedApps(e) {
          (this.m_model.point_shop_included_appids = e), this.SetDirty(!0);
        }
        GetPointShopAdvertisingAppID() {
          return this.m_model.point_shop_advertising_appid || 0;
        }
        SetPointShopAdvertisingAppID(e) {
          e != this.m_model.point_shop_advertising_appid &&
            ((this.m_model.point_shop_advertising_appid = e),
            this.SetDirty(!0));
        }
        GetPointShopRadialColorOverride() {
          return this.m_model.point_shop_radial_color_override;
        }
        SetPointShopRadialColorOverride(e) {
          e != this.m_model.point_shop_radial_color_override &&
            ((this.m_model.point_shop_radial_color_override = e),
            this.SetDirty(!0));
        }
        GetPointShopRadialEdgeColorOverride() {
          return this.m_model.point_shop_radial_edge_color_override;
        }
        SetPointShopRadialEdgeColorOverride(e) {
          e != this.m_model.point_shop_radial_edge_color_override &&
            ((this.m_model.point_shop_radial_edge_color_override = e),
            this.SetDirty(!0));
        }
        GetAllLocalizedOptInBanner() {
          var e;
          return null !== (e = this.m_model.localized_optin_banner) &&
            void 0 !== e
            ? e
            : {};
        }
        GetLocalizedOptInBanner(e) {
          var t, n;
          return null !==
            (n =
              null === (t = this.m_model.localized_optin_banner) || void 0 === t
                ? void 0
                : t[(0, m.j_)(e)]) && void 0 !== n
            ? n
            : "";
        }
        SetLocalizedOptInBanner(e, t) {
          (this.m_model.localized_optin_banner &&
            !Array.isArray(this.m_model.localized_optin_banner)) ||
            (this.m_model.localized_optin_banner = {});
          const n = (0, m.j_)(e);
          this.m_model.localized_optin_banner[n] != t &&
            ((this.m_model.localized_optin_banner[n] = t), this.SetDirty(!0));
        }
        DeleteLocalizedOptInBanner(e) {
          var t;
          const n = (0, m.j_)(e);
          (null === (t = this.m_model.localized_optin_banner) || void 0 === t
            ? void 0
            : t[n]) &&
            (delete this.m_model.localized_optin_banner[n], this.SetDirty(!0));
        }
        BIsCategoriesEnabled() {
          return this.m_model.categories.enabled;
        }
        SetCategoriesEnabled(e) {
          e != this.m_model.categories.enabled &&
            ((this.m_model.categories.enabled = e), this.SetDirty(!0));
        }
        GetCategoriesRequired() {
          return this.m_model.categories.required || 0;
        }
        SetCategoriesRequired(e) {
          e != this.m_model.categories.required &&
            ((this.m_model.categories.required = e), this.SetDirty(!0));
        }
        GetCategoryTags() {
          let e = [];
          if (this.m_model && this.m_model.categories.tags) {
            let t = v.v.Get().GetGameTags();
            Object.keys(this.m_model.categories.tags).forEach((n) => {
              const a = t.find((e) => e.value == n);
              e.push({ label: a.label, value: a.value });
            });
          }
          return e;
        }
        OnChangeCategoryTags(e) {
          (this.m_model.categories.tags = {}),
            e &&
              e.forEach((e) => {
                let t = parseInt(e.value);
                this.m_model.categories.tags[t] = !0;
              }),
            this.SetDirty(!0);
        }
        BIsArtistStatementEnabled() {
          return this.m_model.artist_statement.enabled || !1;
        }
        SetArtistStatementEnabled(e) {
          e !== this.m_model.artist_statement.enabled &&
            ((this.m_model.artist_statement.enabled = e), this.SetDirty(!0));
        }
        GetArtistStatementRequired() {
          return this.m_model.artist_statement.required || 0;
        }
        SetArtistStatementRequired(e) {
          e !== this.m_model.artist_statement.required &&
            ((this.m_model.artist_statement.required = e), this.SetDirty(!0));
        }
        BIsPrimaryCountryEnabled() {
          return this.m_model.primary_country.enabled || !1;
        }
        SetPrimaryCountryEnabled(e) {
          e !== this.m_model.primary_country.enabled &&
            ((this.m_model.primary_country.enabled = e), this.SetDirty(!0));
        }
        GetPrimaryCountryRequired() {
          return this.m_model.primary_country.required || 0;
        }
        SetPrimaryCountryRequired(e) {
          e !== this.m_model.primary_country.required &&
            ((this.m_model.primary_country.required = e), this.SetDirty(!0));
        }
        BIsPressContactEnabled() {
          return this.m_model.press_contact.enabled || !1;
        }
        SetPressContactEnabled(e) {
          var t;
          e !==
            (null === (t = this.m_model) || void 0 === t
              ? void 0
              : t.press_contact.enabled) &&
            ((this.m_model.press_contact.enabled = e), this.SetDirty(!0));
        }
        GetPressContactRequired() {
          return this.m_model.press_contact.required || 0;
        }
        SetPressContactRequired(e) {
          var t;
          e !==
            (null === (t = this.m_model) || void 0 === t
              ? void 0
              : t.press_contact.required) &&
            ((this.m_model.press_contact.required = e), this.SetDirty(!0));
        }
        BIsBeforeYouOptInEnabled() {
          return this.m_model.before_you_opt_in || !1;
        }
        SetBeforeYouOptInEnabled(e) {
          e !== this.m_model.before_you_opt_in &&
            ((this.m_model.before_you_opt_in = e), this.SetDirty(!0));
        }
        BIsBuildYourStorePageEnabled() {
          return this.m_model.build_store_page.enabled || !1;
        }
        SetBuildYourStorePageEnabled(e) {
          e !== this.m_model.build_store_page.enabled &&
            ((this.m_model.build_store_page.enabled = e), this.SetDirty(!0));
        }
        GetBuildYourStorePageRequired() {
          return this.m_model.build_store_page.required || 0;
        }
        SetBuildYourStorePageRequired(e) {
          e !== this.m_model.build_store_page.required &&
            ((this.m_model.build_store_page.required = e), this.SetDirty(!0));
        }
        GetStorePageText() {
          var e;
          return null !==
            (e = this.GetKVLang(
              this.m_model.build_store_page.description,
              d.U.Get().GetCurEditLanguage(),
            )) && void 0 !== e
            ? e
            : "";
        }
        SetStorePageText(e) {
          this.m_model.build_store_page || (this.m_model.build_store_page = {}),
            this.m_model.build_store_page.description ||
              (this.m_model.build_store_page.description = {}),
            this.SetKVLang(
              this.m_model.build_store_page.description,
              d.U.Get().GetCurEditLanguage(),
              e,
            );
        }
        BIsTaggingWizardEnabled() {
          return this.m_model.tagging_wizard || !1;
        }
        SetTaggingWizardEnabled(e) {
          e !== this.m_model.tagging_wizard &&
            ((this.m_model.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsLaunchYourDemoEnabled() {
          return this.m_model.launch_demo.enabled || !1;
        }
        SetLaunchYourDemoEnabled(e) {
          e !== this.m_model.launch_demo.enabled &&
            ((this.m_model.launch_demo.enabled = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoRequired() {
          return this.m_model.launch_demo.required || 0;
        }
        SetLaunchYourDemoRequired(e) {
          e !== this.m_model.launch_demo.required &&
            ((this.m_model.launch_demo.required = e), this.SetDirty(!0));
        }
        GetLaunchYourDemoDueDate() {
          return this.m_model.launch_demo.due_date || 0;
        }
        SetLaunchYourDemoDueDate(e) {
          e !== this.m_model.launch_demo.due_date &&
            ((this.m_model.launch_demo.due_date = e), this.SetDirty(!0));
        }
        BIsDoAnytimeEnabled() {
          return this.m_model.do_anytime.enabled || !1;
        }
        SetDoAnytimeEnabled(e) {
          e !== this.m_model.do_anytime.enabled &&
            ((this.m_model.do_anytime.enabled = e), this.SetDirty(!0));
        }
        BIsLivestreamEnabled() {
          return this.m_model.do_anytime.livestream || !1;
        }
        SetLivestreamEnabled(e) {
          e !== this.m_model.do_anytime.livestream &&
            ((this.m_model.do_anytime.livestream = e), this.SetDirty(!0));
        }
        BIsChatSessionEnabled() {
          return this.m_model.do_anytime.chat_session || !1;
        }
        SetChatSessionEnabled(e) {
          e !== this.m_model.do_anytime.chat_session &&
            ((this.m_model.do_anytime.chat_session = e), this.SetDirty(!0));
        }
        BIsAnytimeTaggingWizardEnabled() {
          return this.m_model.do_anytime.tagging_wizard || !1;
        }
        SetAnytimeTaggingWizardEnabled(e) {
          e !== this.m_model.do_anytime.tagging_wizard &&
            ((this.m_model.do_anytime.tagging_wizard = e), this.SetDirty(!0));
        }
        BIsEnterDiscountsEnabled() {
          return this.m_model.do_anytime.enter_discounts || !1;
        }
        SetEnterDiscountsEnabled(e) {
          e !== this.m_model.do_anytime.enter_discounts &&
            ((this.m_model.do_anytime.enter_discounts = e), this.SetDirty(!0));
        }
        GetDiscountEventID() {
          return this.m_model.do_anytime.discount_event_id || "";
        }
        SetDiscountEventID(e) {
          e !== this.m_model.do_anytime.discount_event_id &&
            ((this.m_model.do_anytime.discount_event_id = e),
            this.SetDirty(!0));
        }
        GetExternalAppReviewers() {
          return this.m_model.external_app_reviewer || [];
        }
        SetExternalAppReviewers(e) {
          JSON.stringify(e) !==
            JSON.stringify(this.m_model.external_app_reviewer) &&
            ((this.m_model.external_app_reviewer = e), this.SetDirty(!0));
        }
        RemoveExternalAppReviewAt(e) {
          var t;
          e <
            (null === (t = this.m_model.external_app_reviewer) || void 0 === t
              ? void 0
              : t.length) &&
            (this.m_model.external_app_reviewer.splice(e, 1),
            this.SetDirty(!0));
        }
        BAddExternalAppReviewAt(e) {
          this.m_model.external_app_reviewer ||
            (this.m_model.external_app_reviewer = []);
          return (
            -1 == this.m_model.external_app_reviewer.findIndex((t) => t == e) &&
            (this.m_model.external_app_reviewer.push(e), this.SetDirty(!0), !0)
          );
        }
        SetKVLang(e, t, n) {
          (0, E.eJ)(e, t, n) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, E.Y8)(e, t);
        }
        AddDynamicSection() {
          this.m_model.dynamic_sections || (this.m_model.dynamic_sections = []),
            this.m_model.dynamic_sections.push(b.CreateDefaultDynamicSection());
          const e = new I(
            this.m_model.dynamic_sections[
              this.m_model.dynamic_sections.length - 1
            ],
          );
          this.m_mapDynamicSection.set(e.GetUniqueID(), e),
            this.m_dynamicSections.push(e),
            this.SetDirty(!0);
        }
        static CreateDefaultDynamicSection() {
          return {
            unique_id: b.Get().GenerateUniqueIDForOptInSection(),
            input_style: "radio",
            columns: 1,
            lists: [
              {
                options: [],
                unique_id: b.GenerateUniqueIDForOptionListSection(),
              },
            ],
          };
        }
        DeleteDynamicSection(e) {
          const t = this.GetDynamicSectionByID(e);
          if (!t) return console.log("Could not find section with ID " + e), !1;
          this.m_mapDynamicSection.delete(t.GetUniqueID());
          let n = this.m_dynamicSections.findIndex((t) => t.GetUniqueID() == e);
          if (-1 === n) throw `dynamic section unique id ${e} missing: editing`;
          if (
            (this.m_dynamicSections.splice(n, 1),
            (n = this.m_model.dynamic_sections.findIndex(
              (t) => t.unique_id === e,
            )),
            -1 === n)
          )
            throw `dynamic section unique id ${e} missing: source model`;
          return (
            this.m_model.dynamic_sections.splice(n, 1), this.SetDirty(!0), !0
          );
        }
        GenerateUniqueIDForOptInSection() {
          let e = Math.floor(1 + 1e5 * Math.random());
          for (; this.GetDynamicSectionByID(D + e); )
            e = Math.floor(1 + 1e5 * Math.random());
          return D + e;
        }
        static GenerateUniqueIDForOptionListSection(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === f + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return f + t;
        }
        static GenerateUniqueIDForListItem(e) {
          let t = Math.floor(1 + 1e5 * Math.random());
          for (; e && e.some((e) => e.unique_id === y + t); )
            t = Math.floor(1 + 1e5 * Math.random());
          return y + t;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        SetDirty(e) {
          this.m_bDirty != e &&
            ((this.m_bDirty = e),
            v.v.Get().SetUnpublishedChanges(this.GetFullName()));
        }
        Save(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = g.De.PARTNER_BASE_URL + "optin/ajaxadminupdate";
            const n = new FormData();
            n.append("sessionid", g.De.SESSIONID),
              n.append("pageid", this.m_model.pageid),
              n.append("jsondata", JSON.stringify(this.m_model));
            try {
              let a = yield l().post(t, n, {
                withCredentials: !0,
                cancelToken: e,
              });
              if (e.reason)
                return (
                  console.log(
                    "COptInAdminEditModel.Save Cancelled: " + e.reason,
                  ),
                  null
                );
              if (200 != a.status || !a.data || 1 != a.data.success) {
                let e =
                  "Save Error: (" +
                  (a.data
                    ? "erseult: " + a.data.success
                    : "status: " + a.status) +
                  ")";
                return (
                  a.data &&
                    a.data.err_msg &&
                    (e += " Error Message: " + a.data.err_msg),
                  console.error("COptInAdminEditModel.Save: " + e),
                  e
                );
              }
              v.v.Get().SetOptInDefinition(this.m_model), this.SetDirty(!1);
            } catch (e) {
              let t = (0, p.l)(e);
              return (
                console.error(
                  "COptInAdminEditModel save error: " + t.strErrorMsg,
                  t,
                ),
                "Save Error: " + e.strErrorMsg
              );
            }
            return null;
          });
        }
        BInitialized() {
          return Boolean(this.m_model);
        }
        BHasLanguageData(e) {
          const t = (0, m.j_)(e);
          return (
            (this.m_model.description &&
              this.m_model.description[t] &&
              this.m_model.description[t].length > 0) ||
            (this.m_model.help_text &&
              this.m_model.help_text[t] &&
              this.m_model.help_text[t].length > 0) ||
            (this.m_model.appeals_text &&
              this.m_model.appeals_text[t] &&
              this.m_model.appeals_text[t].length > 0) ||
            (this.m_model.special_event_name &&
              this.m_model.special_event_name[t] &&
              this.m_model.special_event_name[t].length > 0) ||
            (this.m_model.special_event_description &&
              this.m_model.special_event_description[t] &&
              this.m_model.special_event_description[t].length > 0) ||
            (this.m_model.build_store_page &&
              this.m_model.build_store_page.description &&
              this.m_model.build_store_page.description[t] &&
              this.m_model.build_store_page.description[t].length > 0) ||
            (this.m_model.artist_statement &&
              this.m_model.artist_statement.description &&
              this.m_model.artist_statement.description[t] &&
              this.m_model.artist_statement.description[t].length > 0)
          );
        }
        constructor() {
          (this.m_model = void 0),
            (this.m_bDirty = !1),
            (this.rgActiveStats = void 0),
            (this.m_dynamicSections = void 0),
            (this.m_mapDynamicSection = new Map()),
            (this.m_EmailDefinitions = void 0),
            (this.m_mapEmails = new Map()),
            (this.m_activeStatsChange = new _.pB()),
            (this.rgOptionalSuggestedRequired = []),
            (this.rgEventTypes = []),
            (this.rgGameTokens = []),
            (0, s.rC)(this);
        }
        Reset(e, t) {
          var n, a;
          if (
            ((this.m_model = e ? JSON.parse(JSON.stringify(e)) : null),
            (this.m_bDirty = !1),
            d.U.Get().SetCurEditLanguage(0),
            this.SetActiveStats(t),
            this.m_model &&
              ((this.m_model.required_tags &&
                !Array.isArray(this.m_model.required_tags)) ||
                (this.m_model.required_tags = {}),
              (this.m_model.categories &&
                !Array.isArray(this.m_model.categories)) ||
                (this.m_model.categories = {}),
              (this.m_model.categories.tags &&
                !Array.isArray(this.m_model.categories.tags)) ||
                (this.m_model.categories.tags = {}),
              (this.m_model.artist_statement &&
                !Array.isArray(this.m_model.artist_statement)) ||
                (this.m_model.artist_statement = {}),
              (this.m_model.primary_country &&
                !Array.isArray(this.m_model.primary_country)) ||
                (this.m_model.primary_country = {}),
              (this.m_model.press_contact &&
                !Array.isArray(this.m_model.press_contact)) ||
                (this.m_model.press_contact = {}),
              (this.m_model.build_store_page &&
                !Array.isArray(this.m_model.build_store_page)) ||
                (this.m_model.build_store_page = {}),
              (this.m_model.launch_demo &&
                !Array.isArray(this.m_model.launch_demo)) ||
                (this.m_model.launch_demo = {}),
              (this.m_model.do_anytime &&
                !Array.isArray(this.m_model.do_anytime)) ||
                (this.m_model.do_anytime = {}),
              (this.m_model.release_date_eligibility &&
                !Array.isArray(this.m_model.release_date_eligibility)) ||
                (this.m_model.release_date_eligibility = {}),
              (this.m_model.cooldown_group &&
                !Array.isArray(this.m_model.cooldown_group)) ||
                (this.m_model.cooldown_group = {}),
              (this.m_model.description &&
                !Array.isArray(this.m_model.description)) ||
                (this.m_model.description = {}),
              (this.m_model.help_text &&
                !Array.isArray(this.m_model.help_text)) ||
                (this.m_model.help_text = {}),
              (this.m_model.appeals_text &&
                !Array.isArray(this.m_model.appeals_text)) ||
                (this.m_model.appeals_text = {}),
              (this.m_model.special_event_description &&
                !Array.isArray(this.m_model.special_event_description)) ||
                (this.m_model.special_event_description = {}),
              (this.m_model.special_event_name &&
                !Array.isArray(this.m_model.special_event_name)) ||
                (this.m_model.special_event_name = {}),
              (this.m_model.event_title &&
                !Array.isArray(this.m_model.event_title)) ||
                (this.m_model.event_title = {}),
              (this.m_model.eligibility_text &&
                !Array.isArray(this.m_model.eligibility_text)) ||
                (this.m_model.eligibility_text = {}),
              (this.m_model.required_app_features &&
                !Array.isArray(this.m_model.required_app_features)) ||
                (this.m_model.required_app_features = {})),
            this.m_model && !this.m_model.event_start_date)
          ) {
            let e = new Date();
            e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_start_date = Math.floor(e.getTime() / 1e3));
          }
          if (this.m_model && !this.m_model.event_end_date) {
            let e = new Date();
            e.setDate(e.getDate() + 1),
              e.setHours(10),
              e.setMinutes(0),
              e.setSeconds(0),
              (this.m_model.event_end_date = Math.floor(e.getTime() / 1e3));
          }
          (this.m_dynamicSections = []),
            (this.m_mapDynamicSection = new Map()),
            this.m_model &&
              this.m_model.dynamic_sections &&
              this.m_model.dynamic_sections.forEach((e) => {
                let t = new I(e);
                this.m_dynamicSections.push(t),
                  this.m_mapDynamicSection.set(t.GetUniqueID(), t);
              }),
            (this.m_EmailDefinitions = []),
            (this.m_mapEmails = new Map()),
            (null ===
              (a =
                null === (n = this.m_model) || void 0 === n
                  ? void 0
                  : n.emails) || void 0 === a
              ? void 0
              : a.length) > 0 &&
              this.m_model.emails.forEach((e) => {
                const t = new o.S4(this.GetFullName(), e);
                this.m_EmailDefinitions.push(t),
                  this.m_mapEmails.set(t.GetUniqueID(), t);
              }),
            this.LoadActiveStatsDetails();
        }
        AddEmailDraft(e) {
          this.m_model.emails || (this.m_model.emails = []),
            this.m_model.emails.push(e);
          const t = new o.S4(
            this.GetFullName(),
            this.m_model.emails[this.m_model.emails.length - 1],
          );
          return (
            this.m_EmailDefinitions.push(t),
            this.m_mapEmails.set(t.GetUniqueID(), t),
            this.SetDirty(!0),
            t
          );
        }
        SetActiveStats(e) {
          (this.rgActiveStats = e),
            this.GetActiveStatsChangeCallaback().Dispatch(e);
        }
        GetActiveStats() {
          return this.rgActiveStats;
        }
        LoadActiveStatsDetails() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!this.m_model) return null;
            let e = g.De.PARTNER_BASE_URL + "optin/ajaxgetoptinstats";
            e +=
              "?active=true&pageids=" + encodeURIComponent(this.m_model.pageid);
            try {
              let t = yield l().get(e, { withCredentials: !0, timeout: 2e4 });
              if (200 != t.status || !t.data || 1 != t.data.success) {
                return (
                  "LoadActiveStatsDetails error: (" +
                  (t.data
                    ? "result: " + t.data.success
                    : "status: " + t.status) +
                  ")"
                );
              }
              if (t.data.msg) {
                const e = t.data.msg
                  ? JSON.parse(JSON.stringify(t.data.msg))
                  : null;
                this.SetActiveStats(e ? e[0] : null);
              }
            } catch (e) {
              return "Loading active stats returned " + e.strErrorMsg;
            }
            return null;
          });
        }
        RefreshActiveStats(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!this.m_model) return null;
            let t = g.De.PARTNER_BASE_URL + "optin/ajaxrefreshoptinstats";
            const n = new FormData();
            n.append("sessionid", g.De.SESSIONID),
              n.append("pageids", this.m_model.pageid);
            try {
              let a = yield l().post(t, n, {
                withCredentials: !0,
                cancelToken: e || void 0,
                timeout: 12e4,
              });
              if (e && e.reason)
                return (
                  console.log("RefreshingActiveStats Cancelled: " + e.reason),
                  null
                );
              if (200 != a.status || !a.data || 1 != a.data.success) {
                let e =
                  "Refresh optin stats error: (" +
                  (a.data
                    ? "result: " + a.data.success
                    : "status: " + a.status) +
                  ")";
                return (
                  console.log("COptInAdminEditModel.RefresActiveStats: " + e), e
                );
              }
              if (a.data.msg) {
                let e = a.data.msg
                  ? JSON.parse(JSON.stringify(a.data.msg))
                  : null;
                this.SetActiveStats(e ? e[0] : null);
              }
            } catch (e) {
              let t = (0, p.l)(e);
              return (
                console.error(
                  "COptInAdminEditModel.RefreshActiveStats error: " +
                    t.strErrorMsg,
                  t,
                ),
                "Save Error: " + e.strErrorMsg
              );
            }
            return null;
          });
        }
        GetRequiredOptions() {
          return (
            this.rgOptionalSuggestedRequired.length ||
              (this.rgOptionalSuggestedRequired.push({
                label: "Optional",
                data: 0,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Suggested",
                data: 1,
              }),
              this.rgOptionalSuggestedRequired.push({
                label: "Required",
                data: 2,
              })),
            this.rgOptionalSuggestedRequired
          );
        }
        GetCooldownGroupOptions() {
          if (!this.rgEventTypes.length)
            for (let e = 0; null != r.Sc[e]; e++)
              this.rgEventTypes.push({ label: r.Sc[e], data: e });
          return this.rgEventTypes;
        }
        GetGameTagOptions() {
          if (!this.rgGameTokens.length) {
            v.v
              .Get()
              .GetGameTags()
              .forEach((e) => {
                this.rgGameTokens.push({ label: e.label, value: e.value });
              });
          }
          return this.rgGameTokens;
        }
        GetSaleClanEventGID() {
          return this.m_model.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_model.sale_clan_account;
        }
        BHasAssociatedSaleEvent() {
          return this.m_model.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = S.K.InitFromClanID(this.m_model.sale_clan_account);
            return (
              g.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_model.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BRequiresSalePage() {
          return !1;
        }
        SetRequiresSalePage(e) {}
        SetSaleEvent(e, t) {
          (this.m_model.sale_clan_account == t &&
            this.m_model.sale_clan_event_gid == e) ||
            ((this.m_model.sale_clan_account = t),
            (this.m_model.sale_clan_event_gid = e),
            this.SetDirty(!0));
        }
        ClearSalePage() {
          (this.m_model.sale_clan_account = void 0),
            (this.m_model.sale_clan_event_gid = void 0),
            this.SetDirty(!0);
        }
      }
      (0, a.gn)([s.LO], b.prototype, "m_model", void 0),
        (0, a.gn)([s.LO], b.prototype, "m_bDirty", void 0),
        (0, a.gn)([s.LO], b.prototype, "rgActiveStats", void 0),
        (0, a.gn)([s.LO], b.prototype, "m_dynamicSections", void 0),
        (0, a.gn)([s.LO], b.prototype, "m_EmailDefinitions", void 0),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventType", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventType", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurSpecialEventName", null),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventName", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurSpecialEventName", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventName", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurSpecialEventDescription", null),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventDescription", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurSpecialEventDescription", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetSpecialEventDescription",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "GetQandA1EventStartTime", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetQandA1EventStartTime", null),
        (0, a.gn)([h.ak], b.prototype, "GetQandA1URL", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetQandA1URL", null),
        (0, a.gn)([h.ak], b.prototype, "GetQandA2EventStartTime", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetQandA2EventStartTime", null),
        (0, a.gn)([h.ak], b.prototype, "GetQandA2URL", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetQandA2URL", null),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventDocLink", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventDocLink", null),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventTypeMax", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventTypeMax", null),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventStartTime", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventStartTime", null),
        (0, a.gn)([h.ak], b.prototype, "GetSpecialEventEndTime", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventEndTime", null),
        (0, a.gn)([h.ak], b.prototype, "BHasSpecialEventTimeSet", null),
        (0, a.gn)([h.ak], b.prototype, "NCountSpecialEventBlocks", null),
        (0, a.gn)([s.aD.bound], b.prototype, "AddSpecialEventBlock", null),
        (0, a.gn)([s.aD.bound], b.prototype, "RemoveSpecialEventBlock", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetSpecialEventBlock", null),
        (0, a.gn)([h.ak], b.prototype, "GetAllSpecialEventBlocks", null),
        (0, a.gn)([s.aD.bound], b.prototype, "MoveSpecialEventblock", null),
        (0, a.gn)([h.ak], b.prototype, "BIsInSpecialEventBlockedTime", null),
        (0, a.gn)([h.ak], b.prototype, "BRequiresRemotePlayTogether", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetRequiresRemotePlayTogether",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BRequiresVR", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetRequiresVR", null),
        (0, a.gn)(
          [h.ak],
          b.prototype,
          "BOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetOptInRegistationOnlyShowSaveButton",
          null,
        ),
        (0, a.gn)(
          [h.ak],
          b.prototype,
          "BIsAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetAdditionalFeaturingSectionEnabled",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BIsCollectTrailerPermissions", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetCollectTrailerPermissions",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BIsCollectDemoPermissions", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetCollectDemoPermissions", null),
        (0, a.gn)([h.ak], b.prototype, "BIsCollectGameProfileIntent", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetCollectGameProfileIntent",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BHasCollectDemoDeadlineDate", null),
        (0, a.gn)([h.ak], b.prototype, "GetCollectDemoDeadlineDate", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetCollectDemoDeadlineDate",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "GetCurEventTitle", null),
        (0, a.gn)([h.ak], b.prototype, "GetEventTitle", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurEventTitle", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetEventTitle", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurEligibilityText", null),
        (0, a.gn)([h.ak], b.prototype, "GetEligibilityText", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurEligibilityText", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetEligibilityText", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurOptInRegistrationTitle", null),
        (0, a.gn)([h.ak], b.prototype, "GetOptInRegistrationTitle", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurOptInRegistrationTitle", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetOptInRegistrationTitle", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurOptInRegistrationCheckbox", null),
        (0, a.gn)([h.ak], b.prototype, "GetOptInRegistrationCheckbox", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurOptInRegistrationCheckbox", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetOptInRegistrationCheckbox",
          null,
        ),
        (0, a.gn)(
          [h.ak],
          b.prototype,
          "BHasOptInRegistrationTitleOrCheckbox",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BIsOptInEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetOptInEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetOptInType", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetOptInType", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPublicEventURL", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetAssetSetDocFile", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetPublicDocumentationWikiURL",
          null,
        ),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPublicEventID", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetEventStartTime", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetEventEndTime", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetEventTrailerDropDate", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetOptInDeadlineTime", null),
        (0, a.gn)([h.ak], b.prototype, "BIsInvitationOnly", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetInvititationOnly", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetReleaseGameEligible", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetUnreleaseGameEligible", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetEligibleReleaseBeforeDate",
          null,
        ),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetEligibleReleaseAfterDate",
          null,
        ),
        (0, a.gn)([s.aD.bound], b.prototype, "SetCooldownGroupType", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetCooldownRequired", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetCooldownDays", null),
        (0, a.gn)([h.ak], b.prototype, "OnChangeRequiredTags", null),
        (0, a.gn)(
          [h.ak],
          b.prototype,
          "GetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetAppOfficialWeightedTagRankToInclude",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "GetCurDescription", null),
        (0, a.gn)([h.ak], b.prototype, "GetDescription", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurDescription", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetDescription", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurHelpText", null),
        (0, a.gn)([h.ak], b.prototype, "GetHelpText", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurHelpText", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetHelpText", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurAppealsText", null),
        (0, a.gn)([h.ak], b.prototype, "GetAppealsText", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurAppealsText", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetAppealsText", null),
        (0, a.gn)([h.ak], b.prototype, "GetCurPruningCriteriaText", null),
        (0, a.gn)([h.ak], b.prototype, "GetPruningCriteriaText", null),
        (0, a.gn)([h.ak], b.prototype, "SetCurPruningCriteriaText", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPruningCriteriaText", null),
        (0, a.gn)([h.ak], b.prototype, "GetPointShopPriorityApps", null),
        (0, a.gn)([h.ak], b.prototype, "SetPointShopPriorityApps", null),
        (0, a.gn)([h.ak], b.prototype, "GetPointShopIncludedApps", null),
        (0, a.gn)([h.ak], b.prototype, "SetPointShopIncludedApps", null),
        (0, a.gn)([h.ak], b.prototype, "GetPointShopAdvertisingAppID", null),
        (0, a.gn)([h.ak], b.prototype, "SetPointShopAdvertisingAppID", null),
        (0, a.gn)([h.ak], b.prototype, "GetPointShopRadialColorOverride", null),
        (0, a.gn)([h.ak], b.prototype, "SetPointShopRadialColorOverride", null),
        (0, a.gn)(
          [h.ak],
          b.prototype,
          "GetPointShopRadialEdgeColorOverride",
          null,
        ),
        (0, a.gn)(
          [h.ak],
          b.prototype,
          "SetPointShopRadialEdgeColorOverride",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "GetLocalizedOptInBanner", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetLocalizedOptInBanner", null),
        (0, a.gn)([h.ak], b.prototype, "DeleteLocalizedOptInBanner", null),
        (0, a.gn)([h.ak], b.prototype, "BIsCategoriesEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetCategoriesEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetCategoriesRequired", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetCategoriesRequired", null),
        (0, a.gn)([h.ak], b.prototype, "OnChangeCategoryTags", null),
        (0, a.gn)([h.ak], b.prototype, "BIsArtistStatementEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetArtistStatementEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetArtistStatementRequired", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetArtistStatementRequired",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BIsPrimaryCountryEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPrimaryCountryEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetPrimaryCountryRequired", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPrimaryCountryRequired", null),
        (0, a.gn)([h.ak], b.prototype, "BIsPressContactEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPressContactEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetPressContactRequired", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetPressContactRequired", null),
        (0, a.gn)([h.ak], b.prototype, "BIsBeforeYouOptInEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetBeforeYouOptInEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "BIsBuildYourStorePageEnabled", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetBuildYourStorePageEnabled",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "GetBuildYourStorePageRequired", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetBuildYourStorePageRequired",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "GetStorePageText", null),
        (0, a.gn)([h.ak], b.prototype, "SetStorePageText", null),
        (0, a.gn)([h.ak], b.prototype, "BIsTaggingWizardEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetTaggingWizardEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "BIsLaunchYourDemoEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetLaunchYourDemoEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetLaunchYourDemoRequired", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetLaunchYourDemoRequired", null),
        (0, a.gn)([h.ak], b.prototype, "GetLaunchYourDemoDueDate", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetLaunchYourDemoDueDate", null),
        (0, a.gn)([h.ak], b.prototype, "BIsDoAnytimeEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetDoAnytimeEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "BIsLivestreamEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetLivestreamEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "BIsChatSessionEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetChatSessionEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "BIsAnytimeTaggingWizardEnabled", null),
        (0, a.gn)(
          [s.aD.bound],
          b.prototype,
          "SetAnytimeTaggingWizardEnabled",
          null,
        ),
        (0, a.gn)([h.ak], b.prototype, "BIsEnterDiscountsEnabled", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetEnterDiscountsEnabled", null),
        (0, a.gn)([h.ak], b.prototype, "GetDiscountEventID", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetDiscountEventID", null),
        (0, a.gn)([h.ak], b.prototype, "GetExternalAppReviewers", null),
        (0, a.gn)([s.aD.bound], b.prototype, "SetExternalAppReviewers", null),
        (0, a.gn)([s.aD.bound], b.prototype, "RemoveExternalAppReviewAt", null),
        (0, a.gn)([s.aD.bound], b.prototype, "BAddExternalAppReviewAt", null),
        (0, a.gn)([s.aD.bound], b.prototype, "AddDynamicSection", null),
        (0, a.gn)([s.aD.bound], b.prototype, "DeleteDynamicSection", null),
        (0, a.gn)([h.ak], b.prototype, "BHasLanguageData", null),
        (0, a.gn)([s.aD], b.prototype, "Reset", null),
        (0, a.gn)([s.aD.bound], b.prototype, "AddEmailDraft", null),
        (0, a.gn)([h.ak], b.prototype, "GetRequiredOptions", null),
        (0, a.gn)([h.ak], b.prototype, "GetCooldownGroupOptions", null),
        (0, a.gn)([h.ak], b.prototype, "GetGameTagOptions", null),
        (0, a.gn)([h.ak], b.prototype, "SetRequiresSalePage", null),
        (0, a.gn)([h.ak], b.prototype, "SetSaleEvent", null),
        (0, a.gn)([h.ak], b.prototype, "ClearSalePage", null);
      class I {
        constructor(e) {
          (this.m_section = void 0), (0, s.rC)(this), (this.m_section = e);
        }
        GetUniqueID() {
          return this.m_section.unique_id;
        }
        GetName() {
          var e;
          return null !==
            (e = (0, r.Xj)(
              this.m_section.name,
              d.U.Get().GetCurEditLanguage(),
              "",
            )) && void 0 !== e
            ? e
            : "";
        }
        GetNameWithFallback(e) {
          var t;
          return null !==
            (t = (0, r.Xj)(
              this.m_section.name,
              d.U.Get().GetCurEditLanguage(),
              e,
            )) && void 0 !== t
            ? t
            : "";
        }
        GetDescription() {
          var e;
          return null !==
            (e = (0, r.Xj)(
              this.m_section.description,
              d.U.Get().GetCurEditLanguage(),
              "",
            )) && void 0 !== e
            ? e
            : "";
        }
        GetInputStyle() {
          return this.m_section.input_style;
        }
        GetColumnCount() {
          return this.m_section.columns;
        }
        GetLists() {
          return this.m_section.lists;
        }
        GetListTitle(e) {
          var t;
          return null !==
            (t = (0, r.Xj)(
              this.m_section.lists[e].option_title,
              d.U.Get().GetCurEditLanguage(),
            )) && void 0 !== t
            ? t
            : "";
        }
        GetListByIndex(e) {
          return this.m_section.lists[e];
        }
        GetListByID(e) {
          const t = this.m_section.lists.filter((t) => t.unique_id == e);
          return t.length > 0 ? t[0] : null;
        }
        GetItemAtListAndIndex(e, t) {
          return this.m_section.lists[e].options[t];
        }
        GetModel() {
          return this.m_section;
        }
        GetListCount() {
          return this.m_section.lists ? this.m_section.lists.length : 0;
        }
        BIsValveOnlySection() {
          return this.m_section.valve_only;
        }
        SetName(e, t) {
          if ((0, r.Xj)(this.m_section.name, t) != e) {
            const n = (0, m.j_)(t, "english");
            this.m_section.name || (this.m_section.name = {}),
              (this.m_section.name[n] = e),
              b.Get().SetDirty(!0);
          }
        }
        SetDescription(e, t) {
          if ((0, r.Xj)(this.m_section.description, t) != e) {
            const n = (0, m.j_)(t, "english");
            this.m_section.description || (this.m_section.description = {}),
              (this.m_section.description[n] = e),
              b.Get().SetDirty(!0);
          }
        }
        SetDescriptionWithCurLang(e) {
          this.SetDescription(e, d.U.Get().GetCurEditLanguage());
        }
        SetInputStyle(e) {
          this.m_section.input_style != e &&
            ((this.m_section.input_style = e),
            "text_input" == e &&
              ((this.m_section.lists = this.m_section.lists.splice(
                1,
                this.m_section.lists.length,
              )),
              0 == this.m_section.lists.length && this.AddOptionList()),
            b.Get().SetDirty(!0));
        }
        SetColumnCount(e) {
          this.m_section.columns != e &&
            ((this.m_section.columns = e), b.Get().SetDirty(!0));
        }
        SetValveOnly(e) {
          this.m_section.valve_only != e &&
            ((this.m_section.valve_only = e), b.Get().SetDirty(!0));
        }
        AddItemToList(e, t, n, a) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.AddItemToListByIndex(i, t, n);
        }
        AddItemToListByIndex(e, t, n, a) {
          if (!(e >= 0 && e <= this.m_section.lists.length))
            throw "Adding item to a list that does not exist: " + e;
          {
            const i = (0, m.j_)(n, "english");
            this.m_section.lists[e].options ||
              (this.m_section.lists[e].options = []);
            const l = {
              text: {},
              unique_id: b.GenerateUniqueIDForListItem(
                this.m_section.lists[e].options,
              ),
            };
            (l.text[i] = t),
              a && ((l.tooltip = {}), (l.tooltip[i] = a)),
              this.m_section.lists[e].options.push(l),
              b.Get().SetDirty(!0);
          }
        }
        RemoveListItemByID(e, t) {
          let n = this.m_section.lists.findIndex((t) => t.unique_id === e);
          -1 !== n &&
            t < this.m_section.lists[n].options.length &&
            (this.m_section.lists[n].options.splice(t, 1),
            b.Get().SetDirty(!0));
        }
        RemoveListItem(e, t) {
          e < this.m_section.lists.length &&
            t < this.m_section.lists[e].options.length &&
            (this.m_section.lists[e].options.splice(t, 1),
            b.Get().SetDirty(!0));
        }
        MoveListItem(e, t, n) {
          e < this.m_section.lists.length &&
            ((0, u.hV)(this.m_section.lists[e].options, t, n),
            b.Get().SetDirty(!0));
        }
        UpdateListItemText(e, t, n, a) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== i &&
            t < this.m_section.lists[i].options.length &&
            (0, r.Xj)(this.m_section.lists[i].options[t].text, a) != n
          ) {
            const e = (0, m.j_)(a, "english");
            (this.m_section.lists[i].options[t].text[e] = n),
              b.Get().SetDirty(!0);
          }
        }
        UpdateListItemTooltip(e, t, n, a) {
          let i = this.m_section.lists.findIndex((t) => t.unique_id === e);
          if (
            -1 !== i &&
            t < this.m_section.lists[i].options.length &&
            (0, r.Xj)(this.m_section.lists[i].options[t].tooltip, a) != n
          ) {
            const e = (0, m.j_)(a, "english");
            this.m_section.lists[i].options[t].tooltip ||
              (this.m_section.lists[i].options[t].tooltip = {}),
              (this.m_section.lists[i].options[t].tooltip[e] = n),
              b.Get().SetDirty(!0);
          }
        }
        UpdateListItemTextByKV(e, t, n, a) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            t >= 0 &&
            t < this.m_section.lists[e].options.length
          ) {
            let i = this.m_section.lists[e].options[t],
              l = !1;
            for (let e = 0; e < 31; ++e) {
              if ((0, r.Xj)(n, e) != (0, r.Xj)(i.text, e)) {
                const t = (0, m.j_)(e);
                (i.text[t] = n[t]), (l = !0);
              }
              if (
                a &&
                (i.tooltip || (i.tooltip = {}),
                (0, r.Xj)(a, e) != (0, r.Xj)(i.tooltip, e))
              ) {
                const t = (0, m.j_)(e);
                (i.tooltip[t] = a[t]), (l = !0);
              }
            }
            l && b.Get().SetDirty(!0);
          }
        }
        AddOptionList() {
          const e = {
            options: [],
            unique_id: b.GenerateUniqueIDForOptionListSection(
              this.m_section.lists,
            ),
          };
          this.m_section.lists.push(e), b.Get().SetDirty(!0);
        }
        DeleteOptionList(e) {
          let t = this.m_section.lists.findIndex((t) => t.unique_id === e);
          t &&
            (this.m_section.lists.splice(t, 1),
            0 == this.m_section.lists.length &&
              (this.m_section.lists = [
                {
                  options: [],
                  unique_id: b.GenerateUniqueIDForOptionListSection(),
                },
              ]),
            b.Get().SetDirty(!0));
        }
        SetListTitle(e, t, n) {
          let a = this.m_section.lists.findIndex((t) => t.unique_id === e);
          this.SetListTitleByListIndex(a, t, n);
        }
        SetListTitleByListIndex(e, t, n) {
          if (
            e >= 0 &&
            e < this.m_section.lists.length &&
            (0, r.Xj)(this.m_section.lists[e].option_title, n) != t
          ) {
            const a = (0, m.j_)(n, "english");
            this.m_section.lists[e].option_title ||
              (this.m_section.lists[e].option_title = {}),
              (this.m_section.lists[e].option_title[a] = t),
              b.Get().SetDirty(!0);
          }
        }
      }
      function C() {
        const [e, t] = (0, c.useState)(b.Get().GetActiveStats());
        return (0, h.Qg)(b.Get().GetActiveStatsChangeCallaback(), t), e;
      }
      function k() {
        const e = C();
        return (0, c.useMemo)(() => {
          const t = JSON.parse((null == e ? void 0 : e.json_eligible) || "[]"),
            n = {
              jsonEligible: Array.isArray(t) ? t : [],
              jsonOptedIn: JSON.parse(
                (null == e ? void 0 : e.json_opted_in) || "[]",
              ),
              jsonOptedOut: JSON.parse(
                (null == e ? void 0 : e.json_opted_out) || "[]",
              ),
              jsonInvited: JSON.parse(
                (null == e ? void 0 : e.json_invited) || "[]",
              ),
              jsonPruned: JSON.parse(
                (null == e ? void 0 : e.json_pruned) || "[]",
              ),
              jsonFeatured: JSON.parse(
                (null == e ? void 0 : e.json_featured) || "[]",
              ),
              jsonPendingReview: JSON.parse(
                (null == e ? void 0 : e.json_pending_review) || "[]",
              ),
            };
          return (
            (n.setEligible = new Set(n.jsonEligible.map((e) => e.appid))),
            (n.setOptedIn = new Set(n.jsonOptedIn.map((e) => e.appid))),
            (n.setOptedOut = new Set(n.jsonOptedOut.map((e) => e.appid))),
            (n.setInvited = new Set(n.jsonInvited.map((e) => e.appid))),
            (n.setPruned = new Set(n.jsonPruned.map((e) => e.appid))),
            (n.setFeatured = new Set(n.jsonFeatured.map((e) => e.appid))),
            (n.setPendingReview = new Set(
              n.jsonPendingReview.map((e) => e.appid),
            )),
            n
          );
        }, [e]);
      }
      (0, a.gn)([h.ak], I.prototype, "GetName", null),
        (0, a.gn)([h.ak], I.prototype, "GetDescription", null),
        (0, a.gn)([s.aD.bound], I.prototype, "SetName", null),
        (0, a.gn)([s.aD.bound], I.prototype, "SetDescription", null),
        (0, a.gn)([s.aD.bound], I.prototype, "SetDescriptionWithCurLang", null),
        (0, a.gn)([s.aD.bound], I.prototype, "SetInputStyle", null),
        (0, a.gn)([s.aD.bound], I.prototype, "SetColumnCount", null),
        (0, a.gn)([s.aD.bound], I.prototype, "SetValveOnly", null),
        (0, a.gn)([s.aD.bound], I.prototype, "AddItemToList", null),
        (0, a.gn)([s.aD.bound], I.prototype, "AddItemToListByIndex", null),
        (0, a.gn)([s.aD], I.prototype, "RemoveListItemByID", null),
        (0, a.gn)([s.aD], I.prototype, "RemoveListItem", null),
        (0, a.gn)([s.aD], I.prototype, "MoveListItem", null),
        (0, a.gn)([s.aD], I.prototype, "UpdateListItemText", null),
        (0, a.gn)([s.aD], I.prototype, "UpdateListItemTooltip", null),
        (0, a.gn)([s.aD], I.prototype, "UpdateListItemTextByKV", null),
        (0, a.gn)([s.aD.bound], I.prototype, "AddOptionList", null),
        (0, a.gn)([s.aD], I.prototype, "DeleteOptionList", null),
        (0, a.gn)([s.aD], I.prototype, "SetListTitle", null),
        (0, a.gn)([s.aD], I.prototype, "SetListTitleByListIndex", null);
    },
    81070: (e, t, n) => {
      "use strict";
      n.d(t, { r: () => d, v: () => m });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(4771),
        o = n(54842),
        s = n(16649),
        c = n(37563);
      class m {
        constructor() {
          (this.m_optInDef = new Map()),
            (this.m_activeOptInDef = new Array()),
            (this.m_archivedOptInDef = new Array()),
            (this.m_game_tags = []),
            (this.m_optin_stats = {}),
            (this.m_appReviewOptInDef = new Array()),
            (this.m_appealsReviewOptInDef = new Array()),
            (this.m_mapHasUnpublishedChanges = new Map()),
            (this.m_mapOptInLoader = new Map()),
            (0, o.rC)(this);
        }
        GetActiveOptIn() {
          return this.m_activeOptInDef;
        }
        GetArchivedOptIn() {
          return this.m_archivedOptInDef;
        }
        GetAppReviewOptIn() {
          return this.m_appReviewOptInDef;
        }
        GetAppealReviewOptIn() {
          return this.m_appealsReviewOptInDef;
        }
        GetGameTags() {
          return this.m_game_tags;
        }
        GetOptInStats() {
          return this.m_optin_stats;
        }
        BHasUnpublishedChagnes(e) {
          return this.m_mapHasUnpublishedChanges.get(e);
        }
        SetUnpublishedChanges(e) {
          this.m_mapHasUnpublishedChanges.set(e, !0);
        }
        GetDefinition(e) {
          return this.m_optInDef.get(e);
        }
        SetOptInDefinition(e) {
          this.m_optInDef.set(e.pageid, e);
          let t = this.m_activeOptInDef.findIndex((t) => t.pageid == e.pageid);
          -1 != t &&
            (this.m_activeOptInDef.splice(t, 1),
            this.m_activeOptInDef.unshift(e)),
            (t = this.m_archivedOptInDef.findIndex(
              (t) => t.pageid == e.pageid,
            )),
            -1 != t &&
              (this.m_archivedOptInDef.splice(t, 1),
              this.m_archivedOptInDef.unshift(e));
        }
        GetCreatedPageId() {
          return this.createdPageId;
        }
        GetCreatePageErrMsg() {
          return this.createPageErrMsg;
        }
        LoadOptInAdminDef(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapOptInLoader.has(e) ||
                this.m_mapOptInLoader.set(e, this.InternalLoadOptInAdminDef(e)),
              this.m_mapOptInLoader.get(e)
            );
          });
        }
        InternalLoadOptInAdminDef(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const a = `${c.De.PARTNER_BASE_URL}optin/ajaxadmingetdefandstats`,
                i = { pageid: e, sessionid: c.De.SESSIONID },
                r = yield l().get(a, { params: i });
              if (
                200 == (null == r ? void 0 : r.status) &&
                (null === (t = r.data) || void 0 === t ? void 0 : t.def) &&
                r.data.stats
              )
                return (
                  this.InternalAddOptInDef(r.data.def),
                  (this.m_optin_stats[e] = r.data.stats),
                  !0
                );
              n = (0, s.l)(r);
            } catch (e) {
              n = (0, s.l)(e);
            }
            return (
              console.error(
                "COptInAdmin::LoadOptInAdminDef failed " + n.strErrorMsg,
                n,
              ),
              !1
            );
          });
        }
        CreatePage(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            (this.createdPageId = ""), (this.createPageErrMsg = "");
            let n = c.De.PARTNER_BASE_URL + "/admin/store/pagecreate";
            const a = new FormData();
            a.append("sessionid", c.De.SESSIONID),
              a.append("action", "createsale"),
              a.append("id", e),
              a.append("is_optin", "true");
            try {
              let e = yield l().post(n, a, {
                withCredentials: !0,
                cancelToken: t,
              });
              if (t.reason)
                return (
                  console.log(
                    "COptInAdminStore.CreatePage cancelled: " + t.reason,
                  ),
                  null
                );
              if (200 != e.status || !e.data || 1 != e.data.success) {
                let t =
                  "Save Error: (" +
                  (e.data
                    ? "result: " + e.data.success
                    : "status: " + e.status) +
                  ")";
                return (
                  e.data &&
                    e.data.msg &&
                    (t += " Error Message: " + e.data.msg),
                  (this.createPageErrMsg = e.data.msg),
                  t
                );
              }
              this.createdPageId = e.data.msg;
            } catch (e) {
              let t = (0, s.l)(e);
              return (
                console.error(
                  "OptinAdminStore.CreatePage error: " + t.strErrorMsg,
                  t,
                ),
                (this.createPageErrMsg = t.strErrorMsg),
                "Page creation error: " + e.strErrorMsg
              );
            }
            return null;
          });
        }
        static Get() {
          return (
            m.s_OptInAdmin ||
              ((m.s_OptInAdmin = new m()),
              ("dev" != c.De.WEB_UNIVERSE && "beta" != c.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminStore = m.s_OptInAdmin),
              m.s_OptInAdmin.Init()),
            m.s_OptInAdmin
          );
        }
        InternalAddOptInDef(e) {
          this.m_optInDef.set(e.pageid, e);
          const t = Math.floor(Date.now() / 1e3);
          e.event_end_date < t
            ? this.m_archivedOptInDef.push(e)
            : this.m_activeOptInDef.push(e),
            console.log(
              "adil",
              e.pageid,
              !e.sale_optin_enabled,
              e.sale_optin_enabled,
              e.event_end_date > t,
            ),
            !e.sale_optin_enabled &&
            e.event_start_date &&
            e.event_start_date > t
              ? this.m_appReviewOptInDef.push(e)
              : e.sale_optin_enabled &&
                e.event_end_date > t &&
                this.m_appealsReviewOptInDef.push(e);
        }
        Init() {
          let e = JSON.parse(
            JSON.stringify((0, c.kQ)("optin_game_tags", "application_config")),
          );
          if (e)
            for (let t of Object.keys(e))
              this.m_game_tags.push({ label: e[t], value: t });
          let t = JSON.parse(
            JSON.stringify((0, c.kQ)("optin_page_stats", "application_config")),
          );
          if (t)
            for (let e of Object.keys(t)) {
              let n = t[e].pageid;
              this.m_optin_stats[n] = t[e];
            }
          let n = (0, c.kQ)("optin_admin_pages", "application_config");
          this.ValidateStoreDefault(n)
            ? (n.forEach((e) => {
                (0, r.MH)(e);
              }),
              n.map((e) => {
                this.InternalAddOptInDef(e);
              }),
              "dev" == c.De.WEB_UNIVERSE &&
                console.log(
                  "Loading OptIn Definitions: " + this.m_optInDef.size,
                  this.m_optInDef,
                ))
            : "dev" == c.De.WEB_UNIVERSE &&
              console.error("COptInAdmin.Init: Failed to load defintion", n);
          const a = (0, c.kQ)("optin_has_in_progress", "application_config");
          for (let e in a) this.m_mapHasUnpublishedChanges.set(e, a[e]);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) && "string" == typeof t[0].pageid
          );
        }
      }
      function d(e) {
        return m.Get().GetDefinition(e);
      }
      (0, a.gn)([o.LO], m.prototype, "m_mapHasUnpublishedChanges", void 0),
        (0, a.gn)([o.aD], m.prototype, "Init", null);
    },
    90960: (e, t, n) => {
      "use strict";
      n.d(t, { eD: () => g, q_: () => _ });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(16649),
        s = n(16997),
        c = n(45492),
        m = n(20417),
        d = n(65255),
        u = n(82756);
      class p {
        constructor() {
          (this.m_mapAppToPackages = new Map()),
            (this.m_mapAppUpdateCallback = new Map()),
            (this.m_mapAppLoadPromise = new Map()),
            (this.m_mapPackageToUSCent = new Map()),
            (this.m_mapPackageListToPromise = new Map()),
            (this.m_mapPackageUpdateCallback = new Map());
        }
        GetAllPackagesForApp(e) {
          return this.m_mapAppToPackages.get(e);
        }
        GetPackageListUpdateCallback(e) {
          return (
            this.m_mapAppUpdateCallback.has(e) ||
              this.m_mapAppUpdateCallback.set(e, new c.pB()),
            this.m_mapAppUpdateCallback.get(e)
          );
        }
        GetSinglePackageUpdateCallback(e) {
          return (
            this.m_mapPackageUpdateCallback.has(e) ||
              this.m_mapPackageUpdateCallback.set(e, new c.pB()),
            this.m_mapPackageUpdateCallback.get(e)
          );
        }
        GetPackageUSCentPrice(e) {
          return this.m_mapPackageToUSCent.get(e) || 0;
        }
        LoadAppPackages(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return e
              ? this.m_mapAppToPackages.has(e)
                ? this.m_mapAppToPackages.get(e)
                : (this.m_mapAppLoadPromise.has(e) ||
                    this.m_mapAppLoadPromise.set(
                      e,
                      this.InternalLoadAppPackages(e),
                    ),
                  this.m_mapAppLoadPromise.get(e))
              : null;
          });
        }
        InternalLoadAppPackages(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = `${d.De.PARTNER_BASE_URL}/packages/ajaxgetpackageforapp`;
            let a = null;
            try {
              const i = { appid: e },
                r = yield l().get(n, { params: i });
              if (
                1 ==
                (null === (t = null == r ? void 0 : r.data) || void 0 === t
                  ? void 0
                  : t.success)
              ) {
                r.data.packageWithUSCents.forEach((e) => {
                  this.m_mapPackageToUSCent.set(e.packageid, e.uscent);
                });
                const t = r.data.packages;
                return (
                  this.m_mapAppToPackages.set(e, t),
                  this.GetPackageListUpdateCallback(e).Dispatch(t),
                  t
                );
              }
              a = { response: r };
            } catch (e) {
              a = e;
            }
            const i = (0, o.l)(a);
            return (
              console.error(
                "CPartnerSitePackageStore Could not load packages for app " + e,
                i.strErrorMsg,
                i,
              ),
              []
            );
          });
        }
        LoadPackageDirectly(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!e || 0 == e.length) return null;
            const t = Array.from(new Set(e)).sort(),
              n = t.join(",");
            return (
              this.m_mapPackageListToPromise.has(n) ||
                this.m_mapPackageListToPromise.set(
                  n,
                  this.InternalLoadPackageDirectly(t),
                ),
              this.m_mapPackageListToPromise.get(n)
            );
          });
        }
        InternalLoadPackageDirectly(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = `${d.De.PARTNER_BASE_URL}/packages/ajaxgetmultipackageprices`;
            let a = null;
            try {
              const i = { packages: e.join(",") },
                r = yield l().get(n, { params: i });
              if (
                1 ==
                (null === (t = null == r ? void 0 : r.data) || void 0 === t
                  ? void 0
                  : t.success)
              ) {
                r.data.packageWithUSCents.forEach((e) => {
                  this.m_mapPackageToUSCent.set(e.packageid, e.uscent),
                    this.GetSinglePackageUpdateCallback(e.packageid).Dispatch(
                      e.packageid,
                    );
                });
                return r.data.packages;
              }
              a = { response: r };
            } catch (e) {
              a = e;
            }
            const i = (0, o.l)(a);
            return (
              console.error(
                "CPartnerSitePackageStore Could not load packages list",
                i.strErrorMsg,
                i,
                e,
              ),
              []
            );
          });
        }
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == d.De.WEB_UNIVERSE &&
                (window.g_PartnerSitePackageStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        Init() {
          const e = (0, u.ip)("app_to_package_lists", "application_config");
          e &&
            Object.keys(e).forEach((t) => {
              const n = Number.parseInt(t);
              this.m_mapAppToPackages.set(n, e[n]);
            });
          const t = (0, u.ip)("package_with_usd_cents", "application_config");
          t &&
            t.forEach((e) => {
              this.m_mapPackageToUSCent.set(e.packageid, e.usd_cents);
            });
        }
      }
      function _(e) {
        const t = (0, m.NW)();
        return (
          (0, r.useEffect)(() => {
            p.Get().LoadAppPackages(e);
          }, [e]),
          (0, m.Qg)(p.Get().GetPackageListUpdateCallback(e), () => t()),
          p.Get().GetAllPackagesForApp(e)
        );
      }
      function h(e) {
        const t = p.Get().GetAllPackagesForApp(e);
        if ((null == t ? void 0 : t.length) > 0) {
          let e = null;
          return (
            t.forEach((t) => {
              let n = (function (e) {
                return p.Get().GetPackageUSCentPrice(e);
              })(t);
              n && (!e || e > n) && (e = n);
            }),
            e
          );
        }
        return null;
      }
      function g(e) {
        const t = (0, m.NW)();
        return (
          (0, m.Qg)(p.Get().GetPackageListUpdateCallback(e), () => t()), h(e)
        );
      }
      (0, a.gn)([s.a], p.prototype, "LoadAppPackages", null),
        (0, a.gn)([s.a], p.prototype, "InternalLoadAppPackages", null),
        (0, a.gn)([s.a], p.prototype, "LoadPackageDirectly", null),
        (0, a.gn)([s.a], p.prototype, "InternalLoadPackageDirectly", null);
    },
    83831: (e, t, n) => {
      "use strict";
      n.d(t, { DV: () => u, Tt: () => m, kr: () => p });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(16649),
        s = n(37563),
        c = n(16997);
      function m() {
        return 2 == s.De.EUNIVERSE ? 12 : 1;
      }
      class d {
        GetPartnerInfo(e) {
          return this.m_mapOptInToPartners.get(e);
        }
        BHasPartnerInfoLoad(e) {
          return this.m_mapOptInToPartners.has(e);
        }
        FindPartnerByName(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapPromises.has(e) ||
                this.m_mapPromises.set(e, this.InternalFindPartnerByName(e)),
              this.m_mapPromises.get(e)
            );
          });
        }
        InternalFindPartnerByName(e) {
          var t, n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = new Array();
            try {
              const r = s.De.PARTNER_BASE_URL + "pub/ajaxfindpublishers",
                o = {
                  sessionid: s.De.SESSIONID,
                  searchtext: e,
                  origin: self.origin,
                },
                c = yield l().get(r, { params: o });
              200 == (null == c ? void 0 : c.status) &&
              1 ==
                (null === (t = null == c ? void 0 : c.data) || void 0 === t
                  ? void 0
                  : t.success)
                ? c.data.publishers.forEach((e) => {
                    const t = {
                      partnerid: e.publisherid,
                      name: e.publishername,
                      partner_url:
                        s.De.PARTNER_BASE_URL +
                        `pub/publisher/${e.publisherid}/`,
                      contacts: e.contacts,
                    };
                    this.m_mapOptInToPartners.set(e.publisherid, t), a.push(t);
                  })
                : console.log(
                    `CPartnerInfoStore.FindPartnerByName failed with status ${null == c ? void 0 : c.status} eresult ${null === (n = null == c ? void 0 : c.data) || void 0 === n ? void 0 : n.success} and msg ${null === (i = null == c ? void 0 : c.data) || void 0 === i ? void 0 : i.msg}`,
                  );
            } catch (e) {
              const t = (0, o.l)(e);
              console.error(
                "CPartnerInfoStore.FindPartnerByName failed add: " +
                  t.strErrorMsg,
                t,
              );
            }
            return a;
          });
        }
        LoadPartnerInfo(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (this.m_mapOptInToPartners.has(e))
              return this.m_mapOptInToPartners.get(e);
            yield this.FindPartnerByName("" + e);
            return (
              this.BHasPartnerInfoLoad(e) ||
                this.m_mapOptInToPartners.set(e, null),
              this.m_mapOptInToPartners.get(e)
            );
          });
        }
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              ("dev" != s.De.WEB_UNIVERSE && "beta" != s.De.WEB_UNIVERSE) ||
                (window.g_PartnerInfoStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {
          (this.m_mapOptInToPartners = new Map()),
            (this.m_mapPromises = new Map());
          let e = JSON.parse(
            JSON.stringify((0, s.kQ)("partner_info", "application_config")),
          );
          this.ValidateStoreDefault(e) &&
            (e.forEach((e) => this.m_mapOptInToPartners.set(e.partnerid, e)),
            "dev" == s.De.WEB_UNIVERSE &&
              console.log("DEV_DEUBG: CPartnerInfoStore::constructor", e));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].partnerid &&
            "string" == typeof t[0].name
          );
        }
      }
      function u(e) {
        const [t, n] = r.useState(() => d.Get().GetPartnerInfo(e));
        return (
          r.useEffect(() => {
            !d.Get().BHasPartnerInfoLoad(e) && e > 0
              ? d
                  .Get()
                  .LoadPartnerInfo(e)
                  .then((e) => n(e))
              : d.Get().BHasPartnerInfoLoad(e) &&
                (null == t ? void 0 : t.partnerid) != e &&
                n(d.Get().GetPartnerInfo(e));
          }, [e, t]),
          [t]
        );
      }
      function p() {
        return { fnFindPartnerByName: d.Get().FindPartnerByName };
      }
      (0, a.gn)([c.a], d.prototype, "FindPartnerByName", null);
    },
    2467: (e, t, n) => {
      "use strict";
      n.d(t, { AV: () => g, XB: () => h, cm: () => _ });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(35427),
        s = n(16649),
        c = n(16997),
        m = n(45492),
        d = n(20417),
        u = n(37563);
      class p {
        constructor() {
          (this.m_mapUsersBySteamID = new Map()),
            (this.m_promiseLoadUsersBySteamID = new Map()),
            (this.m_mapUserToCallback = new Map());
        }
        static Get() {
          return (
            p.s_globalSingletonStore ||
              ((p.s_globalSingletonStore = new p()),
              p.s_globalSingletonStore.Init()),
            p.s_globalSingletonStore
          );
        }
        Init() {}
        BHasUserInfo(e) {
          return this.m_mapUsersBySteamID.has(e);
        }
        GetUserInfo(e) {
          return this.m_mapUsersBySteamID.get(e);
        }
        GetUserInfoCallbackup(e) {
          return (
            this.m_mapUserToCallback.has(e) ||
              this.m_mapUserToCallback.set(e, new m.pB()),
            this.m_mapUserToCallback.get(e)
          );
        }
        LoadUserInfo(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = [],
              n = new Array();
            for (const a of e)
              this.m_mapUsersBySteamID.has(a) ||
                (this.m_promiseLoadUsersBySteamID.has(a)
                  ? n.push(this.m_promiseLoadUsersBySteamID.get(a))
                  : t.push(a));
            if (!t.length) return void (yield Promise.all(n));
            const a = this.InternalFetchUserInfo(t);
            t.forEach((e) => this.m_promiseLoadUsersBySteamID.set(e, a));
          });
        }
        InternalFetchUserInfo(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = { steamids: e.join(",") },
              a = u.De.PARTNER_BASE_URL + "user/ajaxgetusers";
            let i = null;
            try {
              const e = yield l().get(a, { params: n, withCredentials: !0 });
              if (
                1 ==
                (null === (t = null == e ? void 0 : e.data) || void 0 === t
                  ? void 0
                  : t.success)
              ) {
                for (const t of e.data.users)
                  this.m_mapUsersBySteamID.set(t.steamid, t),
                    this.GetUserInfoCallbackup(t.steamid).Dispatch(t);
                return;
              }
              i = (0, s.l)(null == e ? void 0 : e.data);
            } catch (e) {
              i = (0, s.l)(e);
            }
            console.warn("ajax request failed with error", i);
          });
        }
      }
      function _(e) {
        return h(o.K.InitFromAccountID(e).ConvertTo64BitString());
      }
      function h(e) {
        const [t, n] = (0, r.useState)(p.Get().GetUserInfo(e));
        return (
          (0, r.useEffect)(() => {
            !e ||
              (t && (null == t ? void 0 : t.steamid) == e) ||
              p.Get().LoadUserInfo([e]);
          }, [e, t]),
          (0, d.Qg)(p.Get().GetUserInfoCallbackup(e), n),
          t
        );
      }
      function g() {
        return { fnHintLoadPartnerUserInfo: p.Get().LoadUserInfo };
      }
      (0, a.gn)([c.a], p.prototype, "LoadUserInfo", null);
    },
    99125: (e, t, n) => {
      "use strict";
      n.d(t, { Ur: () => S, fL: () => E });
      var a = n(85556),
        i = n(79545),
        l = n(23309),
        r = n(80002),
        o = n(73799),
        s = n.n(o),
        c = n(47427),
        m = n(42718),
        d = n(86437),
        u = n(2041),
        p = n(20020),
        _ = n(77581),
        h = n(65255),
        g = n(82756);
      class v {
        GetPromotionTransport() {
          return this.m_steamInterface;
        }
        static Get() {
          return (
            v.s_Singleton || ((v.s_Singleton = new v()), v.s_Singleton.Init()),
            v.s_Singleton
          );
        }
        Init() {
          const e = (0, g.kQ)(
            "partnerbrowse_webapi_token",
            "application_config",
          );
          (0, p.X)(Boolean(e), "require partnerbrowse_webapi_token"),
            (this.m_steamInterface = new _.J(h.De.WEBAPI_BASE_URL, e));
        }
      }
      function E(e) {
        const t = v.Get().GetPromotionTransport().GetServiceTransport(),
          n = c.useContext(D);
        return (0, m.useQuery)(f(n, t, e));
      }
      function S(e) {
        return u.U.getQueryData(["StoreItemCountryRestriction", (0, d.y)(e)]);
      }
      const D = c.createContext({
        loadStoreItemCountryRestriction: (e, t) =>
          (0, a.mG)(void 0, void 0, void 0, function* () {
            return yield (function (e) {
              y ||
                (y = new (s())(
                  (t) =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      const n = i.gA.Init(l.Ol);
                      n.Body().set_ids(t.map((e) => r.oY.fromObject(e)));
                      const a = yield l.n7.GetCountryRestrictions(e, n);
                      if (!a.BSuccess())
                        throw `Failed to call store Item Country Restriction with details: ${a.GetErrorMessage()}`;
                      const o = new Map();
                      return (
                        a
                          .Body()
                          .results()
                          .forEach((e) => {
                            const t = e.toObject();
                            o.set((0, d.y)(t.id), t);
                          }),
                        t.map((e) => o.get((0, d.y)(e)))
                      );
                    }),
                  { maxBatchSize: 100 },
                ));
              return y;
            })(t).load(e);
          }),
      });
      function f(e, t, n) {
        return {
          queryKey: ["StoreItemCountryRestriction", (0, d.y)(n)],
          queryFn: () => e.loadStoreItemCountryRestriction(n, t),
          enabled: !!n,
        };
      }
      let y;
    },
    62043: (e, t, n) => {
      "use strict";
      n.d(t, { M: () => o, V: () => r });
      var a = n(82756),
        i = n(47427);
      class l {
        GetMap() {
          return this.m_mapPackageToPartners;
        }
        static Get() {
          return (
            l.s_Singleton || ((l.s_Singleton = new l()), l.s_Singleton.Init()),
            l.s_Singleton
          );
        }
        constructor() {
          this.m_mapPackageToPartners = new Map();
        }
        Init() {
          (0, a.kQ)("package_to_paid_partners", "application_config").forEach(
            (e) => {
              this.m_mapPackageToPartners.has(e.packageid) ||
                this.m_mapPackageToPartners.set(e.packageid, new Array()),
                this.m_mapPackageToPartners.get(e.packageid).push(e.partnerid);
            },
          );
        }
      }
      function r() {
        const [e, t] = (0, i.useState)(() => l.Get().GetMap());
        return e;
      }
      function o(e) {
        const t = r();
        return (0, i.useMemo)(() => {
          if (e) {
            const n = new Set();
            return (
              e.forEach((e) => {
                if (t.has(e)) {
                  const a = t.get(e);
                  a.length <= 3 && a.forEach((e) => n.add(e));
                }
              }),
              Array.from(n.values())
            );
          }
          return [];
        }, [e, t]);
      }
    },
    14839: (e, t, n) => {
      "use strict";
      n.d(t, { Gj: () => _, NU: () => h, NW: () => g });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(4618),
        o = n(47427),
        s = n(16649),
        c = n(16997),
        m = n(45492),
        d = n(20417),
        u = n(65255);
      class p {
        GetKey(e, t) {
          return `${e}_${t}`;
        }
        GetClusterByID(e, t) {
          const n = this.GetKey(e, t);
          return this.m_mapCluster.get(n);
        }
        GetCallbackForClusterByID(e, t) {
          this.GetKey(e, t);
          return (
            this.m_mapChangeCallbacks.has(t) ||
              this.m_mapChangeCallbacks.set(t, new m.pB()),
            this.m_mapChangeCallbacks.get(t)
          );
        }
        LoadCluster(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = this.GetKey(e, t);
            return this.m_mapCluster.has(n)
              ? this.m_mapCluster.get(n)
              : (this.m_mapClusterLoaders.has(n) ||
                  this.m_mapClusterLoaders.set(
                    n,
                    this.InternalLoadCluster(e, t),
                  ),
                this.m_mapClusterLoaders.get(n));
          });
        }
        InternalLoadCluster(e, t) {
          var n;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const i = u.De.PARTNER_BASE_URL + "cluster/ajaxloadcluster",
                o = {
                  clustertype: (0, r.D9)(e),
                  clusterid: t,
                  sessionid: u.De.SESSIONID,
                },
                c = yield l().get(i, { params: o });
              if (
                200 == (null == c ? void 0 : c.status) &&
                1 ==
                  (null === (n = c.data) || void 0 === n
                    ? void 0
                    : n.success) &&
                c.data.cluster
              )
                return (
                  this.InternalAddCluster(e, t, c.data.cluster),
                  this.GetCallbackForClusterByID(e, t).Dispatch(c.data.cluster),
                  c.data.cluster
                );
              a = (0, s.l)(null == c ? void 0 : c.data);
            } catch (e) {
              a = (0, s.l)(e);
            }
            return (
              console.error(
                "CClusterStore.InternalLoadCluster: ajax request failed with error: " +
                  a.strErrorMsg,
                a,
              ),
              null
            );
          });
        }
        SaveClusterAssets(e, t, n) {
          var i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = t.id;
            let o = null;
            try {
              const c = u.De.PARTNER_BASE_URL + "cluster/ajaxsaveclusterassets",
                m = new FormData();
              m.append("clustertype", (0, r.D9)(e)),
                m.append("clusterid", a),
                m.append("clusterdata", JSON.stringify(t)),
                m.append("sessionid", u.De.SESSIONID),
                n && m.append("additional_params", JSON.stringify(n));
              const d = yield l().post(c, m);
              if (
                200 == (null == d ? void 0 : d.status) &&
                1 ==
                  (null === (i = d.data) || void 0 === i
                    ? void 0
                    : i.success) &&
                d.data.cluster
              )
                return (
                  this.InternalAddCluster(e, a, d.data.cluster),
                  this.GetCallbackForClusterByID(e, a).Dispatch(d.data.cluster),
                  !0
                );
              o = (0, s.l)(null == d ? void 0 : d.data);
            } catch (e) {
              o = (0, s.l)(e);
            }
            return (
              console.error(
                "CClusterStore.InternalLoadCluster: ajax request failed with error: " +
                  o.strErrorMsg,
                o,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            p.s_Singleton ||
              ((p.s_Singleton = new p()),
              p.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_ClusterStore = p.s_Singleton)),
            p.s_Singleton
          );
        }
        constructor() {
          (this.m_mapCluster = new Map()),
            (this.m_mapChangeCallbacks = new Map()),
            (this.m_mapClusterLoaders = new Map());
        }
        Init() {
          return (0, a.mG)(this, void 0, void 0, function* () {});
        }
        InternalAddCluster(e, t, n) {
          const a = this.GetKey(e, t);
          this.m_mapCluster.set(a, n);
        }
      }
      function _(e, t) {
        return p.Get().GetClusterByID(e, t);
      }
      function h(e, t) {
        const [n, a] = (0, o.useState)(() => p.Get().GetClusterByID(e, t));
        return (
          (0, o.useEffect)(() => {
            e &&
              t &&
              (null == n ? void 0 : n.id) != t &&
              p.Get().LoadCluster(e, t).then(a);
          }, [n, e, t]),
          (0, d.Qg)(p.Get().GetCallbackForClusterByID(e, t), a),
          n
        );
      }
      function g() {
        return { fnSaveClusterAssets: p.Get().SaveClusterAssets };
      }
      (0, a.gn)([c.a], p.prototype, "LoadCluster", null),
        (0, a.gn)([c.a], p.prototype, "SaveClusterAssets", null);
    },
    52077: (e, t, n) => {
      "use strict";
      n.d(t, { KF: () => o, Rx: () => s, wH: () => c });
      var a = n(12439),
        i = n(47427),
        l = n(20417),
        r = n(37563);
      class o {
        InitDailyDealToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new a.l(e)),
            this.m_model
          );
        }
        GetDailyDealToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            o.s_Singleton ||
              ((o.s_Singleton = new o()),
              "dev" == r.De.WEB_UNIVERSE &&
                (window.g_DailyDealEditStore = o.s_Singleton)),
            o.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      function s() {
        const e = (0, l.NW)(),
          [t, n] = i.useState(o.Get().GetDailyDealToEdit());
        return (
          (0, l.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          t
        );
      }
      function c() {
        return [
          i.useCallback(
            () =>
              !!o.Get().GetDailyDealToEdit() &&
              o.Get().GetDailyDealToEdit().BIsDirty(),
            [],
          ),
          i.useCallback(() => {
            o.Get().ClearEditModel();
          }, []),
        ];
      }
    },
    59350: (e, t, n) => {
      "use strict";
      n.d(t, { $N: () => r, gL: () => o, lY: () => s });
      var a = n(47427),
        i = n(86437),
        l = n(80886);
      const r = { include_assets: !0 };
      function o(e) {
        const t = (0, a.useMemo)(
          () => (0, i.Bl)(e.appid, e.packageid, e.bundleid),
          [e.appid, e.bundleid, e.packageid],
        );
        return (0, l.jk)(t.id, (0, i.YF)(t), r);
      }
      function s(e, t) {
        const [n, i] = (0, a.useMemo)(() => {
          let n = new Set(),
            a = new Set();
          return (
            (null == e ? void 0 : e.length) > 0 &&
              e.forEach((e) => {
                (null == e ? void 0 : e.store_item_id) && 0 == e.store_item_type
                  ? n.add(e.store_item_id)
                  : (null == e ? void 0 : e.store_item_id) &&
                    2 == e.store_item_type &&
                    a.add(e.store_item_id);
              }),
            (null == t ? void 0 : t.length) > 0 &&
              t.forEach((e) => {
                e.appid ? n.add(e.appid) : e.bundleid && a.add(e.bundleid);
              }),
            [n, a]
          );
        }, [e, t]);
        return { rgAppIDs: Array.from(n), rgBundleIDs: Array.from(i) };
      }
    },
    93727: (e, t, n) => {
      "use strict";
      n.d(t, {
        Ef: () => D,
        Iw: () => L,
        JE: () => x,
        Lu: () => b,
        Mg: () => A,
        NB: () => S,
        O7: () => I,
        Oc: () => G,
        TQ: () => N,
        To: () => P,
        W7: () => y,
        Wp: () => w,
        hc: () => B,
        lI: () => M,
        nt: () => T,
        oQ: () => R,
        sm: () => C,
      });
      var a = n(85556),
        i = n(47427),
        l = n(45492),
        r = n(16649),
        o = n(20417),
        s = n(37563),
        c = n(78288),
        m = n(79545),
        d = n(62210),
        u = n(77581),
        p = n(68785),
        _ = n(12439),
        h = n(67675),
        g = n(46984),
        v = n(86437);
      const E = new p.sO("DailyDealAdmin"),
        S = 7,
        D = 14,
        f = "#DailyDeals_Blackout";
      function y(e) {
        return e.store_item_name == f;
      }
      var b, I;
      function C(e, t) {
        let n = I.Unknown;
        const a = Date.now() / 1e3;
        return e.rtime32_start_time
          ? e.cancelled
            ? I.Cancelled
            : ((n =
                e.rtime32_start_time > a
                  ? t > 0
                    ? I.DealReady
                    : I.InviteAccepted
                  : t > 0
                    ? e.rtime32_start_time + g._H.PerDay < a
                      ? I.DealCompleted
                      : I.DealLive
                    : I.DealFailed),
              n)
          : I.Unknown;
      }
      !(function (e) {
        (e[(e.k_BlockDate = 1)] = "k_BlockDate"),
          (e[(e.k_ScheduleSlot = 2)] = "k_ScheduleSlot");
      })(b || (b = {})),
        (function (e) {
          (e[(e.Unknown = 0)] = "Unknown"),
            (e[(e.Cancelled = 1)] = "Cancelled"),
            (e[(e.InviteActive = 2)] = "InviteActive"),
            (e[(e.InviteExpired = 3)] = "InviteExpired"),
            (e[(e.InviteAccepted = 4)] = "InviteAccepted"),
            (e[(e.DealReady = 5)] = "DealReady"),
            (e[(e.DealLive = 6)] = "DealLive"),
            (e[(e.DealCompleted = 7)] = "DealCompleted"),
            (e[(e.DealFailed = 8)] = "DealFailed");
        })(I || (I = {}));
      class k {
        GetAllDailyDeals() {
          return Array.from(this.m_mapCDailyDeals.values());
        }
        GetDailyDealByID(e) {
          return this.m_mapCDailyDeals.get(e);
        }
        GetDailyDealStartTime(e) {
          var t;
          if (this.GetDailyDealByID(e)) {
            const n = Array.from(this.m_mapCDailyDealsByDay.keys());
            for (let a = 0; a < n.length; a++) {
              const i = n[a];
              if (
                null === (t = this.m_mapCDailyDealsByDay.get(i)) || void 0 === t
                  ? void 0
                  : t.some((t) => t == e)
              )
                return i;
            }
          }
          return 0;
        }
        GetDailyDealByDay(e) {
          var t;
          return null === (t = this.m_mapCDailyDealsByDay.get(e)) ||
            void 0 === t
            ? void 0
            : t.map((e) => this.m_mapCDailyDeals.get(e));
        }
        GetDailyDealDisplayOverridesByDay(e) {
          return this.m_mapCalendarMarkupByDay.get(e);
        }
        GetCallbackForDailyDealID(e) {
          return (
            this.m_mapDailyDealCallback.has(e) ||
              this.m_mapDailyDealCallback.set(e, new l.pB()),
            this.m_mapDailyDealCallback.get(e)
          );
        }
        GetCallbackForDailyDealList() {
          return this.m_DailyDealListCallback;
        }
        GetCallbackForDailyDealByDayList(e) {
          return (
            this.m_mapDailyDealsByDayCallback.has(e) ||
              this.m_mapDailyDealsByDayCallback.set(e, new l.pB()),
            this.m_mapDailyDealsByDayCallback.get(e)
          );
        }
        SetDailyDeal(e) {
          this.m_mapCDailyDeals.set(e.gid, e),
            this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
            E.Debug("SetDailyDeal", e);
        }
        LoadDailyDealByID(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = null;
            try {
              const n = m.gA.Init(c.On);
              n.Body().set_gid(e);
              let a = yield c.X3.GetDailyDeals(
                this.m_SteamInterface.GetServiceTransport(),
                n,
              );
              if (1 == a.GetEResult()) {
                if (1 == a.Body().daily_deals().length) {
                  let e = a.Body().daily_deals().at(0).toObject();
                  return (
                    this.InternalAddCDailyDeal(e),
                    this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
                    !0
                  );
                }
                t = {
                  strErrorMsg:
                    "CDailyDealStore.LoadDailyDealByID returned: " +
                    a.Body().daily_deals().length +
                    " deals.  Should have returned 1",
                };
              } else 42 != a.GetEResult() && (t = (0, r.l)(a));
            } catch (e) {
              t = (0, r.l)(e);
            }
            return (
              this.m_mapCDailyDeals.set(e, null),
              this.GetCallbackForDailyDealID(e).Dispatch(null),
              t &&
                E.Error(
                  "CDailyDealStore.LoadDailyDealByID failed: " + t.strErrorMsg,
                  t,
                ),
              !1
            );
          });
        }
        CreateVanityToDailyDealMap() {
          (this.m_mapSaleVanityDailyDeals = new Map()),
            Array.from(this.m_mapCDailyDeals.values()).forEach((e) => {
              var t;
              if (
                null === (t = e.template_json) || void 0 === t
                  ? void 0
                  : t.includes("override_url")
              ) {
                const t = new _.l(e),
                  n = t.GetOverrideURL(),
                  a = (0, h.X)(n);
                a &&
                  (this.m_mapSaleVanityDailyDeals.has(a)
                    ? this.m_mapSaleVanityDailyDeals.set(a, [
                        ...this.m_mapSaleVanityDailyDeals.get(a),
                        t.GetDealID(),
                      ])
                    : this.m_mapSaleVanityDailyDeals.set(a, [t.GetDealID()]));
              }
            });
        }
        GetDailyDealsBySalePageVanity(e) {
          return (
            this.m_mapSaleVanityDailyDeals || this.CreateVanityToDailyDealMap(),
            this.m_mapSaleVanityDailyDeals.has(e)
              ? this.m_mapSaleVanityDailyDeals
                  .get(e)
                  .map((e) => this.m_mapCDailyDeals.get(e))
              : null
          );
        }
        CreateMapByStoreItem() {
          const e = new Map();
          return (
            this.GetAllDailyDeals().forEach((t) => {
              if (t.store_item_id) {
                let n = -1;
                switch (t.store_item_type) {
                  case 0:
                    n = 0;
                    break;
                  case 1:
                    n = 1;
                    break;
                  case 2:
                    n = 2;
                }
                if (-1 != n) {
                  const a = (0, v.qw)(t.store_item_id, n);
                  e.has(a) ? e.get(a).push(t) : e.set(a, [t]);
                }
              }
            }),
            e
          );
        }
        AddDailyDeal(e, t, n, i) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              let l = new c.iC();
              l.set_rtime32_start_time(t),
                e.appid
                  ? (l.set_store_item_type(0), l.set_store_item_id(e.appid))
                  : e.packageid
                    ? (l.set_store_item_type(1),
                      l.set_store_item_id(e.packageid))
                    : e.bundleid &&
                      (l.set_store_item_type(2),
                      l.set_store_item_id(e.bundleid));
              let o = {};
              (o = Object.assign(Object.assign({}, o), {
                location: { hubTargets: ["main"] },
              })),
                n &&
                  n.trim().startsWith(s.De.STORE_BASE_URL) &&
                  (o = Object.assign(Object.assign({}, o), {
                    override_url: n.trim(),
                  })),
                l.set_template_json(JSON.stringify(o)),
                (null == i ? void 0 : i.trim().length) > 0 &&
                  l.set_discount_event_id(parseInt(i.trim()));
              const d = m.gA.Init(c.sj);
              d.Body().set_daily_deal(l);
              let u = yield c.X3.CreateDailyDeal(
                this.m_SteamInterface.GetServiceTransport(),
                d,
              );
              if (1 == u.GetEResult())
                return (
                  l.set_gid(u.Body().gid()),
                  this.InternalAddCDailyDeal(l.toObject()),
                  this.GetCallbackForDailyDealByDayList(t).Dispatch(
                    this.m_mapCDailyDealsByDay
                      .get(t)
                      .map((e) => this.m_mapCDailyDeals.get(e)),
                  ),
                  this.GetCallbackForDailyDealList().Dispatch(
                    Array.from(this.m_mapCDailyDeals.values()),
                  ),
                  !0
                );
              a = (0, r.l)(u);
            } catch (e) {
              a = (0, r.l)(e);
            }
            return (
              E.Error(
                "CDailyDealStore.AddDailyDeal failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              !1
            );
          });
        }
        SaveDailyDeal(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = null;
            try {
              let n = c.iC.fromObject(e);
              E.Info("Saving:" + JSON.stringify(n)),
                this.m_mapCDailyDeals.set(e.gid, e);
              const a = m.gA.Init(c.NK);
              a.Body().set_gid(e.gid), a.Body().set_daily_deal(n);
              let i = yield c.X3.UpdateDailyDeal(
                this.m_SteamInterface.GetServiceTransport(),
                a,
              );
              if (1 == i.GetEResult())
                return (
                  this.m_mapCDailyDeals.set(e.gid, e),
                  this.GetCallbackForDailyDealID(e.gid).Dispatch(e),
                  !0
                );
              t = (0, r.l)(i);
            } catch (e) {
              t = (0, r.l)(e);
            }
            return (
              E.Error(
                "CDailyDealStore.SaveDailyDeal failed: " +
                  (null == t ? void 0 : t.strErrorMsg),
                t,
              ),
              !1
            );
          });
        }
        RemoveDailyDeal(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = this.m_mapCDailyDeals.get(e);
            let n = null;
            if ((E.Debug("Deleting Deal:" + JSON.stringify(t)), !t || !t.gid))
              return (
                E.Error(
                  "CDailyDealStore.RemoveDailyDeal ID does not exist: " + e,
                ),
                !1
              );
            try {
              const e = m.gA.Init(c.Wx);
              e.Body().set_gid(t.gid);
              let a = yield c.X3.DeleteDailyDeal(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              if (1 == a.GetEResult()) {
                this.m_mapCDailyDeals.delete(t.gid);
                const e = this.m_mapCDailyDealsByDay.get(t.rtime32_start_time);
                if (e) {
                  const n = e.findIndex((e) => t.gid == e);
                  -1 != n && e.splice(n, 1);
                }
                const n = t.rtime32_start_time;
                return (
                  this.GetCallbackForDailyDealByDayList(n).Dispatch(
                    this.m_mapCDailyDealsByDay
                      .get(n)
                      .map((e) => this.m_mapCDailyDeals.get(e)),
                  ),
                  this.GetCallbackForDailyDealList().Dispatch(
                    Array.from(this.m_mapCDailyDeals.values()),
                  ),
                  !0
                );
              }
              n = (0, r.l)(a);
            } catch (e) {
              n = (0, r.l)(e);
            }
            return (
              E.Error(
                "CDailyDealStore.RemoveDailyDeal failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              !1
            );
          });
        }
        CancelDailyDeal(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = this.m_mapCDailyDeals.get(e);
            let n = null;
            if (
              (E.Debug("Canceling daily deal:" + JSON.stringify(t)),
              !t || !t.gid)
            )
              return (
                E.Error(
                  "CDailyDealStore.CancelDailyDeal ID does not exist: " + e,
                ),
                !1
              );
            try {
              const e = m.gA.Init(c.b8);
              e.Body().set_gid(t.gid);
              let a = yield c.X3.CancelDailyDeal(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              if (1 == a.GetEResult()) {
                const e = this.m_mapCDailyDeals.get(t.gid);
                (e.cancelled = !0),
                  (e.rtime32_cancel_time = Math.floor(Date.now() / 1e3));
                const n = this.m_mapCDailyDealsByDay.get(t.rtime32_start_time);
                if (n) {
                  const e = n.findIndex((e) => t.gid == e);
                  -1 != e && n.splice(e, 1);
                }
                const a = t.rtime32_start_time;
                return (
                  this.GetCallbackForDailyDealByDayList(a).Dispatch(
                    this.m_mapCDailyDealsByDay
                      .get(a)
                      .map((e) => this.m_mapCDailyDeals.get(e)),
                  ),
                  this.GetCallbackForDailyDealList().Dispatch(
                    Array.from(this.m_mapCDailyDeals.values()),
                  ),
                  !0
                );
              }
              n = (0, r.l)(a);
            } catch (e) {
              n = (0, r.l)(e);
            }
            return (
              E.Error(
                "CDailyDealStore.CancelDailyDeal failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              !1
            );
          });
        }
        SetBlackoutDate(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              let i = new c.iC();
              if (t) {
                i.set_rtime32_start_time(e),
                  i.set_store_item_name(f),
                  i.set_template_json("{}"),
                  i.set_store_item_type(-1),
                  i.set_store_item_id(0),
                  i.set_discount_event_id(n);
                const t = m.gA.Init(c.sj);
                t.Body().set_daily_deal(i);
                let l = yield c.X3.CreateDailyDeal(
                  this.m_SteamInterface.GetServiceTransport(),
                  t,
                );
                if (1 == l.GetEResult())
                  return (
                    i.set_gid(l.Body().gid()),
                    this.InternalAddCDailyDeal(i.toObject()),
                    this.GetCallbackForDailyDealByDayList(e).Dispatch(
                      this.m_mapCDailyDealsByDay
                        .get(e)
                        .map((e) => this.m_mapCDailyDeals.get(e)),
                    ),
                    this.GetCallbackForDailyDealList().Dispatch(
                      Array.from(this.m_mapCDailyDeals.values()),
                    ),
                    !0
                  );
                a = (0, r.l)(l);
              } else if (this.m_mapCDailyDealsByDay.has(e)) {
                const t = this.m_mapCDailyDealsByDay.get(e).find((e) => {
                  const t = this.m_mapCDailyDeals.get(e);
                  return t.store_item_name == f && !t.deleted;
                });
                if (null != t) {
                  const n = this.m_mapCDailyDeals.get(t),
                    i = m.gA.Init(c.Wx);
                  i.Body().set_gid(n.gid);
                  let l = yield c.X3.DeleteDailyDeal(
                    this.m_SteamInterface.GetServiceTransport(),
                    i,
                  );
                  if (1 == l.GetEResult()) {
                    const n = this.m_mapCDailyDealsByDay.get(e);
                    if (n) {
                      this.m_mapCDailyDeals.delete(t);
                      const e = n.findIndex((e) => e == t);
                      -1 != e && n.splice(e, 1);
                    }
                    return (
                      this.GetCallbackForDailyDealByDayList(e).Dispatch(
                        this.m_mapCDailyDealsByDay
                          .get(e)
                          .map((e) => this.m_mapCDailyDeals.get(e)),
                      ),
                      this.GetCallbackForDailyDealList().Dispatch(
                        Array.from(this.m_mapCDailyDeals.values()),
                      ),
                      !0
                    );
                  }
                  a = (0, r.l)(l);
                }
              }
            } catch (e) {
              a = (0, r.l)(e);
            }
            return (
              E.Error(
                "CDailyDealStore.SetBlackoutDate failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            k.s_Singleton ||
              ((k.s_Singleton = new k()),
              k.s_Singleton.Init(),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.g_DailyDealStore = k.s_Singleton)),
            k.s_Singleton
          );
        }
        constructor() {
          (this.m_mapCDailyDeals = new Map()),
            (this.m_mapCDailyDealsByDay = new Map()),
            (this.m_mapCalendarMarkupByDay = new Map()),
            (this.m_DailyDealListCallback = new l.pB()),
            (this.m_mapDailyDealCallback = new Map()),
            (this.m_mapDailyDealsByDayCallback = new Map()),
            (this.m_mapSaleVanityDailyDeals = null),
            (this.m_SteamInterface = null);
        }
        InternalAddCDailyDeal(e) {
          this.m_mapCDailyDeals.set(e.gid, e);
          const t = e.rtime32_start_time;
          t &&
            !e.cancelled &&
            (this.m_mapCDailyDealsByDay.has(t) ||
              this.m_mapCDailyDealsByDay.set(t, new Array()),
            this.m_mapCDailyDealsByDay.get(t).push(e.gid));
        }
        Init() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = (0, s.kQ)(
              "promotion_operation_token",
              "application_config",
            );
            (0, d.X)(
              e,
              "CDailyDealStore: promotion operation token is missing",
            ),
              (this.m_SteamInterface = new u.J(s.De.WEBAPI_BASE_URL, e));
            const t = (0, s.kQ)("daily_deals", "application_config");
            t &&
              (t.forEach((e) => {
                this.InternalAddCDailyDeal(e);
              }),
              this.GetCallbackForDailyDealList().Dispatch(
                Array.from(this.m_mapCDailyDeals.values()),
              ),
              this.m_mapCDailyDealsByDay.forEach((e, t) => {
                this.GetCallbackForDailyDealByDayList(t).Dispatch(
                  this.m_mapCDailyDealsByDay
                    .get(t)
                    .map((e) => this.m_mapCDailyDeals.get(e)),
                );
              }),
              this.m_mapCDailyDeals.forEach((e) => {
                this.GetCallbackForDailyDealID(e.gid).Dispatch(e);
              }));
            const n = (0, s.kQ)("blockout_dates", "application_config") || [],
              a = (0, s.kQ)("scheduled_slots", "application_config") || [];
            a.length > 0 &&
              a.forEach((e) =>
                this.HelperAddEDailyDealDisplayInfo(e, {
                  eType: b.k_ScheduleSlot,
                }),
              ),
              n.length > 0 &&
                n.forEach((e) =>
                  this.HelperAddEDailyDealDisplayInfo(e.date, {
                    eType: b.k_BlockDate,
                    name: e.name,
                  }),
                ),
              "dev" == s.De.WEB_UNIVERSE &&
                console.log(
                  `DEV_DEBUG: CDailyDealStore loaded ${t.length} daily deals, separate blocked dates ${n.length}, separated schedule dates ${a.length}`,
                );
          });
        }
        HelperAddEDailyDealDisplayInfo(e, t) {
          this.m_mapCalendarMarkupByDay.has(e) ||
            this.m_mapCalendarMarkupByDay.set(e, []),
            this.m_mapCalendarMarkupByDay.set(e, [
              ...this.m_mapCalendarMarkupByDay.get(e),
              t,
            ]);
        }
      }
      function A() {
        const [e, t] = i.useState(k.Get().GetAllDailyDeals());
        return (0, o.Qg)(k.Get().GetCallbackForDailyDealList(), t), e;
      }
      function w(e) {
        const t = k.Get(),
          [n, a] = i.useState(t.GetDailyDealByID(e));
        return (
          i.useEffect(() => {
            void 0 === n && t.LoadDailyDealByID(e);
          }, [n, e, t]),
          (0, o.Qg)(t.GetCallbackForDailyDealID(e), a),
          n
        );
      }
      function P(e) {
        const t = k.Get(),
          [n, a] = i.useState(t.GetDailyDealStartTime(e));
        return (
          (0, o.Qg)(t.GetCallbackForDailyDealID(e), () =>
            a(t.GetDailyDealStartTime(e)),
          ),
          n
        );
      }
      function T(e) {
        const [t, n] = i.useState(() => k.Get().GetDailyDealByDay(e));
        return (0, o.Qg)(k.Get().GetCallbackForDailyDealByDayList(e), n), t;
      }
      function N() {
        return { fnAddDailyDeal: k.Get().AddDailyDeal };
      }
      function R() {
        return {
          fnSaveDailyDeal: k.Get().SaveDailyDeal,
          fnRemoveDailyDeal: k.Get().RemoveDailyDeal,
          fnCancelDailyDeal: k.Get().CancelDailyDeal,
        };
      }
      function G() {
        return k.Get().SetBlackoutDate;
      }
      function L(e) {
        return k.Get().GetDailyDealsBySalePageVanity(e);
      }
      function B(e) {
        return k.Get().GetDailyDealDisplayOverridesByDay(e);
      }
      function x() {
        const [e, t] = (0, i.useState)(() => k.Get().CreateMapByStoreItem());
        return (
          (0, o.Qg)(k.Get().GetCallbackForDailyDealList(), () =>
            t(k.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      function M(e, t) {
        var n;
        if (e) {
          const a = e.rtime32_start_time,
            i = e.rtime32_start_time + 82800,
            l =
              0 == e.store_item_type
                ? null == t
                  ? void 0
                  : t.mapAppDiscounts
                : null == t
                  ? void 0
                  : t.mapBundleDiscounts,
            r = null == l ? void 0 : l.get(e.store_item_id),
            o =
              null === (n = null == r ? void 0 : r.discounts) || void 0 === n
                ? void 0
                : n.filter(
                    (e) =>
                      e.rtStartDate <= a &&
                      i <= e.rtEndDate &&
                      e.nDiscountPct > 0,
                  );
          if ((null == o ? void 0 : o.length) > 0) {
            let e, t, n, a;
            return (
              o.forEach((i) => {
                (null == e || e > i.nDiscountPct) && (e = i.nDiscountPct),
                  (null == t || t < i.nDiscountPct) && (t = i.nDiscountPct),
                  (null == n || n < i.rtStartDate) && (n = i.rtStartDate),
                  (null == a || a > i.rtEndDate) && (a = i.rtEndDate);
              }),
              {
                nDiscountPercentHigh: t,
                nDiscountPercentLow: e,
                dtDiscountStart: n,
                dtDiscountEnd: a,
                rgDiscounts: o,
              }
            );
          }
        }
        return {
          nDiscountPercentHigh: 0,
          nDiscountPercentLow: 0,
          dtDiscountStart: 0,
          dtDiscountEnd: 0,
          rgDiscounts: [],
        };
      }
      (0, a.gn)([o.ak], k.prototype, "SetDailyDeal", null),
        (0, a.gn)([o.ak], k.prototype, "LoadDailyDealByID", null),
        (0, a.gn)([o.ak], k.prototype, "GetDailyDealsBySalePageVanity", null),
        (0, a.gn)([o.ak], k.prototype, "AddDailyDeal", null),
        (0, a.gn)([o.ak], k.prototype, "SaveDailyDeal", null),
        (0, a.gn)([o.ak], k.prototype, "RemoveDailyDeal", null),
        (0, a.gn)([o.ak], k.prototype, "CancelDailyDeal", null),
        (0, a.gn)([o.ak], k.prototype, "SetBlackoutDate", null),
        (0, a.gn)([o.ak], k.prototype, "InternalAddCDailyDeal", null);
    },
    82283: (e, t, n) => {
      "use strict";
      n.d(t, { E: () => l });
      var a = n(43204),
        i = n(30750);
      function l() {
        const e = (0, a.fL)(),
          [t, n] = (0, i.SZ)(() => [
            e.BHasAssociatedItem(),
            e.GetStoreItemKey(),
          ]),
          [l] = (0, i.SZ)(() => [
            e.BHasDynamicFilterForApp(2, null == n ? void 0 : n.id),
          ]);
        return t && "app" == n.item_type && l;
      }
    },
    43204: (e, t, n) => {
      "use strict";
      n.d(t, {
        Ck: () => h,
        V4: () => v,
        fL: () => _,
        ld: () => p,
        tr: () => g,
        vt: () => u,
      });
      var a = n(17160),
        i = n(54842),
        l = n(47427),
        r = n(1485),
        o = n(45492),
        s = n(20417),
        c = n(37563),
        m = n(44107);
      class d {
        InitMarketingMessageToEdit(e, t = !1) {
          return (
            "dev" == c.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CMarketingMessageEditStore.InitMarketingMessageToEdit with model: " +
                  Boolean(this.m_model),
                (0, i.ZN)(e),
              ),
            this.m_model && !t
              ? this.m_model.Reset(e)
              : ((this.m_model = new a.bZ(e)),
                t && this.GetCallback().Dispatch(this.m_model)),
            this.m_model
          );
        }
        GetMarketingMessageToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        GetCallback() {
          return this.m_callback;
        }
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              "dev" == c.De.WEB_UNIVERSE &&
                (window.g_MarketingMessageEditStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {
          (this.m_model = null), (this.m_callback = new o.pB());
        }
      }
      function u(e, t = !1) {
        return d.Get().InitMarketingMessageToEdit(e, t);
      }
      function p() {
        return d.Get().GetMarketingMessageToEdit();
      }
      function _() {
        const e = (0, s.NW)(),
          [t, n] = l.useState(d.Get().GetMarketingMessageToEdit());
        return (
          (0, s.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          (0, s.Qg)(d.Get().GetCallback(), n),
          t
        );
      }
      function h(e) {
        const t = _(),
          n = (0, m.Q2)(e);
        return (
          (0, l.useEffect)(() => {
            n &&
              ((t && t.GetGID() == e) ||
                d.Get().InitMarketingMessageToEdit(n, !0));
          }, [t, n, e]),
          (null == t ? void 0 : t.GetGID()) == e ? t : null
        );
      }
      function g() {
        return {
          fnBIsPlanDirty: l.useCallback(
            () =>
              !!d.Get().GetMarketingMessageToEdit() &&
              d.Get().GetMarketingMessageToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlan: l.useCallback(() => {
            d.Get().ClearEditModel();
          }, []),
        };
      }
      function v(e, t) {
        return (
          !!((null == e ? void 0 : e.length) > 0 && r.II.validateUrl(e)) &&
          e.split("?")[0].toLowerCase().endsWith(t.toLowerCase())
        );
      }
    },
    13913: (e, t, n) => {
      "use strict";
      n.d(t, {
        AD: () => E,
        Br: () => k,
        I: () => I,
        Pl: () => b,
        j6: () => a,
        sB: () => S,
        ws: () => C,
      });
      var a,
        i = n(77936),
        l = n(256),
        r = n(17160),
        o = n(30750),
        s = n(47427),
        c = n(53545),
        m = n(86437),
        d = n(80886),
        u = n(1485),
        p = n(43204),
        _ = n(44107),
        h = n(25127),
        g = n(43746);
      function v(e, t, n, a, l, r, o, s, c, m) {
        const d = Boolean(1 != t),
          u = Boolean(0 != t);
        let _ = 0;
        for (let t = 0; t < 31; ++t) e && e[(0, i.j_)(t)] && (_ += 1);
        let g,
          v = h._;
        if ((1 == t ? (v = 1) : 2 == t && (v += 1), n)) {
          g = !0;
          let t = 0;
          for (let n = 0; n < 31; ++n) {
            const r = (0, i.j_)(n);
            if (
              (a && a[r] && l && l[r] && (t += 1),
              a && a[r] && (!l || !l[r] || !e || !e[r]))
            ) {
              g = !1;
              break;
            }
            if (l && l[r] && (!a || !a[r] || !e || !e[r])) {
              g = !1;
              break;
            }
          }
          0 == t && (g = !1);
        }
        let E = 0,
          S = 0;
        if ("featured_video" == r) {
          g = (0, p.V4)(c, ".mp4") && (0, p.V4)(m, ".webm");
          for (let e = 0; e < 31; ++e) {
            const t = (0, i.j_)(e);
            o && o[t] && (E += 1), s && s[t] && (S += 1);
          }
        }
        return {
          bMinimumAssetsSetup: Boolean(
            e && (!d || e.english) && (!u || e.sc_schinese),
          ),
          nAssetSetup: _,
          nCompleteAssetRequired: v,
          bMatchingVideoAssets: g,
          nSubtitleCount: E,
          nPosterCount: S,
          strCustomTemplateType: r,
        };
      }
      function E(e) {
        const t = (0, p.Ck)(e),
          [n, a, i, l, r, s, c, m, d, u] = (0, o.SZ)(() => [
            null == t ? void 0 : t.GetAssetsObject("ll_image"),
            null == t ? void 0 : t.GetRealm(),
            null == t ? void 0 : t.BHasAnimatedAssets(),
            null == t ? void 0 : t.GetAssetsObject("mp4"),
            null == t ? void 0 : t.GetAssetsObject("webm"),
            null == t ? void 0 : t.GetCustomTemplate(),
            null == t ? void 0 : t.GetAssetsObject("subtitles"),
            null == t ? void 0 : t.GetAssetsObject("poster"),
            null == t ? void 0 : t.GetFeaturedVideoMP4Url(),
            null == t ? void 0 : t.GetFeaturedVideoWebMUrl(),
          ]);
        return (null == t ? void 0 : t.GetGID()) == e
          ? v(n, a, i, l, r, s, c, m, d, u)
          : {
              bMatchingVideoAssets: !1,
              bMinimumAssetsSetup: !1,
              nAssetSetup: 0,
              nCompleteAssetRequired: 1,
              nSubtitleCount: 0,
              nPosterCount: 0,
              strCustomTemplateType: null,
            };
      }
      function S(e) {
        const t = (0, _.Q2)(e),
          [n, a] = (0, s.useState)(t ? e : null),
          [i, l] = (0, s.useState)(
            (0, c.r8)(null == t ? void 0 : t.template_vars_json),
          ),
          [m, d] = (0, s.useState)(
            (0, r.VM)(e, null == t ? void 0 : t.additional_restrictions_json),
          );
        (0, s.useEffect)(() => {
          n != e &&
            t &&
            (a(e),
            l((0, c.r8)(t.template_vars_json)),
            d((0, r.VM)(e, t.additional_restrictions_json)));
        }, [n, e, t]);
        const [u, p, h, g, E, S, D, f, y, b] = (0, o.SZ)(() => [
          null == i ? void 0 : i.ll_image,
          (null == m ? void 0 : m.valid_realms) || 0,
          null == i ? void 0 : i.has_animated_assets,
          null == i ? void 0 : i.mp4,
          null == i ? void 0 : i.webm,
          null == i ? void 0 : i.custom_display,
          null == i ? void 0 : i.subtitles,
          null == i ? void 0 : i.poster,
          null == i ? void 0 : i.featured_video_mp4,
          null == i ? void 0 : i.featured_video_webm,
        ]);
        return t
          ? v(u, p, h, g, E, S, D, f, y, b)
          : {
              bMatchingVideoAssets: !1,
              bMinimumAssetsSetup: !1,
              nAssetSetup: 0,
              nCompleteAssetRequired: 1,
              nSubtitleCount: 0,
              nPosterCount: 0,
              strCustomTemplateType: null,
            };
      }
      !(function (e) {
        (e[(e.k_StoreInvalidState = 0)] = "k_StoreInvalidState"),
          (e[(e.k_StoreUnavailable = 1)] = "k_StoreUnavailable"),
          (e[(e.k_StorePrePurchase = 2)] = "k_StorePrePurchase"),
          (e[(e.k_StoreComingSoon = 3)] = "k_StoreComingSoon"),
          (e[(e.k_StoreEarlyAccess = 4)] = "k_StoreEarlyAccess"),
          (e[(e.k_StoreGeneralAvailability = 5)] =
            "k_StoreGeneralAvailability");
      })(a || (a = {}));
      const D = { include_release: !0 };
      function f(e, t, n, i, r, o, s, c, m, d, p, _, h) {
        const v = (0, l.IN)(d, m),
          E = (0, g.l)(m);
        let S = a.k_StoreInvalidState;
        return (
          2 == o
            ? (S = a.k_StoreUnavailable)
            : r &&
              (r.BIsPrePurchase()
                ? (S = a.k_StorePrePurchase)
                : r.BIsComingSoon()
                  ? (S = a.k_StoreComingSoon)
                  : r.BIsEarlyAccess()
                    ? (S = a.k_StoreEarlyAccess)
                    : r.BIsReleased() &&
                      !r.BIsComingSoon() &&
                      (S = a.k_StoreGeneralAvailability)),
          {
            eVisibility: e,
            bDateSet: Boolean(t) && Boolean(n) && t < n,
            bItemAssociated: Boolean(i) || _,
            bFiltersSetup: Boolean(s > 0 || c),
            bValidLink: Boolean(m && u.II.validateUrl(m) && v && E),
            bButtonTokenEntered: Boolean(p),
            bExplicitNoItemAssociation: _,
            bLegalLineHandled: h,
            bAdvertisingAppWithoutURL:
              14 == (null == r ? void 0 : r.GetAppType()) &&
              (!r.GetStorePageURLOverride() ||
                0 == r.GetStorePageURLOverride().trim().length),
            eStoreItemMarketingMessageState: S,
          }
        );
      }
      function y() {
        return {
          eVisibility: 1,
          bDateSet: !1,
          bItemAssociated: !1,
          bFiltersSetup: !1,
          bValidLink: !1,
          bButtonTokenEntered: !1,
          bExplicitNoItemAssociation: !1,
          bLegalLineHandled: !1,
          bAdvertisingAppWithoutURL: !1,
          eStoreItemMarketingMessageState: a.k_StoreInvalidState,
        };
      }
      function b(e) {
        const t = (0, p.Ck)(e),
          [n, a, i, l, r, s, c, u, _, h, g] = (0, o.SZ)(() => [
            null == t ? void 0 : t.GetVisibilty(),
            null == t ? void 0 : t.GetStartRTime(),
            null == t ? void 0 : t.GetEndRTime(),
            null == t ? void 0 : t.GetStoreItemID(),
            null == t ? void 0 : t.GetUserMessageFilterCount(),
            null == t ? void 0 : t.BIsNoFilterRequired(),
            null == t ? void 0 : t.GetLinkURL(),
            null == t ? void 0 : t.GetRealm(),
            null == t ? void 0 : t.GetButtonToken(),
            null == t ? void 0 : t.BExplicitNoAssociationItem(),
            (null == t ? void 0 : t.BHasLegalLinePartner()) ||
              (null == t ? void 0 : t.BExplicitNoLegalPartnerNeeded()) ||
              (null == t ? void 0 : t.BUseCustomLegalText()),
          ]),
          [v, E] = (0, d.jk)((0, m.u$)(l), (0, m.D3)(l), D);
        return (null == t ? void 0 : t.GetGID()) == e
          ? f(n, a, i, l, v, E, r, s, c, u, _, h, g)
          : y();
      }
      function I(e) {
        const t = (0, _.Q2)(e),
          [n, a] = (0, s.useState)(t ? e : null),
          [i, l] = (0, s.useState)(
            (0, c.r8)(null == t ? void 0 : t.template_vars_json),
          ),
          [u, p] = (0, s.useState)(
            (0, r.VM)(e, null == t ? void 0 : t.additional_restrictions_json),
          );
        (0, s.useEffect)(() => {
          n != e &&
            t &&
            (a(e),
            l((0, c.r8)(t.template_vars_json)),
            p((0, r.VM)(e, t.additional_restrictions_json)));
        }, [n, e, t]);
        const [h, g, v, E, S, b, I, C, k, A, w] = (0, o.SZ)(() => {
            var e;
            return [
              null == t ? void 0 : t.visibility,
              null == t ? void 0 : t.start_date,
              null == t ? void 0 : t.end_date,
              (0, m.Xm)(
                (0, r.kK)(
                  null == t ? void 0 : t.association_type,
                  null == t ? void 0 : t.associated_id,
                ),
              ),
              (0, r.Kq)(u),
              null == u ? void 0 : u.no_filters_required,
              null == i ? void 0 : i.linkurl,
              (null == u ? void 0 : u.valid_realms) || 0,
              null == i ? void 0 : i.button_text,
              null == u ? void 0 : u.explicit_no_associated_item,
              (null === (e = null == i ? void 0 : i.partner) || void 0 === e
                ? void 0
                : e.trim().length) > 0 ||
                (null == u ? void 0 : u.explicit_no_partner_name_needed),
            ];
          }),
          [P, T] = (0, d.jk)((0, m.u$)(E), (0, m.D3)(E), D);
        return origin ? f(h, g, v, E, P, T, S, b, I, C, k, A, w) : y();
      }
      function C(e) {
        const {
            bDateSet: t,
            bItemAssociated: n,
            bFiltersSetup: i,
            bValidLink: l,
            bButtonTokenEntered: r,
            bLegalLineHandled: o,
            bAdvertisingAppWithoutURL: s,
            eStoreItemMarketingMessageState: c,
            bExplicitNoItemAssociation: m,
          } = b(e),
          { bMinimumAssetsSetup: d } = E(e);
        return (
          t &&
          n &&
          i &&
          d &&
          l &&
          r &&
          o &&
          !s &&
          (m || (c != a.k_StoreInvalidState && c != a.k_StoreUnavailable))
        );
      }
      function k(e) {
        const {
            bDateSet: t,
            bItemAssociated: n,
            bFiltersSetup: i,
            bValidLink: l,
            bButtonTokenEntered: r,
            bLegalLineHandled: o,
            bAdvertisingAppWithoutURL: s,
            eStoreItemMarketingMessageState: c,
            bExplicitNoItemAssociation: m,
          } = I(e),
          { bMinimumAssetsSetup: d } = S(e);
        return (
          t &&
          n &&
          i &&
          d &&
          l &&
          r &&
          o &&
          !s &&
          (m || (c != a.k_StoreInvalidState && c != a.k_StoreUnavailable))
        );
      }
    },
    44107: (e, t, n) => {
      "use strict";
      n.d(t, {
        BA: () => y,
        O4: () => v,
        Q2: () => E,
        Sw: () => S,
        _5: () => g,
        dB: () => h,
        jI: () => f,
        oT: () => D,
      });
      var a = n(85556),
        i = n(47427),
        l = n(79545),
        r = n(77581),
        o = n(44237),
        s = n(62210),
        c = n(16649),
        m = n(45492),
        d = n(20417),
        u = n(37563),
        p = n(16997);
      class _ {
        GetAllActiveMarketingMessages() {
          return this.m_rgActiveMessages;
        }
        GetMarketingMessageByID(e) {
          return this.m_mapMessages.get(e);
        }
        GetCallbackForMarketingMessage(e) {
          return (
            this.m_mapMessagesCallback.has(e) ||
              this.m_mapMessagesCallback.set(e, new m.pB()),
            this.m_mapMessagesCallback.get(e)
          );
        }
        GetCallbackForActiveMarketingMessageList() {
          return this.m_ActiveMessageListCallback;
        }
        HandleFindMessageRseponse(e) {
          const t = new Array();
          return (
            e
              .Body()
              .messages()
              .forEach((e) => {
                const n = e.toObject();
                t.push(n),
                  this.m_mapMessages.has(n.gid) ||
                    this.m_mapMessages.set(n.gid, n);
              }),
            t
          );
        }
        LoadAllActiveMarketingMessages() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let e = null;
            try {
              const t = l.gA.Init(o.nQ);
              t.Body().set_lookup_type(2);
              let n = yield o.Bn.FindMarketingMessages(
                this.m_steamInterface.GetServiceTransport(),
                t,
              );
              if (1 == n.GetEResult()) {
                (0, s.X)(
                  0 == this.m_rgActiveMessages.length,
                  "We expect m_rgActiveMessages to be empty",
                );
                const e = this.HandleFindMessageRseponse(n);
                return (
                  (this.m_rgActiveMessages = e),
                  this.m_ActiveMessageListCallback.Dispatch(
                    this.m_rgActiveMessages,
                  ),
                  this.m_rgActiveMessages
                );
              }
              e = (0, c.l)(n);
            } catch (t) {
              e = (0, c.l)(t);
            }
            return (
              console.error(
                "CMarketingMessageStore::LoadAllActiveMarketingMessages failed: " +
                  e.strErrorMsg,
                e,
              ),
              this.m_rgActiveMessages
            );
          });
        }
        LoadMarketingMessage(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.m_mapMessages.has(e)
              ? this.m_mapMessages.get(e)
              : (this.m_mapPromiseMarketingMessage.has(e) ||
                  this.m_mapPromiseMarketingMessage.set(
                    e,
                    this.InternalLoadMarketingMessage(e),
                  ),
                this.m_mapPromiseMarketingMessage.get(e));
          });
        }
        InternalLoadMarketingMessage(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = null;
            try {
              const n = l.gA.Init(o.nQ);
              n.Body().set_lookup_type(1), n.Body().set_gid(e);
              let a = yield o.Bn.FindMarketingMessages(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              if (1 == a.GetEResult()) {
                const t = this.HandleFindMessageRseponse(a);
                if (t.length > 0) {
                  const e = t[0];
                  this.m_mapMessages.set(e.gid, e),
                    this.GetCallbackForMarketingMessage(e.gid).Dispatch(e);
                }
                return this.m_mapMessages.get(e);
              }
              t = (0, c.l)(a);
            } catch (e) {
              t = (0, c.l)(e);
            }
            return (
              console.error(
                "CMarketingMessageStore::InternalLoadMarketingMessage failed: " +
                  t.strErrorMsg,
                t,
              ),
              null
            );
          });
        }
        Search(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const a = l.gA.Init(o.nQ);
              a.Body().set_lookup_type(3),
                a.Body().set_message_type(e),
                (null == t ? void 0 : t.trim().length) > 0
                  ? ("%" != t.charAt(0) && (t = "%" + t),
                    "%" != t.charAt(t.length - 1) && (t += "%"),
                    a.Body().set_title(t.trim()))
                  : a.Body().set_title("%");
              let i = yield o.Bn.FindMarketingMessages(
                this.m_steamInterface.GetServiceTransport(),
                a,
              );
              if (1 == i.GetEResult())
                return i
                  .Body()
                  .messages()
                  .map((e) => e.toObject());
              n = (0, c.l)(i);
            } catch (e) {
              n = (0, c.l)(e);
            }
            return (
              console.error(
                "CMarketingMessageStore::Search failed: " + n.strErrorMsg,
                n,
              ),
              []
            );
          });
        }
        CreateMarketingMessage(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const a = l.gA.Init(o.SL);
              a.Body().set_message(o.Ax.fromObject(e)),
                a.Body().set_from_json(t);
              let i = yield o.Bn.CreateMarketingMessage(
                this.m_steamInterface.GetServiceTransport(),
                a,
              );
              if (1 == i.GetEResult() && i.Body().gid())
                return (
                  (e.gid = i.Body().gid()),
                  this.m_mapMessages.set(e.gid, e),
                  (this.m_rgActiveMessages = [...this.m_rgActiveMessages, e]),
                  this.m_ActiveMessageListCallback.Dispatch(
                    this.m_rgActiveMessages,
                  ),
                  e.gid
                );
              n = (0, c.l)(i);
            } catch (e) {
              n = (0, c.l)(e);
            }
            return (
              console.error(
                "CMarketingMessageStore::CreateMarketingMessage failed: " +
                  n.strErrorMsg,
                n,
              ),
              null
            );
          });
        }
        UpdateMarketingMessage(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = null;
            try {
              const n = l.gA.Init(o.rA),
                a = e.PrepareMessageModelForUpdate();
              n.Body().set_message(o.Ax.fromObject(a)),
                n.Body().set_from_json(!0),
                n.Body().set_gid(a.gid);
              let i = yield o.Bn.UpdateMarketingMessage(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              if (1 == i.GetEResult())
                return (
                  this.m_mapMessages.set(a.gid, a),
                  (this.m_rgActiveMessages = [...this.m_rgActiveMessages]),
                  this.m_ActiveMessageListCallback.Dispatch(
                    this.m_rgActiveMessages,
                  ),
                  console.log("Save Successful"),
                  !0
                );
              t = (0, c.l)(i);
            } catch (e) {
              t = (0, c.l)(e);
            }
            return (
              console.error(
                "CMarketingMessageStore::UpdateMarketingMessage failed: " +
                  t.strErrorMsg,
                t,
              ),
              !1
            );
          });
        }
        DeleteMarketingMessage(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let t = null;
            try {
              const n = l.gA.Init(o.MJ);
              n.Body().set_gid(e.gid);
              let a = yield o.Bn.DeleteMarketingMessage(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              if (1 == a.GetEResult())
                return (
                  this.m_mapMessages.set(e.gid, void 0),
                  this.m_ActiveMessageListCallback.Dispatch(
                    this.m_rgActiveMessages,
                  ),
                  !0
                );
              t = (0, c.l)(a);
            } catch (e) {
              t = (0, c.l)(e);
            }
            return (
              console.error(
                "CMarketingMessageStore::DeleteMarketingMessage failed: " +
                  t.strErrorMsg,
                t,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            _.s_Singleton ||
              ((_.s_Singleton = new _()),
              _.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_MarketingMessageStore = _.s_Singleton)),
            _.s_Singleton
          );
        }
        constructor() {
          (this.m_rgActiveMessages = new Array()),
            (this.m_mapMessages = new Map()),
            (this.m_mapMessagesCallback = new Map()),
            (this.m_ActiveMessageListCallback = new m.pB()),
            (this.m_steamInterface = null),
            (this.m_mapPromiseMarketingMessage = new Map());
        }
        Init() {
          const e = (0, u.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, s.X)(Boolean(e), "require promotion_operation_token"),
            "dev" == u.De.WEB_UNIVERSE &&
              console.log(
                "DEV_DEBUG Initializing CMarketingMessageStore with access token ",
                e,
              ),
            (this.m_steamInterface = new r.J(u.De.WEBAPI_BASE_URL, e));
          const t = (0, u.ip)("marketing_messages", "application_config");
          this.BIsValidPlanList(t) &&
            t.forEach((e) => {
              this.m_mapMessages.set(e.gid, e), (this.m_rgActiveMessages = t);
            });
        }
        BIsValidPlanList(e) {
          const t = e;
          return (
            t && Array.isArray(t) && t.length > 0 && Boolean(t[0].associated_id)
          );
        }
        GetSteamInterface() {
          return this.m_steamInterface;
        }
      }
      function h() {
        return _.Get().GetSteamInterface();
      }
      function g(e) {
        return _.Get().GetMarketingMessageByID(e);
      }
      function v() {
        const [e, t] = i.useState(_.Get().GetAllActiveMarketingMessages());
        return (
          (0, i.useEffect)(() => {
            (null != e && 0 != e.length) ||
              _.Get().LoadAllActiveMarketingMessages();
          }, [e]),
          (0, d.Qg)(_.Get().GetCallbackForActiveMarketingMessageList(), t),
          e
        );
      }
      function E(e) {
        const [t, n] = (0, i.useState)(() =>
          _.Get().GetMarketingMessageByID(e),
        );
        return (
          (0, i.useEffect)(() => {
            !e || (t && t.gid == e) || _.Get().LoadMarketingMessage(e).then(n);
          }, [e, t]),
          (0, d.Qg)(_.Get().GetCallbackForMarketingMessage(e), n),
          t
        );
      }
      function S() {
        return _.Get().Search;
      }
      function D() {
        return { fnCreateMarketingMessage: _.Get().CreateMarketingMessage };
      }
      function f() {
        return { fnUpdateMarketingMessage: _.Get().UpdateMarketingMessage };
      }
      function y() {
        return { fnDeleteMarketingMessage: _.Get().DeleteMarketingMessage };
      }
      (0, a.gn)([p.a], _.prototype, "Search", null),
        (0, a.gn)([p.a], _.prototype, "CreateMarketingMessage", null),
        (0, a.gn)([p.a], _.prototype, "UpdateMarketingMessage", null),
        (0, a.gn)([p.a], _.prototype, "DeleteMarketingMessage", null);
    },
    71945: (e, t, n) => {
      "use strict";
      n.d(t, { I0: () => m, bg: () => u, mz: () => d });
      var a = n(85556),
        i = n(47427),
        l = n(42718),
        r = n(79545),
        o = n(44237),
        s = n(64936),
        c = n(44107);
      function m() {
        const e = (0, s.zD)(),
          { data: t, isLoading: n } = (0, l.useQuery)(
            ["useMarketingMessageAllStats"],
            () =>
              (function (e) {
                return (0, a.mG)(this, void 0, void 0, function* () {
                  const t = r.gA.Init(o.yp);
                  t.Body().set_rt_start_time(e - 604800),
                    t.Body().set_rt_end_time(e);
                  const n = (0, c.dB)();
                  return (yield o.Bn.GetMarketingMessagesViewerRangeStats(
                    n.GetServiceTransport(),
                    t,
                  ))
                    .Body()
                    .stats()
                    .map((e) => e.toObject());
                });
              })(e),
          );
        return n ? null : t;
      }
      function d(e) {
        const { data: t, isLoading: n } = (0, l.useQuery)(
          ["useSingleMarketingMessageViewStats", e],
          () =>
            (function (e) {
              return (0, a.mG)(this, void 0, void 0, function* () {
                const t = r.gA.Init(o.$k);
                t.Body().set_gid(e);
                const n = (0, c.dB)();
                return (yield o.Bn.GetMarketingMessageViewerStats(
                  n.GetServiceTransport(),
                  t,
                ))
                  .Body()
                  .stats()
                  .map((e) => e.toObject());
              });
            })(e),
          { staleTime: 3600 },
        );
        return n ? null : t;
      }
      function u(e) {
        const t = d(e);
        return (0, i.useMemo)(() => {
          if (!t) return -1;
          let e = 0;
          return t.forEach((t) => (e += t.seen_count)), e;
        }, [t]);
      }
    },
    20840: (e, t, n) => {
      "use strict";
      n.d(t, { X: () => r });
      var a = n(85556),
        i = n(47427);
      class l {
        constructor() {
          (this.m_marketingTokens = null), (this.m_promiseLoad = null);
        }
        GetMarketingTokens() {
          return this.m_marketingTokens;
        }
        LoadDictionary() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_promiseLoad ||
                (this.m_promiseLoad = this.InternalLoadDictionary()),
              this.m_promiseLoad
            );
          });
        }
        InternalLoadDictionary() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const [e] = yield Promise.all([n.e(4929).then(n.t.bind(n, 5, 19))]);
            return (this.m_marketingTokens = e), this.m_marketingTokens;
          });
        }
        static Get() {
          return l.s_Singleton || (l.s_Singleton = new l()), l.s_Singleton;
        }
      }
      function r() {
        const [e, t] = (0, i.useState)(l.Get().GetMarketingTokens());
        return (
          (0, i.useEffect)(() => {
            e ||
              l
                .Get()
                .LoadDictionary()
                .then((e) => t(e));
          }, [e]),
          e
        );
      }
    },
    45844: (e, t, n) => {
      "use strict";
      n.d(t, { N: () => u, j: () => p });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(16649),
        s = n(45492),
        c = n(20417),
        m = n(37563);
      class d {
        GetAllPromotionContacts(e) {
          return this.m_mapPartnerCommList.get(e);
        }
        GetListChangeCallback(e) {
          return (
            this.m_mapPartnerCallbackList.has(e) ||
              this.m_mapPartnerCallbackList.set(e, new s.pB()),
            this.m_mapPartnerCallbackList.get(e)
          );
        }
        BHasPromotionContact(e) {
          return this.m_mapPartnerCommList.has(e);
        }
        LoadPartnerContactList(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              0 == e ||
              null == e ||
              null == e ||
              (this.m_promiseLoadPartnerContacts.has(e) ||
                this.m_promiseLoadPartnerContacts.set(
                  e,
                  this.InternalLoadPartnerContactList(e),
                ),
              this.m_promiseLoadPartnerContacts.get(e))
            );
          });
        }
        InternalLoadPartnerContactList(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const a = {
                  partnerid: e,
                  sessionid: m.De.SESSIONID,
                  bIncludeManagePricingRights: !0,
                },
                i =
                  m.De.PARTNER_BASE_URL +
                  "promotion/planning/ajaxuserwithreceivecommunications",
                r = yield l().get(i, { params: a, withCredentials: !0 });
              if (
                200 == (null == r ? void 0 : r.status) &&
                1 ==
                  (null === (t = null == r ? void 0 : r.data) || void 0 === t
                    ? void 0
                    : t.success)
              ) {
                let t = new Map();
                for (const [e, n] of Object.entries(r.data.managepricing))
                  t.set(parseInt(e), n);
                return (
                  this.m_mapPartnerCommList.set(e, t),
                  this.GetListChangeCallback(e).Dispatch(t),
                  !0
                );
              }
              n = (0, o.l)(null == r ? void 0 : r.data);
            } catch (e) {
              n = (0, o.l)(e);
            }
            return (
              console.error(
                "CPartnerContactStore.InternalLoadPartnerContactList: ajax request failed with error: " +
                  n.strErrorMsg,
                n,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              "dev" == m.De.WEB_UNIVERSE &&
                (window.g_PartnerContactStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {
          (this.m_mapPartnerCommList = new Map()),
            (this.m_mapPartnerCallbackList = new Map()),
            (this.m_promiseLoadPartnerContacts = new Map());
        }
      }
      function u(e) {
        const [t, n] = (0, r.useState)(d.Get().GetAllPromotionContacts(e));
        return (
          (0, r.useEffect)(() => {
            d.Get().BHasPromotionContact(e)
              ? n(d.Get().GetAllPromotionContacts(e))
              : d.Get().LoadPartnerContactList(e);
          }, [e]),
          (0, c.Qg)(d.Get().GetListChangeCallback(e), n),
          t
        );
      }
      function p(e) {
        const [t, n] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            if ((null == e ? void 0 : e.length) > 0) {
              const t = e
                .filter(Boolean)
                .map((e) => d.Get().LoadPartnerContactList(e));
              Promise.all(t).then(() => {
                const t = new Map();
                e.forEach((e) => {
                  if (d.Get().BHasPromotionContact(e)) {
                    const n = d.Get().GetAllPromotionContacts(e);
                    t.set(e, n ? [...n.keys()] : []);
                  }
                }),
                  n(t);
              });
            }
          }, [e]),
          t
        );
      }
    },
    49781: (e, t, n) => {
      "use strict";
      n.d(t, { Gk: () => u, UZ: () => d, lf: () => p });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(16649),
        s = n(37563),
        c = n(86437);
      class m {
        GetInfoForApp(e) {
          return this.m_mapAppIDToPaymentPartners.get(e);
        }
        BHasInfoForApp(e) {
          return this.m_mapAppIDToPaymentPartners.has(e);
        }
        GetInfoForPackage(e) {
          return this.m_mapPackageIDToPaymentPartners.get(e);
        }
        BHasInfoForPackage(e) {
          return this.m_mapPackageIDToPaymentPartners.has(e);
        }
        GetInfoForBundle(e) {
          return this.m_mapBundleIDToPaymentPartners.get(e);
        }
        BHasInfoForBundle(e) {
          return this.m_mapBundleIDToPaymentPartners.has(e);
        }
        GetInfoForStoreItem(e, t) {
          switch (t) {
            case 0:
              return this.GetInfoForApp(e);
            case 1:
              return this.GetInfoForPackage(e);
            case 2:
              return this.GetInfoForBundle(e);
            default:
              return null;
          }
        }
        BHasInfoForStoreItem(e, t) {
          switch (t) {
            case 0:
              return this.BHasInfoForApp(e);
            case 1:
              return this.BHasInfoForPackage(e);
            case 2:
              return this.BHasInfoForBundle(e);
            default:
              return !1;
          }
        }
        LoadAppPartnerInfo(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapAppIDToPromise.has(e) ||
                this.m_mapAppIDToPromise.set(
                  e,
                  this.InternalLoadAppPartnerInfo(e, null, null),
                ),
              this.m_mapAppIDToPromise.get(e)
            );
          });
        }
        LoadPackagePartnerInfo(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapPackageIDToPromise.has(e) ||
                this.m_mapPackageIDToPromise.set(
                  e,
                  this.InternalLoadAppPartnerInfo(null, e, null),
                ),
              this.m_mapPackageIDToPromise.get(e)
            );
          });
        }
        LoadBundlePartnerInfo(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapBundleIDToPromise.has(e) ||
                this.m_mapBundleIDToPromise.set(
                  e,
                  this.InternalLoadAppPartnerInfo(null, null, e),
                ),
              this.m_mapBundleIDToPromise.get(e)
            );
          });
        }
        LoadStoreItemPartnerInfo(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            switch (t) {
              case 0:
                return this.LoadAppPartnerInfo(e);
              case 1:
                return this.LoadPackagePartnerInfo(e);
              case 2:
                return this.LoadBundlePartnerInfo(e);
              default:
                return null;
            }
          });
        }
        InternalLoadAppPartnerInfo(e, t, n) {
          var i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = null;
            try {
              const r = { appid: e, packageid: t, bundleid: n },
                c =
                  s.De.PARTNER_BASE_URL + "promotion/dailydeals/ajaxgetpartner",
                m = yield l().get(c, { params: r, withCredentials: !0 });
              if (
                200 == (null == m ? void 0 : m.status) &&
                1 ==
                  (null === (i = m.data) || void 0 === i ? void 0 : i.success)
              )
                return e
                  ? (this.m_mapAppIDToPaymentPartners.set(
                      e,
                      m.data.partnerinfo,
                    ),
                    this.m_mapAppIDToPaymentPartners.get(e))
                  : t
                    ? (this.m_mapPackageIDToPaymentPartners.set(
                        t,
                        m.data.partnerinfo,
                      ),
                      this.m_mapPackageIDToPaymentPartners.get(t))
                    : (this.m_mapBundleIDToPaymentPartners.set(
                        n,
                        m.data.partnerinfo,
                      ),
                      this.m_mapBundleIDToPaymentPartners.get(n));
              a = (0, o.l)(m);
            } catch (e) {
              a = (0, o.l)(e);
            }
            return (
              console.error(
                "CPartnerPaymentStore.LoadAppPartnerInfo failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.g_DailyDealEditStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppIDToPaymentPartners = new Map()),
            (this.m_mapAppIDToPromise = new Map()),
            (this.m_mapPackageIDToPaymentPartners = new Map()),
            (this.m_mapPackageIDToPromise = new Map()),
            (this.m_mapBundleIDToPaymentPartners = new Map()),
            (this.m_mapBundleIDToPromise = new Map());
        }
      }
      function d(e) {
        return u(e.id, (0, c.YF)(e));
      }
      function u(e, t) {
        const [n, a] = r.useState(() => m.Get().GetInfoForStoreItem(e, t));
        return (
          r.useEffect(() => {
            e
              ? m.Get().BHasInfoForStoreItem(e, t) && null != n
                ? m.Get().BHasInfoForStoreItem(e, t) &&
                  n != m.Get().GetInfoForStoreItem(e, t) &&
                  a(m.Get().GetInfoForStoreItem(e, t))
                : m.Get().LoadStoreItemPartnerInfo(e, t).then(a)
              : a(null);
          }, [e, t, n]),
          n
        );
      }
      function p(e) {
        const [t, n] = (0, r.useState)(null);
        return (
          (0, r.useEffect)(() => {
            if ((null == e ? void 0 : e.length) > 0) {
              const t = e.map((e) => m.Get().LoadStoreItemPartnerInfo(e, 0));
              Promise.all(t).then(() => {
                const t = new Map();
                e.forEach((e) => {
                  m.Get().BHasInfoForApp(e) &&
                    t.set(e, m.Get().GetInfoForApp(e));
                }),
                  n(t);
              });
            }
          }, [e]),
          t
        );
      }
    },
    51485: (e, t, n) => {
      "use strict";
      n.d(t, { z9: () => v, Dv: () => E, R0: () => S, pY: () => D });
      var a = n(85556),
        i = n(79545),
        l = n(5697),
        r = n(54842),
        o = n(45492),
        s = n(20417),
        c = n(65255);
      class m {
        constructor(e, t) {
          (this.m_oInput = null),
            (this.m_originalInput = null),
            (this.m_bDirty = !1),
            (this.m_callback = new o.pB()),
            (0, r.rC)(this),
            this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_planID = e),
            (this.m_originalInput = JSON.parse(JSON.stringify(t))),
            (this.m_oInput = JSON.parse(JSON.stringify(t))),
            (this.m_bDirty = !1);
        }
        SaveSuccessClearDirty() {
          (this.m_originalInput = JSON.parse(JSON.stringify(this.m_oInput))),
            (this.m_bDirty = !1);
        }
        GetInputPipeline() {
          return this.m_oInput;
        }
        GetPromotionName() {
          return this.m_oInput.requested_promotion_name;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        BIsEnabled() {
          return this.m_oInput.enable_input;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oInput;
        }
        GetPlanID() {
          return this.m_planID;
        }
        GetArtRequests() {
          return this.m_oInput.art_requests;
        }
        GetDueDate() {
          return this.m_oInput.due_date;
        }
        BHasValveNote() {
          return (
            Boolean(this.m_oInput.valve_note) &&
            this.m_oInput.valve_note.trim().length > 0
          );
        }
        BHasPartnerNote() {
          return (
            Boolean(this.m_oInput.partner_note) &&
            this.m_oInput.partner_note.trim().length > 0
          );
        }
        GetValveNote() {
          return this.m_oInput.valve_note;
        }
        GetPartnerNote() {
          return this.m_oInput.partner_note;
        }
        GetDiscountEventID() {
          return this.m_oInput.asset_request_discount_event_id_clone;
        }
        GetPreviewArt() {
          return this.m_oInput.preview_art;
        }
        GetPreviewArtOfType(e) {
          var t;
          return null === (t = this.m_oInput.preview_art) || void 0 === t
            ? void 0
            : t.find((t) => t.type == e);
        }
        BHasPreviewArtOfType(e) {
          return Boolean(this.GetPreviewArtOfType(e));
        }
        GetArtInputLink() {
          return this.m_oInput.input_artwork_url;
        }
        BHasInputArtworkLink() {
          return (
            Boolean(this.m_oInput.input_artwork_url) &&
            this.m_oInput.input_artwork_url.trim().length > 0
          );
        }
        BHasAnyArtTypeRequested() {
          var e;
          return (
            (null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.length) > 0
          );
        }
        BIsArtTypeRequested(e) {
          var t;
          return Boolean(
            null === (t = this.m_oInput.art_requests) || void 0 === t
              ? void 0
              : t.find((t) => t == e),
          );
        }
        BIsTakeoverArtRequest() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "takeover_art" == e),
          );
        }
        BIsContentHubTakeoverArtRequest() {
          return this.m_oInput.content_hub_takeover;
        }
        BIsTakeunderArtRequest() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "takeunder_art" == e),
          );
        }
        BIsSpotlightArtRequest() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "spotlight_art" == e),
          );
        }
        BIsSalePageArtRequest() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "sale_header" == e),
          );
        }
        BIsMarketingMessageArtRequest() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "marketingmessage_art" == e),
          );
        }
        BIsMarketingMessageArtRequest_2() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "marketingmessage_art_2" == e),
          );
        }
        BIsEventHeaderImageRequest() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.find((e) => "localized_title_image" == e),
          );
        }
        BHasAnyArtTypeReviewRequested() {
          var e;
          return (
            (null === (e = this.m_oInput.art_requests) || void 0 === e
              ? void 0
              : e.length) > 0
          );
        }
        BIsArtTypeReviewRequested(e) {
          var t;
          return Boolean(
            null === (t = this.m_oInput.art_approvals_request) || void 0 === t
              ? void 0
              : t.find((t) => t == e),
          );
        }
        BRequestEnabled() {
          return this.m_oInput.enable_input;
        }
        GetExistingArtForApprovals() {
          return this.m_oInput.approval_requests;
        }
        GetArtApprovals() {
          return this.m_oInput.approvals_provided;
        }
        BHasAnyArtTypeForApproval() {
          var e;
          return (
            (null === (e = this.m_oInput.approval_requests) || void 0 === e
              ? void 0
              : e.length) > 0
          );
        }
        BIsArtTypeApproved(e) {
          var t;
          return Boolean(
            null === (t = this.m_oInput.approvals_provided) || void 0 === t
              ? void 0
              : t.find((t) => t.type == e),
          );
        }
        BIsTakeoverArtApproved() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.approvals_provided) || void 0 === e
              ? void 0
              : e.find((e) => "takeover_art" == e.type),
          );
        }
        BIsTakeunderArtApproved() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.approvals_provided) || void 0 === e
              ? void 0
              : e.find((e) => "takeunder_art" == e.type),
          );
        }
        BIsSpotlightArtApproved() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.approvals_provided) || void 0 === e
              ? void 0
              : e.find((e) => "spotlight_art" == e.type),
          );
        }
        BIsMarketingMessageArtApproved() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.approvals_provided) || void 0 === e
              ? void 0
              : e.find((e) => "marketingmessage_art" == e.type),
          );
        }
        BIsMarketingMessageArtApproved_2() {
          var e;
          return Boolean(
            null === (e = this.m_oInput.approvals_provided) || void 0 === e
              ? void 0
              : e.find((e) => "marketingmessage_art_2" == e.type),
          );
        }
        GetSubmittingAccount() {
          return this.m_oInput.submitting_accountid;
        }
        GetAssetRequestContactInfo() {
          return this.m_oInput.asset_request_contact_info || "";
        }
        ClearInput() {
          (this.m_oInput.preview_art = []),
            (this.m_oInput.input_artwork_url = void 0),
            (this.m_oInput.partner_note = void 0),
            this.Dispatch();
        }
        SetInputArtworkLink(e) {
          this.m_oInput.input_artwork_url != e &&
            ((this.m_oInput.input_artwork_url = e), this.Dispatch());
        }
        SetAssetRequestContactInfo(e) {
          this.m_oInput.asset_request_contact_info != e &&
            ((this.m_oInput.asset_request_contact_info = e), this.Dispatch());
        }
        ToggleArtRequest(e, t) {
          if (this.BIsArtTypeRequested(e) != t) {
            if (t) this.m_oInput.art_requests.push(e);
            else {
              const t = this.m_oInput.art_requests.findIndex((t) => t === e);
              this.m_oInput.art_requests.splice(t, 1);
            }
            this.Dispatch();
          }
        }
        ToggleArtReviewRequest(e, t) {
          if (this.BIsArtTypeReviewRequested(e) != t) {
            if (t) this.m_oInput.art_approvals_request.push(e);
            else {
              const t = this.m_oInput.art_approvals_request.findIndex(
                (t) => t === e,
              );
              this.m_oInput.art_approvals_request.splice(t, 1);
            }
            this.Dispatch();
          }
        }
        SetDueDate(e) {
          this.m_oInput.due_date !== e &&
            ((this.m_oInput.due_date = e), this.Dispatch());
        }
        SetRequestEnabled(e) {
          this.m_oInput.enable_input !== e &&
            ((this.m_oInput.enable_input = e), this.Dispatch());
        }
        SetValveNote(e) {
          this.m_oInput.valve_note != e &&
            ((this.m_oInput.valve_note = e), this.Dispatch());
        }
        SetPartnerNote(e) {
          this.m_oInput.partner_note != e &&
            ((this.m_oInput.partner_note = e), this.Dispatch());
        }
        SetRequestedArt(e) {
          (this.m_oInput.art_requests = [...e]), this.Dispatch();
        }
        SetPreviewArt(e, t, n) {
          this.m_oInput.preview_art || (this.m_oInput.preview_art = []);
          const a = this.m_oInput.preview_art.findIndex((e) => e.type == t);
          a >= 0
            ? (this.m_oInput.preview_art[a].filename === n &&
                this.m_oInput.preview_art[a].lang === e) ||
              ((this.m_oInput.preview_art[a].filename = n),
              (this.m_oInput.preview_art[a].lang = e),
              this.Dispatch())
            : (this.m_oInput.preview_art.push({
                type: t,
                filename: n,
                lang: e,
              }),
              this.Dispatch());
        }
        SetExistingArtForApprovals(e, t) {
          this.m_oInput.approval_requests ||
            (this.m_oInput.approval_requests = []);
          const n = this.m_oInput.approval_requests.findIndex(
            (t) => t.type == e,
          );
          n >= 0
            ? this.m_oInput.approval_requests[n].filename !== t &&
              ((this.m_oInput.approval_requests[n].filename = t),
              this.Dispatch())
            : (this.m_oInput.approval_requests.push({ type: e, filename: t }),
              this.Dispatch());
        }
        SetArtApprovals(e) {
          this.m_oInput.approvals_provided ||
            (this.m_oInput.approvals_provided = []);
          this.m_oInput.approvals_provided.findIndex((t) => t.type == e) < 0 &&
            (this.m_oInput.approvals_provided.push({
              type: e,
              approval_accountid: c.L7.accountid,
              approval_time: Math.floor(Date.now() / 1e3),
            }),
            this.Dispatch());
        }
        SetContentHubTakeover(e) {
          this.m_oInput.content_hub_takeover != e &&
            ((this.m_oInput.content_hub_takeover = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oInput = JSON.parse(JSON.stringify(this.m_originalInput))),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, a.gn)([r.LO], m.prototype, "m_bDirty", void 0),
        (0, a.gn)([s.ak], m.prototype, "ClearInput", null),
        (0, a.gn)([s.ak], m.prototype, "SetInputArtworkLink", null),
        (0, a.gn)([s.ak], m.prototype, "SetAssetRequestContactInfo", null),
        (0, a.gn)([s.ak], m.prototype, "ToggleArtRequest", null),
        (0, a.gn)([s.ak], m.prototype, "ToggleArtReviewRequest", null),
        (0, a.gn)([s.ak], m.prototype, "SetDueDate", null),
        (0, a.gn)([s.ak], m.prototype, "SetRequestEnabled", null),
        (0, a.gn)([s.ak], m.prototype, "SetValveNote", null),
        (0, a.gn)([s.ak], m.prototype, "SetPartnerNote", null),
        (0, a.gn)([s.ak], m.prototype, "SetRequestedArt", null),
        (0, a.gn)([s.ak], m.prototype, "SetPreviewArt", null),
        (0, a.gn)([s.ak], m.prototype, "SetExistingArtForApprovals", null),
        (0, a.gn)([s.ak], m.prototype, "SetArtApprovals", null),
        (0, a.gn)([s.ak], m.prototype, "SetContentHubTakeover", null),
        (0, a.gn)([s.ak], m.prototype, "RevertChanges", null);
      var d = n(47427),
        u = n(77581),
        p = n(62210),
        _ = n(16649),
        h = n(37563);
      class g {
        InitPromotionPlanToEdit(e, t, n = !1) {
          return (
            "dev" == h.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPlanInputPipelineEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, r.ZN)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(e, t),
                n && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new m(e, t)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        UpdateInputPlanPartnerInfo(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = i.gA.Init(l.eh),
              n = this.m_model.GetModel();
            (n.submitting_accountid = h.L7.accountid),
              (n.submitting_rtime = Math.floor(Date.now() / 1e3));
            const a = {
              promotion_id: this.m_model.GetPlanID(),
              input_jsondata: JSON.stringify(n),
              rtime32_start_time: 0,
              rtime32_end_time: 0,
              partner_jsondata: JSON.stringify({}),
              input_access_key: e,
            };
            t.Body().set_plan(l.Fc.fromObject(a)),
              t.Body().set_promotion_id(a.promotion_id);
            let r = null;
            try {
              let n = null;
              if (
                ((n = e
                  ? yield l.nd.UpdatePlanInputData(
                      this.m_SteamInterface.GetAnonymousServiceTransport(),
                      t,
                    )
                  : yield l.nd.UpdatePlanPartnerInfo(
                      this.m_SteamInterface.GetServiceTransport(),
                      t,
                    )),
                1 == n.GetEResult())
              )
                return this.m_model.SaveSuccessClearDirty(), !0;
              r = (0, _.l)(n);
            } catch (e) {
              r = (0, _.l)(e);
            }
            return (
              console.error(
                "CPlanInputPipelineEditStore.UpdateInputPlanPartnerInfo failed: " +
                  (null == r ? void 0 : r.strErrorMsg) +
                  " with inputaccess: " +
                  Boolean(e),
                r,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            g.s_Singleton ||
              ((g.s_Singleton = new g()),
              g.s_Singleton.Init(),
              "dev" == h.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanInputPipelineEditStore = g.s_Singleton)),
            g.s_Singleton
          );
        }
        constructor() {
          (this.m_model = null), (this.m_SteamInterface = null);
        }
        Init() {
          const e = (0, h.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, p.X)(
            e,
            "CPlanInputPipelineEditStore: promotion operation token is missing",
          ),
            (this.m_SteamInterface = new u.J(h.De.WEBAPI_BASE_URL, e));
          const t = (0, h.ip)("promotion_plan_id", "application_config"),
            n = JSON.parse(
              (0, h.ip)("promotion_plan_input", "application_config"),
            );
          this.ValidateInputDefault(n)
            ? this.InitPromotionPlanToEdit(t, n, !0)
            : n &&
              "dev" == h.De.WEB_UNIVERSE &&
              console.error("CPlanInputPipelineEditStore: failed to parse ", n);
        }
        ValidateInputDefault(e) {
          const t = e;
          return t && t.enable_input && Array.isArray(t.art_requests);
        }
      }
      function v(e, t, n = !1) {
        return g.Get().InitPromotionPlanToEdit(e, t, n);
      }
      function E() {
        const e = (0, s.NW)(),
          [t, n] = d.useState(g.Get().GetPromotionPlanToEdit());
        return (
          (0, s.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          t
        );
      }
      function S() {
        return {
          fnBIsPlanInputPipelineDirty: d.useCallback(
            () =>
              !!g.Get().GetPromotionPlanToEdit() &&
              g.Get().GetPromotionPlanToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlanInputPipeline: d.useCallback(() => {
            g.Get().ClearEditModel();
          }, []),
        };
      }
      function D() {
        return {
          fnUpdatePipelineInputAsPartner: g.Get().UpdateInputPlanPartnerInfo,
        };
      }
      (0, a.gn)([s.ak], g.prototype, "UpdateInputPlanPartnerInfo", null);
    },
    25127: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => a });
      const a = 29;
    },
    36876: (e, t, n) => {
      "use strict";
      n.d(t, {
        Bd: () => f,
        LL: () => b,
        Nt: () => y,
        P9: () => w,
        bu: () => A,
        cw: () => I,
        fZ: () => C,
        tN: () => S,
        wF: () => k,
      });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = (n(42718), n(79545)),
        s = n(77581),
        c = n(5697),
        m = n(62210),
        d = n(16649),
        u = n(16997),
        p = n(45492),
        _ = n(20417),
        h = n(46984),
        g = n(37563),
        v = n(93727),
        E = n(86437);
      function S(e) {
        const t = Date.now() / 1e3;
        return e.rtaccepttime
          ? v.O7.InviteAccepted
          : e.rtexpiretime < t
            ? v.O7.InviteExpired
            : e.cancelled
              ? v.O7.Cancelled
              : v.O7.InviteActive;
      }
      class D {
        constructor() {
          (this.m_mapInvites = new Map()),
            (this.m_mapInviteCallback = new Map()),
            (this.m_mapPromotionPlanIDToInvites = new Map()),
            (this.m_mapPromotionPlanIDToInvitesCallback = new Map()),
            (this.m_mapPromotionPlanIDToInvitesPromises = new Map()),
            (this.m_inviteAddRemoveCallback = new p.pB()),
            (this.m_SteamInterface = null);
        }
        GetAllInvites() {
          return Array.from(this.m_mapInvites.values());
        }
        GetInvite(e) {
          return this.m_mapInvites.get(e);
        }
        GetInviteChangeCallback(e) {
          return (
            this.m_mapInviteCallback.has(e) ||
              this.m_mapInviteCallback.set(e, new p.pB()),
            this.m_mapInviteCallback.get(e)
          );
        }
        GetInviteAddRemoveCallback() {
          return this.m_inviteAddRemoveCallback;
        }
        GetPromotionPlanIDCallback(e) {
          return (
            this.m_mapPromotionPlanIDToInvitesCallback.has(e) ||
              this.m_mapPromotionPlanIDToInvitesCallback.set(e, new p.pB()),
            this.m_mapPromotionPlanIDToInvitesCallback.get(e)
          );
        }
        GetPromotionInvitesForStoreItem(e, t) {
          return Array.from(this.m_mapInvites.values()).filter((n) => {
            switch (t) {
              case 0:
                return e == n.appid;
              case 1:
                return e == n.packageid;
              case 2:
                return (e = n.bundleid);
            }
            return !1;
          });
        }
        GetPromotionEventInvitesByPlanID(e) {
          return this.m_mapPromotionPlanIDToInvites.get(e);
        }
        CreateMapByStoreItem() {
          const e = new Map(),
            t = Math.floor(Date.now() / 1e3);
          return (
            this.GetAllInvites().forEach((n) => {
              if (!n.accept_account && !n.cancelled && n.rtexpiretime > t) {
                let t = null;
                n.appid
                  ? (t = (0, E.qw)(n.appid, 0))
                  : n.bundleid
                    ? (t = (0, E.qw)(n.bundleid, 2))
                    : n.packageid && (t = (0, E.qw)(n.packageid, 1)),
                  t && (e.has(t) ? e.get(t).push(n) : e.set(t, [n]));
              }
            }),
            e
          );
        }
        CreatePromoInvite(e) {
          var t, n;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const {
              rtExpireTime: a,
              nPartnerID: i,
              oInviteItem: r,
              type: o,
              strPromotionPlanID: s,
            } = e;
            let c = null;
            try {
              const e = new FormData();
              e.append("sessionid", g.De.SESSIONID),
                r.appid && e.append("nAppID", "" + r.appid),
                r.packageid && e.append("nPackageID", "" + r.packageid),
                r.bundleid && e.append("nBundleID", "" + r.bundleid),
                i && e.append("nPartnerID", "" + i),
                s && e.append("strPromotionPlanID", "" + s),
                e.append("nPromoType", "" + o),
                e.append("rtExpireTime", "" + a);
              const m =
                  g.De.PARTNER_BASE_URL + "dailydeals/ajaxinviteapptopromo",
                u = yield l().post(m, e, { withCredentials: !0 });
              if (200 == (null == u ? void 0 : u.status)) {
                if (
                  1 ==
                    (null === (t = u.data) || void 0 === t
                      ? void 0
                      : t.success) &&
                  u.data.inviteid
                ) {
                  let e = h.QU();
                  const t = {
                    inviteid: u.data.inviteid,
                    invite_account: g.L7.accountid,
                    appid: r.appid,
                    packageid: r.packageid,
                    bundleid: r.bundleid,
                    primary_partnerid: i,
                    rtinvitetime: e,
                    rtexpiretime: a,
                  };
                  this.m_mapInvites.set(u.data.inviteid, t),
                    this.m_inviteAddRemoveCallback.Dispatch(t);
                }
                return null === (n = u.data) || void 0 === n
                  ? void 0
                  : n.success;
              }
              c = (0, d.l)(u);
            } catch (e) {
              c = (0, d.l)(e);
            }
            return (
              console.error(
                "CPromotionInviteStore.CreatePromoInvite failed: " +
                  (null == c ? void 0 : c.strErrorMsg),
                c,
              ),
              2
            );
          });
        }
        CancelInvite(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!this.m_mapInvites.has(e)) return !1;
            const t = o.gA.Init(c.s6);
            t.Body().set_inviteid(e);
            if (
              1 ==
              (yield c.v9.CancelInvite(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              )).GetEResult()
            ) {
              const t = this.m_mapInvites.get(e);
              return (
                this.m_mapInvites.delete(e),
                this.m_inviteAddRemoveCallback.Dispatch(t),
                !0
              );
            }
            return !1;
          });
        }
        AcceptInvitation(e, t, n, i, l) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = o.gA.Init(c.zP);
            a.Body().set_inviteid(e),
              a.Body().set_rtdatechosen(t),
              l
                ? a.Body().set_skip_discount_event(!0)
                : (a.Body().set_discount_days(n),
                  a.Body().set_discount_info(i));
            const r = yield c.v9.AcceptInvite(
              this.m_SteamInterface.GetServiceTransport(),
              a,
            );
            return {
              errorCode: r.GetEResult(),
              strErrorMsg: r.GetErrorMessage(),
            };
          });
        }
        ResendInvitationEmail(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (!this.m_mapInvites.has(e)) return !1;
            let t = null;
            try {
              const t = o.gA.Init(c.QN);
              t.Body().set_inviteid(e);
              const n = yield c.v9.ResendEmailInvite(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              return n.BSuccess() && 1 == n.GetEResult();
            } catch (e) {
              t = (0, d.l)(e);
            }
            return (
              console.error(
                "CPromotionInviteStore.ResendInvitationEmail failed: " +
                  (null == t ? void 0 : t.strErrorMsg),
                t,
              ),
              !1
            );
          });
        }
        LoadInviteByPromotionPlanID(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapPromotionPlanIDToInvitesPromises.has(e) ||
                this.m_mapPromotionPlanIDToInvitesPromises.set(
                  e,
                  this.InternalLoadInviteByPromotionPlanID(e),
                ),
              this.m_mapPromotionPlanIDToInvitesPromises.get(e)
            );
          });
        }
        InternalLoadInviteByPromotionPlanID(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = o.gA.Init(c.I8);
            let n = null;
            try {
              t.Body().set_appid(220), t.Body().set_promotion_id(e);
              const a = yield c.v9.GetInvite(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == a.GetEResult()) {
                const t = new Array();
                return (
                  a
                    .Body()
                    .invites()
                    .forEach((e) => t.push(e.toObject())),
                  this.m_mapPromotionPlanIDToInvites.set(e, t),
                  this.GetPromotionPlanIDCallback(e).Dispatch(t),
                  1
                );
              }
              n = (0, d.l)(a);
            } catch (e) {
              n = (0, d.l)(e);
            }
            return (
              console.error(
                "CPromotionInviteStore.InternalLoadInviteByPromotionPlanID failed: on item " +
                  e +
                  " with " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              2
            );
          });
        }
        FetchPromotionEventInviteEmailTargets(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = o.gA.Init(c.L2);
            t.Body().set_inviteid(e);
            return (yield c.v9.GetEmailTargets(
              this.m_SteamInterface.GetServiceTransport(),
              t,
            ))
              .Body()
              .toObject();
          });
        }
        static Get() {
          return (
            D.s_Singleton ||
              ((D.s_Singleton = new D()),
              D.s_Singleton.Init(),
              "dev" == g.De.WEB_UNIVERSE &&
                (window.g_PromoInviteStore = D.s_Singleton)),
            D.s_Singleton
          );
        }
        Init() {
          let e = (0, g.kQ)("promotioninvites", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => this.m_mapInvites.set(e.inviteid, e));
          const t = (0, g.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, m.X)(Boolean(t), "require promotion_operation_token"),
            "dev" == g.De.WEB_UNIVERSE &&
              console.log(
                "DEV_DEBUG Initializing CMarketingMessageStore with access token ",
                t,
              ),
            (this.m_SteamInterface = new s.J(g.De.WEBAPI_BASE_URL, t));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].inviteid &&
            "number" == typeof t[0].appid &&
            "number" == typeof t[0].rtinvitetime
          );
        }
      }
      function f(e) {
        const [t, n] = (0, r.useState)(() =>
          e
            ? D.Get()
                .GetAllInvites()
                .filter((t) => t.type == e)
            : D.Get().GetAllInvites(),
        );
        return (
          (0, _.Qg)(D.Get().GetInviteAddRemoveCallback(), () => {
            n(
              e
                ? D.Get()
                    .GetAllInvites()
                    .filter((t) => t.type == e)
                : D.Get().GetAllInvites(),
            );
          }),
          t
        );
      }
      function y(e) {
        const t = (0, _.NW)();
        return (
          (0, _.Qg)(D.Get().GetInviteChangeCallback(e), () => t()),
          D.Get().GetInvite(e)
        );
      }
      function b() {
        return { fnCreatePromoInvite: D.Get().CreatePromoInvite };
      }
      function I() {
        return { fnCancelInvite: D.Get().CancelInvite };
      }
      function C() {
        return { fnAcceptInvitation: D.Get().AcceptInvitation };
      }
      function k() {
        return { fnResendInvitationEmail: D.Get().ResendInvitationEmail };
      }
      function A(e) {
        const [t, n] = (0, r.useState)(
          D.Get().GetPromotionEventInvitesByPlanID(e),
        );
        return (
          (0, r.useEffect)(() => {
            (!t || (t.length > 0 && t[0].promotion_id != e)) &&
              D.Get().LoadInviteByPromotionPlanID(e);
          }),
          (0, _.Qg)(D.Get().GetPromotionPlanIDCallback(e), n),
          t
        );
      }
      function w() {
        const [e, t] = (0, r.useState)(() => D.Get().CreateMapByStoreItem());
        return (
          (0, _.Qg)(D.Get().GetInviteAddRemoveCallback(), () =>
            t(D.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      (0, a.gn)([u.a], D.prototype, "CreatePromoInvite", null),
        (0, a.gn)([u.a], D.prototype, "CancelInvite", null),
        (0, a.gn)([u.a], D.prototype, "AcceptInvitation", null),
        (0, a.gn)([u.a], D.prototype, "ResendInvitationEmail", null),
        (0, a.gn)([u.a], D.prototype, "LoadInviteByPromotionPlanID", null);
    },
    36342: (e, t, n) => {
      "use strict";
      n.d(t, { oN: () => g, xn: () => h, Gn: () => v, u9: () => E });
      var a = n(85556),
        i = n(45492),
        l = n(20417),
        r = n(86437),
        o = n(54842),
        s = n(37563),
        c = n(35427),
        m = n(62210),
        d = n(4618);
      class u {
        constructor(e, t) {
          (this.m_oPromotionPlan = null),
            (this.m_originalPromotionPlan = null),
            (this.m_nPartnerID = null),
            (this.m_nOriginalPartnerID = null),
            (this.m_bDirty = !1),
            (this.m_callback = new i.pB()),
            (this.m_storeItemKey = null),
            (0, o.rC)(this),
            this.Reset(e, t);
        }
        Reset(e, t) {
          var n, a, i, l, o, s;
          (this.m_originalPromotionPlan = JSON.parse(JSON.stringify(e))),
            (this.m_oPromotionPlan = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1),
            (this.m_nOriginalPartnerID = t),
            (this.m_nPartnerID = t),
            this.m_oPromotionPlan.store_item_id &&
              (this.m_storeItemKey = (0, r.t9)(
                this.m_oPromotionPlan.store_item_id,
                this.m_oPromotionPlan.store_item_type,
              )),
            (this.m_originalPromotionPlan.contenthub_takeover_ids =
              null !==
                (n = this.m_originalPromotionPlan.contenthub_takeover_ids) &&
              void 0 !== n
                ? n
                : []),
            (this.m_originalPromotionPlan.contenthub_takeover_types =
              null !==
                (a = this.m_originalPromotionPlan.contenthub_takeover_types) &&
              void 0 !== a
                ? a
                : []),
            (this.m_originalPromotionPlan.contenthub_takeover_reviewed =
              null !==
                (i =
                  this.m_originalPromotionPlan.contenthub_takeover_reviewed) &&
              void 0 !== i
                ? i
                : []),
            (this.m_oPromotionPlan.contenthub_takeover_ids =
              null !== (l = this.m_oPromotionPlan.contenthub_takeover_ids) &&
              void 0 !== l
                ? l
                : []),
            (this.m_oPromotionPlan.contenthub_takeover_types =
              null !== (o = this.m_oPromotionPlan.contenthub_takeover_types) &&
              void 0 !== o
                ? o
                : []),
            (this.m_oPromotionPlan.contenthub_takeover_reviewed =
              null !==
                (s = this.m_oPromotionPlan.contenthub_takeover_reviewed) &&
              void 0 !== s
                ? s
                : []);
        }
        SaveSuccessClearDirty() {
          (this.m_originalPromotionPlan = JSON.parse(
            JSON.stringify(this.m_oPromotionPlan),
          )),
            (this.m_bDirty = !1),
            (this.m_nOriginalPartnerID = this.m_nPartnerID);
        }
        GetPlan() {
          return this.m_oPromotionPlan;
        }
        GetPartnerID() {
          return this.m_nPartnerID;
        }
        GetOriginalPartnerID() {
          return this.m_nOriginalPartnerID;
        }
        GetCreatorAccountID() {
          return this.m_oPromotionPlan.creator_account_id;
        }
        GetOwnerAccountID() {
          return (
            this.m_oPromotionPlan.owner_account_id ||
            this.m_oPromotionPlan.creator_account_id
          );
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetID() {
          return this.m_oPromotionPlan.id;
        }
        GetModel() {
          return this.m_oPromotionPlan;
        }
        GetStartDate() {
          return this.m_oPromotionPlan.start_date;
        }
        GetEndDate() {
          return this.m_oPromotionPlan.end_date;
        }
        GetName() {
          return this.m_oPromotionPlan.name;
        }
        GetType() {
          return this.m_oPromotionPlan.type;
        }
        GetFeaturingIntention() {
          return this.m_oPromotionPlan.intention || "none";
        }
        GetAdminNotes() {
          return this.m_oPromotionPlan.admin_notes;
        }
        GetPromotionPlannerNote() {
          return this.m_oPromotionPlan.promotion_planner_notes;
        }
        BOnWatchList(e) {
          var t;
          return null === (t = this.m_oPromotionPlan.watch_list) || void 0 === t
            ? void 0
            : t.find((t) => t == e);
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_oPromotionPlan.store_item_id);
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetFeaturedItemID() {
          return this.m_oPromotionPlan.store_item_id;
        }
        GetFeaturedItemType() {
          return this.m_oPromotionPlan.store_item_type;
        }
        GetPartnerRequireArtworkReview() {
          return this.m_oPromotionPlan.partner_requires_art_review;
        }
        BRequiresSalePage() {
          return this.m_oPromotionPlan.requires_sale_page;
        }
        BHasPromotionFeaturingForArtRequirement(e, t) {
          switch (e) {
            case "marketingmessage_art":
            case "marketingmessage_art_2":
              return this.BHasMarketingMessages(t);
            case "spotlight_art":
              return this.BHasSpotlightIDs();
            case "takeover_art":
            case "takeover_mobile_art":
            case "takeover_webm_art":
            case "takeover_mp4_art":
            case "takeover_webm_mobile_art":
            case "takeover_mp4_mobile_art":
              return (
                this.BHasTakeoverIDs() ||
                this.BHasContentHubTakeoverIDs() ||
                this.BHasSteamChinaTakeoverID() ||
                this.BHasContentHubTakeoverIDs()
              );
            case "takeunder_art":
            case "takeunder_mobile_art":
              return this.BHasTakeunderIDs();
            case "sale_header":
            case "sale_logo":
            case "capsule":
            case "product_banner":
            case "product_mobile_banner":
            case "localized_title_image":
              return this.BHasAssociatedSaleEvent();
          }
          return (0, m.X)(!1, "Unexpected artwork promo type; " + e), !1;
        }
        BHasSpotlightIDs(e) {
          var t, n;
          return e >= 0 &&
            (null === (t = this.m_oPromotionPlan.spotlight_ids) || void 0 === t
              ? void 0
              : t.length) > e
            ? Boolean(this.m_oPromotionPlan.spotlight_ids[e])
            : null === (n = this.m_oPromotionPlan.spotlight_ids) || void 0 === n
              ? void 0
              : n.some(Boolean);
        }
        GetSpotlightIDs(e) {
          return this.m_oPromotionPlan.spotlight_ids
            ? this.m_oPromotionPlan.spotlight_ids[e]
            : null;
        }
        GetSpotlightReviewed(e) {
          return this.m_oPromotionPlan.spotlight_reviewed
            ? this.m_oPromotionPlan.spotlight_reviewed[e]
            : null;
        }
        BHasMarketingMessages(e) {
          var t, n;
          return e >= 0
            ? (null === (t = this.m_oPromotionPlan.marketing_message_ids) ||
              void 0 === t
                ? void 0
                : t.length) > e &&
                Boolean(this.m_oPromotionPlan.marketing_message_ids[e])
            : null === (n = this.m_oPromotionPlan.marketing_message_ids) ||
                void 0 === n
              ? void 0
              : n.some(Boolean);
        }
        GetMarketingMessageID(e) {
          var t;
          return (null === (t = this.m_oPromotionPlan.marketing_message_ids) ||
          void 0 === t
            ? void 0
            : t.length) > e
            ? this.m_oPromotionPlan.marketing_message_ids[e]
            : null;
        }
        GetAllMarketingMessageID(e) {
          var t;
          return (null === (t = this.m_oPromotionPlan.marketing_message_ids) ||
          void 0 === t
            ? void 0
            : t.length) > 0
            ? this.m_oPromotionPlan.marketing_message_ids
            : [];
        }
        GetMarketingMessageReviewed(e) {
          var t;
          return (null ===
            (t = this.m_oPromotionPlan.marketing_message_reviewed) ||
          void 0 === t
            ? void 0
            : t.length) > e
            ? this.m_oPromotionPlan.marketing_message_reviewed[e]
            : null;
        }
        GetClusterArray(e) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              return this.m_oPromotionPlan.takeover_ids;
            case d.R6.k_ConfigPage_Takeunder:
              return this.m_oPromotionPlan.takeunder_ids;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              return this.m_oPromotionPlan.steamchina_takeover_ids;
            default:
              return this.m_oPromotionPlan.contenthub_takeover_ids.filter(
                (t, n) =>
                  this.m_oPromotionPlan.contenthub_takeover_types[n] == e,
              );
          }
        }
        GetClusterReviewedArray(e) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              return this.m_oPromotionPlan.takeover_reviewed;
            case d.R6.k_ConfigPage_Takeunder:
              return this.m_oPromotionPlan.takeunder_reviewed;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              return this.m_oPromotionPlan.steamchina_takeover_reviewed;
            default:
              return (
                this.m_oPromotionPlan.contenthub_takeover_reviewed || []
              ).filter(
                (t, n) =>
                  this.m_oPromotionPlan.contenthub_takeover_types[n] == e,
              );
          }
        }
        BHasClusterIDs(e, t) {
          const n = this.GetClusterArray(e);
          return t >= 0 && (null == n ? void 0 : n.length) > t
            ? Boolean(n[t])
            : null == n
              ? void 0
              : n.some(Boolean);
        }
        GetClusterID(e, t) {
          const n = this.GetClusterArray(e);
          return n ? n[t] : null;
        }
        GetClusterReviewed(e, t) {
          const n = this.GetClusterReviewedArray(e);
          return n ? n[t] : null;
        }
        BHasTakeoverIDs(e) {
          var t, n;
          return e >= 0 &&
            (null === (t = this.m_oPromotionPlan.takeover_ids) || void 0 === t
              ? void 0
              : t.length) > e
            ? Boolean(this.m_oPromotionPlan.takeover_ids[e])
            : null === (n = this.m_oPromotionPlan.takeover_ids) || void 0 === n
              ? void 0
              : n.some(Boolean);
        }
        GetTakeoverID(e) {
          return this.m_oPromotionPlan.takeover_ids
            ? this.m_oPromotionPlan.takeover_ids[e]
            : null;
        }
        GetTakeoverReviewed(e) {
          return this.m_oPromotionPlan.takeover_reviewed
            ? this.m_oPromotionPlan.takeover_reviewed[e]
            : null;
        }
        BHasSteamChinaTakeoverID(e) {
          var t, n;
          return e >= 0 &&
            (null === (t = this.m_oPromotionPlan.steamchina_takeover_ids) ||
            void 0 === t
              ? void 0
              : t.length) > e
            ? Boolean(this.m_oPromotionPlan.steamchina_takeover_ids[e])
            : null === (n = this.m_oPromotionPlan.steamchina_takeover_ids) ||
                void 0 === n
              ? void 0
              : n.some(Boolean);
        }
        GetSteamChinaTakeoverID(e) {
          return this.m_oPromotionPlan.steamchina_takeover_ids
            ? this.m_oPromotionPlan.steamchina_takeover_ids[e]
            : null;
        }
        GetSteamChinaTakeoverReviewed(e) {
          return this.m_oPromotionPlan.steamchina_takeover_reviewed
            ? this.m_oPromotionPlan.steamchina_takeover_reviewed[e]
            : null;
        }
        BHasTakeunderIDs(e) {
          var t, n;
          return e >= 0 &&
            (null === (t = this.m_oPromotionPlan.takeunder_ids) || void 0 === t
              ? void 0
              : t.length) > e
            ? Boolean(this.m_oPromotionPlan.takeunder_ids[e])
            : null === (n = this.m_oPromotionPlan.takeunder_ids) || void 0 === n
              ? void 0
              : n.some(Boolean);
        }
        GetTakeunderID(e) {
          return this.m_oPromotionPlan.takeunder_ids
            ? this.m_oPromotionPlan.takeunder_ids[e]
            : null;
        }
        GetTakeunderReviewed(e) {
          return this.m_oPromotionPlan.takeunder_reviewed
            ? this.m_oPromotionPlan.takeunder_reviewed[e]
            : null;
        }
        GetContentHubTakeoverCount() {
          return this.m_oPromotionPlan.contenthub_takeover_ids.length;
        }
        BHasContentHubTakeoverIDs(e) {
          var t;
          return e >= 0 &&
            this.m_oPromotionPlan.contenthub_takeover_ids.length > e &&
            this.m_oPromotionPlan.contenthub_takeover_types.length > e
            ? Boolean(this.m_oPromotionPlan.contenthub_takeover_ids[e])
            : null === (t = this.m_oPromotionPlan.contenthub_takeover_ids) ||
                void 0 === t
              ? void 0
              : t.some(Boolean);
        }
        GetContentHubTakeoverID(e) {
          return this.m_oPromotionPlan.contenthub_takeover_ids
            ? this.m_oPromotionPlan.contenthub_takeover_ids[e]
            : null;
        }
        GetContentHubTakeoverType(e) {
          return this.m_oPromotionPlan.contenthub_takeover_types
            ? this.m_oPromotionPlan.contenthub_takeover_types[e]
            : null;
        }
        GetContentHubTakeoverReviewed(e) {
          return this.m_oPromotionPlan.contenthub_takeover_reviewed
            ? this.m_oPromotionPlan.contenthub_takeover_reviewed[e]
            : null;
        }
        GetMainCapsuleID() {
          return this.m_oPromotionPlan.main_capsule_id;
        }
        GetMainCapsuleReviewed() {
          return this.m_oPromotionPlan.main_capsule_reviewed;
        }
        BHasDiscountEventID() {
          return Boolean(this.m_oPromotionPlan.discount_event_id);
        }
        GetDiscountEventID() {
          return this.m_oPromotionPlan.discount_event_id;
        }
        GetDiscountEventReviewed() {
          return this.m_oPromotionPlan.discount_event_reviewed;
        }
        GetOptInID() {
          return this.m_oPromotionPlan.opt_in_id;
        }
        GetOptInReviewed() {
          return this.m_oPromotionPlan.opt_in_reviewed;
        }
        GetGiveawayID() {
          return this.m_oPromotionPlan.giveaway_id;
        }
        GetGiveawayReviewed() {
          return this.m_oPromotionPlan.giveaway_reviewed;
        }
        GetAssociatedAssetURL() {
          return this.m_oPromotionPlan.associated_asset_url;
        }
        GetAssociatedAssetURLForHTML() {
          var e;
          if (
            null === (e = this.m_oPromotionPlan.associated_asset_url) ||
            void 0 === e
              ? void 0
              : e.startsWith("\\fileserver")
          ) {
            const e = `file:///${this.m_oPromotionPlan.associated_asset_url.replace(/\\/g, "/")}`;
            return encodeURI(e);
          }
          return this.m_oPromotionPlan.associated_asset_url;
        }
        GetPartnerArtworkSubmissionReviewed() {
          return this.m_oPromotionPlan.partner_artwork_submission_reviewed;
        }
        GetSaleClanEventGID() {
          return this.m_oPromotionPlan.sale_clan_event_gid;
        }
        GetSaleClanAccountID() {
          return this.m_oPromotionPlan.sale_clan_account;
        }
        GetSalePageReviewed() {
          return this.m_oPromotionPlan.sale_page_reviewed;
        }
        BHasAssociatedSaleEvent() {
          return this.m_oPromotionPlan.sale_clan_account > 0;
        }
        GetSaleEditEventURL() {
          if (this.BHasAssociatedSaleEvent()) {
            const e = c.K.InitFromClanID(
              this.m_oPromotionPlan.sale_clan_account,
            );
            return (
              s.De.COMMUNITY_BASE_URL +
              "gid/" +
              e.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              this.m_oPromotionPlan.sale_clan_event_gid +
              "?tab=sale"
            );
          }
          return "";
        }
        BHasAdvertisingAppID() {
          return Boolean(this.m_oPromotionPlan.advertising_appid);
        }
        GetAdvertisingAppID() {
          return this.m_oPromotionPlan.advertising_appid;
        }
        GetAdvertisingReviewed() {
          return this.m_oPromotionPlan.advertising_appid_reviewed;
        }
        BHasInternalWikiURL() {
          return Boolean(this.m_oPromotionPlan.internal_wiki_url);
        }
        GetInternalWikiURL() {
          return this.m_oPromotionPlan.internal_wiki_url;
        }
        BHasAssetKitURL() {
          return Boolean(this.m_oPromotionPlan.asset_kit_url);
        }
        GetAssetKitURL() {
          return this.m_oPromotionPlan.asset_kit_url;
        }
        BIsReviewed() {
          return Boolean(this.m_oPromotionPlan.reviewed_by_account);
        }
        GetReviewedAccount() {
          return this.m_oPromotionPlan.reviewed_by_account;
        }
        GetReviewedTime() {
          return this.m_oPromotionPlan.reviewed_by_time;
        }
        BIsDeliveryReviewed() {
          return Boolean(this.m_oPromotionPlan.delivery_review_account_id);
        }
        GetDeliveryReviewAccount() {
          return this.m_oPromotionPlan.delivery_review_account_id;
        }
        GetDeliveryReviewTime() {
          return this.m_oPromotionPlan.delivery_review_time;
        }
        GetDeliveryReviewNotes() {
          return this.m_oPromotionPlan.delivery_review_notes || "";
        }
        BHasOperatorOwner() {
          return Boolean(this.m_oPromotionPlan.operator_account_id);
        }
        GetOperatorAccountID() {
          return this.m_oPromotionPlan.operator_account_id;
        }
        BHasArtworkOwner() {
          return Boolean(this.m_oPromotionPlan.artwork_owner_account_id);
        }
        GetArtworkOwner() {
          return this.m_oPromotionPlan.artwork_owner_account_id;
        }
        BIsArtworkCompleted() {
          return Boolean(this.m_oPromotionPlan.artwork_completed_time);
        }
        GetArtworkCompleteTime() {
          return this.m_oPromotionPlan.artwork_completed_time;
        }
        GetArtworkLocalizationDropboxLink() {
          return this.m_oPromotionPlan.artwork_localization_dropbox_link;
        }
        GetArtworkLocalizationRequestTime() {
          return this.m_oPromotionPlan.artwork_localization_request_rtime;
        }
        GetArtworkLocalizationTaskID() {
          return this.m_oPromotionPlan.artwork_localization_task_id;
        }
        BHasArtworkLocalizationSteamChinaOnly() {
          return this.m_oPromotionPlan.artwork_localization_steam_china_only;
        }
        BHasArtworkLocalizationRequest(e) {
          var t;
          return null ===
            (t = this.m_oPromotionPlan.artwork_localization_request_items) ||
            void 0 === t
            ? void 0
            : t.includes(e);
        }
        GetArtworkLocalizationRequests() {
          return this.m_oPromotionPlan.artwork_localization_request_items || [];
        }
        GetArtworkLocationUploadAssetURL() {
          return `${s.De.PARTNER_BASE_URL}promotion/assetportal/localization/${this.m_oPromotionPlan.id}`;
        }
        GetNumArtworkLocalizationRequired() {
          var e;
          return (
            (null ===
              (e = this.m_oPromotionPlan.artwork_localization_request_items) ||
            void 0 === e
              ? void 0
              : e.length) || 0
          );
        }
        GetNumArtwork() {
          var e, t, n, a, i;
          let l =
            (null === (e = this.m_oPromotionPlan.marketing_message_ids) ||
            void 0 === e
              ? void 0
              : e.length) || 0;
          return (
            (l +=
              (null === (t = this.m_oPromotionPlan.spotlight_ids) ||
              void 0 === t
                ? void 0
                : t.length) || 0),
            (l +=
              (null === (n = this.m_oPromotionPlan.takeover_ids) || void 0 === n
                ? void 0
                : n.length) || 0),
            (l +=
              (null === (a = this.m_oPromotionPlan.takeunder_ids) ||
              void 0 === a
                ? void 0
                : a.length) || 0),
            (l +=
              (null === (i = this.m_oPromotionPlan.steamchina_takeover_ids) ||
              void 0 === i
                ? void 0
                : i.length) || 0),
            this.m_oPromotionPlan.sale_clan_account && (l += 5),
            l
          );
        }
        GetSlackChannel() {
          return this.m_oPromotionPlan.slack_channel;
        }
        GetSlackChannelAsURL() {
          var e;
          return this.m_oPromotionPlan.slack_channel
            ? "https://valvecorp.slack.com/app_redirect?channel=" +
                (null === (e = this.m_oPromotionPlan.slack_channel) ||
                void 0 === e
                  ? void 0
                  : e.replace("#", ""))
            : null;
        }
        BRequireBroadcastModeration() {
          return this.m_oPromotionPlan.require_broadcast_moderation;
        }
        GetBroadcastModerationNotes() {
          return this.m_oPromotionPlan.broadcast_moderation_notes;
        }
        BIsModerationScheduled() {
          return this.m_oPromotionPlan.moderation_arranged;
        }
        SetPartnerID(e) {
          this.m_nPartnerID != e && ((this.m_nPartnerID = e), this.Dispatch());
        }
        SetPartnerRequireArtworkReview(e) {
          this.m_oPromotionPlan.partner_requires_art_review != e &&
            ((this.m_oPromotionPlan.partner_requires_art_review = e),
            this.Dispatch());
        }
        SetArtworkOwnerAccountID(e) {
          this.m_oPromotionPlan.artwork_owner_account_id != e &&
            ((this.m_oPromotionPlan.artwork_owner_account_id = e),
            this.Dispatch());
        }
        SetArtworkLocalizationDropboxLink(e) {
          this.m_oPromotionPlan.artwork_localization_dropbox_link != e &&
            ((this.m_oPromotionPlan.artwork_localization_dropbox_link = e),
            this.Dispatch());
        }
        SetArtworkLocalizationRequestTime(e, t) {
          (this.m_oPromotionPlan.artwork_localization_request_rtime == e &&
            this.m_oPromotionPlan.artwork_localization_task_id == t) ||
            ((this.m_oPromotionPlan.artwork_localization_request_rtime = e),
            (this.m_oPromotionPlan.artwork_localization_task_id = t),
            this.Dispatch());
        }
        SetOperatorOwnerAccountID(e) {
          this.m_oPromotionPlan.operator_account_id != e &&
            ((this.m_oPromotionPlan.operator_account_id = e), this.Dispatch());
        }
        SetPlanOwnerAccountID(e) {
          this.m_oPromotionPlan.owner_account_id != e &&
            ((this.m_oPromotionPlan.owner_account_id = e), this.Dispatch());
        }
        SetArtworkCompleted(e) {
          this.m_oPromotionPlan.artwork_completed_time != e &&
            ((this.m_oPromotionPlan.artwork_completed_time = e),
            this.Dispatch());
        }
        SetDeliveryReviewedAccountAndTime(e, t, n) {
          (this.m_oPromotionPlan.delivery_review_account_id == e &&
            this.m_oPromotionPlan.delivery_review_time == t &&
            this.m_originalPromotionPlan.delivery_review_notes == n) ||
            ((this.m_oPromotionPlan.delivery_review_account_id = e),
            (this.m_oPromotionPlan.delivery_review_time = t),
            (this.m_oPromotionPlan.delivery_review_notes = n),
            this.Dispatch());
        }
        ClearDeliveryReviewedStatus() {
          (Boolean(this.m_oPromotionPlan.delivery_review_account_id) ||
            Boolean(this.m_oPromotionPlan.delivery_review_time) ||
            Boolean(this.m_oPromotionPlan.delivery_review_notes)) &&
            ((this.m_oPromotionPlan.delivery_review_account_id = void 0),
            (this.m_oPromotionPlan.delivery_review_time = void 0),
            (this.m_oPromotionPlan.delivery_review_notes = void 0),
            this.Dispatch());
        }
        SetReviewedAccountAndTime(e, t) {
          (this.m_oPromotionPlan.reviewed_by_account == e &&
            this.m_oPromotionPlan.reviewed_by_time == t) ||
            ((this.m_oPromotionPlan.reviewed_by_account = e),
            (this.m_oPromotionPlan.reviewed_by_time = t),
            this.Dispatch());
        }
        ClearReviewedStatus() {
          (Boolean(this.m_oPromotionPlan.reviewed_by_account) ||
            Boolean(this.m_oPromotionPlan.reviewed_by_time)) &&
            ((this.m_oPromotionPlan.reviewed_by_account = void 0),
            (this.m_oPromotionPlan.reviewed_by_time = void 0),
            this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oPromotionPlan.start_date != e &&
            ((this.m_oPromotionPlan.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oPromotionPlan.end_date != e &&
            ((this.m_oPromotionPlan.end_date = e), this.Dispatch());
        }
        SetAssociatedAssetURL(e) {
          this.m_oPromotionPlan.associated_asset_url != e &&
            ((this.m_oPromotionPlan.associated_asset_url = e), this.Dispatch());
        }
        SetPartnerArtworkSubmissionReviewed(e) {
          Boolean(this.m_oPromotionPlan.partner_artwork_submission_reviewed) !=
            e &&
            ((this.m_oPromotionPlan.partner_artwork_submission_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        SetFeaturedStoreItem(e, t) {
          (this.m_oPromotionPlan.store_item_id == e &&
            this.m_oPromotionPlan.store_item_type == t) ||
            ((this.m_oPromotionPlan.store_item_id = e),
            (this.m_oPromotionPlan.store_item_type = t),
            (this.m_storeItemKey = (0, r.t9)(
              this.m_oPromotionPlan.store_item_id,
              this.m_oPromotionPlan.store_item_type,
            )),
            this.Dispatch());
        }
        SetSaleEvent(e, t) {
          (this.m_oPromotionPlan.sale_clan_event_gid === e &&
            this.m_oPromotionPlan.sale_clan_account == t) ||
            ((this.m_oPromotionPlan.sale_clan_event_gid = e),
            (this.m_oPromotionPlan.sale_clan_account = t),
            this.Dispatch());
        }
        ClearSalePage() {
          this.m_oPromotionPlan.sale_clan_event_gid &&
            ((this.m_oPromotionPlan.sale_clan_account = void 0),
            (this.m_oPromotionPlan.sale_clan_event_gid = void 0),
            (this.m_oPromotionPlan.sale_page_reviewed = void 0),
            this.Dispatch());
        }
        SetRequiresSalePage(e) {
          this.m_oPromotionPlan.requires_sale_page != e &&
            ((this.m_oPromotionPlan.requires_sale_page = e), this.Dispatch());
        }
        SetSaleEventReviewed(e) {
          Boolean(this.m_oPromotionPlan.sale_page_reviewed) != e &&
            ((this.m_oPromotionPlan.sale_page_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        SetOptInID(e) {
          this.m_oPromotionPlan.opt_in_id !== e &&
            ((this.m_oPromotionPlan.opt_in_id = e), this.Dispatch());
        }
        SetOptInReviewed(e) {
          Boolean(this.m_oPromotionPlan.opt_in_reviewed) !== e &&
            ((this.m_oPromotionPlan.opt_in_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        SetGiveawayID(e) {
          this.m_oPromotionPlan.giveaway_id !== e &&
            ((this.m_oPromotionPlan.giveaway_id = e), this.Dispatch());
        }
        SetGiveawayReviewed(e) {
          Boolean(this.m_oPromotionPlan.giveaway_reviewed) !== e &&
            ((this.m_oPromotionPlan.giveaway_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        SetDiscountEventID(e) {
          this.m_oPromotionPlan.discount_event_id !== e &&
            ((this.m_oPromotionPlan.discount_event_id = e), this.Dispatch());
        }
        SetDiscountEventReviewed(e) {
          Boolean(this.m_oPromotionPlan.discount_event_reviewed) !== e &&
            ((this.m_oPromotionPlan.discount_event_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        SetMainCapsuleID(e) {
          this.m_oPromotionPlan.main_capsule_id !== e &&
            ((this.m_oPromotionPlan.main_capsule_id = e), this.Dispatch());
        }
        SetMainCapsuleReviewed(e) {
          Boolean(this.m_oPromotionPlan.main_capsule_reviewed) !== e &&
            ((this.m_oPromotionPlan.main_capsule_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        AddTakeUnderID(e) {
          this.m_oPromotionPlan.takeunder_ids ||
            ((this.m_oPromotionPlan.takeunder_ids = []),
            (this.m_oPromotionPlan.takeover_reviewed = [])),
            this.m_oPromotionPlan.takeunder_ids.push(e),
            this.m_oPromotionPlan.takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetTakeunderID(e, t) {
          this.m_oPromotionPlan.takeunder_ids
            ? this.m_oPromotionPlan.takeunder_ids[t] !== e &&
              ((this.m_oPromotionPlan.takeunder_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.takeunder_ids = [e]), this.Dispatch());
        }
        SetTakeunderReviewed(e, t) {
          this.m_oPromotionPlan.takeunder_reviewed
            ? Boolean(this.m_oPromotionPlan.takeunder_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.takeunder_reviewed[t] = e
                ? s.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.takeunder_reviewed = e
                ? [s.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddContentHubTakeoverID(e, t) {
          this.m_oPromotionPlan.contenthub_takeover_ids.push(e),
            this.m_oPromotionPlan.contenthub_takeover_types.push(t),
            this.m_oPromotionPlan.contenthub_takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetContentHubTakeoverID(e, t, n) {
          (this.m_oPromotionPlan.contenthub_takeover_ids[n] === e &&
            this.m_oPromotionPlan.contenthub_takeover_types[n] === t) ||
            ((this.m_oPromotionPlan.contenthub_takeover_ids[n] = e),
            (this.m_oPromotionPlan.contenthub_takeover_types[n] = t),
            (this.m_oPromotionPlan.contenthub_takeover_reviewed[n] = null),
            this.Dispatch());
        }
        SetContentHubTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.contenthub_takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.contenthub_takeover_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.contenthub_takeover_reviewed[t] = e
                ? s.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.contenthub_takeover_reviewed = e
                ? [s.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddSteamChinaTakeoverID(e) {
          this.m_oPromotionPlan.steamchina_takeover_ids ||
            ((this.m_oPromotionPlan.steamchina_takeover_ids = []),
            (this.m_oPromotionPlan.steamchina_takeover_reviewed = [])),
            this.m_oPromotionPlan.steamchina_takeover_ids.push(e),
            this.m_oPromotionPlan.steamchina_takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetSteamChinaTakeoverID(e, t) {
          this.m_oPromotionPlan.steamchina_takeover_ids
            ? this.m_oPromotionPlan.steamchina_takeover_ids[t] !== e &&
              ((this.m_oPromotionPlan.steamchina_takeover_ids[t] = e),
              this.Dispatch())
            : ((this.m_oPromotionPlan.steamchina_takeover_ids = [e]),
              this.Dispatch());
        }
        SetSteamChinaTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.steamchina_takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.steamchina_takeover_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.steamchina_takeover_reviewed[t] = e
                ? s.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.steamchina_takeover_reviewed = e
                ? [s.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddClusterID(e, t) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              this.AddTakeoverID(t);
              break;
            case d.R6.k_ConfigPage_Takeunder:
              this.AddTakeUnderID(t);
              break;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              this.AddSteamChinaTakeoverID(t);
          }
        }
        SetClusterID(e, t, n) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              this.SetTakeoverID(t, n);
              break;
            case d.R6.k_ConfigPage_Takeunder:
              this.SetTakeunderID(t, n);
              break;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              this.SetSteamChinaTakeoverID(t, n);
              break;
            default:
              this.SetContentHubTakeoverID(t, e, n);
          }
        }
        SetClusterReviewed(e, t, n) {
          switch (e) {
            case d.R6.k_ConfigPage_Takeover:
              this.SetTakeoverReviewed(t, n);
              break;
            case d.R6.k_ConfigPage_Takeunder:
              this.SetTakeunderReviewed(t, n);
              break;
            case d.R6.k_ConfigPage_TakeoverSteamChina:
              this.SetSteamChinaTakeoverReviewed(t, n);
              break;
            default:
              this.SetContentHubTakeoverReviewed(t, n);
          }
        }
        AddTakeoverID(e) {
          this.m_oPromotionPlan.takeover_ids ||
            ((this.m_oPromotionPlan.takeover_ids = []),
            (this.m_oPromotionPlan.takeover_reviewed = [])),
            this.m_oPromotionPlan.takeover_ids.push(e),
            this.m_oPromotionPlan.takeover_reviewed.push(null),
            this.Dispatch();
        }
        SetTakeoverID(e, t) {
          this.m_oPromotionPlan.takeover_ids
            ? this.m_oPromotionPlan.takeover_ids[t] !== e &&
              ((this.m_oPromotionPlan.takeover_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.takeover_ids = [e]), this.Dispatch());
        }
        SetTakeoverReviewed(e, t) {
          this.m_oPromotionPlan.takeover_reviewed
            ? Boolean(this.m_oPromotionPlan.takeover_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.takeover_reviewed[t] = e
                ? s.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.takeover_reviewed = e
                ? [s.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddMarketingMessageID(e) {
          this.m_oPromotionPlan.marketing_message_ids ||
            ((this.m_oPromotionPlan.marketing_message_ids = []),
            (this.m_oPromotionPlan.marketing_message_reviewed = [])),
            this.m_oPromotionPlan.marketing_message_ids.push(e),
            this.m_oPromotionPlan.marketing_message_reviewed.push(null),
            this.Dispatch();
        }
        SetMarketingMessageID(e, t) {
          this.m_oPromotionPlan.marketing_message_ids
            ? this.m_oPromotionPlan.marketing_message_ids[t] !== e &&
              ((this.m_oPromotionPlan.marketing_message_ids[t] = e),
              this.Dispatch())
            : ((this.m_oPromotionPlan.marketing_message_ids = [e]),
              this.Dispatch());
        }
        SetMarketingMessageReviewed(e, t) {
          this.m_oPromotionPlan.marketing_message_reviewed
            ? Boolean(this.m_oPromotionPlan.marketing_message_reviewed[t]) !==
                e &&
              ((this.m_oPromotionPlan.marketing_message_reviewed[t] = e
                ? s.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.marketing_message_reviewed = e
                ? [s.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        AddSpotlightID(e) {
          this.m_oPromotionPlan.spotlight_ids ||
            ((this.m_oPromotionPlan.spotlight_ids = []),
            (this.m_oPromotionPlan.spotlight_reviewed = [])),
            this.m_oPromotionPlan.spotlight_ids.push(e),
            this.m_oPromotionPlan.spotlight_reviewed.push(null);
        }
        SetSpotlightID(e, t) {
          this.m_oPromotionPlan.spotlight_ids
            ? this.m_oPromotionPlan.spotlight_ids[t] !== e &&
              ((this.m_oPromotionPlan.spotlight_ids[t] = e), this.Dispatch())
            : ((this.m_oPromotionPlan.spotlight_ids = [e]), this.Dispatch());
        }
        SetSpotlightReviewed(e, t) {
          this.m_oPromotionPlan.spotlight_reviewed
            ? Boolean(this.m_oPromotionPlan.spotlight_reviewed[t]) !== e &&
              ((this.m_oPromotionPlan.spotlight_reviewed[t] = e
                ? s.L7.accountid
                : null),
              this.Dispatch())
            : ((this.m_oPromotionPlan.spotlight_reviewed = e
                ? [s.L7.accountid]
                : [null]),
              this.Dispatch());
        }
        SetName(e) {
          this.m_oPromotionPlan.name !== e &&
            ((this.m_oPromotionPlan.name = e), this.Dispatch());
        }
        SetType(e) {
          this.m_oPromotionPlan.type !== e &&
            ((this.m_oPromotionPlan.type = e), this.Dispatch());
        }
        SetFeaturingIntention(e) {
          this.m_oPromotionPlan.intention !== e &&
            ((this.m_oPromotionPlan.intention = e), this.Dispatch());
        }
        SetAdminNote(e) {
          this.m_oPromotionPlan.admin_notes !== e &&
            ((this.m_oPromotionPlan.admin_notes = e), this.Dispatch());
        }
        SetPromotionPlannerNote(e) {
          this.m_oPromotionPlan.promotion_planner_notes !== e &&
            ((this.m_oPromotionPlan.promotion_planner_notes = e),
            this.Dispatch());
        }
        SetAdvertisingAppID(e) {
          this.m_oPromotionPlan.advertising_appid !== e &&
            ((this.m_oPromotionPlan.advertising_appid = e), this.Dispatch());
        }
        SetAdvertisingAppIDReviewed(e) {
          Boolean(this.m_oPromotionPlan.advertising_appid_reviewed) !== e &&
            ((this.m_oPromotionPlan.advertising_appid_reviewed = e
              ? s.L7.accountid
              : null),
            this.Dispatch());
        }
        SetAdvertisingAppIDFromString(e) {
          const t = Number.parseInt(e);
          this.m_oPromotionPlan.advertising_appid !== t &&
            ((this.m_oPromotionPlan.advertising_appid = t), this.Dispatch());
        }
        SetInternalWikiURL(e) {
          this.m_oPromotionPlan.internal_wiki_url !== e &&
            ((this.m_oPromotionPlan.internal_wiki_url = e), this.Dispatch());
        }
        SetAssetKitURL(e) {
          this.m_oPromotionPlan.asset_kit_url !== e &&
            ((this.m_oPromotionPlan.asset_kit_url = e), this.Dispatch());
        }
        SetSlackChannel(e) {
          this.m_oPromotionPlan.slack_channel !== e &&
            ((this.m_oPromotionPlan.slack_channel = e), this.Dispatch());
        }
        SetRequireBroadcastModeration(e) {
          this.m_oPromotionPlan.require_broadcast_moderation !== e &&
            ((this.m_oPromotionPlan.require_broadcast_moderation = e),
            this.Dispatch());
        }
        SetBroadcastModerationNotes(e) {
          this.m_oPromotionPlan.broadcast_moderation_notes !== e &&
            ((this.m_oPromotionPlan.broadcast_moderation_notes = e),
            this.Dispatch());
        }
        SetModerationIsScheduled(e) {
          this.m_oPromotionPlan.moderation_arranged !== e &&
            ((this.m_oPromotionPlan.moderation_arranged = e), this.Dispatch());
        }
        AddToWatchList(e) {
          this.BOnWatchList(e) ||
            (this.m_oPromotionPlan.watch_list ||
              (this.m_oPromotionPlan.watch_list = []),
            this.m_oPromotionPlan.watch_list.push(e),
            this.Dispatch());
        }
        RemoveFromWatchList(e) {
          if (this.BOnWatchList(e)) {
            const t = this.m_oPromotionPlan.watch_list.findIndex((t) => t == e);
            this.m_oPromotionPlan.watch_list.splice(t, 1), this.Dispatch();
          }
        }
        SetArtworkLocalizationSteamChinaOnly(e) {
          this.m_oPromotionPlan.artwork_localization_steam_china_only != e &&
            ((this.m_oPromotionPlan.artwork_localization_steam_china_only = e),
            this.Dispatch());
        }
        ToggleArtworkLocalizationRequest(e, t) {
          if (t && !this.BHasArtworkLocalizationRequest(e))
            this.m_oPromotionPlan.artwork_localization_request_items ||
              (this.m_oPromotionPlan.artwork_localization_request_items = []),
              this.m_oPromotionPlan.artwork_localization_request_items.push(e),
              this.Dispatch();
          else if (!t && this.BHasArtworkLocalizationRequest(e)) {
            let t =
              this.m_oPromotionPlan.artwork_localization_request_items.findIndex(
                (t) => t == e,
              );
            this.m_oPromotionPlan.artwork_localization_request_items.splice(
              t,
              1,
            ),
              this.Dispatch();
          }
        }
        RevertChanges() {
          (this.m_oPromotionPlan = JSON.parse(
            JSON.stringify(this.m_originalPromotionPlan),
          )),
            (this.m_nPartnerID = this.m_nOriginalPartnerID),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, a.gn)([o.LO], u.prototype, "m_nPartnerID", void 0),
        (0, a.gn)([o.LO], u.prototype, "m_nOriginalPartnerID", void 0),
        (0, a.gn)([o.LO], u.prototype, "m_bDirty", void 0),
        (0, a.gn)([l.ak], u.prototype, "GetSpotlightReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetMarketingMessageReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetClusterReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetTakeoverReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetSteamChinaTakeoverReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetTakeunderReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetContentHubTakeoverReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetMainCapsuleReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetDiscountEventReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetOptInReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetGiveawayReviewed", null),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "GetPartnerArtworkSubmissionReviewed",
          null,
        ),
        (0, a.gn)([l.ak], u.prototype, "GetSalePageReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetAdvertisingReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "GetSlackChannelAsURL", null),
        (0, a.gn)([l.ak], u.prototype, "SetPartnerID", null),
        (0, a.gn)([l.ak], u.prototype, "SetPartnerRequireArtworkReview", null),
        (0, a.gn)([l.ak], u.prototype, "SetArtworkOwnerAccountID", null),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "SetArtworkLocalizationDropboxLink",
          null,
        ),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "SetArtworkLocalizationRequestTime",
          null,
        ),
        (0, a.gn)([l.ak], u.prototype, "SetOperatorOwnerAccountID", null),
        (0, a.gn)([l.ak], u.prototype, "SetPlanOwnerAccountID", null),
        (0, a.gn)([l.ak], u.prototype, "SetArtworkCompleted", null),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "SetDeliveryReviewedAccountAndTime",
          null,
        ),
        (0, a.gn)([l.ak], u.prototype, "ClearDeliveryReviewedStatus", null),
        (0, a.gn)([l.ak], u.prototype, "SetReviewedAccountAndTime", null),
        (0, a.gn)([l.ak], u.prototype, "ClearReviewedStatus", null),
        (0, a.gn)([l.ak], u.prototype, "SetStartDate", null),
        (0, a.gn)([l.ak], u.prototype, "SetEndDate", null),
        (0, a.gn)([l.ak], u.prototype, "SetAssociatedAssetURL", null),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "SetPartnerArtworkSubmissionReviewed",
          null,
        ),
        (0, a.gn)([l.ak], u.prototype, "SetFeaturedStoreItem", null),
        (0, a.gn)([l.ak], u.prototype, "SetSaleEvent", null),
        (0, a.gn)([l.ak], u.prototype, "ClearSalePage", null),
        (0, a.gn)([l.ak], u.prototype, "SetRequiresSalePage", null),
        (0, a.gn)([l.ak], u.prototype, "SetSaleEventReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "SetOptInID", null),
        (0, a.gn)([l.ak], u.prototype, "SetOptInReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "SetGiveawayID", null),
        (0, a.gn)([l.ak], u.prototype, "SetGiveawayReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "SetDiscountEventID", null),
        (0, a.gn)([l.ak], u.prototype, "SetDiscountEventReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "SetMainCapsuleID", null),
        (0, a.gn)([l.ak], u.prototype, "SetMainCapsuleReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddTakeUnderID", null),
        (0, a.gn)([l.ak], u.prototype, "SetTakeunderID", null),
        (0, a.gn)([l.ak], u.prototype, "SetTakeunderReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddContentHubTakeoverID", null),
        (0, a.gn)([l.ak], u.prototype, "SetContentHubTakeoverID", null),
        (0, a.gn)([l.ak], u.prototype, "SetContentHubTakeoverReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddSteamChinaTakeoverID", null),
        (0, a.gn)([l.ak], u.prototype, "SetSteamChinaTakeoverID", null),
        (0, a.gn)([l.ak], u.prototype, "SetSteamChinaTakeoverReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddClusterID", null),
        (0, a.gn)([l.ak], u.prototype, "SetClusterID", null),
        (0, a.gn)([l.ak], u.prototype, "SetClusterReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddTakeoverID", null),
        (0, a.gn)([l.ak], u.prototype, "SetTakeoverID", null),
        (0, a.gn)([l.ak], u.prototype, "SetTakeoverReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddMarketingMessageID", null),
        (0, a.gn)([l.ak], u.prototype, "SetMarketingMessageID", null),
        (0, a.gn)([l.ak], u.prototype, "SetMarketingMessageReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "AddSpotlightID", null),
        (0, a.gn)([l.ak], u.prototype, "SetSpotlightID", null),
        (0, a.gn)([l.ak], u.prototype, "SetSpotlightReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "SetName", null),
        (0, a.gn)([l.ak], u.prototype, "SetType", null),
        (0, a.gn)([l.ak], u.prototype, "SetFeaturingIntention", null),
        (0, a.gn)([l.ak], u.prototype, "SetAdminNote", null),
        (0, a.gn)([l.ak], u.prototype, "SetPromotionPlannerNote", null),
        (0, a.gn)([l.ak], u.prototype, "SetAdvertisingAppID", null),
        (0, a.gn)([l.ak], u.prototype, "SetAdvertisingAppIDReviewed", null),
        (0, a.gn)([l.ak], u.prototype, "SetAdvertisingAppIDFromString", null),
        (0, a.gn)([l.ak], u.prototype, "SetInternalWikiURL", null),
        (0, a.gn)([l.ak], u.prototype, "SetAssetKitURL", null),
        (0, a.gn)([l.ak], u.prototype, "SetSlackChannel", null),
        (0, a.gn)([l.ak], u.prototype, "SetRequireBroadcastModeration", null),
        (0, a.gn)([l.ak], u.prototype, "SetBroadcastModerationNotes", null),
        (0, a.gn)([l.ak], u.prototype, "SetModerationIsScheduled", null),
        (0, a.gn)([l.ak], u.prototype, "AddToWatchList", null),
        (0, a.gn)([l.ak], u.prototype, "RemoveFromWatchList", null),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "SetArtworkLocalizationSteamChinaOnly",
          null,
        ),
        (0, a.gn)(
          [l.ak],
          u.prototype,
          "ToggleArtworkLocalizationRequest",
          null,
        ),
        (0, a.gn)([l.ak], u.prototype, "RevertChanges", null);
      var p = n(47427);
      class _ {
        InitPromotionPlanToEdit(e, t, n = !1) {
          return (
            "dev" == s.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPromotionPlanEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, o.ZN)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(t, e),
                n && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new u(t, e)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            _.s_Singleton ||
              ((_.s_Singleton = new _()),
              "dev" == s.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanEditStore = _.s_Singleton)),
            _.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      function h(e, t, n = !1) {
        return _.Get().InitPromotionPlanToEdit(e, t, n);
      }
      function g() {
        return _.Get().GetPromotionPlanToEdit();
      }
      function v() {
        const e = (0, l.NW)(),
          [t, n] = p.useState(_.Get().GetPromotionPlanToEdit());
        return (
          (0, l.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          t
        );
      }
      function E() {
        return {
          fnBIsPlanDirty: p.useCallback(
            () =>
              !!_.Get().GetPromotionPlanToEdit() &&
              _.Get().GetPromotionPlanToEdit().BIsDirty(),
            [],
          ),
          fnResetDirtyPlan: p.useCallback(() => {
            _.Get().ClearEditModel();
          }, []),
        };
      }
    },
    87380: (e, t, n) => {
      "use strict";
      n.d(t, {
        $H: () => v,
        A0: () => E,
        J2: () => b,
        Qt: () => C,
        XL: () => k,
        eQ: () => y,
        kA: () => I,
        l7: () => D,
        ve: () => S,
        xq: () => f,
        yw: () => g,
      });
      var a = n(85556),
        i = n(47427),
        l = n(79545),
        r = n(77581),
        o = n(5697),
        s = n(62210),
        c = n(16649),
        m = n(45492),
        d = n(20417),
        u = n(46984),
        p = n(37563),
        _ = n(86437);
      class h {
        GetAllPlans() {
          return Array.from(this.m_mapPlans.values()).map((e) =>
            JSON.parse(e.admin_jsondata),
          );
        }
        GetListChangeCallback() {
          return this.m_listChangeCallback;
        }
        GetPlanByID(e) {
          return this.m_mapPlans.get(e);
        }
        GetPlanAdminByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.admin_jsondata) : null;
        }
        BHasPlanID(e) {
          return this.m_mapPlans.has(e);
        }
        GetPlanChangeCallback(e) {
          return (
            this.m_planChangeCallback.has(e) ||
              this.m_planChangeCallback.set(e, new m.pB()),
            this.m_planChangeCallback.get(e)
          );
        }
        GetPipelineInputChangeCallback(e) {
          return (
            this.m_planInputPipelineChangeCallback.has(e) ||
              this.m_planInputPipelineChangeCallback.set(e, new m.pB()),
            this.m_planInputPipelineChangeCallback.get(e)
          );
        }
        GetPlanPipelineInputByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.input_jsondata) : null;
        }
        GetPartnerRequestPlanByID(e) {
          const t = this.m_mapPlans.get(e);
          return t ? JSON.parse(t.partner_jsondata) : null;
        }
        GetPlanPipelineInputByAccessKey(e) {
          const t = this.m_mapPlanByAccessKey.get(e);
          return t ? JSON.parse(t.input_jsondata) : null;
        }
        CreateMapByStoreItem() {
          const e = new Map();
          return (
            this.GetAllPlans().forEach((t) => {
              if (t.store_item_id) {
                const n = (0, _.qw)(t.store_item_id, t.store_item_type);
                e.has(n) ? e.get(n).push(t) : e.set(n, [t]);
              }
            }),
            e
          );
        }
        GetLatestUpdateTime() {
          let e = 0;
          return (
            Array.from(this.m_mapPlans.values()).forEach((t) => {
              t.last_update_time > e && (e = t.last_update_time);
            }),
            e
          );
        }
        LoadAllActivePlans() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_promiseLoadAllActivePlans ||
                ((this.m_promiseLoadAllActivePlans =
                  this.InternalLoadAllActivePlans()),
                this.m_promiseLoadAllActivePlans.then(() => {
                  this.m_rgActivePlanIDs.map((e) =>
                    this.m_promiseMapIndividualLoads.set(
                      e,
                      this.m_promiseLoadAllActivePlans,
                    ),
                  );
                })),
              this.m_promiseLoadAllActivePlans
            );
          });
        }
        InternalEnsureIDsMatch(e) {
          const t = e.promotion_id(),
            n = e.toObject(),
            a = JSON.parse(n.admin_jsondata);
          return (a.id = t), (n.admin_jsondata = JSON.stringify(a)), n;
        }
        AddPlansIntoMemory(e) {
          const t = this.InternalEnsureIDsMatch(e);
          t.input_jsondata || (t.input_jsondata = JSON.stringify({})),
            t.partner_jsondata || (t.partner_jsondata = JSON.stringify({}));
          const n = t.promotion_id,
            a = t.input_access_key;
          this.m_mapPlans.set(n, t),
            this.m_mapPlanByAccessKey.set(a, t),
            this.m_rgActivePlanIDs.push(n),
            this.GetPlanChangeCallback(n).Dispatch(
              JSON.parse(t.admin_jsondata),
            ),
            this.GetPipelineInputChangeCallback(a).Dispatch(
              JSON.parse(t.input_jsondata),
            );
        }
        InternalLoadAllActivePlans() {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const e = l.gA.Init(o.Bp);
            let t = null;
            try {
              const n = yield o.nd.GetAllActivePlan(
                this.m_SteamInterface.GetServiceTransport(),
                e,
              );
              if (1 == n.GetEResult())
                return (
                  n.Body().plan().forEach(this.AddPlansIntoMemory),
                  this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                  !0
                );
              t = (0, c.l)(n);
            } catch (e) {
              t = (0, c.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.GetAllActivePlans failed: " +
                  (null == t ? void 0 : t.strErrorMsg),
                t,
              ),
              !1
            );
          });
        }
        LoadPlanByID(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return (
              this.m_promiseMapIndividualLoads.has(e) ||
                this.m_promiseMapIndividualLoads.set(
                  e,
                  this.InternalLoadPlanByID(e),
                ),
              this.m_promiseMapIndividualLoads.get(e)
            );
          });
        }
        InternalLoadPlanByID(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = l.gA.Init(o.ow);
            t.Body().set_promotion_id(e);
            let n = null;
            try {
              const a = yield o.nd.GetPlan(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == a.GetEResult()) {
                const t = this.InternalEnsureIDsMatch(a.Body().plan()),
                  n = t.input_access_key;
                return (
                  this.m_mapPlans.set(t.promotion_id, t),
                  this.m_mapPlanByAccessKey.set(n, t),
                  t.input_jsondata || (t.input_jsondata = JSON.stringify({})),
                  t.partner_jsondata ||
                    (t.partner_jsondata = JSON.stringify({})),
                  this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                  this.GetPlanChangeCallback(e).Dispatch(
                    JSON.parse(t.admin_jsondata),
                  ),
                  this.GetPipelineInputChangeCallback(n).Dispatch(
                    JSON.parse(t.input_jsondata),
                  ),
                  !0
                );
              }
              n = (0, c.l)(a);
            } catch (e) {
              n = (0, c.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.GetPlanByID failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              !1
            );
          });
        }
        ForceReloadPlan(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.InternalLoadPlanByID(e);
          });
        }
        AddNewAdminPlan(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const {
                type: t,
                strName: n,
                rtStartDate: a,
                rtEndDate: i,
                strDiscountEventID: r,
                nPartnerID: s,
                storeItemID: m,
                storeItemType: d,
                strSpotlightID: u,
                strMarketingMessageID: _,
                strTakeoverID: h,
                strTakeunderID: g,
                strDailyDealID: v,
                inputPipelineModel: E,
              } = e,
              S = l.gA.Init(o.IJ),
              D = Math.floor(new Date().getTime() / 1e3),
              f = {
                type: t,
                name: n,
                start_date: a,
                end_date: i,
                store_item_id: m,
                store_item_type: d,
                discount_event_id: r,
                creator_account_id: p.L7.accountid,
                last_modified_account: p.L7.accountid,
                admin_accounts: [p.L7.accountid],
                last_modified_time: D,
                create_time: D,
              };
            u && (f.spotlight_ids = [u]),
              _ && (f.marketing_message_ids = [_]),
              h && (f.takeover_ids = [h]),
              g && (f.takeunder_ids = [g]),
              v && (f.dailydeal_ids = [v]);
            const y = {
              admin_jsondata: JSON.stringify(f),
              partner_jsondata: JSON.stringify({}),
              partner_readonly_jsondata: JSON.stringify(
                this.GeneratePartnerReadonlyFromAdminJson(f),
              ),
              partner_writable_jsondata: JSON.stringify({}),
              input_jsondata: JSON.stringify(E || {}),
              assets_readonly_jsondata: JSON.stringify({}),
              assets_writable_jsondata: JSON.stringify({}),
              rtime32_start_time: a,
              rtime32_end_time: i,
              partner_id: s,
            };
            S.Body().set_plan(o.Fc.fromObject(y));
            let b = null;
            try {
              const e = yield o.nd.CreatePlan(
                this.m_SteamInterface.GetServiceTransport(),
                S,
              );
              if (1 == e.GetEResult())
                return (
                  (y.promotion_id = e.Body().promotion_id()),
                  (y.input_access_key = e.Body().input_access_key()),
                  (f.id = e.Body().promotion_id()),
                  (y.admin_jsondata = JSON.stringify(f)),
                  this.m_mapPlans.set(y.promotion_id, y),
                  this.m_mapPlanByAccessKey.set(y.input_access_key, y),
                  this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                  y.promotion_id
                );
              b = (0, c.l)(e);
            } catch (e) {
              b = (0, c.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.AddNewAdminPlan failed: " +
                  (null == b ? void 0 : b.strErrorMsg),
                b,
              ),
              null
            );
          });
        }
        GeneratePartnerReadonlyFromAdminJson(e) {
          return {
            id: e.id,
            name: e.name,
            start_date: e.start_date,
            end_date: e.end_date,
            type: e.type,
            store_item_type: e.store_item_type,
            store_item_id: e.store_item_id,
            discount_event_id: e.discount_event_id,
            opt_in_id: e.opt_in_id,
            advertising_appid: e.advertising_appid,
            asset_kit_url: e.asset_kit_url,
            sale_clan_event_gid: e.sale_clan_event_gid,
            sale_clan_account: e.sale_clan_account,
          };
        }
        UpdateAdminPlan(e, t, n, i) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = l.gA.Init(o.eh),
              r = this.m_mapPlans.get(t.id);
            if (!r)
              return (
                console.error(
                  "CPromotionPlanningStore.UpdateAdminPlan planID does not exist: " +
                    t.id,
                ),
                !1
              );
            (null == i ? void 0 : i.enable_input) &&
              ((i.requested_promotion_name = t.name),
              t.store_item_id &&
                ((i.requested_store_item_id = t.store_item_id),
                (i.requested_store_item_type = t.store_item_type)),
              (i.requested_type = t.type)),
              (r.rtime32_start_time = t.start_date),
              (r.rtime32_end_time = t.end_date),
              (t.last_modified_account = p.L7.accountid),
              (t.last_modified_time = Math.floor(new Date().getTime() / 1e3)),
              (t.admin_accounts || []).indexOf(p.L7.accountid) < 0 &&
                (t.admin_accounts
                  ? t.admin_accounts.push(p.L7.accountid)
                  : (t.admin_accounts = [p.L7.accountid])),
              (r.admin_jsondata = JSON.stringify(t)),
              (r.partner_readonly_jsondata = JSON.stringify(
                this.GeneratePartnerReadonlyFromAdminJson(t),
              )),
              n && (r.partner_jsondata = JSON.stringify(n)),
              i &&
                (t.discount_event_id !=
                  i.asset_request_discount_event_id_clone &&
                  (i.asset_request_discount_event_id_clone =
                    t.discount_event_id),
                (r.input_jsondata = JSON.stringify(i))),
              (r.partner_id = e),
              a.Body().set_plan(o.Fc.fromObject(r)),
              a.Body().set_promotion_id(t.id);
            let s = null;
            try {
              const e = yield o.nd.UpdatePlan(
                this.m_SteamInterface.GetServiceTransport(),
                a,
              );
              if (1 == e.GetEResult())
                return this.GetPlanChangeCallback(t.id).Dispatch(t), !0;
              s = (0, c.l)(e);
            } catch (e) {
              s = (0, c.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.UpdateAdminPlan failed: " +
                  (null == s ? void 0 : s.strErrorMsg),
                s,
              ),
              !1
            );
          });
        }
        DeletePlan(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const t = l.gA.Init(o.bn);
            t.Body().set_promotion_id(e);
            let n = null;
            try {
              const a = yield o.nd.DeletePlan(
                this.m_SteamInterface.GetServiceTransport(),
                t,
              );
              if (1 == a.GetEResult())
                return (
                  this.DeletePlanFromMemory(e),
                  this.GetListChangeCallback().Dispatch(this.GetAllPlans()),
                  !0
                );
              n = (0, c.l)(a);
            } catch (e) {
              n = (0, c.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.DeletePlan failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              !1
            );
          });
        }
        DeletePlanFromMemory(e) {
          this.m_mapPlans.delete(e),
            this.GetPlanChangeCallback(e).Dispatch(null);
        }
        RefreshPlans(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = l.gA.Init(o.CX);
            n.Body().set_rtime(e), t && n.Body().set_upto_rtime(t);
            let a = null;
            try {
              const e = yield o.nd.GetPlansUpdatedSince(
                this.m_SteamInterface.GetServiceTransport(),
                n,
              );
              if (1 == e.GetEResult())
                return (
                  (0 == e.Body().plans().length &&
                    0 == e.Body().deleted_plan_ids().length) ||
                    (e.Body().plans().forEach(this.AddPlansIntoMemory),
                    e
                      .Body()
                      .deleted_plan_ids()
                      .forEach(this.DeletePlanFromMemory),
                    this.GetListChangeCallback().Dispatch(this.GetAllPlans())),
                  !0
                );
              a = (0, c.l)(e);
            } catch (e) {
              a = (0, c.l)(e);
            }
            return (
              console.error(
                "CPromotionPlanningStore.RefreshPlans failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            h.s_Singleton ||
              ((h.s_Singleton = new h()),
              h.s_Singleton.Init(),
              "dev" == p.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanningStore = h.s_Singleton)),
            h.s_Singleton
          );
        }
        constructor() {
          (this.m_mapPlans = new Map()),
            (this.m_mapPlanByAccessKey = new Map()),
            (this.m_rgActivePlanIDs = new Array()),
            (this.m_promiseLoadAllActivePlans = null),
            (this.m_promiseMapIndividualLoads = new Map()),
            (this.m_listChangeCallback = new m.pB()),
            (this.m_planChangeCallback = new Map()),
            (this.m_planInputPipelineChangeCallback = new Map()),
            (this.m_SteamInterface = null);
        }
        Init() {
          const e = (0, p.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, s.X)(
            e,
            "CPromotionPlanningStore: promotion operation token is missing",
          ),
            (this.m_SteamInterface = new r.J(p.De.WEBAPI_BASE_URL, e));
          const t = (0, p.ip)("promotion_plans", "application_config");
          this.BIsValidPlanList(t) &&
            t.forEach((e) => {
              this.m_mapPlans.set(e.promotion_id, e),
                e.input_access_key &&
                  this.m_mapPlanByAccessKey.set(e.input_access_key, e),
                this.m_rgActivePlanIDs.push(e.promotion_id);
            });
        }
        BIsValidPlanList(e) {
          const t = e;
          return (
            t &&
            Array.isArray(t) &&
            t.length > 0 &&
            Boolean(t[0].admin_jsondata)
          );
        }
        AddPlanIfNeeded(e) {
          this.m_mapPlans.has(e.promotion_id) ||
            (this.m_mapPlans.set(e.promotion_id, e),
            e.input_access_key &&
              this.m_mapPlanByAccessKey.set(e.input_access_key, e),
            this.m_rgActivePlanIDs.push(e.promotion_id));
        }
      }
      function g() {
        const [e, t] = i.useState(h.Get().GetAllPlans());
        return (
          (0, i.useEffect)(() => {
            h.Get().LoadAllActivePlans();
          }, []),
          (0, d.Qg)(h.Get().GetListChangeCallback(), t),
          e
        );
      }
      function v() {
        return {
          fnAddNewPlan: h.Get().AddNewAdminPlan,
          fnUpdatePlan: h.Get().UpdateAdminPlan,
          fnDeletePlan: h.Get().DeletePlan,
          fnRefreshPlans: h.Get().RefreshPlans,
          fnForceReloadPlan: h.Get().ForceReloadPlan,
        };
      }
      function E(e, t) {
        const [n, a] = i.useState(h.Get().GetPlanByID(e)),
          [l, r] = i.useState(!1);
        return (
          (0, i.useEffect)(() => {
            (n && !t) ||
              !e ||
              (t ? h.Get().ForceReloadPlan(e) : h.Get().LoadPlanByID(e))
                .then((t) => {
                  t ? a(h.Get().GetPlanByID(e)) : r(!0);
                })
                .catch((e) => {
                  console.error(
                    "usePromotionPlanContainer error: " + (0, c.l)(e),
                  ),
                    r(!0);
                });
          }, [e, n, t]),
          (0, d.Qg)(h.Get().GetPlanChangeCallback(e), (e) => {
            a(h.Get().GetPlanByID(null == e ? void 0 : e.id));
          }),
          { bError: l, oPlanContainer: n }
        );
      }
      function S(e) {
        const [t, n] = i.useState(h.Get().GetPlanAdminByID(e));
        return (
          (0, i.useEffect)(() => {
            t || h.Get().LoadPlanByID(e);
          }, [e, t]),
          (0, d.Qg)(h.Get().GetPlanChangeCallback(e), n),
          t
        );
      }
      function D(e, t) {
        const n = g(),
          [a, l] = i.useState(null);
        return (
          i.useLayoutEffect(() => {
            const a = new Map(),
              i = new Date(),
              r = new Date();
            r.setDate(i.getDate() - i.getDay() + 1);
            const o = (0, u.OW)((0, u.xq)(r));
            t.forEach((t) => {
              const n = new Array();
              for (let a = 0; a <= e; ++a)
                n.push({
                  type: t,
                  rtWeekStart: o + u._H.PerWeek * a,
                  rgPlans: [],
                });
              a.set(t, n);
            }),
              n.forEach((e) => {
                const t = a.get(e.type);
                if (t && e.start_date > o) {
                  const n = Math.floor((e.start_date - o) / u._H.PerWeek);
                  n < t.length && t[n].rgPlans.push(e);
                }
              }),
              l(a);
          }, [n, e, t]),
          a
        );
      }
      function f(e) {
        const [t, n] = i.useState(h.Get().GetPlanPipelineInputByID(e));
        return (
          (0, i.useEffect)(() => {}, []),
          (0, d.Qg)(h.Get().GetPlanChangeCallback(e), (e) =>
            n(h.Get().GetPlanPipelineInputByID(null == e ? void 0 : e.id)),
          ),
          t
        );
      }
      function y(e) {
        return h.Get().GetPlanPipelineInputByID(e);
      }
      function b(e) {
        return h.Get().GetPlanAdminByID(e);
      }
      function I(e) {
        h.Get().AddPlanIfNeeded(e);
      }
      function C() {
        return h.Get().GetLatestUpdateTime();
      }
      function k() {
        const [e, t] = (0, i.useState)(() => h.Get().CreateMapByStoreItem());
        return (
          (0, d.Qg)(h.Get().GetListChangeCallback(), () =>
            t(h.Get().CreateMapByStoreItem()),
          ),
          e
        );
      }
      (0, a.gn)([d.ak], h.prototype, "LoadAllActivePlans", null),
        (0, a.gn)([d.ak], h.prototype, "AddPlansIntoMemory", null),
        (0, a.gn)([d.ak], h.prototype, "LoadPlanByID", null),
        (0, a.gn)([d.ak], h.prototype, "ForceReloadPlan", null),
        (0, a.gn)([d.ak], h.prototype, "AddNewAdminPlan", null),
        (0, a.gn)([d.ak], h.prototype, "UpdateAdminPlan", null),
        (0, a.gn)([d.ak], h.prototype, "DeletePlan", null),
        (0, a.gn)([d.ak], h.prototype, "DeletePlanFromMemory", null),
        (0, a.gn)([d.ak], h.prototype, "RefreshPlans", null);
    },
    79270: (e, t, n) => {
      "use strict";
      n.d(t, { i: () => s });
      var a = n(20020),
        i = n(77581),
        l = n(65255),
        r = n(82756);
      class o {
        GetPromotionTransport() {
          return this.m_steamInterface;
        }
        static Get() {
          return (
            o.s_Singleton || ((o.s_Singleton = new o()), o.s_Singleton.Init()),
            o.s_Singleton
          );
        }
        Init() {
          const e = (0, r.kQ)(
            "promotion_operation_token",
            "application_config",
          );
          (0, a.X)(Boolean(e), "require promotion_operation_token"),
            (this.m_steamInterface = new i.J(l.De.WEBAPI_BASE_URL, e));
        }
      }
      function s() {
        return o.Get().GetPromotionTransport().GetServiceTransport();
      }
    },
    12999: (e, t, n) => {
      "use strict";
      n.d(t, { l: () => d });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(16649),
        o = n(37563),
        s = n(16997),
        c = n(47427);
      class m {
        constructor() {
          this.m_mapAppToRank = new Map();
        }
        bHasLoadedLongTermSalesRankForApp(e) {
          return this.m_mapAppToRank.has(e);
        }
        bHasSomeLongTermSaleRankForApp(e) {
          return void 0 !== this.m_mapAppToRank.get(e);
        }
        GetLongTermSaleRankForApp(e) {
          return this.m_mapAppToRank.get(e);
        }
        LoadLongTermSalesRank(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (
              0 ==
              (e || []).filter(
                (e) => !this.bHasLoadedLongTermSalesRankForApp(e),
              ).length
            )
              return !0;
            let n = null;
            try {
              const a = new FormData();
              a.append("rgAppIDs", e.join(",")),
                a.append("sessionid", o.De.SESSIONID);
              const i = o.De.PARTNER_BASE_URL + "sales/ajaxgetsalerank",
                s = yield l().post(i, a, { withCredentials: !0 });
              if (
                200 == (null == s ? void 0 : s.status) &&
                1 ==
                  (null === (t = s.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                s.data.apps
              )
                return (
                  s.data.apps.forEach((e) =>
                    this.m_mapAppToRank.set(
                      e.appid,
                      null == e.long_term_sales_rank ||
                        null == e.long_term_sales_rank
                        ? void 0
                        : e.long_term_sales_rank,
                    ),
                  ),
                  !0
                );
              n = (0, r.l)(s);
            } catch (e) {
              n = (0, r.l)(e);
            }
            return (
              console.error(
                "CPromotionInviteStore.RemoveInvite failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              !1
            );
          });
        }
        static Get() {
          return (
            m.s_Singleton ||
              ((m.s_Singleton = new m()),
              "dev" == o.De.WEB_UNIVERSE &&
                (window.g_PromoInviteStore = m.s_Singleton)),
            m.s_Singleton
          );
        }
      }
      function d(e) {
        const [t, n] = (0, c.useState)(!0);
        return (
          (0, c.useEffect)(() => {
            n(!0),
              e &&
                (null == e ? void 0 : e.length) > 0 &&
                m
                  .Get()
                  .LoadLongTermSalesRank(e)
                  .finally(() => n(!1));
          }, [e]),
          {
            bLoading: t,
            fnbHasSomeLongTermSaleRankForApp:
              m.Get().bHasSomeLongTermSaleRankForApp,
            fnGetLongTermSaleRankForApp: m.Get().GetLongTermSaleRankForApp,
          }
        );
      }
      (0, a.gn)([s.a], m.prototype, "bHasLoadedLongTermSalesRankForApp", null),
        (0, a.gn)([s.a], m.prototype, "bHasSomeLongTermSaleRankForApp", null),
        (0, a.gn)([s.a], m.prototype, "GetLongTermSaleRankForApp", null);
    },
    8062: (e, t, n) => {
      "use strict";
      n.d(t, { Aq: () => u, dI: () => p, r7: () => d });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(83254),
        o = n(47427),
        s = n(42718),
        c = n(64936),
        m = n(65255);
      function d() {
        const {
          data: e,
          isLoading: t,
          isError: n,
        } = (0, s.useQuery)(["useTopSalesRankGamesData"], () =>
          (0, a.mG)(this, void 0, void 0, function* () {
            var e, t;
            const n = { sessionid: m.De.SESSIONID },
              a = `${m.De.PARTNER_BASE_URL}promotion/planning/ajaxgetsalerankdashboard`,
              i = yield l().get(a, { params: n });
            return 200 == i.status &&
              (null ===
                (t =
                  null === (e = i.data) || void 0 === e
                    ? void 0
                    : e.top_apps) || void 0 === t
                ? void 0
                : t.length) > 0
              ? i.data
              : null;
          }),
        );
        return t || n ? null : e;
      }
      function u(e, t) {
        const [n, a] = (0, o.useState)(null);
        return (
          (0, o.useEffect)(() => {
            if (e && (null == t ? void 0 : t.length) > 0) {
              const n = new r.j(e);
              n.LoadApps(t).then(() => a(n));
            }
          }, [e, t]),
          n
        );
      }
      function p(e, t, n) {
        const [a, i] = (0, o.useState)(null),
          l = (0, c.zD)();
        return (
          (0, o.useEffect)(() => {
            if (e && t)
              if (e < t) {
                if (t < l && (null == n ? void 0 : n.length) > 0) {
                  const a = new r.j(e, t);
                  a.LoadApps(n).then(() => i(a));
                }
              } else
                console.error(`useLoadAppRevenueDetailsDateRange ${e} >= ${t}`);
            else
              console.error(
                "useLoadAppRevenueDetailsDateRange start or end missing",
              );
          }, [e, t, n, l]),
          a
        );
      }
    },
    41710: (e, t, n) => {
      "use strict";
      n.d(t, { Og: () => u, Oo: () => p, dh: () => _ });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(45492),
        s = n(16649),
        c = n(20417),
        m = n(37563);
      class d {
        GetAllSpotlights() {
          return this.m_rgSpotlights;
        }
        GetSpotlightByID(e) {
          return this.m_mapSpotlights.get(e);
        }
        GetCallbackForSpotlightList() {
          return this.m_SpotlightListCallback;
        }
        GetCallbackForSpotlightID(e) {
          return (
            this.m_mapSpotlightsCallback.has(e) ||
              this.m_mapSpotlightsCallback.set(e, new o.pB()),
            this.m_mapSpotlightsCallback.get(e)
          );
        }
        LoadSpotlight(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            return this.m_mapSpotlights.has(e)
              ? this.m_mapSpotlights.get(e)
              : (this.m_mapLoadingSpotlights.has(e) ||
                  this.m_mapLoadingSpotlights.set(
                    e,
                    this.InternalLoadSpotlight(e),
                  ),
                this.m_mapLoadingSpotlights.get(e));
          });
        }
        InternalLoadSpotlight(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const a =
                  m.De.PARTNER_BASE_URL +
                  "promotion/spotlights/ajaxloadspotlight",
                i = { spotlightid: e, sessionid: m.De.SESSIONID },
                r = yield l().get(a, { params: i });
              if (
                200 == (null == r ? void 0 : r.status) &&
                1 ==
                  (null === (t = r.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                r.data.spotlight
              )
                return (
                  this.InternalAddSpotlight(r.data.spotlight),
                  this.GetCallbackForSpotlightList().Dispatch(
                    this.m_rgSpotlights,
                  ),
                  this.GetCallbackForSpotlightID(e).Dispatch(r.data.spotlight),
                  r.data.spotlight
                );
              n = (0, s.l)(null == r ? void 0 : r.data);
            } catch (e) {
              n = (0, s.l)(e);
            }
            return (
              console.error(
                "CPartnerContactStore.InternalLoadSpotlight: ajax request failed with error: " +
                  n.strErrorMsg,
                n,
              ),
              null
            );
          });
        }
        AddSpotlight(e) {
          var t;
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = null;
            try {
              const a =
                  m.De.PARTNER_BASE_URL +
                  "promotion/spotlights/ajaxcreatenewspotlight",
                i = new FormData();
              i.append("sessionid", m.De.SESSIONID),
                i.append("spotlight", JSON.stringify(e));
              const r = e.association;
              (null == r ? void 0 : r.appid) &&
              "application" == e.association_type
                ? i.append("nAppID", "" + r.appid)
                : (null == r ? void 0 : r.packageid) &&
                    "package" == e.association_type
                  ? i.append("nPackageID", "" + r.packageid)
                  : (null == r ? void 0 : r.bundleid) &&
                    "bundle" == e.association_type &&
                    i.append("nBundleID", "" + r.bundleid);
              const o = yield l().post(a, i, { withCredentials: !0 });
              if (
                200 == (null == o ? void 0 : o.status) &&
                1 ==
                  (null === (t = o.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                o.data.spotlight
              )
                return (
                  this.InternalAddSpotlight(e),
                  this.GetCallbackForSpotlightList().Dispatch(
                    this.m_rgSpotlights,
                  ),
                  this.GetCallbackForSpotlightID(e.id).Dispatch(e),
                  o.data.spotlight.id
                );
              n = (0, s.l)(null == o ? void 0 : o.data);
            } catch (e) {
              n = (0, s.l)(e);
            }
            return (
              console.error(
                "CPartnerContactStore.AddSpotlight: ajax request failed with error: " +
                  n.strErrorMsg,
                n,
              ),
              null
            );
          });
        }
        SetSpotlight(e) {
          const t = this.m_rgSpotlights.findIndex((t) => t.id == e.id);
          this.m_mapSpotlights.set(e.id, e),
            t >= 0 &&
              ((this.m_rgSpotlights[t] = e),
              this.GetCallbackForSpotlightList().Dispatch(this.m_rgSpotlights)),
            this.GetCallbackForSpotlightID(e.id).Dispatch(e);
        }
        static Get() {
          return (
            d.s_Singleton ||
              ((d.s_Singleton = new d()),
              d.s_Singleton.Init(),
              "dev" == m.De.WEB_UNIVERSE &&
                (window.g_SpotlightStore = d.s_Singleton)),
            d.s_Singleton
          );
        }
        constructor() {
          (this.m_rgSpotlights = new Array()),
            (this.m_mapSpotlights = new Map()),
            (this.m_mapSpotlightsCallback = new Map()),
            (this.m_SpotlightListCallback = new o.pB()),
            (this.m_mapLoadingSpotlights = new Map());
        }
        InternalAddSpotlight(e) {
          this.m_mapSpotlights.set(e.id, e), this.m_rgSpotlights.push(e);
        }
        Init() {
          let e = (0, m.kQ)("spotlightinfo", "application_config");
          this.ValidateStoreDefault(e) && e.forEach(this.InternalAddSpotlight);
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].name &&
            "object" == typeof t[0].location &&
            "object" == typeof t[0].visibility
          );
        }
      }
      function u() {
        const [e, t] = r.useState(d.Get().GetAllSpotlights());
        return (0, c.Qg)(d.Get().GetCallbackForSpotlightList(), t), e;
      }
      function p() {
        return { fnAddNewSpotlight: d.Get().AddSpotlight };
      }
      function _(e) {
        const [t, n] = (0, r.useState)(() => d.Get().GetSpotlightByID(e));
        return (
          (0, r.useEffect)(() => {
            e &&
              e != (null == t ? void 0 : t.id) &&
              d.Get().LoadSpotlight(e).then(n);
          }, [t, e]),
          (0, c.Qg)(d.Get().GetCallbackForSpotlightID(e), n),
          t
        );
      }
      (0, a.gn)([c.ak], d.prototype, "LoadSpotlight", null),
        (0, a.gn)([c.ak], d.prototype, "AddSpotlight", null),
        (0, a.gn)([c.ak], d.prototype, "InternalAddSpotlight", null);
    },
    26286: (e, t, n) => {
      "use strict";
      n.d(t, { b: () => d });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(4618),
        o = n(16649),
        s = n(16997),
        c = n(65255);
      class m {
        CreateCluster(e, t, n, i, s, m, d) {
          var u;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = `${c.De.PARTNER_BASE_URL}cluster/ajaxcreatecluster`,
              p = new FormData();
            p.append("sessionid", c.De.SESSIONID),
              p.append("pageid", (0, r.D9)(e)),
              p.append("name", t),
              p.append("layout", (0, r.He)(e)),
              n && p.append("rtStartTime", "" + n),
              i && p.append("rtEndTime", "" + i),
              s && p.append("targetURL", s),
              m &&
                (p.append("storeItemID", "" + m),
                p.append("storeItemType", "" + d));
            let _ = null;
            try {
              const e = yield l().post(a, p, { withCredentials: !0 });
              if (
                200 == (null == e ? void 0 : e.status) &&
                1 ==
                  (null === (u = e.data) || void 0 === u
                    ? void 0
                    : u.success) &&
                e.data.clusterid
              )
                return e.data.clusterid;
              _ = { response: e };
            } catch (e) {
              _ = e;
            }
            const h = (0, o.l)(_);
            return (
              console.error(
                "CTakeOverTakeUnderAdaptationStore.CreateCluster: failed",
                h.strErrorMsg,
                h,
              ),
              null
            );
          });
        }
        static Get() {
          return m.s_Singleton || (m.s_Singleton = new m()), m.s_Singleton;
        }
      }
      function d() {
        return { fnCreateCluster: m.Get().CreateCluster };
      }
      (0, a.gn)([s.a], m.prototype, "CreateCluster", null);
    },
    3675: (e, t, n) => {
      "use strict";
      n.d(t, { U: () => d });
      var a = n(85556),
        i = n(54842),
        l = n(37563),
        r = n(80751),
        o = n.n(r),
        s = n(16649),
        c = n(44174),
        m = n(35427);
      class d {
        constructor() {
          (this.m_rgUpcoming = new Array()),
            (this.m_rgDraft = new Array()),
            (this.m_rgOldDraft = new Array()),
            (this.m_rgArchive = new Array()),
            (this.m_rgActive = new Array()),
            (this.m_rgSeasonFeatured = new Array()),
            (this.m_rgHiddenSeasonFeatured = new Array()),
            (0, i.rC)(this);
        }
        static Get() {
          return (
            d.s_SaleEventStore ||
              ((d.s_SaleEventStore = new d()), d.s_SaleEventStore.Init()),
            d.s_SaleEventStore
          );
        }
        GetActiveEvents() {
          return this.m_rgActive;
        }
        GetUpcomingEvents() {
          return this.m_rgUpcoming;
        }
        GetArchiveEvents() {
          return this.m_rgArchive;
        }
        GetDraftEvents() {
          return this.m_rgDraft;
        }
        GetOldDraftEvents() {
          return this.m_rgOldDraft;
        }
        GetSeasonFeaturedEvents() {
          return this.m_rgSeasonFeatured;
        }
        GetSeasonFeaturedHiddenEvents() {
          return this.m_rgHiddenSeasonFeatured;
        }
        Init() {
          const e = (0, l.kQ)("saleeventstore", "application_config");
          if (this.ValidateStoreDefault(e)) {
            const t = Math.floor(Date.now() / 1e3),
              n = t - 2592e3;
            e.forEach((e) => {
              e.bVisible && e.rtEndTime && e.rtEndTime < t
                ? this.m_rgArchive.push(e)
                : e.bVisible && e.rtStartTime > t
                  ? this.m_rgUpcoming.push(e)
                  : e.bVisible
                    ? this.m_rgActive.push(e)
                    : e.rtLastModifiedTime > n && e.rtEndTime > t
                      ? this.m_rgDraft.push(e)
                      : this.m_rgOldDraft.push(e),
                e.bFeaturedNextSeasonalSale && this.m_rgSeasonFeatured.push(e);
            }),
              this.m_rgActive.sort((e, t) => e.rtStartTime - t.rtStartTime),
              this.m_rgDraft.sort((e, t) => e.rtStartTime - t.rtStartTime);
          }
          const t = (0, l.kQ)("hidden_featured_draft", "application_config");
          this.ValidateStoreDefault(t) &&
            t.forEach((e) => this.m_rgHiddenSeasonFeatured.push(e));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clanAccountID &&
            "string" == typeof t[0].clanEventGID
          );
        }
        CreateSalePartnerEvent(e, t, n, i, r, d) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = l.De.PARTNER_BASE_URL + "sales/ajaxcreatesalepartnerevent";
            const u = new FormData();
            u.append("sessionid", l.De.SESSIONID),
              u.append("clanAccountID", "" + e),
              u.append("eventName", t),
              u.append("vanity", n),
              u.append("rtStartTime", "" + i),
              u.append("rtEndTime", "" + r);
            try {
              let t = yield o().post(a, u, { cancelToken: d.token });
              if (
                t &&
                200 == t.status &&
                1 == t.data.success &&
                !d.token.reason
              ) {
                let n = m.K.InitFromClanID(e);
                return yield c.j1.LoadHiddenPartnerEvent(
                  n,
                  t.data.eventEventGID,
                );
              }
            } catch (e) {
              let t = (0, s.l)(e);
              console.log("CreateSalePartnerEvent Failed: " + t.strErrorMsg, t);
            }
            return null;
          });
        }
      }
      (0, a.gn)([i.aD], d.prototype, "Init", null);
    },
    26519: (e, t, n) => {
      "use strict";
      n.d(t, { L: () => It, G: () => bt });
      var a = n(760),
        i = n(69406),
        l = n(47427),
        r = n(28017),
        o = n(8285),
        s = n(71630),
        c = n(81033),
        m = n(90807),
        d = n(7073),
        u = n(98061),
        p = n(95518),
        _ = n(70044),
        h = n(82416),
        g = n(87813),
        v = n(15690),
        E = n(1485),
        S = n(71472),
        D = n(90069),
        f = n(46882),
        y = n(14609),
        b = n(29480),
        I = n(50423),
        C = n(31846),
        k = n(37563),
        A = n(85556),
        w = n(37047),
        P = n(80886),
        T = n(92012),
        N = n(24827),
        R = n(77178),
        G = n(62613),
        L = n(13129),
        B = n(45284),
        x = n(46984),
        M = n(91743),
        O = n.n(M);
      const F = "packageid";
      function U(e) {
        const { nInitialPackageID: t, closeModal: n } = e,
          [a, i] = l.useState(null),
          [r, o] = l.useState(""),
          [s, c] = l.useState(7),
          [m, u] = (0, S.Ar)(F, 0),
          [h, g] = l.useState(t || m),
          { deepestDiscount: v } = (0, d.b2)(h),
          { mostRecentDiscount: f } = (0, d.k1)(l.useMemo(() => [h], [h])),
          y = (0, d.Qy)(h),
          [b, I] = l.useState(0),
          k = (0, p.z$)(h),
          [A, P] = l.useState(null),
          [N, G] = l.useState(null),
          B = (0, _.Zq)(N),
          M = !!A,
          U = !B,
          H = () => {
            u(null), n();
          },
          V = (e, t) => {
            const n = Math.max(e, t.rtStartDate);
            i(n);
            const a = Math.floor((t.rtEndDate - n) / x._H.PerDay);
            s > a && c(a);
          },
          W = (e, t) => {
            if ((P(e), G(t), t)) {
              const n = (0, _.f0)(t);
              o(n.name),
                c(Math.floor((n.end_date - n.start_date) / x._H.PerDay)),
                V(n.start_date, e);
            } else e && (o(""), c(7), V((0, w._)(e.rtStartDate), e));
          },
          z = r.trim().length && h > 0 && b >= d.dE && b <= d.U8,
          K = Math.floor(Date.now() / 1e3),
          Q = (0, w._)(K),
          Y = (0, _.QM)(h);
        return l.createElement(
          R.RG,
          { bAllowFullSize: !1, onCancel: H, closeModal: H },
          l.createElement(
            E.h4,
            null,
            (0, C.Xx)("#DiscountDashboard_Create_Title"),
          ),
          l.createElement(
            E.uT,
            null,
            l.createElement(
              "div",
              { className: O().CreateCustomDiscountCtn },
              l.createElement(
                "div",
                null,
                (0, C.Xx)("#DiscountDashboard_Create_Instructions"),
              ),
              l.createElement(
                "div",
                { className: O().Section },
                !h && l.createElement(j, null),
                l.createElement(q, {
                  selectedPackageID: h,
                  onSelect: (e) => {
                    g(e), W(null, null);
                  },
                }),
              ),
              Boolean(Y + p.LX > K) &&
                l.createElement(
                  "div",
                  { className: O().CooldownWarning },
                  (0, C.Xx)(
                    "#DiscountDashboard_Create_PriceIncreaseCooldown",
                    (0, C.$1)(Y, !0, !1),
                  ),
                ),
              l.createElement(X, {
                packageID: h,
                rgScheduleRanges: k,
                selectedRange: A,
                selectedDiscountEventID: N,
                fnSelectRangeAndEvent: W,
              }),
              M &&
                l.createElement(
                  l.Fragment,
                  null,
                  U &&
                    l.createElement(
                      l.Fragment,
                      null,
                      l.createElement(
                        "div",
                        { className: O().CustomInstructionsCtn },
                        (0, C.Xx)(
                          "#DiscountDashboard_Create_Instructions_CustomEvent",
                        ),
                        l.createElement("br", null),
                        (0, C.Xx)("#DiscountDashboard_Create_CustomEventNotes"),
                      ),
                      l.createElement(
                        "div",
                        { className: O().Section },
                        !r.trim().length && l.createElement(j, null),
                        l.createElement(E.II, {
                          type: "text",
                          label: (0, C.Xx)(
                            "#DiscountDashboard_Create_DiscountNameInternal",
                          ),
                          placeholder: (0, C.Xx)(
                            "#DiscountDashboard_Create_PlaceholderName",
                          ),
                          value: r,
                          onChange: (e) => o(e.target.value),
                        }),
                      ),
                    ),
                  l.createElement(
                    "div",
                    { className: (0, L.Z)(O().Section, O().DateCtn) },
                    l.createElement(T.A, {
                      strDescription: (0, C.Xx)(
                        "#DiscountDashboard_Create_DiscountStartDate",
                      ),
                      disabled: !U,
                      nEarliestTime: Math.max(A.rtStartDate, Q),
                      nLatestTime: A.rtEndDate - x._H.PerDay,
                      fnGetTimeToUpdate: () => a,
                      fnSetTimeToUpdate: (e) => V(e, A),
                      className: O().DatePicker,
                      bShowTimeZone: !0,
                      strAlsoShowTimeZone: w.$,
                    }),
                    l.createElement(
                      "div",
                      { className: O().DiscountLengthCtn },
                      l.createElement(E.II, {
                        type: "number",
                        label: (0, C.Xx)(
                          "#DiscountDashboard_Create_DiscountLength",
                        ),
                        value: s,
                        onChange: (e) => {
                          const t = e.target.value,
                            n = Number(t || 0),
                            i = Math.floor(
                              ((null == A ? void 0 : A.rtEndDate) - a) /
                                x._H.PerDay,
                            ),
                            l = Math.min(Math.min(14, i), Math.max(1, n));
                          c(l);
                        },
                        disabled: !U,
                        min: 1,
                        max: 14,
                      }),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: O().DiscountCtn },
                    l.createElement(
                      "div",
                      {
                        className: (0, L.Z)(
                          O().Section,
                          O().DiscountPercentCtn,
                        ),
                      },
                      (b < d.dE || b > d.U8) && l.createElement(j, null),
                      l.createElement(E.II, {
                        type: "number",
                        label: (0, C.Xx)(
                          "#DiscountDashboard_Create_DiscountPct",
                        ),
                        value: b,
                        onChange: (e) => {
                          const t = e.target.value,
                            n = Number(t || 0);
                          0 <= n && n <= d.U8 && I(n);
                        },
                        min: 10,
                        step: 5,
                        max: y,
                      }),
                    ),
                    l.createElement(
                      "div",
                      { className: O().DiscountHelperCtn },
                      l.createElement(
                        "div",
                        { className: O().HistoryLine },
                        (0, C.Xx)(
                          "#DiscountDashboard_Create_Instructions_DiscountPercentage",
                          y,
                        ),
                      ),
                      v &&
                        l.createElement(
                          "div",
                          { className: O().HistoryLine },
                          (0, C.Xx)(
                            "#DiscountDashboard_Create_DeepestPastDiscount",
                            v.nDiscountPct,
                          ),
                        ),
                      f &&
                        l.createElement(
                          "div",
                          { className: O().HistoryLine },
                          (0, C.Xx)(
                            "#DiscountDashboard_Create_MostRecentDiscount",
                            f.nDiscountPct,
                          ),
                        ),
                    ),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: O().Instructions },
                    (0, C.Xx)("#DiscountDashboard_Create_TimingWarning"),
                  ),
                ),
            ),
          ),
          l.createElement(
            E.$_,
            null,
            l.createElement(E.o9, {
              onCancel: H,
              bOKDisabled: !z,
              onOK: () => {
                const e = {
                  packageID: h,
                  nDiscountPct: b,
                  strDiscountName: r,
                  strDiscountDescription: "#discount_desc_preset_special",
                  rtStartDate: a,
                  rtEndDate: a + s * x._H.PerDay,
                  discountEventID: N,
                };
                (0, D.AM)(
                  l.createElement(Z, { discount: e, fnOnSuccess: H }),
                  window,
                );
              },
              strOKText: (0, C.Xx)("#DiscountDashboard_Create_BtnCreate"),
              strCancelText: (0, C.Xx)("#DiscountDashboard_Create_BtnCancel"),
            }),
          ),
        );
      }
      function H(e) {
        var t, n;
        const { range: a, fnSelectRangeAndEvent: i } = e;
        if (!a.bIsAvailable)
          return l.createElement(
            "div",
            { className: O().DiscountedRange },
            l.createElement(N.Sw, {
              className: O().Dates,
              rtStartDate: a.rtStartDate,
              rtEndDate: a.rtEndDate,
            }),
            l.createElement(
              "div",
              { className: O().DiscountName },
              null === (t = a.discount) || void 0 === t
                ? void 0
                : t.strDiscountName,
            ),
            l.createElement(
              "div",
              { className: O().DiscountPercentage },
              (0, C.Xx)(
                "#DiscountDashboard_Create_DiscountedPercentage",
                null === (n = a.discount) || void 0 === n
                  ? void 0
                  : n.nDiscountPct,
              ),
            ),
          );
        const r = "new-custom-event",
          o = [];
        a.bMajorSaleOnly ||
          o.push({
            label: (0, C.Xx)("#DiscountDashboard_Create_CustomDiscount"),
            data: r,
          });
        for (const e of a.rgDiscountEventIDs) {
          const t = (0, _.f0)(e);
          o.push({ label: t.name, data: t.id });
        }
        const s = (0, w._)(Math.floor(Date.now() / 1e3));
        return l.createElement(
          "div",
          { className: O().AvailableRange },
          l.createElement(
            "div",
            { className: O().AvailableText },
            (0, C.Xx)("#DiscountDashboard_Create_AvailableTimeRange"),
            " (",
            l.createElement(N.Sw, {
              className: O().Dates,
              rtStartDate: Math.max(s, a.rtStartDate),
              rtEndDate: a.rtEndDate,
            }),
            " )",
          ),
          l.createElement(
            "div",
            { className: O().DiscountEventSelectDropDown },
            l.createElement(E.ry, {
              strDropDownClassName: O().DropDownScroll,
              strDefaultLabel: (0, C.Xx)(
                "#DiscountDashboard_Create_SelectDiscountEventLabel",
              ),
              rgOptions: o,
              onChange: (e) => {
                i(a, e.data == r ? null : e.data);
              },
            }),
          ),
        );
      }
      function V(e) {
        const { range: t, strDiscountEventID: n, fnClearEvent: a } = e,
          i = (0, _.Zq)(n);
        return l.createElement(
          "div",
          { className: (0, L.Z)(O().SelectedEvent, "landingTable") },
          l.createElement(
            "div",
            { className: "tr" },
            l.createElement(
              "div",
              { className: "th" },
              (0, C.Xx)("#DiscountDashboard_Create_SelectedDiscountEventLabel"),
            ),
            l.createElement(
              "div",
              { className: "th" },
              (0, C.Xx)("#DiscountDashboard_Create_AvailableRange"),
            ),
            l.createElement("div", { className: "th" }),
          ),
          l.createElement(
            "div",
            { className: "tr" },
            l.createElement(
              "div",
              { className: (0, L.Z)(O().DiscountName, "td") },
              i
                ? i.name
                : (0, C.Xx)("#DiscountDashboard_Create_CustomDiscount"),
            ),
            l.createElement(N.Sw, {
              className: (0, L.Z)("td", O().Dates),
              rtStartDate: t.rtStartDate,
              rtEndDate: t.rtEndDate,
            }),
            l.createElement(
              "div",
              {
                className: (0, L.Z)("td", O().ClearSelectedPackage),
                onClick: a,
              },
              l.createElement(G.X, null),
            ),
          ),
        );
      }
      function X(e) {
        const {
            packageID: t,
            rgScheduleRanges: n,
            selectedRange: a,
            selectedDiscountEventID: i,
            fnSelectRangeAndEvent: r,
          } = e,
          o = !t,
          s = !o && !!a,
          c = !o && !s && !(null == n ? void 0 : n.length),
          m = !o && !s && !c,
          d = m && !(null == n ? void 0 : n.some((e) => e.bIsAvailable));
        return l.createElement(
          "div",
          { className: O().Section },
          !a &&
            l.createElement(
              "div",
              { className: "DialogLabel" },
              (0, C.Xx)("#DiscountDashboard_Create_ScheduleSectionLabel"),
            ),
          o &&
            l.createElement(
              "div",
              { className: O().InstructionsCtn },
              (0, C.Xx)("#DiscountDashboard_Create_Instructions_ChoosePackage"),
            ),
          s &&
            l.createElement(V, {
              range: a,
              strDiscountEventID: i,
              fnClearEvent: () => r(null, null),
            }),
          c && l.createElement(f.V, { position: "center" }),
          m &&
            n.map((e, t) =>
              l.createElement(H, {
                key: t + e.rtStartDate,
                range: e,
                fnSelectRangeAndEvent: r,
              }),
            ),
          d &&
            l.createElement(
              "div",
              { className: O().Warning },
              (0, C.Xx)("#DiscountDashboard_Create_NoAvailabilityWarning"),
            ),
        );
      }
      function j(e) {
        return l.createElement(
          "div",
          { className: O().RequiredFieldWarning },
          (0, C.Xx)("#DiscountDashboard_Create_RequiredFieldWarning"),
        );
      }
      function q(e) {
        const { selectedPackageID: t, onSelect: n } = e,
          [a, i] = l.useState(""),
          [r, o] = l.useState(),
          s = (function () {
            const e = (0, u.z)(),
              t = (0, P.dY)(e, {});
            return l.useMemo(() => {
              var n;
              const a = new Map();
              if (1 == t) return a;
              const i = (e, t) => {
                const n = null == e ? void 0 : e.toLocaleLowerCase().trim();
                n && (a.has(n) || a.set(n, []), a.get(n).push(t));
              };
              for (const t of e) {
                const e = v.Z.Get().GetPackage(t);
                e &&
                  e.BIsVisible() &&
                  (i(e.GetName(), e),
                  i(e.GetID().toString(), e),
                  null === (n = e.GetIncludedAppIDs()) ||
                    void 0 === n ||
                    n.forEach((t) => {
                      const n = v.Z.Get().GetApp(t);
                      i(null == n ? void 0 : n.GetName(), e),
                        i(t.toString(), e);
                    }));
              }
              return a;
            }, [e, t]);
          })();
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: "DialogLabel" },
            (0, C.Xx)("#DiscountDashboard_Create_PackageSearchLabel"),
          ),
          t
            ? l.createElement(
                "div",
                { className: O().SelectedPackage },
                l.createElement(z, { packageID: t }),
                l.createElement(
                  "div",
                  {
                    className: O().ClearSelectedPackage,
                    onClick: () => n(null),
                  },
                  l.createElement(G.X, null),
                ),
              )
            : l.createElement(
                "div",
                { className: O().PackageSelector },
                l.createElement(E.II, {
                  type: "text",
                  placeholder: (0, C.Xx)(
                    "#DiscountDashboard_Create_PackageSearchPlaceholder",
                  ),
                  value: a,
                  onChange: (e) => {
                    i(e.target.value);
                    const t = e.target.value.toLocaleLowerCase().trim();
                    if (!t) return void o(null);
                    const n = new Set();
                    s.forEach((e, a) => {
                      a.indexOf(t) >= 0 && e.forEach((e) => n.add(e));
                    });
                    const a = Array.from(n).sort((e, t) =>
                      (0, B.tN)(e.GetName(), t.GetName()),
                    );
                    o(a);
                  },
                  bShowClearAction: !0,
                }),
                l.createElement(W, {
                  strSearchKey: a,
                  rgSearchResults: r,
                  onSelect: (e) => {
                    i(""), o(null), n(e);
                  },
                }),
              ),
        );
      }
      function W(e) {
        var t;
        const { strSearchKey: n, rgSearchResults: a, onSelect: i } = e;
        if (!n) return null;
        const r =
          null !== (t = null == a ? void 0 : a.length) && void 0 !== t ? t : 0;
        let o;
        return (
          (o =
            0 == r
              ? (0, C.Xx)("#DiscountDashboard_Create_SearchResultsEmpty")
              : 1 == r
                ? (0, C.Xx)("#DiscountDashboard_Create_SearchResultsOne")
                : r <= 20
                  ? (0, C.Xx)("#DiscountDashboard_Create_SearchResultCount", r)
                  : (0, C.Xx)(
                      "#DiscountDashboard_Create_SearchResultCountWithLimit",
                      r,
                      20,
                    )),
          l.createElement(
            "div",
            { className: O().SearchResults },
            l.createElement("div", { className: O().SummaryLine }, o),
            l.createElement(
              "div",
              { className: O().PackageList },
              null == a
                ? void 0
                : a
                    .slice(0, 20)
                    .map((e) =>
                      l.createElement(z, {
                        key: e.GetID(),
                        packageID: e.GetID(),
                        onSelect: i,
                      }),
                    ),
            ),
          )
        );
      }
      function z(e) {
        const { packageID: t, onSelect: n } = e,
          [a, i] = (0, P.ie)(t, {});
        return l.createElement(
          "div",
          {
            className: O().OnePackageResult,
            onClick: () =>
              null == n ? void 0 : n(null == a ? void 0 : a.GetID()),
          },
          l.createElement(
            "div",
            { className: O().PackageName },
            " ",
            null == a ? void 0 : a.GetName(),
            " ",
          ),
        );
      }
      function Z(e) {
        const { closeModal: t, discount: n, fnOnSuccess: a } = e,
          { fnSaveDiscount: i } = (0, d.ID)(),
          [r, o] = l.useState(null),
          s = (0, b.T)("SaveProgressDialog");
        return (
          l.useEffect(() => {
            (() => {
              (0, A.mG)(this, void 0, void 0, function* () {
                var e;
                const l = yield i(n);
                s.token.reason ||
                  (1 == l.success
                    ? (a(), t())
                    : o(
                        null !== (e = l.msg) && void 0 !== e
                          ? e
                          : (0, C.Xx)("#DiscountDashboard_SaveDiscountsError"),
                      ));
              });
            })();
          }, []),
          l.createElement(
            R.uH,
            {
              strTitle: (0, C.Xx)("#DiscountDashboard_Create_SaveDialogTitle"),
              bAlertDialog: !!r,
              bOKDisabled: !r,
              strOKButtonText: r
                ? (0, C.Xx)("#Button_Close")
                : (0, C.Xx)("#Button_OK"),
              bDestructiveWarning: !0,
              closeModal: t,
            },
            null != r ? r : l.createElement(f.V, { position: "center" }),
          )
        );
      }
      var K = n(55215),
        Q = n.n(K),
        Y = n(23121),
        J = n(6683),
        $ = n(10162),
        ee = n(71741),
        te = n.n(ee),
        ne = n(63226),
        ae = n.n(ne),
        ie = n(66263),
        le = n(42718),
        re = n(4532),
        oe = n(64936),
        se = n(59728),
        ce = n(42006),
        me = n(4771),
        de = n(80751),
        ue = n.n(de),
        pe = n(16649);
      class _e {
        GetOptInPublicDefinition(e) {
          return this.m_mapOptInDefs.get(e);
        }
        LoadOptInPublicDefinition(e) {
          return (0, A.mG)(this, void 0, void 0, function* () {
            return (
              this.m_mapInflightRequests.has(e) ||
                this.m_mapInflightRequests.set(
                  e,
                  this.InternalLoadOptInPublicDefinition(e),
                ),
              this.m_mapInflightRequests.get(e)
            );
          });
        }
        InternalLoadOptInPublicDefinition(e) {
          var t, n;
          return (0, A.mG)(this, void 0, void 0, function* () {
            let a;
            try {
              const a =
                  k.De.PARTNER_BASE_URL + "optin/ajaxgetoptinpublicdefinition",
                i = { opt_in_name: e },
                l = yield ue().get(a, { params: i });
              if (
                200 == (null == l ? void 0 : l.status) &&
                1 ==
                  (null === (t = null == l ? void 0 : l.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                (null === (n = null == l ? void 0 : l.data) || void 0 === n
                  ? void 0
                  : n.data)
              ) {
                const t = l.data.data;
                return (
                  (0, me.MH)(t),
                  e.startsWith("sale_")
                    ? (this.m_mapOptInDefs.set(e, t),
                      this.m_mapOptInDefs.set(e.replace("sale_", ""), t))
                    : (this.m_mapOptInDefs.set(e, t),
                      this.m_mapOptInDefs.set("sale_" + e, t)),
                  l.data.data
                );
              }
            } catch (e) {
              a = (0, pe.l)(e);
            }
            return (
              console.error(
                "COptInAdmin::LoadOptInPublicDefinition Error loading: " +
                  a.strErrorMsg,
                a,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            _e.s_Singleton ||
              ((_e.s_Singleton = new _e()),
              ("dev" != k.De.WEB_UNIVERSE && "beta" != k.De.WEB_UNIVERSE) ||
                (window.g_OptInDefinitionStore = _e.s_Singleton)),
            _e.s_Singleton
          );
        }
        constructor() {
          (this.m_mapOptInDefs = new Map()),
            (this.m_mapInflightRequests = new Map());
        }
      }
      function he(e) {
        const [t, n] = (0, l.useState)(_e.Get().GetOptInPublicDefinition(e));
        return (
          (0, l.useEffect)(() => {
            let a = ue().CancelToken.source();
            return (
              (t && t.pageid.replace("sale_", "") == e.replace("sale_", "")) ||
                _e
                  .Get()
                  .LoadOptInPublicDefinition(e)
                  .then((e) => {
                    e && !a.token.reason && n(e);
                  }),
              () => a.cancel("useActiveOptInDefinition unmouted")
            );
          }, [t, e]),
          t
        );
      }
      var ge = n(72297),
        ve = n(58515),
        Ee = n.n(ve),
        Se = n(24040),
        De = n(7492);
      function fe(e) {
        var t;
        const n = (0, p.pl)(),
          a =
            null !== (t = null == n ? void 0 : n.length) && void 0 !== t
              ? t
              : 0,
          i = a > 0;
        return l.createElement(
          "div",
          { className: (0, L.Z)(Ee().ToolbarInfo, i && Ee().Visible) },
          l.createElement(
            "div",
            { className: Ee().ChangeCount },
            (0, C.kb)("#PackageGrid_PendingChangeCount", a),
          ),
          l.createElement(
            "div",
            { className: Ee().Buttons },
            l.createElement(
              E.zx,
              {
                onClick: (e) =>
                  (0, D.AM)(l.createElement(be, null), (0, I.RA)(e)),
                disabled: 0 == a,
                className: (0, L.Z)(Ee().Button, Ee().SaveButton),
              },
              (0, C.Xx)("#PackageGrid_SaveChangesDialogButton"),
            ),
            l.createElement(
              E.zx,
              {
                className: Ee().Button,
                onClick: (e) =>
                  (0, D.AM)(l.createElement(we, null), (0, I.RA)(e)),
              },
              (0, C.Xx)("#PackageGrid_DiscardChangesDialogButton"),
            ),
          ),
        );
      }
      function ye() {
        return l.useCallback(
          (e, t) =>
            (0, D.AM)(l.createElement(be, { strContinueUrl: t }), (0, I.RA)(e)),
          [],
        );
      }
      function be(e) {
        const { closeModal: t, strContinueUrl: n } = e,
          a = (0, p.pl)(),
          i = (0, p._9)(),
          r = !!n,
          o = (0, C.Xx)(
            r
              ? "#PackageGrid_NavigationWarning_Title"
              : "#DiscountDashboard_SaveDiscountsTitle",
          ),
          s = a.filter((e) => !!e.nDiscountID).length,
          c = a.filter((e) => !e.nDiscountID).length,
          m =
            c > 0 && s > 0
              ? (0, C.Xx)("#DiscountDashboard_SaveDiscountsExplanation", s, c)
              : s > 0
                ? (0, C.kb)(
                    "#DiscountDashboard_SaveDiscountsExplanation_UpdateOnly",
                    s,
                  )
                : (0, C.kb)(
                    "#DiscountDashboard_SaveDiscountsExplanation_CreateOnly",
                    c,
                  ),
          u = a.some((e) => e.nDiscountPct > 0 && e.nDiscountPct < 10),
          _ = (0, d.EV)(a),
          h = Math.floor(Date.now() / 1e3),
          g = a.some((e) => e.rtStartDate < h),
          v = () => {
            n && (window.location.href = n);
          },
          S = () => {
            e.closeModal(),
              (0, D.AM)(
                l.createElement(Ce, {
                  rgLocalPackageDiscountOverrides: a,
                  fnOnSuccess: v,
                }),
                window,
              );
          };
        return l.createElement(
          R.RG,
          {
            onOK: S,
            onCancel: e.closeModal,
            bDestructiveWarning: r,
            closeModal: t,
          },
          l.createElement(E.h4, null, " ", o, " "),
          l.createElement(
            E.uT,
            null,
            l.createElement(
              E.Ac,
              null,
              r &&
                l.createElement(
                  "div",
                  { className: Ee().NavigationWarning },
                  (0, C.Xx)("#PackageGrid_NavigationWarning"),
                ),
              m,
              u &&
                l.createElement(
                  "div",
                  { className: Ee().DiscountTooLowWarning },
                  (0, C.Xx)(
                    "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
                  ),
                ),
              _ &&
                l.createElement(
                  "div",
                  { className: Ee().DiscountTooHighWarning },
                  (0, C.Xx)(
                    "#DiscountDashboard_SaveDiscountsWarning_SomeDiscountTooHigh",
                  ),
                ),
              l.createElement(ke, {
                rgLocalPackageDiscountOverrides: a,
                bMarkupStartTimeBeforeNow: !0,
              }),
              g &&
                l.createElement(
                  "div",
                  { className: Ee().DiscountStartImmediately },
                  l.createElement(
                    "div",
                    { className: Ee().ProgressIcon },
                    l.createElement(G.Uxw, null),
                  ),
                  l.createElement(
                    "p",
                    null,
                    (0, C.Xx)(
                      "#DiscountDashboard_SaveDiscountsWarning_ImmediateStartingDiscount",
                    ),
                  ),
                ),
            ),
            l.createElement(
              E.$_,
              null,
              r
                ? l.createElement(E.$0, {
                    strOKText: (0, C.Xx)("#Button_Save"),
                    onOK: S,
                    bOKDisabled: u || _,
                    strUpdateText: (0, C.Xx)(
                      "#PackageGrid_NavigateWithoutSavingButton",
                    ),
                    onUpdate: () => {
                      i([]), e.closeModal(), v();
                    },
                    onCancel: e.closeModal,
                  })
                : l.createElement(E.o9, {
                    strOKText: (0, C.Xx)("#Button_Save"),
                    onOK: S,
                    bOKDisabled: u || _,
                    onCancel: e.closeModal,
                  }),
            ),
          ),
        );
      }
      function Ie(e) {
        const t = e.map((e) => e.nDiscountID).filter((e) => !!e),
          n = (0, d.Fi)(t);
        return l.useMemo(() => {
          var t, a;
          const i = new Map();
          for (const l of e)
            if (l.nDiscountID) {
              const e =
                null !==
                  (a =
                    null === (t = n.get(l.nDiscountID)) || void 0 === t
                      ? void 0
                      : t.nDiscountPct) && void 0 !== a
                  ? a
                  : 0;
              i.set(l.nDiscountID, e);
            }
          return i;
        }, [e]);
      }
      function Ce(e) {
        const {
            closeModal: t,
            rgLocalPackageDiscountOverrides: n,
            fnOnSuccess: a,
          } = e,
          i = (0, p.TB)(),
          { fnSaveDiscount: r, fnDeleteDiscount: o } = (0, d.ID)(),
          [s, c] = l.useState(0),
          [m, u] = l.useState(null),
          h = (0, b.T)("SaveProgressDialog"),
          g = Ie(n),
          v = l.useRef(new Map()),
          { bEditingDailyDealDiscount: E } = (0, _.y4)();
        l.useEffect(() => {
          (() => {
            (0, A.mG)(this, void 0, void 0, function* () {
              var e;
              for (let t = 0; t < n.length; t++) {
                c(t);
                const a = n[t],
                  l = yield a.nDiscountPct > 0
                    ? r(a)
                    : o(a.nDiscountID, a.packageID, a.discountEventID);
                if (
                  (1 == l.success && i(a.packageID, a.discountEventID),
                  h.token.reason)
                )
                  return;
                if (1 != l.success)
                  return void u(
                    null !== (e = l.msg) && void 0 !== e
                      ? e
                      : (0, C.Xx)("#DiscountDashboard_SaveDiscountsError"),
                  );
                l.msg && v.current.set(t, l.msg);
              }
              c(n.length);
            });
          })();
        }, []);
        const S = (e) =>
            e != s || m
              ? e == s
                ? l.createElement(
                    "div",
                    { className: Ee().ProgressIconError },
                    l.createElement(G.X, null),
                  )
                : e < s && v.current.has(e)
                  ? l.createElement(
                      se.HP,
                      {
                        toolTipContent: v.current.get(e),
                        direction: "overlay",
                        className: Ee().ProgressIconWarning,
                        strTooltipClassname: Ee().HoverToolTip,
                      },
                      l.createElement(G.ge, { color: "#e5af37" }),
                    )
                  : e < s
                    ? l.createElement(
                        "div",
                        { className: Ee().ProgressIconCheck },
                        l.createElement(G.JrY, null),
                      )
                    : l.createElement("div", {
                        className: Ee().ProgressIconBlank,
                      })
              : l.createElement(f.V, { className: Ee().ProgressIconThrobber }),
          D = !m && s < n.length,
          y = (0, De.Z)(),
          I = l.useCallback(() => {
            window.location.assign(
              `${k.De.PARTNER_BASE_URL}promotion${Se.PromotionRoutes.DailyDealPartnerDashboard("" + y)}`,
            );
          }, [y]);
        let w, P, T;
        return (
          E
            ? ((w = I),
              (P = (0, C.Xx)("#PackageGrid_ReturnToDailyDealDashboard")),
              (T = D
                ? (0, C.Xx)("#Button_Cancel")
                : (0, C.Xx)("#Button_Close")))
            : ((w = m ? t : a),
              (P = m ? (0, C.Xx)("#Button_Close") : (0, C.Xx)("#Button_OK")),
              (T = (0, C.Xx)("#Button_Cancel"))),
          l.createElement(
            R.uH,
            {
              strTitle: D
                ? (0, C.Xx)("#PackageGrid_SaveInProgress")
                : (0, C.Xx)("#PackageGrid_SaveComplete"),
              bAlertDialog: !!m || (!D && !E),
              bOKDisabled: D,
              strOKButtonText: P,
              onOK: w,
              strCancelButtonText: T,
              onCancel: () => h.cancel("cancelled by user"),
              bDestructiveWarning: !0,
              closeModal: t,
            },
            m,
            l.createElement(
              "div",
              { className: Ee().SeeDetailsSection },
              l.createElement(
                "div",
                { className: Ee().DiscountSummaryList },
                n.map((e, t) => {
                  var n;
                  return l.createElement(
                    "div",
                    {
                      className: Ee().ProgressRow,
                      key: e.packageID + "-" + e.discountEventID,
                    },
                    l.createElement(Ae, {
                      icon: S(t),
                      discount: e,
                      nPreviousDiscountPct:
                        null !== (n = g.get(e.nDiscountID)) && void 0 !== n
                          ? n
                          : 0,
                    }),
                  );
                }),
              ),
            ),
          )
        );
      }
      function ke(e) {
        const {
            rgLocalPackageDiscountOverrides: t,
            bMarkupStartTimeBeforeNow: n,
          } = e,
          [a, i] = l.useState(t.length < 9),
          r = Ie(t),
          o = Math.floor(Date.now() / 1e3);
        return l.createElement(
          "div",
          { className: Ee().SeeDetailsSection },
          a
            ? l.createElement(
                "div",
                { className: Ee().DiscountSummaryList },
                t.map((e) => {
                  var t;
                  return l.createElement(Ae, {
                    discount: e,
                    key: e.packageID + "-" + e.discountEventID,
                    icon:
                      n && e.rtStartDate < o
                        ? l.createElement(G.Uxw, null)
                        : void 0,
                    nPreviousDiscountPct:
                      null !== (t = r.get(e.nDiscountID)) && void 0 !== t
                        ? t
                        : 0,
                  });
                }),
              )
            : l.createElement(
                E.zx,
                { onClick: () => i(!0), className: Ee().SeeDetailsButton },
                (0, C.Xx)("#PackageGrid_SeePendingChanges"),
              ),
        );
      }
      function Ae(e) {
        var t, n, a;
        const { discount: i, nPreviousDiscountPct: r, icon: o } = e,
          s = (0, c.vc)(i.discountEventID),
          m = (0, d.Qy)(i.packageID),
          u =
            null !==
              (n =
                null === (t = v.Z.Get().GetPackage(i.packageID)) || void 0 === t
                  ? void 0
                  : t.GetName()) && void 0 !== n
              ? n
              : i.packageID,
          p =
            null !== (a = null == s ? void 0 : s.name) && void 0 !== a
              ? a
              : i.strDiscountName,
          _ = (0, N.Uy)(i.rtStartDate, i.rtEndDate),
          h = i.nDiscountPct > 0 && i.nDiscountPct < 10,
          g = i.nDiscountPct > m,
          E =
            (h &&
              (0, C.Xx)(
                "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
              )) ||
            (g &&
              (0, C.Xx)(
                "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh",
                m,
              ));
        return l.createElement(
          "div",
          {
            className: (0, L.Z)(
              Ee().DiscountSummary,
              h && Ee().DiscountTooLow,
              g && Ee().DiscountTooHigh,
            ),
          },
          l.createElement("div", { className: Ee().ProgressIcon }, o),
          l.createElement(
            se.HP,
            {
              toolTipContent: `${i.packageID}: ${u}`,
              direction: "overlay",
              className: Ee().PackageName,
              strTooltipClassname: Ee().HoverToolTip,
            },
            u,
          ),
          l.createElement(
            se.HP,
            {
              bDisabled: !E,
              toolTipContent: E,
              direction: "left",
              className: Ee().DiscountDelta,
              strTooltipClassname: Ee().HoverToolTip,
            },
            l.createElement(
              "span",
              { className: Ee().PreviousDiscount },
              r + "%",
            ),
            l.createElement(
              "span",
              { className: Ee().DiscountArrow },
              l.createElement(G.Ehc, { angle: 90 }),
            ),
            l.createElement(
              "span",
              { className: Ee().NewDiscount },
              i.nDiscountPct + "%",
            ),
            g &&
              l.createElement(
                "span",
                { className: Ee().MaxDiscount },
                "(" + m + "%)",
              ),
          ),
          l.createElement(
            se.HP,
            {
              toolTipContent: `${p}: ${_}`,
              direction: "left",
              className: Ee().DiscountEventName,
              strTooltipClassname: Ee().HoverToolTip,
            },
            p,
          ),
        );
      }
      function we(e) {
        const { closeModal: t } = e,
          n = (0, p.pl)(),
          a = (0, p._9)(),
          i = (0, C.kb)(
            "#DiscountDashboard_DiscardChangesExplanation",
            n.length,
          );
        return l.createElement(
          R.uH,
          {
            strTitle: (0, C.Xx)("#PackageGrid_DiscardChangesTitle"),
            strOKButtonText: (0, C.Xx)("#PackageGrid_DiscardChangesButton"),
            onOK: () => {
              const e = new Set(n.map((e) => e.packageID));
              a(Array.from(e));
            },
            bDestructiveWarning: !0,
            closeModal: t,
          },
          i,
          l.createElement(ke, { rgLocalPackageDiscountOverrides: n }),
        );
      }
      function Pe(e) {
        const { packageState: t, strMessage: n } = e,
          a = (0, p.B6)(),
          i = ye(),
          r = t.optInReg.opt_in_name.replace("sale_", ""),
          o = k.De.PARTNER_BASE_URL + "optin/sale/" + r + "/" + t.nBaseAppID;
        return l.createElement(
          Y.Eg,
          {
            href: o,
            strClassName: ae().RegistrationLink,
            fnBLocalChangesExist: a,
            fnWarnUser: i,
          },
          n,
        );
      }
      function Te(e) {
        const { packageState: t, strMessage: n } = e,
          a = t.optInReg.opt_in_name.replace("sale_", ""),
          i = he(a),
          r = (0, m.py)(a, t.nBaseAppID);
        return !i || (0, me.B7)(i, r)
          ? l.createElement(Pe, Object.assign({}, e))
          : l.createElement(
              "div",
              {
                className: (0, L.Z)(ae().RegistrationLink, ae().TheLinkItself),
                onClick: (e) =>
                  (0, D.AM)(
                    l.createElement(Ne, { packageState: t, strOptInName: a }),
                    (0, I.RA)(e),
                  ),
              },
              n,
            );
      }
      function Ne(e) {
        const { strOptInName: t, closeModal: n, packageState: a } = e,
          i = he(t),
          r = (0, p.s$)(),
          [o, s] = (0, l.useState)(null),
          [c, d] = (0, l.useState)(!1);
        return l.createElement(
          R.uH,
          {
            strTitle: (0, C.Xx)(
              "#DiscountDashboard_OptIn_QuickRegistration_Title",
            ),
            strOKButtonText: (0, C.Xx)(
              "#DiscountDashboard_OptIn_QuickRegistration_Title",
            ),
            onOK: () => {
              d(!0),
                m.qh
                  .Get()
                  .RegisterAppForOptIn(a.nBaseAppID, t)
                  .then((e) => {
                    e
                      ? s(e)
                      : (r(a.nBaseAppID, a.discountEventID),
                        (0, D.AM)(
                          l.createElement(R.uH, {
                            strTitle: (0, C.Xx)("#Button_Done"),
                            strDescription: (0, C.Xx)(
                              "#EventDisplay_Share_Success",
                            ),
                            closeModal: n,
                            bAlertDialog: !0,
                          }),
                          window,
                        ));
                  });
            },
            onCancel: n,
            bOKDisabled: Boolean(o),
          },
          l.createElement(
            "div",
            { className: ae().EventTitle },
            i.event_title[k.De.LANGUAGE] || i.event_title.english,
          ),
          l.createElement(
            "div",
            { className: ae().EventDates },
            (0, C.$1)(i.event_start_date),
            " - ",
            (0, C.$1)(i.event_end_date),
          ),
          l.createElement("br", null),
          l.createElement(
            "div",
            { className: ae().RegistrationDesc },
            (0, C.Xx)("#DiscountDashboard_OptIn_QuickRegistration_Desc"),
          ),
          Boolean(o) &&
            l.createElement(
              "div",
              { className: ge.ErrorStylesWithIcon },
              o,
              " ",
            ),
          Boolean(c && !o) &&
            l.createElement(f.V, {
              string: (0, C.Xx)("#Saving"),
              position: "center",
              size: "small",
            }),
        );
      }
      function Re(e) {
        var t, n, a;
        const { cell: i, client: r } = e,
          o = null == i ? void 0 : i.getValue(),
          { packageState: s, fnSetDiscountPct: c } = (0, p.yn)(
            null == o ? void 0 : o.packageID,
            null == o ? void 0 : o.discountEventID,
          ),
          m =
            null ===
              (n =
                null === (t = i.getColumn()) || void 0 === t
                  ? void 0
                  : t.getDefinition()) || void 0 === n
              ? void 0
              : n.title,
          u = (0, oe.zD)(),
          _ = (0, d.Qy)(null == o ? void 0 : o.packageID),
          h = (null == m ? void 0 : m.start_date) < u;
        if (!s) return null;
        const g = [ae().DataCell];
        s.bChangedLocally && g.push(ae().ChangedLocally);
        let v = null,
          E = s.bChangedLocally;
        switch (s.eState) {
          case 0:
            g.push(ae().DataLoading), (v = null);
            break;
          case 1:
            g.push(ae().NoConflict);
            let e = null,
              t =
                (null === (a = s.discount) || void 0 === a
                  ? void 0
                  : a.nDiscountPct) || 0;
            t > 0
              ? (g.push(ae().HasDiscount),
                t < 10
                  ? (g.push(ae().DiscountTooLow),
                    (e = (0, C.Xx)(
                      "#DiscountDashboard_SaveDiscountsWarning_DiscountTooLow",
                    )))
                  : t > _ &&
                    (g.push(ae().DiscountTooHigh),
                    (e = E
                      ? 0 == _
                        ? (0, C.Xx)(
                            "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh_MaxZero",
                            _,
                          )
                        : (0, C.Xx)(
                            "#DiscountDashboard_SaveDiscountsWarning_DiscountTooHigh",
                            _,
                          )
                      : 0 == _
                        ? (0, C.Xx)(
                            "#DiscountDashboard_ExistingDiscountTooHigh_MaxZero",
                            _,
                          )
                        : (0, C.Xx)(
                            "#DiscountDashboard_ExistingDiscountTooHigh",
                            _,
                          ))))
              : g.push(ae().NoDiscount),
              h && t > 0 && !E
                ? (g.push(ae().LiveEvent),
                  (v = l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(Be, { packageState: s }),
                    !!s.optInReg &&
                      s.nBaseAppID &&
                      l.createElement(Pe, {
                        packageState: s,
                        strMessage: (0, C.Xx)(
                          "#DiscountDashboard_OptIn_Grid_ViewOptInLink",
                        ),
                      }),
                  )))
                : (v = l.createElement(
                    l.Fragment,
                    null,
                    !!e && l.createElement(Ge, { strToolTip: e }),
                    l.createElement(Le, {
                      packageState: s,
                      fnSetDiscountPct: c,
                    }),
                    !!s.optInReg &&
                      s.nBaseAppID &&
                      l.createElement(Pe, {
                        packageState: s,
                        strMessage: (0, C.Xx)(
                          "#DiscountDashboard_OptIn_Grid_OptInLink",
                        ),
                      }),
                  ));
            break;
          case 2:
            g.push(ae().NeedsOptIn),
              (v = l.createElement(Te, {
                packageState: s,
                strMessage: (0, C.Xx)(
                  "#DiscountDashboard_OptIn_Grid_OptInRequired",
                ),
              }));
            break;
          case 3:
            g.push(ae().OptInOptedOut),
              (v = l.createElement(Pe, {
                packageState: s,
                strMessage: (0, C.Xx)("#DiscountDashboard_OptIn_Grid_OptedOut"),
              }));
            break;
          case 4:
          case 10:
            g.push(ae().OptInRestricted),
              (v = l.createElement(
                se.HP,
                {
                  className: ae().TextCell,
                  toolTipContent: (0, C.Xx)(
                    "#DiscountDashboard_OptIn_Grid_Ineligible_NA_tooltip",
                  ),
                },
                (0, C.Xx)("#DiscountDashboard_OptIn_Grid_Ineligible_NA"),
              ));
            break;
          case 5:
            g.push(ae().OptInNoBaseAppToRegister),
              (v = l.createElement(
                "div",
                { className: ae().TextCell },
                (0, C.Xx)(
                  "#DiscountDashboard_OptIn_Grid_Ineligible_NoBaseGame",
                ),
              ));
            break;
          case 11:
            g.push(ae().OptInNoBaseAppToRegister),
              (v = l.createElement(
                "div",
                { className: ae().TextCell },
                (0, C.Xx)(
                  "#DiscountDashboard_OptIn_Grid_Ineligible_RegisterBaseGame",
                ),
              ));
            break;
          case 6:
            g.push(ae().JustReleased),
              (v = l.createElement(xe, { packageState: s }));
            break;
          case 7:
            g.push(ae().PriceIncreased),
              (v = l.createElement(xe, { packageState: s }));
            break;
          case 8:
          case 9:
            g.push(ae().CooldownWindow),
              (v = l.createElement(xe, { packageState: s }));
        }
        return l.createElement(
          le.QueryClientProvider,
          { client: r },
          l.createElement(
            "div",
            {
              className: (0, L.Z)(...g),
              onKeyDown: (e) => (0, ce.$k)(e, i.getTable()),
            },
            v,
          ),
        );
      }
      function Ge(e) {
        const { strToolTip: t } = e;
        return l.createElement(
          se.HP,
          {
            className: ae().DiscountRangeWarning,
            toolTipContent: t,
            direction: "left",
          },
          l.createElement(G.ge, { color: "#ff5b29" }),
        );
      }
      function Le(e) {
        var t, n, a;
        const { packageState: i, fnSetDiscountPct: r } = e,
          o = (0, p.TB)(),
          s =
            null !==
              (a =
                null ===
                  (n =
                    null === (t = null == i ? void 0 : i.discount) ||
                    void 0 === t
                      ? void 0
                      : t.nDiscountPct) || void 0 === n
                  ? void 0
                  : n.toString()) && void 0 !== a
              ? a
              : "0";
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(E.II, {
            value: s,
            className: ae().DiscountInput,
            onChange: (e) => {
              var t, n;
              const a = e.target.value,
                l = Number(a || 0);
              if (0 <= l && l <= d.U8) {
                l !=
                  (null !==
                    (n =
                      null === (t = i.discount) || void 0 === t
                        ? void 0
                        : t.nDiscountPct) && void 0 !== n
                    ? n
                    : 0) && r(l);
              }
            },
            onFocus: (e) => {
              e.target.select();
            },
          }),
          l.createElement("div", { className: ae().CellPct }, "%"),
          i.bChangedLocally &&
            l.createElement(
              se.HP,
              {
                className: ae().ResetButtonCtn,
                toolTipContent: (0, C.Xx)("#PackageGrid_ResetButton_Tooltip"),
              },
              l.createElement(
                "div",
                {
                  className: ae().ResetButton,
                  onClick: () => {
                    o(i.packageID, i.discountEventID);
                  },
                },
                l.createElement(G.WPl, null),
              ),
            ),
        );
      }
      function Be(e) {
        var t, n, a;
        const { packageState: i } = e,
          r =
            null !==
              (a =
                null ===
                  (n =
                    null === (t = null == i ? void 0 : i.discount) ||
                    void 0 === t
                      ? void 0
                      : t.nDiscountPct) || void 0 === n
                  ? void 0
                  : n.toString()) && void 0 !== a
              ? a
              : "0";
        return l.createElement(
          "div",
          { className: ae().DiscountValueCtn },
          l.createElement("div", { className: ae().DiscountInput }, r),
          l.createElement("div", { className: ae().CellPct }, "%"),
        );
      }
      function xe(e) {
        const { packageState: t } = e;
        return l.createElement(
          se.HP,
          {
            className: ae().ConflictWarning,
            toolTipContent: l.createElement(Me, { packageState: t }),
          },
          l.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_ConflictWarning"),
          ),
          l.createElement(G.WWB, null),
        );
      }
      function Me(e) {
        var t;
        const { packageState: n } = e,
          a = (0, _.Zq)(n.discountEventID);
        null == a || a.start_date;
        let i = null;
        switch (n.eState) {
          case 6:
            i = (0, C.Xx)("#DiscountDashboard_Conflict_JustReleased", p.Eh);
            break;
          case 7:
            i = (0, C.Xx)("#DiscountDashboard_Conflict_PriceIncreased", p.Eh);
            break;
          case 8:
            i = (0, C.Xx)("#DiscountDashboard_Conflict_PreviousDiscount", p.Eh);
            break;
          case 9:
            i = (0, C.Xx)("#DiscountDashboard_Conflict_OverlappingDiscount");
        }
        return l.createElement(
          "div",
          { className: ae().ConflictToolTip },
          l.createElement(G.SUY, null),
          l.createElement(
            "div",
            { className: ae().ConflictText },
            l.createElement(
              "div",
              { className: ae().ConflictExplanationText },
              i,
            ),
            null === (t = n.rgConflictDetails) || void 0 === t
              ? void 0
              : t.map((e, t) =>
                  l.createElement(
                    "div",
                    { key: t, className: ae().ConflictDetailText },
                    e,
                  ),
                ),
          ),
        );
      }
      var Oe = n(69727),
        Fe = n.n(Oe);
      function Ue(e) {
        var t;
        return null === (t = e.getValue()) || void 0 === t ? void 0 : t.ttip;
      }
      function He(e) {
        const { cell: t } = e,
          n = t.getRow().getData().packageID,
          [a, i] = (0, _.P6)();
        switch (a) {
          case "most-recent":
            return l.createElement(je, { packageID: n });
          case "next-available":
            return l.createElement(qe, { packageID: n });
          default:
            return l.createElement(Xe, { packageID: n });
        }
      }
      function Ve(e) {
        const { cell: t } = e,
          n = t.getRow().getData().packageID;
        return l.createElement(
          "div",
          { className: ae().ButtonCell },
          l.createElement(
            E.zx,
            {
              onClick: (e) =>
                (0, D.AM)(
                  l.createElement(U, { nInitialPackageID: n }),
                  (0, I.RA)(e),
                ),
            },
            (0, C.Xx)("#DiscountDashboard_CreateDiscountButton_Row"),
          ),
        );
      }
      function Xe(e) {
        var t;
        const { packageID: n } = e,
          { deepestDiscount: a, bLoading: i } = (0, d.b2)(n);
        if (i)
          return l.createElement(f.V, {
            className: Fe().GridRowLoadingThrobber,
          });
        const r =
            null !== (t = null == a ? void 0 : a.nDiscountPct) && void 0 !== t
              ? t
              : 0,
          o = a
            ? (0, C.Xx)(
                "#DiscountDashboard_DeepestPastDiscount_Details",
                a.nDiscountPct,
                a.strDiscountName,
                (0, C.vX)(a.rtStartDate),
              )
            : (0, C.Xx)("#DiscountDashboard_NeverDiscounted");
        return l.createElement(se.HP, { toolTipContent: o }, r + "%");
      }
      function je(e) {
        var t;
        const { packageID: n } = e,
          { mostRecentDiscount: a, bLoading: i } = (0, d.k1)([n]);
        if (i)
          return l.createElement(f.V, {
            className: Fe().GridRowLoadingThrobber,
          });
        const r =
            null !== (t = null == a ? void 0 : a.nDiscountPct) && void 0 !== t
              ? t
              : 0,
          o = a
            ? (0, C.Xx)(
                "#DiscountDashboard_LastPastDiscount_Details",
                a.nDiscountPct,
                a.strDiscountName,
                (0, C.vX)(a.rtStartDate),
              )
            : (0, C.Xx)("#DiscountDashboard_NeverDiscounted");
        return l.createElement(se.HP, { toolTipContent: o }, r + "%");
      }
      function qe(e) {
        const { packageID: t } = e,
          n = (0, p.z$)(t),
          a = (0, oe.zD)();
        let i = (0, C.Xx)(
            "#DiscountDashboard_GridColumn_NextAvailableDiscount_Never",
          ),
          r = (0, C.Xx)(
            "#DiscountDashboard_GridColumn_NextAvailableDiscount_Never_ttip",
          );
        for (const e of n)
          if (e.bIsAvailable) {
            e.rtStartDate <= a
              ? ((i = (0, C.Xx)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_Now",
                )),
                (r = (0, C.Xx)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_Now_ttip",
                )))
              : ((i = (0, C.m9)(e.rtStartDate)),
                (r = (0, C.Xx)(
                  "#DiscountDashboard_GridColumn_NextAvailableDiscount_ttip",
                )));
            break;
          }
        return l.createElement(se.HP, { toolTipContent: r }, i);
      }
      function We(e) {
        const [t, n] = (0, _.P6)(),
          a = [
            {
              label: (0, C.Xx)(
                "#DiscountDashboard_GridColumn_DeepestPastDiscount",
              ),
              data: "deepest-past",
            },
            {
              label: (0, C.Xx)(
                "#DiscountDashboard_GridColumn_MostRecentDiscount",
              ),
              data: "most-recent",
            },
            {
              label: (0, C.Xx)(
                "#DiscountDashboard_GridColumn_NextAvailableDiscount",
              ),
              data: "next-available",
            },
          ];
        return l.createElement(
          se.HP,
          {
            toolTipContent: (0, C.Xx)(
              "#DiscountDashboard_GridColumn_RelatedDiscount_ttip",
            ),
            className: Fe().RelatedInfoPickerCtn,
          },
          l.createElement(
            "div",
            { className: Fe().RelatedInfoPicker },
            l.createElement(E.ry, {
              strDropDownClassName: Fe().RelatedInfoDropDown,
              strDropDownItemClassName: Fe().RelatedInfoDropDownItem,
              contextMenuPositionOptions: { bOverlapHorizontal: !0 },
              rgOptions: a,
              selectedOption: t,
              onChange: (e) => n(e.data),
            }),
          ),
        );
      }
      function ze(e) {
        return l.createElement(
          "div",
          { className: Fe().EventDetails },
          l.createElement(
            "div",
            { className: Fe().EventName },
            (0, C.Xx)("#DiscountDashboard_GridColumn_NewDiscount_title"),
          ),
          l.createElement(
            "div",
            { className: Fe().EventDates },
            (0, C.Xx)("#DiscountDashboard_GridColumn_NewDiscount_desc"),
          ),
        );
      }
      function Ze(e) {
        const {
            strPriceKey: t,
            rgSupportedPriceKeys: n,
            fnSetPriceKey: a,
          } = (0, ie.OB)(),
          i = n.map((e) => ({ label: e, data: e }));
        return l.createElement(
          se.HP,
          {
            toolTipContent: (0, C.Xx)(
              "#DiscountDashboard_GridColumn_BasePrice_ttip",
            ),
          },
          l.createElement(
            "div",
            { className: Fe().BasePriceTitle },
            (0, C.Xx)("#DiscountDashboard_GridColumn_BasePrice"),
          ),
          l.createElement(
            "div",
            { className: Fe().CurrencyPicker },
            l.createElement(E.ry, {
              strDropDownClassName: Fe().CurrencyDropDown,
              strDropDownItemClassName: Fe().CurrencyDropDownItem,
              contextMenuPositionOptions: { bOverlapHorizontal: !0 },
              rgOptions: i,
              selectedOption: t,
              onChange: (e) => a(e.data),
            }),
          ),
        );
      }
      function Ke(e) {
        const { cell: t } = e,
          n = t.getRow().getData().packageID,
          a = (0, ie.PP)(n);
        return l.createElement(
          "div",
          { className: Fe().BasePriceDisplay },
          null != a ? a : "--",
        );
      }
      function Qe(e) {
        return e + "-event-column";
      }
      const Ye = "createnew";
      function Je(e) {
        const {
            fnBLocalChangesExist: t,
            fnWarnUser: n,
            cell: a,
            client: i,
          } = e,
          r = (0, oe.zD)(),
          { strSelectedEvent: o, fnSelectEvent: s } = (0, _.y4)(),
          c = null == a ? void 0 : a.getValue(),
          m = c.start_date <= r && r <= c.end_date,
          d = o == (null == c ? void 0 : c.id),
          u = Math.ceil(
            (c.end_date - 1.5 * x._H.PerHour - c.start_date) / x._H.PerDay,
          ),
          p =
            k.L7.is_support && !isNaN(Number(c.id))
              ? `${k.De.PARTNER_BASE_URL}admin/editdiscountevent/${c.id}`
              : null;
        return l.createElement(
          le.QueryClientProvider,
          { client: i },
          l.createElement(
            se.HP,
            {
              className: (0, L.Z)(
                Fe().EventDetails,
                m && Fe().Active,
                d && Fe().Selected,
                !!p && Fe().RestrictedEligibility,
              ),
              onClick: () => s(d ? null : c.id),
              toolTipContent: (0, C.Xx)("#DiscountDashboard_ColumnHeader_ttip"),
            },
            l.createElement(
              "div",
              { className: Fe().EventName },
              c.name,
              !!p &&
                l.createElement(
                  Y.Eg,
                  {
                    fnBLocalChangesExist: t,
                    fnWarnUser: n,
                    href: p,
                    strClassName: Fe().EditEventLink,
                    strToolTip: (0, C.Xx)(
                      "#DiscountDashboard_LinkToEditEventPage_ttip",
                    ),
                  },
                  (0, C.Xx)("#DiscountDashboard_LinkToEditEventPage"),
                ),
            ),
            l.createElement(
              "div",
              { className: Fe().EventDates },
              l.createElement(N.Sw, {
                className: Fe().EventDateRange,
                strMonthFormat: "short",
                rtStartDate: c.start_date,
                rtEndDate: c.end_date,
              }),
              l.createElement(
                "div",
                { className: Fe().EventNumDays },
                (0, C.kb)("#DiscountDashboard_NumberOfDays", u),
              ),
            ),
            l.createElement(
              "div",
              { className: Fe().EventParticipationCtn },
              l.createElement(tt, { discountEvent: c }),
              l.createElement($e, { discountEvent: c }),
            ),
          ),
        );
      }
      function $e(e) {
        const t = (0, p.JW)(e.discountEvent.id),
          n = t.nAlreadySet + t.nAvailable + t.nConflicts + t.nNeedRegistration;
        return l.createElement(
          se.HP,
          {
            className: Fe().ParticipationDetails,
            toolTipContent: l.createElement(et, { counts: t }),
          },
          l.createElement(
            "div",
            { className: Fe().Title },
            (0, C.Xx)("#DiscountDashboard_PackagesDiscounted"),
          ),
          l.createElement(
            "div",
            { className: Fe().Count },
            t.nAlreadySet + " / " + n,
          ),
        );
      }
      function et(e) {
        const { counts: t } = e;
        return l.createElement(
          "div",
          { className: Fe().ParticipationToolTip },
          l.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_SetDiscountsCount", t.nAlreadySet),
          ),
          t.nAvailable > 0 &&
            l.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_AvailableDiscountsCount",
                t.nAvailable,
              ),
            ),
          t.nConflicts > 0 &&
            l.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_CooldownConflictsCount",
                t.nConflicts,
              ),
            ),
          t.nNeedRegistration > 0 &&
            l.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_BlockedDiscountsCount",
                t.nNeedRegistration,
              ),
            ),
          t.nIneligibile > 0 &&
            l.createElement(
              "div",
              null,
              (0, C.Xx)(
                "#DiscountDashboard_IneligibleDiscountsCount",
                t.nIneligibile,
              ),
            ),
        );
      }
      function tt(e) {
        const { discountEvent: t } = e,
          n = (0, m.ZW)(t.opt_in_name),
          a = (0, m.V7)(t.opt_in_name);
        return 0 == n.length
          ? null
          : l.createElement(
              se.HP,
              {
                className: Fe().ParticipationDetails,
                toolTipContent: l.createElement(nt, Object.assign({}, a)),
              },
              l.createElement(
                "div",
                { className: Fe().Title },
                (0, C.Xx)("#DiscountDashboard_AppRegistered"),
              ),
              l.createElement(
                "div",
                { className: Fe().Count },
                a.nAppOptedIn,
                " / ",
                a.nAppEligible,
              ),
            );
      }
      function nt(e) {
        return l.createElement(
          "div",
          { className: Fe().ParticipationToolTip },
          l.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_AppOptIn", e.nAppOptedIn),
          ),
          e.nAppOptedOut > 0 &&
            l.createElement(
              "div",
              null,
              (0, C.Xx)("#DiscountDashboard_AppOptedOut", e.nAppOptedOut),
            ),
          l.createElement(
            "div",
            null,
            (0, C.Xx)("#DiscountDashboard_AppEligible", e.nAppEligible),
          ),
        );
      }
      var at = n(20417),
        it = n(51761),
        lt = n.n(it);
      function rt(e) {
        const t = "America/Los_Angeles",
          n = {
            weekday: "long",
            month: "long",
            day: "numeric",
            hour: "numeric",
            timeZoneName: "short",
            timeZone: t,
          },
          a = { hour: "numeric", timeZoneName: "short" },
          i = t != Intl.DateTimeFormat().resolvedOptions().timeZone,
          l = new Date(1e3 * e),
          r = l.getMinutes();
        r <= 10
          ? l.setMinutes(0)
          : r >= 50
            ? l.setMinutes(60)
            : ((n.minute = "2-digit"), (a.minute = "2-digit"));
        const o = l.toLocaleString(C.Yt.GetPreferredLocales(), n);
        if (!i) return o;
        return `${o} (${l.toLocaleString(C.Yt.GetPreferredLocales(), a)})`;
      }
      function ot(e) {
        var t;
        const [n, a] = l.useState(0),
          {
            bSingleDiscountEventView: i,
            strSelectedEvent: r,
            fnSelectEvent: o,
            bIncludeConflictsInSingleEventView: s,
            fnSetIncludeConflictsInSingleEventView: c,
          } = (0, _.y4)(),
          m = (0, p.E_)(),
          h = (0, _.Zq)(r),
          g = (0, p.E5)(r),
          v =
            g.alreadySet.size +
            g.available.size +
            g.needRegistration.size +
            g.conflicts.size,
          S = g.conflicts.size,
          D = (0, u.AM)(),
          f = D.length,
          y =
            null == D
              ? void 0
              : D.filter((e) => g.alreadySet.has(e) || g.available.has(e)),
          b = y.length,
          I = document.getElementsByClassName("tabulator-table"),
          A = 1 == I.length ? I[0] : null,
          w =
            null !==
              (t = null == A ? void 0 : A.getBoundingClientRect().width) &&
            void 0 !== t
              ? t
              : 740,
          P = (0, at.NW)(),
          T = l.useRef(new ResizeObserver(P));
        l.useEffect(() => {
          if (!A) return;
          const e = T.current;
          return e.observe(A), () => e.unobserve(A);
        }, [A]);
        const N = k.De.PARTNER_BASE_URL + "doc/marketing/discounts#limits",
          R = (0, d.Xj)(y);
        return l.createElement(
          "div",
          {
            style: { left: w + "px" },
            className: (0, L.Z)(lt().SingleEventDetailsCtn, i && lt().Visible),
          },
          l.createElement(
            "div",
            { className: lt().Section },
            l.createElement(
              "div",
              { className: lt().SectionDate },
              (0, C.Xx)("#DiscountDashboard_DetailView_StartTimeLabel") +
                " " +
                rt(null == h ? void 0 : h.start_date),
            ),
            l.createElement(
              "div",
              { className: lt().SectionDate },
              (0, C.Xx)("#DiscountDashboard_DetailView_EndTimeLabel") +
                " " +
                rt(null == h ? void 0 : h.end_date),
            ),
            l.createElement(
              "div",
              { className: lt().SectionLabel },
              (0, C.Xx)("#DiscountDashboard_DetailView_YourViewTitle"),
            ),
            l.createElement(
              "div",
              { className: lt().ViewSummary },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_ViewSectionWithCount",
                f,
                v,
              ),
            ),
            l.createElement(
              "div",
              { className: lt().SectionText },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_ViewSectionInstructions",
              ),
            ),
            S > 0 &&
              l.createElement(E.ji, {
                className: lt().HideConflicts,
                label: (0, C.Xx)("#DiscountDashboard_DetailView_HideConflicts"),
                checked: !s,
                disabled: 0 == S,
                onChange: (e) => c(!e),
              }),
          ),
          l.createElement(
            "div",
            { className: lt().Section },
            l.createElement(
              "div",
              { className: lt().SectionLabel },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_DiscountAllVisibleTitle",
              ),
              l.createElement(
                se.HP,
                {
                  toolTipContent: (0, C.Xx)(
                    "#DiscountDashboard_DetailView_BatchDiscountInstructions_ttip",
                  ),
                  className: lt().helpCtn,
                },
                l.createElement(G.WWB, null),
              ),
            ),
            l.createElement(
              "div",
              { className: lt().SectionText },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_BatchDiscountInstructions",
              ),
            ),
            l.createElement(
              "div",
              { className: lt().SectionText },
              (0, C.Xx)(
                "#DiscountDashboard_DetailView_BatchDiscountInstructions_ProTip",
              ),
            ),
            l.createElement(
              "div",
              {
                className: (0, L.Z)(
                  lt().BatchDiscountLine,
                  0 == b && lt().Disabled,
                ),
              },
              l.createElement(E.II, {
                value: n,
                className: lt().BatchDiscountInput,
                onChange: (e) => {
                  const t = e.target.value,
                    n = Number(t || 0);
                  0 <= n && n <= 90 && a(n);
                },
                onFocus: (e) => e.target.select(),
              }),
              l.createElement("div", { className: lt().CellPct }, "%"),
              l.createElement(
                E.zx,
                {
                  className: lt().BatchDiscountButton,
                  onClick: () => m(n, r, y),
                  disabled: 0 == b,
                },
                (0, C.kb)(
                  "#DiscountDashboard_DetailView_BatchDiscountButton",
                  b,
                ),
              ),
            ),
            n > R &&
              l.createElement(
                "div",
                { className: lt().WarningText },
                l.createElement(
                  "span",
                  { className: lt().SectionText },
                  (0, C.Xx)(
                    "#DiscountDashboard_DetailView_BatchDiscount_MaxDiscountWarning",
                    R,
                  ),
                ),
                l.createElement(
                  "a",
                  { href: N, target: "_blank", className: lt().SectionText },
                  (0, C.Xx)(
                    "#DiscountDashboard_DetailView_BatchDiscount_MaxDiscountDocumentationLink",
                  ),
                ),
              ),
          ),
          l.createElement(
            "div",
            { className: lt().Section },
            l.createElement(
              E.zx,
              { onClick: (e) => o(null) },
              (0, C.Xx)("#DiscountDashboard_DetailView_ShowAllEvents"),
            ),
          ),
        );
      }
      const st = "all-events";
      function ct(e, t) {
        return e.size == t.size && Array.from(e).every((e) => t.has(e));
      }
      function mt(e) {
        const { rgDiscountEvents: t, refTable: n } = e,
          {
            bSingleDiscountEventView: a,
            strSelectedEvent: i,
            fnSelectEvent: r,
            bIncludeWeeklongEvents: o,
            fnSetIncludeWeeklongEvents: s,
            bIncludeCustomEvents: c,
            fnSetIncludeCustomEvents: m,
          } = (0, _.y4)(),
          u = (function (e) {
            return l.useMemo(() => {
              const t = [
                {
                  label: (0, C.Xx)("#DiscountDashboard_DiscountFilterAll"),
                  data: st,
                },
              ];
              for (const n of e)
                (0, p.k)(n.id) && t.push({ label: n.name, data: n.id });
              return t;
            }, [e]);
          })(t),
          h = (function (e) {
            const {
                bSingleDiscountEventView: t,
                strSelectedEvent: n,
                bIncludeConflictsInSingleEventView: a,
              } = (0, _.y4)(),
              i = (0, _.x9)(),
              r = (0, p.E5)(n),
              o = l.useRef(r),
              s = l.useRef(a),
              [c, m] = l.useState(!1);
            return (
              l.useEffect(() => m(!0), [n, a, i, r]),
              l.useEffect(() => {
                var n, l, d, u, p, _, h, g, v, E, S, D;
                if (!c) return;
                const f = [];
                if (
                  (null ===
                    (d =
                      null ===
                        (l =
                          null === (n = e.current) || void 0 === n
                            ? void 0
                            : n.table) || void 0 === l
                        ? void 0
                        : l.getColumns()) ||
                    void 0 === d ||
                    d.forEach((e) => {
                      const n = e.getDefinition();
                      if (n.frozen) return;
                      let a = !1;
                      if (n.field == Ye) a = !t;
                      else {
                        const e = n.title;
                        a = i.has(e.id);
                      }
                      const l = e.isVisible();
                      l != a ? e.toggle() : l && a && f.push(e);
                    }),
                  t ||
                    1 != f.length ||
                    null ===
                      (p =
                        null === (u = e.current) || void 0 === u
                          ? void 0
                          : u.table) ||
                    void 0 === p ||
                    p.scrollToColumn(f[0].getField(), "middle", !1),
                  t)
                ) {
                  const { ineligibile: t, conflicts: n } = r,
                    i = o.current;
                  ((null ===
                    (g =
                      null ===
                        (h =
                          null === (_ = e.current) || void 0 === _
                            ? void 0
                            : _.table) || void 0 === h
                        ? void 0
                        : h.getFilters()) || void 0 === g
                    ? void 0
                    : g.length) &&
                    ct(t, i.ineligibile) &&
                    ct(n, i.conflicts) &&
                    a == s.current) ||
                    null ===
                      (E =
                        null === (v = e.current) || void 0 === v
                          ? void 0
                          : v.table) ||
                    void 0 === E ||
                    E.setFilter(
                      (e) => !t.has(e.packageID) && (a || !n.has(e.packageID)),
                    );
                } else
                  null ===
                    (D =
                      null === (S = e.current) || void 0 === S
                        ? void 0
                        : S.table) ||
                    void 0 === D ||
                    D.clearFilter();
                (o.current = r), (s.current = a), m(!1);
              }, [c]),
              c
            );
          })(n),
          g = t.some((e) => (0, d.kk)(e.id));
        return l.createElement(
          "div",
          { className: ae().DiscountsFilterBar },
          l.createElement(
            "div",
            { className: ae().DiscountSelectDropDown },
            l.createElement(E.ry, {
              strDropDownClassName: te().DropDownScroll,
              rgOptions: u,
              selectedOption: null != i ? i : st,
              label: (0, C.Xx)(
                "#DiscountDashboard_DiscountFilterByEventButton",
              ),
              onChange: (e) => r(e.data == st ? null : e.data),
            }),
          ),
          !a &&
            l.createElement(E.ji, {
              className: ae().DiscountFilterCheckbox,
              label: (0, C.Xx)(
                "#DiscountDashboard_ShowCustomDiscountsCheckBoxLabel",
              ),
              checked: c,
              disabled: a || !g,
              onChange: m,
            }),
          !a &&
            l.createElement(E.ji, {
              className: ae().DiscountFilterCheckbox,
              label: (0, C.Xx)(
                "#DiscountDashboard_ShowWeeklongDiscountsCheckBoxLabel",
              ),
              checked: o,
              disabled: a,
              onChange: s,
            }),
          h &&
            l.createElement(
              "div",
              { className: ae().UpdatingMessage },
              (0, C.Xx)("#DiscountDashboard_UpdatingStatusMessage"),
            ),
          l.createElement(ot, null),
        );
      }
      function dt(e) {
        var t;
        const n = (0, p.pl)(),
          a =
            null !== (t = null == n ? void 0 : n.length) && void 0 !== t
              ? t
              : 0;
        return l.createElement(
          "div",
          {
            className: (0, L.Z)(
              ae().DiscountGridCtn,
              a > 0 && "PendingVisible",
            ),
          },
          l.createElement(ut, Object.assign({}, e)),
        );
      }
      const ut = l.memo(function (e) {
        const t = l.useRef(null);
        "dev" == k.De.WEB_UNIVERSE && (window.g_DiscountGridTableRef = t);
        const n = (0, _.im)(),
          a = (function (e) {
            const t = (0, p.B6)(),
              n = ye(),
              a = (0, le.useQueryClient)(),
              i = l.useMemo(
                () => ({ client: a, fnBLocalChangesExist: t, fnWarnUser: n }),
                [t, n, a],
              ),
              r = (0, Y.zV)(i),
              o = (0, Y.zQ)(i),
              s = (0, Y.O7)(i),
              c = (0, Y.Ii)(i),
              m = (0, Y.UA)(i, !0),
              d = (0, _.$f)();
            return l.useMemo(() => {
              const t = {
                  field: "basePrice",
                  headerSort: !1,
                  titleFormatter: (0, re.reactFormatter)(
                    l.createElement(Ze, null),
                  ),
                  formatter: (0, re.reactFormatter)(l.createElement(Ke, null)),
                  cssClass: Fe().BasePrice,
                  width: 120,
                  frozen: !0,
                },
                n = {
                  titleFormatter: (0, re.reactFormatter)(
                    l.createElement(We, null),
                  ),
                  field: "relatedDiscount",
                  headerSort: !1,
                  formatter: (0, re.reactFormatter)(l.createElement(He, null)),
                  cssClass: Fe().RelatedDiscount,
                  width: 120,
                  frozen: !0,
                  tooltip: Ue,
                },
                u = [r, o, s, c, m, t, n];
              for (const t of e) {
                const e = "unique" == t.collision_type;
                u.push({
                  field: Qe(t.id),
                  title: t,
                  width: 200,
                  headerSort: !1,
                  titleFormatter: (0, re.reactFormatter)(
                    l.createElement(Je, Object.assign({}, i)),
                  ),
                  formatter: (0, re.reactFormatter)(
                    l.createElement(Re, { client: a }),
                  ),
                  cssClass: (0, L.Z)(
                    Fe().DiscountGridDataColumn,
                    e && Fe().CollisionFreeDiscountEvent,
                  ),
                  visible: d.has(t.id),
                });
              }
              const p = new URLSearchParams(window.location.search);
              return (
                u.push({
                  titleFormatter: (0, re.reactFormatter)(
                    l.createElement(ze, null),
                  ),
                  field: Ye,
                  headerSort: !1,
                  formatter: (0, re.reactFormatter)(l.createElement(Ve, null)),
                  cssClass: Fe().DiscountGridDataColumn,
                  width: 120,
                  frozen: !1,
                  visible: !p.has("de"),
                }),
                u
              );
            }, [e, d, i, r, o, s, c, m, a]);
          })(n),
          i = (function (e) {
            const t = (0, u.z)();
            return l.useMemo(() => {
              var n, a;
              const i = [];
              for (const l of t) {
                const t = v.Z.Get().GetPackage(l);
                if (!t || !t.BIsVisible()) continue;
                const r = (0, g.R1)(t),
                  o = {
                    appids:
                      null !==
                        (a =
                          null ===
                            (n = null == t ? void 0 : t.GetIncludedAppIDs()) ||
                          void 0 === n
                            ? void 0
                            : n.sort()) && void 0 !== a
                        ? a
                        : [],
                    appName: r.baseAppName,
                    packageID: l,
                    packageName: null == t ? void 0 : t.GetName(),
                    packageType: r.contents,
                    basePrice: null,
                    relatedDiscount: null,
                  };
                for (const t of e)
                  o[Qe(t.id)] = { packageID: l, discountEventID: t.id };
                i.push(o);
              }
              return i;
            }, [t, e]);
          })(n),
          r = (0, u.Gd)(),
          o = () => r(t.current.table),
          s = new URLSearchParams(window.location.search),
          c = {
            index: "packageID",
            layout: "fitData",
            initialSort: [{ column: "appName", dir: "asc" }],
            initialHeaderFilter: [
              {
                field: "packageName",
                value: s.has(u.ew) ? decodeURIComponent(s.get(u.ew)) : "",
              },
            ],
            groupBy: "appName",
            groupHeader: Y.JP,
            groupToggleElement: "header",
            rowFormatter: Y.A$,
            groupVisibilityChanged: o,
            renderComplete: o,
          };
        return (
          ("dev" != k.De.WEB_UNIVERSE && "beta" != k.De.WEB_UNIVERSE) ||
            console.log("Rendering grid", a, c),
          l.createElement(
            l.Fragment,
            null,
            l.createElement(mt, { rgDiscountEvents: n, refTable: t }),
            l.createElement(
              "div",
              { className: ae().DiscountGridWrapper },
              l.createElement(
                "div",
                { className: ae().DiscountGrid },
                l.createElement(
                  $.SV,
                  null,
                  l.createElement(J.ReactTabulator, {
                    ref: t,
                    columns: a,
                    data: i,
                    options: c,
                  }),
                  l.createElement("br", null),
                ),
              ),
            ),
          )
        );
      });
      var pt = n(37485),
        _t = n.n(pt),
        ht = n(88408),
        gt = n(50943),
        vt = n.n(gt);
      function Et(e) {
        const { closeModal: t } = e,
          n = (0, u.$D)(),
          a = _t()().format("YYYY-MM-DDTHH-mm-ss"),
          i = (0, u.z)(),
          r = (0, u.AM)(),
          o = (0, _.im)(),
          s = (0, _.x9)(),
          c = o.filter((e) => s.has(e.id)),
          m = `discounts_all_${n}_${a}.csv`,
          d = `discounts_${n}_${a}.csv`,
          p = 0 == r.length || 0 == c.length;
        return l.createElement(
          R.uH,
          {
            bAllowFullSize: !1,
            closeModal: t,
            bAlertDialog: !0,
            strTitle: (0, C.Xx)("#DiscountDashboard_ImportExportHeader"),
          },
          (0, C.Xx)("#DiscountDashboard_ImportExport_GeneralInstructions"),
          l.createElement("br", null),
          l.createElement(
            "a",
            {
              href: k.De.PARTNER_BASE_URL + "doc/store/discounting/csv",
              target: "_blank",
            },
            (0, C.Xx)("#PricingDashboard_ImportExport_DocLink"),
          ),
          l.createElement("br", null),
          l.createElement("br", null),
          l.createElement(
            "h3",
            null,
            (0, C.Xx)("#PricingDashboard_SubtitleExport"),
          ),
          l.createElement(
            "div",
            { className: vt().Instructions },
            (0, C.Xx)("#DiscountDashboard_ImportExport_DownloadInstructions"),
          ),
          l.createElement(
            "div",
            { className: vt().ButtonRows },
            r.length != i.length &&
              l.createElement(
                "div",
                { className: vt().OptionCtn },
                l.createElement(
                  "span",
                  { className: vt().OptionDesc },
                  (0, C.Xx)(
                    "#DiscountDashboard_ImportExport_DownloadVisible_Desc",
                  ),
                ),
                l.createElement(
                  E.zx,
                  {
                    className: vt().Button,
                    disabled: p,
                    onClick: () => Dt(r, c, d),
                  },
                  (0, C.Xx)(
                    "#DiscountDashboard_ImportExport_DownloadVisible_Button",
                  ),
                  l.createElement(
                    "span",
                    null,
                    (0, C.Xx)("#PricingDashboard_PackageCount", r.length),
                  ),
                ),
              ),
            l.createElement(
              "div",
              { className: vt().OptionCtn },
              l.createElement(
                "span",
                { className: vt().OptionDesc },
                (0, C.Xx)("#DiscountDashboard_ImportExport_DownloadAll_Desc"),
              ),
              l.createElement(
                E.zx,
                {
                  className: vt().Button,
                  disabled: p,
                  onClick: () => Dt(i, o, m),
                },
                (0, C.Xx)("#DiscountDashboard_ImportExport_DownloadAll_Button"),
                l.createElement(
                  "span",
                  null,
                  (0, C.Xx)("#PricingDashboard_PackageCount", i.length),
                ),
              ),
            ),
          ),
          l.createElement("br", null),
          l.createElement("br", null),
          l.createElement(
            "h3",
            null,
            (0, C.Xx)("#PricingDashboard_SubtitleImport"),
          ),
          l.createElement(
            "div",
            { className: vt().Instructions },
            (0, C.Xx)("#DiscountDashboard_ImportExport_UploadInstructions"),
          ),
          l.createElement(
            "div",
            { className: vt().ButtonRows },
            l.createElement(
              "div",
              { className: vt().OptionCtn },
              l.createElement(
                "span",
                { className: vt().OptionDesc },
                (0, C.Xx)("#DiscountDashboard_ImportExport_Upload_Desc"),
              ),
              l.createElement(
                E.zx,
                { className: vt().Button, disabled: p },
                l.createElement(
                  "label",
                  {
                    className: vt().ImportButtonLabel,
                    htmlFor: "import-discount-input",
                  },
                  (0, C.Xx)("#DiscountDashboard_ImportExport_Upload_Button"),
                  l.createElement("input", {
                    id: "import-discount-input",
                    type: "file",
                    style: { display: "none" },
                    onChange: (e) =>
                      (function (e, t) {
                        return (0, A.mG)(this, void 0, void 0, function* () {
                          if (e.target.files.length >= 1) {
                            const n = (0, I.RA)(e),
                              a = e.target.files[0],
                              i = yield ht.K.ParseCSVFile(a);
                            (0, D.x1)(
                              l.createElement(ft, {
                                strFilename: a.name,
                                parseResult: i,
                              }),
                              n,
                            ),
                              t();
                          }
                        });
                      })(e, t),
                  }),
                ),
              ),
            ),
          ),
        );
      }
      function St(e) {
        var t, n, a, i;
        return (null ===
          (n = null === (t = e.header) || void 0 === t ? void 0 : t.trim()) ||
        void 0 === n
          ? void 0
          : n.length) > 0
          ? e.header.trim()
          : (null ===
                (i =
                  null === (a = e.name) || void 0 === a ? void 0 : a.trim()) ||
              void 0 === i
                ? void 0
                : i.length) > 0
            ? e.name.trim()
            : e.id;
      }
      function Dt(e, t, n) {
        var a;
        const i = [],
          l = [
            (0, C.Xx)("#PackageGrid_Column_PackageName"),
            "ID",
            (0, C.Xx)("#DiscountDashboard_GridColumn_BasePrice"),
          ],
          r = new Set();
        for (const e of t) {
          let t = St(e);
          r.has(t) && (t = t + "/" + e.id), r.add(t), l.push(t);
        }
        i.push(l);
        for (const n of e) {
          const e = v.Z.Get().GetPackage(n);
          if (!e || !e.BIsVisible()) continue;
          const l = (0, ie.Tj)(n),
            r = [e.GetName(), n.toString(), null != l ? l : "--"];
          for (const e of t) {
            const t = (0, p.HU)(n, e.id);
            r.push(
              null !== (a = null == t ? void 0 : t.toString()) && void 0 !== a
                ? a
                : (0, C.Xx)("#DiscountDashboard_OptIn_Grid_Ineligible_NA"),
            );
          }
          i.push(r);
        }
        ht.K.WriteCSVToFile(i, n);
      }
      function ft(e) {
        var t, n;
        const { closeModal: a, strFilename: i, parseResult: r } = e,
          o = (0, oe.zD)(),
          s = (0, u.z)(),
          c = (0, _.im)(),
          m = (0, p.E_)(),
          [d, h] = l.useState(null),
          [g, v] = l.useState(),
          [E, S] = l.useState();
        if (
          (l.useEffect(() => {
            const {
              rgDiscountOverrides: e,
              nPackagesImported: t,
              nDiscountEventsImported: n,
            } = (function (e, t, n, a, i) {
              var l, r, o;
              const s = new Map(),
                c = new Set(
                  null !==
                    (r =
                      null === (l = e.meta) || void 0 === l
                        ? void 0
                        : l.fields) && void 0 !== r
                    ? r
                    : [],
                );
              for (const e of a) {
                if (t > e.start_date) continue;
                const n = St(e),
                  a = n + "/" + e.id;
                c.has(a) ? s.set(a, e.id) : c.has(n) && s.set(n, e.id);
              }
              const m = Array.from(s.keys()),
                d = [],
                u = new Set(n),
                p = [];
              for (const t of null !== (o = e.data) && void 0 !== o ? o : []) {
                const e = Number(t.ID);
                if (u.has(e)) {
                  d.push(e);
                  for (const n of m) {
                    const a = s.get(n),
                      l = t[n],
                      r = !!(null == l ? void 0 : l.length) && parseInt(l);
                    if (!(null == l ? void 0 : l.length) || Number.isNaN(r))
                      continue;
                    const o = i(r, a, [e]);
                    1 == (null == o ? void 0 : o.length) && p.push(o[0]);
                  }
                }
              }
              return {
                rgDiscountOverrides: p,
                nPackagesImported: d.length,
                nDiscountEventsImported: m.length,
              };
            })(r, o, s, c, m);
            h(e), v(t), S(n);
          }, [r, o, s, c, m]),
          null === d)
        )
          return l.createElement(f.V, { position: "center" });
        const y = d.length > 0,
          b = y
            ? (0, C.Xx)("#PackageGrid_SaveChangesDialogButton")
            : (0, C.Xx)("#Button_Close");
        return l.createElement(
          R.uH,
          {
            strTitle: (0, C.Xx)(
              "#DiscountDashboard_ImportExport_UploadProgressTitle",
            ),
            strDescription: (0, C.Xx)(
              "#DiscountDashboard_ImportExport_UploadProgressDetails",
              g,
              E,
            ),
            bAlertDialog: !y,
            strOKButtonText: b,
            onOK: () => {
              y && (0, D.AM)(l.createElement(be, null), window);
            },
            strCancelButtonText: (0, C.Xx)("#Button_OK"),
            closeModal: a,
          },
          l.createElement(
            "div",
            { className: vt().ParseResultCount },
            (0, C.kb)(
              "#DiscountDashboard_ImportExport_UploadResults",
              d.length,
            ),
          ),
          y &&
            (0, C.Xx)(
              "#DiscountDashboard_ImportExport_UploadNextStepInstructions",
            ),
          !!(null === (t = r.errors) || void 0 === t ? void 0 : t.length) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                { className: vt().ErrorHeader },
                (0, C.Xx)(
                  "#DiscountDashboard_ImportExport_UploadErrorsHeader",
                  null === (n = r.errors) || void 0 === n ? void 0 : n.length,
                ),
              ),
              l.createElement(
                "div",
                { className: vt().ParseErrors },
                r.errors.map((e, t) => {
                  var n;
                  return l.createElement(
                    "div",
                    { key: `${e.message}-${t}`, className: vt().Error },
                    `${null !== (n = e.row) && void 0 !== n ? n : "-"} ${e.message}`,
                  );
                }),
              ),
            ),
        );
      }
      function yt(e) {
        (0, h.j)((0, p.B6)());
        const { rgDiscountEvents: t, eResult: n } = (0, c.BS)(),
          a = (0, u.z)(),
          i = (0, b.T)("DiscountDashboard"),
          r = (0, d.yI)(),
          { fnLoadMultiOptInRegistration: o } = (0, m.PV)(),
          s = (0, _.D_)(),
          A = (0, p.hr)(),
          [w, P] = (0, S.Ar)(F, null);
        l.useEffect(() => {
          w && (0, D.AM)(l.createElement(U, null), window);
        }, [w]);
        const [T, N] = l.useState(),
          [R, G] = l.useState(),
          [L, B] = l.useState(),
          [x, M] = l.useState(!1),
          [O, H] = l.useState(!1),
          [V, X] = l.useState(!1),
          [j, q] = l.useState(!1);
        l.useEffect(() => {
          N((0, C.Xx)("#DiscountDashboard_LoadingPackagesWithCount", a.length)),
            (0, g.xs)(a, i).then((e) => {
              (null == e ? void 0 : e.length) > 0
                ? B(e)
                : G((0, C.Xx)("#DiscountDashboard_Error_CouldNotLoadPackages"));
            });
        }, [a, i]),
          l.useEffect(() => {
            r(a, i).then((e) => {
              1 == e
                ? H(!0)
                : G(
                    (0, C.Xx)(
                      "#DiscountDashboard_Error_CouldNotLoadPackageDiscounts",
                    ),
                  );
            });
          }, [a, i, r]),
          l.useEffect(() => {
            if (L)
              if (null === n)
                N((0, C.Xx)("#DiscountDashboard_LoadingDiscountEvents"));
              else if (1 != n)
                G(
                  (0, C.Xx)(
                    "#DiscountDashboard_Error_CouldNotLoadDiscountEvents",
                  ),
                );
              else {
                const e = L.filter((e) => {
                    var t;
                    return g.Sx.has(
                      null === (t = v.Z.Get().GetApp(e)) || void 0 === t
                        ? void 0
                        : t.GetAppType(),
                    );
                  }),
                  n = t.map((e) => e.opt_in_name).filter(Boolean);
                n.length > 0 ? o(n, e, i).then(() => M(!0)) : M(!0);
              }
          }, [L, t, n, o, i]),
          l.useEffect(() => {
            L &&
              1 == n &&
              (x
                ? O
                  ? (N(
                      (0, C.Xx)(
                        "#DiscountDashboard_ComputingGridStateWithCounts",
                        a.length,
                        t.length,
                      ),
                    ),
                    X(!0))
                  : N(
                      (0, C.Xx)(
                        "#DiscountDashboard_LoadingPackageDiscounts",
                        a.length,
                      ),
                    )
                : N(
                    (0, C.Xx)(
                      "#DiscountDashboard_LoadingRegistrationData",
                      L.length,
                    ),
                  ));
          }, [L, n, a, t, x, O]),
          l.useEffect(() => {
            V &&
              window.setTimeout(() => {
                s(), A(), N(null), q(!0);
              }, 0);
          }, [V, s, A]);
        const W = k.De.PARTNER_BASE_URL + "doc/marketing/discounts",
          z = k.De.HELP_BASE_URL + "wizard/HelpWithPublishing?issueid=919",
          Z = !!L;
        return l.createElement(
          "div",
          { className: Q().DashboardPage },
          l.createElement(
            "div",
            { className: Q().DashTitleBar },
            l.createElement(
              "div",
              { className: Q().DashTitle },
              (0, C.Xx)("#DiscountDashboard_Title"),
            ),
            l.createElement(
              "div",
              { className: Q().ButtonGroup },
              l.createElement(
                E.zx,
                {
                  onClick: (e) =>
                    (0, D.AM)(l.createElement(U, null), (0, I.RA)(e)),
                  disabled: !Z,
                },
                (0, C.Xx)("#DiscountDashboard_CreateDiscountButton"),
              ),
              l.createElement(
                E.zx,
                {
                  onClick: (e) =>
                    (0, D.AM)(l.createElement(Et, null), (0, I.RA)(e)),
                },
                (0, C.Xx)("#DiscountDashboard_ImportExportButton"),
              ),
              l.createElement(
                E.zx,
                { onClick: (e) => (0, y.b8)(e, W) },
                (0, C.Xx)("#DiscountDashboard_DocumentationButton"),
              ),
              l.createElement(
                E.zx,
                { onClick: (e) => (0, y.b8)(e, z) },
                (0, C.Xx)("#DiscountDashboard_ContactUsButton"),
              ),
            ),
          ),
          l.createElement(
            "div",
            { className: Q().ConfidentialBanner },
            (0, C.Xx)("#DiscountDashboard_ConfidentialityBanner"),
          ),
          R && l.createElement("div", { className: Q().ErrorMessage }, R),
          !R &&
            T &&
            l.createElement(f.V, {
              position: "center",
              string: T,
              className: Q().Throbber,
            }),
          j &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(dt, null),
              l.createElement(fe, null),
            ),
        );
      }
      const bt = { DiscountDashboard: (e) => `/dashboard/${e}` },
        It = (e) =>
          l.createElement(
            r.VK,
            { basename: (0, a.l)() + "promotion/discounts/" },
            l.createElement(
              o.rs,
              null,
              l.createElement(o.AW, {
                exact: !0,
                path: a.Z.DiagData(),
                render: (e) =>
                  l.createElement(
                    s.m,
                    Object.assign({}, e, { strConfigID: "application_config" }),
                  ),
              }),
              l.createElement(o.AW, {
                path: bt.DiscountDashboard(":publisherid(\\d+)"),
                render: (e) => l.createElement(yt, null),
              }),
              l.createElement(o.AW, { component: i.R }),
            ),
          );
    },
    86984: (e, t, n) => {
      "use strict";
      n.d(t, { RG: () => y, _2: () => k, y_: () => A });
      var a = n(86236),
        i = n(8062),
        l = n(47427),
        r = n(64936),
        o = n(80886),
        s = n(77681),
        c = n.n(s),
        m = n(1485),
        d = n(10162),
        u = n(24827),
        p = n(46882),
        _ = n(98255),
        h = n.n(_),
        g = n(61553),
        v = n(28017),
        E = n(75816),
        S = n(23665),
        D = n(71741),
        f = n.n(D);
      function y(e) {
        const { bShowOnlySummary: t } = e,
          n = a.On.Get(),
          i = (0, a.y7)(),
          o = (0, r.zD)(),
          s = (0, l.useMemo)(() => {
            const { jsonOptedIn: e, jsonInvited: t } = i;
            return [...e.map((e) => e.appid), ...t.map((e) => e.appid)];
          }, [i]),
          u = n.GetEventStartTime(),
          _ = n.GetEventEndTime(),
          h = _ - u,
          S = u - h,
          D = _ + h;
        return l.createElement(
          d.SV,
          null,
          l.createElement(
            "div",
            { className: t ? "" : c().AdminPageCtn },
            !t &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: c().PageTitle },
                  "OptIn Admin Analysis: ",
                  n.GetName(),
                ),
                l.createElement(
                  "div",
                  { className: c().PageSubTitle },
                  "Sales stats will only work on opt-in that were setup as invite only as we build the stats for opted in and invted apps",
                ),
                l.createElement(
                  "div",
                  null,
                  l.createElement(g.x, { ctnOverride: " " }),
                  l.createElement(
                    m.zx,
                    null,
                    l.createElement(
                      v.rU,
                      { to: E.OptInRoutes.OptinAdminDashboard() },
                      "Dashboard",
                    ),
                  ),
                ),
                l.createElement("br", null),
                l.createElement("hr", null),
              ),
            l.createElement(
              "div",
              null,
              Boolean(0 == s.length)
                ? l.createElement(p.V, {
                    string: "Loading App Opt In / Invites",
                    size: "medium",
                    position: "center",
                  })
                : l.createElement(
                    "div",
                    null,
                    l.createElement(P, {
                      rtBaselineStart: S,
                      rtBaselineEnd: u,
                      rtCompareStart: u,
                      rtCompareEnd: _,
                      rgAppIDs: s,
                      strComparisonName: n.GetName(),
                    }),
                    !t &&
                      l.createElement(T, {
                        rtBaselineStart: S,
                        rtBaselineEnd: u,
                        rtCompareStart: u,
                        rtCompareEnd: _,
                        rtPostlineStart: D < o ? _ : void 0,
                        rtPostlineEnd: D < o ? D : void 0,
                        rgAppIDs: s,
                        strComparisonName: n.GetName(),
                      }),
                  ),
            ),
          ),
        );
      }
      const b = { minimumFractionDigits: 0, maximumFractionDigits: 0 },
        I = { minimumFractionDigits: 2, maximumFractionDigits: 2 },
        C = { minimumFractionDigits: 1, maximumFractionDigits: 1 };
      function k(e) {
        return `$${e.toLocaleString(void 0, b)}`;
      }
      function A(e) {
        return `$${e.toLocaleString(void 0, I)}`;
      }
      function w(e) {
        return `${(100 * e).toLocaleString(void 0, C)} %`;
      }
      function P(e) {
        const {
            rtBaselineStart: t,
            rtBaselineEnd: n,
            rtCompareStart: a,
            rtCompareEnd: r,
            rgAppIDs: o,
            strComparisonName: s,
          } = e,
          m = (0, i.dI)(t, n, o),
          d = (0, i.dI)(a, r, o);
        if (!m || !d)
          return l.createElement(p.V, {
            string: `Loading Packages Stats for ${o.length} apps`,
            size: "medium",
            position: "center",
          });
        const u = d.GetTotalSummary().gross_sales_usd / 100,
          _ = Math.max(1, Math.ceil((n - t) / 86400)),
          h = m.GetTotalSummary().gross_sales_usd / _ / 100,
          g = Math.max(1, Math.ceil((r - a) / 86400)),
          v = d.GetTotalSummary().gross_sales_usd / g / 100,
          E = h > 0 ? v / h : 0;
        return l.createElement(
          "div",
          { className: c().StatReportCtn },
          l.createElement(
            "div",
            { className: c().Stat },
            l.createElement(
              "div",
              { className: c().BigStat },
              o.length.toLocaleString(),
            ),
            l.createElement(
              "span",
              { className: c().SmallText },
              "Included Apps",
            ),
          ),
          l.createElement(
            "div",
            { className: c().Stat },
            l.createElement("div", { className: c().BigStat }, k(u)),
            l.createElement(
              "span",
              { className: c().SmallText },
              "Total Revenue",
            ),
          ),
          l.createElement(
            "div",
            { className: c().Stat },
            l.createElement("div", { className: c().BigStat }, w(E)),
            l.createElement(
              "span",
              { className: c().SmallText },
              "Change in daily avg.",
            ),
          ),
        );
      }
      function T(e) {
        var t;
        const {
            rtBaselineStart: n,
            rtBaselineEnd: a,
            rtCompareStart: r,
            rtCompareEnd: o,
            rgAppIDs: s,
            strComparisonName: c,
            rtPostlineStart: _,
            rtPostlineEnd: g,
          } = e,
          v = (0, i.dI)(n, a, s),
          E = (0, i.dI)(r, o, s),
          D = (0, i.dI)(_, g, s),
          [y, b] = (0, l.useState)(50);
        if (!v || !E || (!D && g))
          return l.createElement(p.V, {
            string: `Loading Packages Stats for ${s.length} apps`,
            size: "medium",
            position: "center",
          });
        const I = Math.max(1, Math.ceil((a - n) / 86400)),
          C = v.GetTotalSummary().gross_sales_usd / I / 100,
          A = v.GetTotalSummary().gross_sales_usd / 100,
          P = Math.max(1, Math.ceil((o - r) / 86400)),
          T = E.GetTotalSummary().gross_sales_usd / P / 100,
          R = E.GetTotalSummary().gross_sales_usd / 100,
          G = C > 0 ? T / C : 0;
        let L, B, x, M;
        D &&
          ((L = Math.max(1, Math.ceil((g - _) / 86400))),
          (B = D.GetTotalSummary().gross_sales_usd / P / 100),
          (x = D.GetTotalSummary().gross_sales_usd / 100),
          (M = C > 0 ? B / C : 0));
        const O =
            v.GetTotalSummary().gross_sales_usd +
            E.GetTotalSummary().gross_sales_usd +
            ((null === (t = null == D ? void 0 : D.GetTotalSummary()) ||
            void 0 === t
              ? void 0
              : t.gross_sales_usd) || 0),
          F = v.GetTotalSummary().gross_sales_usd / O,
          U = E.GetTotalSummary().gross_sales_usd / O;
        let H;
        D && (H = D.GetTotalSummary().gross_sales_usd / O);
        const V = (e) =>
            window.sessionStorage.setItem("optInStatsResults", `?tab=${e.key}`),
          X = [
            {
              name: "Event Results",
              key: "compare",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(N, {
                  oAppSummary: E,
                  nTopAppCount: y,
                  nDays: P,
                  strToken: c || "Comparison",
                  oPriorSummary: v,
                  nPriorDays: I,
                  oPostSummary: D,
                  nPostDays: L,
                  nTotalSaleUSD: R,
                }),
              ),
              onClick: V,
            },
            {
              name: "Baseline",
              key: "baseline",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(N, {
                  oAppSummary: v,
                  nTopAppCount: y,
                  nDays: P,
                  strToken: "Prior to Event",
                  nTotalSaleUSD: A,
                }),
              ),
              onClick: V,
            },
          ];
        return (
          D &&
            X.push({
              name: "Postline",
              key: "postline",
              contents: l.createElement(
                d.SV,
                null,
                l.createElement(N, {
                  oAppSummary: D,
                  nTopAppCount: y,
                  nDays: P,
                  strToken: "Post Event",
                  nTotalSaleUSD: x,
                }),
              ),
              onClick: V,
            }),
          l.createElement(
            "div",
            null,
            l.createElement("br", null),
            l.createElement(
              "div",
              { className: h().ComparisonRichTable },
              l.createElement(
                "table",
                null,
                l.createElement(
                  "tr",
                  null,
                  l.createElement("th", null, "Period"),
                  l.createElement("th", null, "Length"),
                  l.createElement("th", null, "Dates"),
                  l.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Total $",
                  ),
                  l.createElement("th", null, "Visual"),
                  l.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Daily Avg. $",
                  ),
                  l.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Revenue change vs. base",
                  ),
                ),
                l.createElement(
                  "tr",
                  null,
                  l.createElement("td", null, "Baseline"),
                  l.createElement("td", null, I, " days"),
                  l.createElement(
                    "td",
                    null,
                    l.createElement(u.Sw, { rtStartDate: n, rtEndDate: a }),
                  ),
                  l.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(A),
                  ),
                  l.createElement(
                    "td",
                    null,
                    l.createElement("div", {
                      style: { width: 300 * F + "px" },
                      className: h().VisualBar,
                    }),
                  ),
                  l.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(C),
                  ),
                  l.createElement("td", { style: { textAlign: "right" } }),
                ),
                l.createElement(
                  "tr",
                  null,
                  l.createElement("td", null, c || "Comparison"),
                  l.createElement("td", null, P, " days"),
                  l.createElement(
                    "td",
                    null,
                    l.createElement(u.Sw, { rtStartDate: r, rtEndDate: o }),
                  ),
                  l.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(R),
                  ),
                  l.createElement(
                    "td",
                    null,
                    l.createElement("div", {
                      style: { width: 300 * U + "px" },
                      className: h().VisualBar,
                    }),
                  ),
                  l.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    k(T),
                  ),
                  l.createElement(
                    "td",
                    { style: { textAlign: "right" } },
                    w(G),
                  ),
                ),
                Boolean(D) &&
                  l.createElement(
                    "tr",
                    null,
                    l.createElement("td", null, "Following"),
                    l.createElement("td", null, L, " days"),
                    l.createElement(
                      "td",
                      null,
                      l.createElement(u.Sw, { rtStartDate: _, rtEndDate: g }),
                    ),
                    l.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      k(x),
                    ),
                    l.createElement(
                      "td",
                      null,
                      l.createElement("div", {
                        style: { width: 300 * H + "px" },
                        className: h().VisualBar,
                      }),
                    ),
                    l.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      k(B),
                    ),
                    l.createElement(
                      "td",
                      { style: { textAlign: "right" } },
                      w(M),
                    ),
                  ),
              ),
            ),
            l.createElement("br", null),
            l.createElement("br", null),
            l.createElement(S.n, { tabs: X }),
            l.createElement("div", { className: f().ClearThings }),
            l.createElement("br", null),
            l.createElement(
              m.zx,
              { onClick: () => b(y + 50) },
              "Show 50 More Top Apps",
            ),
          )
        );
      }
      function N(e) {
        const {
            oAppSummary: t,
            nTopAppCount: n,
            strToken: a,
            oPriorSummary: i,
            nDays: r,
            nPriorDays: o,
            oPostSummary: s,
            nPostDays: c,
            nTotalSaleUSD: m,
          } = e,
          d = (0, l.useMemo)(
            () => (null == t ? void 0 : t.GetTopNApps(n)) || [],
            [n, t],
          );
        let u = 0;
        return l.createElement(
          "div",
          { className: h().ComparisonRichTable },
          l.createElement("h3", null, "Top ", d.length, " ", a, " Apps:"),
          l.createElement(
            "table",
            null,
            l.createElement(
              "thead",
              null,
              l.createElement(
                "tr",
                null,
                l.createElement("th", null, "#"),
                l.createElement("th", null, "AppID"),
                l.createElement("th", null, "Name"),
                l.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Revenue",
                ),
                l.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Daily Avg",
                ),
                Boolean(i) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      "th",
                      { style: { textAlign: "right" } },
                      "Prior Daily Avg",
                    ),
                    l.createElement(
                      "th",
                      { style: { textAlign: "right" } },
                      "Lift",
                    ),
                  ),
                Boolean(s) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement("th", null, "Post Daily Avg"),
                    l.createElement("th", null, "Post Revenue Change vs Base"),
                  ),
                l.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Total Units",
                ),
                l.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  'Revenue %"',
                ),
                l.createElement(
                  "th",
                  { style: { textAlign: "right" } },
                  "Cumulative Revenue %",
                ),
              ),
            ),
            d.map(
              (e, t) => (
                (u += e.gross_sales_usd),
                l.createElement(G, {
                  key: a + e.appid,
                  index: t,
                  summary: e,
                  nDays: r,
                  priorSummary:
                    null == i ? void 0 : i.GetAppSaleSummary(e.appid),
                  nPriorDays: o,
                  postSummary:
                    null == s ? void 0 : s.GetAppSaleSummary(e.appid),
                  nPostDays: c,
                  nTotalSaleUSD: m,
                  nCumulativeSalesUSDCents: u,
                })
              ),
            ),
          ),
        );
      }
      const R = {};
      function G(e) {
        const {
            summary: t,
            nDays: n,
            index: a,
            priorSummary: i,
            nPriorDays: r,
            postSummary: s,
            nPostDays: c,
            nTotalSaleUSD: m,
            nCumulativeSalesUSDCents: d,
          } = e,
          [u] = (0, o.vs)(t.appid, R),
          p = t.gross_sales_usd / n / 100;
        let _, h, g, v;
        return (
          i && ((_ = i.gross_sales_usd / r / 100), (h = _ > 0 ? p / _ : 0)),
          s && ((g = s.gross_sales_usd / c / 100), (v = _ > 0 ? g / _ : 0)),
          l.createElement(
            "tr",
            null,
            l.createElement("td", null, a + 1),
            l.createElement("td", null, t.appid),
            l.createElement(
              "td",
              null,
              l.createElement(
                "a",
                { href: null == u ? void 0 : u.GetStorePageURL() },
                (null == u ? void 0 : u.GetName()) || "loading",
              ),
            ),
            l.createElement(
              "td",
              { style: { textAlign: "right" } },
              k(t.gross_sales_usd / 100),
            ),
            l.createElement("td", { style: { textAlign: "right" } }, k(p)),
            Boolean(i) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("td", { style: { textAlign: "right" } }, k(_)),
                l.createElement("td", { style: { textAlign: "right" } }, w(h)),
              ),
            Boolean(s) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement("td", { style: { textAlign: "right" } }, k(g)),
                l.createElement("td", { style: { textAlign: "right" } }, w(v)),
              ),
            l.createElement(
              "td",
              { style: { textAlign: "right" } },
              t.gross_units_sold.toLocaleString(),
            ),
            l.createElement(
              "td",
              { style: { textAlign: "right" } },
              (t.gross_sales_usd / m).toLocaleString(),
              " %",
            ),
            l.createElement(
              "td",
              { style: { textAlign: "right" } },
              (d / m).toLocaleString(),
              " %",
            ),
          )
        );
      }
    },
    58166: (e, t, n) => {
      "use strict";
      n.d(t, { k: () => k });
      var a = n(85556),
        i = n(42718),
        l = n(79270),
        r = n(5697),
        o = n(79545);
      var s,
        c = n(86236),
        m = n(47427),
        d = n(28017),
        u = n(80886),
        p = n(77681),
        _ = n.n(p),
        h = n(1485),
        g = n(10162),
        v = n(85305),
        E = n(71741),
        S = n.n(E),
        D = n(46882),
        f = n(98255),
        y = n.n(f),
        b = n(59850),
        I = n.n(b),
        C = n(75816);
      function k(e) {
        var t;
        const { bShowOnlySummary: n } = e,
          s = c.On.Get(),
          u = (function (e) {
            const t = (0, l.i)();
            return (0, i.useQuery)(
              `demostats_${e}`,
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = o.gA.Init(r.mG);
                  return (
                    n.Body().set_opt_in_name(e),
                    (yield r.mY.GetOptInDemoStats(t, n)).Body().toObject().stats
                  );
                }),
              { enabled: e && e.startsWith("sale_") },
            );
          })(s.GetOptInPageID()),
          p = (0, m.useMemo)(() => {
            let e = 0;
            return (
              u.data &&
                u.data.forEach((t) => {
                  t.rt_end_time > e && (e = t.rt_end_time);
                }),
              e
            );
          }, [u.data]);
        return u.isLoading
          ? m.createElement(D.V, null)
          : (null === (t = u.data) || void 0 === t ? void 0 : t.length)
            ? m.createElement(
                g.SV,
                null,
                m.createElement(
                  "div",
                  { className: n ? "" : _().AdminPageCtn },
                  !n &&
                    m.createElement(
                      m.Fragment,
                      null,
                      m.createElement(
                        "div",
                        { className: _().PageTitle },
                        "OptIn Admin Demo Stats Analysis: ",
                        s.GetName(),
                      ),
                      m.createElement(
                        "div",
                        { className: _().PageSubTitle },
                        "These are stats focussed on demos plays and wishlists that occurred during the fest, calculated after each days completion. The data is computed once per day of the fest, after the day is completed; in other words, the first report available will be 1 day after the starts of the event. This is on the promotion server task 'SteamFestDemoPlayerRollup'.",
                      ),
                      m.createElement(
                        "div",
                        null,
                        m.createElement(
                          h.zx,
                          null,
                          m.createElement(
                            d.rU,
                            { to: C.OptInRoutes.OptinAdminDashboard() },
                            "Dashboard",
                          ),
                        ),
                      ),
                      m.createElement("br", null),
                      m.createElement("hr", null),
                    ),
                  m.createElement(
                    "div",
                    null,
                    m.createElement(A, {
                      rgDemo: u.data,
                      rtLatestEndDate: p,
                      bShowOnlySummary: n,
                    }),
                    !n &&
                      m.createElement(w, {
                        rgDemo: u.data,
                        rtLatestEndDate: p,
                      }),
                  ),
                ),
              )
            : m.createElement("div", null, "No data to show");
      }
      function A(e) {
        const { rgDemo: t, rtLatestEndDate: n, bShowOnlySummary: a } = e,
          [i, l, r, o] = (0, m.useMemo)(() => {
            let e = 0,
              a = 0,
              i = 0,
              l = 0;
            return (
              t.forEach((t) => {
                t.rt_end_time == n &&
                  ((e += 1),
                  (a += t.demo_player_count),
                  (i += t.wishlist_count),
                  (l += t.player_wishlist_count));
              }),
              [e, a, i, l]
            );
          }, [t, n]);
        return m.createElement(
          "div",
          { className: _().StatReportCtn },
          m.createElement(
            "div",
            { className: _().Stat },
            m.createElement(
              "div",
              { className: _().BigStat },
              i.toLocaleString(),
            ),
            m.createElement(
              "span",
              { className: _().SmallText },
              "Apps with Demos",
            ),
          ),
          m.createElement(
            "div",
            { className: _().Stat },
            m.createElement(
              "div",
              { className: _().BigStat },
              l.toLocaleString(),
            ),
            m.createElement(
              "span",
              { className: _().SmallText },
              "Total Plays",
            ),
          ),
          m.createElement(
            "div",
            { className: _().Stat },
            m.createElement(
              "div",
              { className: _().BigStat },
              r.toLocaleString(),
            ),
            m.createElement(
              "span",
              { className: _().SmallText },
              "Total Wishlist",
            ),
          ),
          Boolean(!a) &&
            m.createElement(
              "div",
              { className: _().Stat },
              m.createElement(
                "div",
                { className: _().BigStat },
                o.toLocaleString(),
              ),
              m.createElement(
                "span",
                { className: _().SmallText },
                "Count of both played and wishlisted ",
              ),
            ),
        );
      }
      function w(e) {
        const { rgDemo: t, rtLatestEndDate: n } = e,
          [a, i] = (0, m.useState)(s.by_player),
          [l, r] = (0, m.useState)(!1),
          o = (0, m.useMemo)(() => {
            const e = new Array();
            return (
              e.push({ label: "Sort By Players", data: s.by_player }),
              e.push({ label: "Sort By Wishlist", data: s.by_wishlist }),
              e.push({
                label: "Sort By Players who Wishlisted",
                data: s.by_play_wish,
              }),
              e
            );
          }, []);
        return m.createElement(
          "div",
          null,
          m.createElement("br", null),
          m.createElement(h.ry, {
            label: "Sort Order:",
            strDropDownClassName: S().DropDownScroll,
            rgOptions: o,
            selectedOption: a,
            onChange: (e) => i(e.data),
          }),
          m.createElement(h.ji, {
            label: "Compact Display",
            checked: l,
            onChange: r,
          }),
          m.createElement(
            "div",
            { className: y().ComparisonRichTable },
            m.createElement(
              "table",
              null,
              m.createElement(
                "thead",
                null,
                m.createElement(
                  "tr",
                  null,
                  m.createElement("th", null, "#"),
                  !l && m.createElement("th", null),
                  m.createElement("th", null, "AppID"),
                  m.createElement("th", null, "Demo AppID"),
                  m.createElement("th", null, "Name"),
                  m.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Total Players",
                  ),
                  m.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Total Wishlists",
                  ),
                  m.createElement(
                    "th",
                    { style: { textAlign: "right" } },
                    "Players who Also Wishlisted",
                  ),
                ),
              ),
              m.createElement(
                "tbody",
                null,
                t
                  .filter((e) => e.rt_end_time == n)
                  .sort((e, t) =>
                    a == s.by_player
                      ? t.demo_player_count - e.demo_player_count
                      : a == s.by_wishlist
                        ? t.wishlist_count - e.wishlist_count
                        : t.player_wishlist_count - e.player_wishlist_count,
                  )
                  .map((e, t) =>
                    m.createElement(T, {
                      key: e.appid,
                      demo: e,
                      index: t,
                      bCompact: l,
                    }),
                  ),
              ),
            ),
          ),
        );
      }
      !(function (e) {
        (e[(e.by_player = 1)] = "by_player"),
          (e[(e.by_wishlist = 2)] = "by_wishlist"),
          (e[(e.by_play_wish = 3)] = "by_play_wish");
      })(s || (s = {}));
      const P = {};
      function T(e) {
        const { demo: t, index: n, bCompact: a } = e,
          [i] = (0, u.vs)(t.appid, P),
          l = (null == i ? void 0 : i.GetName()) || "loading",
          r = (0, m.useMemo)(() => ({ id: t.appid, type: "game" }), [t]);
        return m.createElement(
          "tr",
          null,
          m.createElement("td", null, n.toLocaleString()),
          !a &&
            m.createElement(
              "td",
              null,
              m.createElement(
                v.ll,
                {
                  item: r,
                  hoverProps: {
                    direction: "overlay",
                    style: { minWidth: "320px" },
                  },
                },
                m.createElement("img", {
                  className: I().AppImgCtn,
                  src: `https://cdn.cloudflare.steamstatic.com/steam/apps/${t.appid}/capsule_231x87.jpg`,
                  loading: "lazy",
                  alt: l,
                }),
              ),
            ),
          m.createElement("td", null, t.appid),
          m.createElement("td", null, t.demo_appid),
          m.createElement(
            "td",
            null,
            m.createElement(
              "a",
              { href: null == i ? void 0 : i.GetStorePageURL() },
              l,
            ),
          ),
          m.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.demo_player_count.toLocaleString(),
          ),
          m.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.wishlist_count.toLocaleString(),
          ),
          m.createElement(
            "td",
            { style: { textAlign: "right" } },
            t.player_wishlist_count.toLocaleString(),
          ),
        );
      }
    },
    52108: (e, t, n) => {
      "use strict";
      n.d(t, {
        AV: () => r,
        H: () => c,
        IX: () => s,
        KF: () => p,
        L2: () => o,
        T6: () => d,
        Xv: () => u,
        c8: () => m,
        n_: () => v,
        oC: () => g,
        sN: () => h,
      });
      var a = n(37563);
      function i(e) {
        return e.getRow()._row.data;
      }
      let l;
      function r(e, t, n) {
        l || (l = new Intl.NumberFormat("en-US"));
        const a = e.getValue();
        if (!a || Number.isNaN(a)) return "";
        return l.format(Number(a));
      }
      function o(e, t, n) {
        return (
          "<a style='font-weight:bold' target='_blank' href='" +
          (a.De.PARTNER_BASE_URL + "apps/landing/" + e.getValue()) +
          "'>" +
          e.getValue() +
          "</a>"
        );
      }
      function s(e, t, n) {
        const l = i(e);
        return (
          "<a style='font-weight:bold' target='_blank' href='" +
          (a.De.STORE_BASE_URL + "app/" + l.appid) +
          "'>" +
          e.getValue() +
          "</a>"
        );
      }
      function c(e, t, n) {
        if (0 == e.getValue()) return "";
        return (
          "<a style='font-weight:bold' target='_blank' href='" +
          (a.De.PARTNER_BASE_URL + "pub/publisher/" + e.getValue()) +
          "'>" +
          e.getValue() +
          "</a>"
        );
      }
      function m(e, t, n) {
        return 1 == e.getValue()
          ? "<span style='color:green'>Released</span>"
          : "<span style='color:red'>Not Released</span>";
      }
      function d(e, t, n) {
        const a = e.getValue();
        return "Released" == a
          ? "<span style='color:green'>" + a + "</span>"
          : "Approved" == a
            ? "<span style='color:orange'>" + a + "</span>"
            : "No Demo" == a
              ? "<span style='color:red'>No Demo</span>"
              : "<span style='color:fuchsia'>Not Opted In</span>";
      }
      function u(e, t, n) {
        return Boolean(e.getValue())
          ? "<span style='color:green'>Yes</span>"
          : "";
      }
      function p(e, t, n) {
        if (Boolean(e.getValue())) {
          return (
            "<a style='color:green;font-weight:bold' target='_blank' href='" +
            (t + i(e).appid) +
            "'>Yes</a>"
          );
        }
        return "";
      }
      const _ = new RegExp("\\(package id:(\\d+)\\)");
      function h(e, t, n) {
        const i = e.getValue();
        return i
          ? i.indexOf("(package id:") > 0
            ? i
                .split("\n")
                .map((e) => {
                  const t = _.exec(e);
                  if (2 == (null == t ? void 0 : t.length)) {
                    return `<a style='font-weight:bold' target='_blank' href='${a.De.PARTNER_BASE_URL + "packages/discounts/" + t[1]}'>${e}</a>`;
                  }
                  return "";
                })
                .join("&nbsp;<br/>")
            : i
          : "";
      }
      function g(e, t, n) {
        const a = Number.parseInt(e.getValue());
        if (!t) return "Unknown";
        const i = t;
        return i.jsonOptedOut.some((e) => e.appid === a)
          ? "Opted Out"
          : i.jsonOptedIn.some((e) => e.appid === a)
            ? "Opted In"
            : "Invited";
      }
      function v() {
        return {
          width: 800,
          height: 500,
          downloadDataFormatter: (e) => e,
          downloadReady: (e, t) => t,
          initialSort: [{ column: "sales", dir: "desc" }],
        };
      }
    },
    61553: (e, t, n) => {
      "use strict";
      n.d(t, { x: () => c });
      var a = n(85556),
        i = n(86236),
        l = n(47427),
        r = n(1485),
        o = n(24827),
        s = n(70185);
      function c(e) {
        const t = i.On.Get(),
          n = (0, i.tb)(),
          [c, m] = (0, l.useState)(!1);
        return l.createElement(
          "div",
          { style: { width: "100%" } },
          l.createElement(
            "span",
            { className: e.ctnOverride || s.StatsCtn },
            "Refreshed:",
            Boolean(n && n.time_updated) &&
              l.createElement(o.H6, {
                dateAndTime: n.time_updated,
                bSingleLine: !0,
              }),
            l.createElement("br", null),
            l.createElement(
              "span",
              { className: s.Warning },
              "Sales numbers are for Valve Admins only",
            ),
            l.createElement("br", null),
            l.createElement(
              r.zx,
              {
                id: "statsRefreshButton",
                onClick: () =>
                  (0, a.mG)(this, void 0, void 0, function* () {
                    m(!0), yield t.RefreshActiveStats(), m(!1);
                  }),
                style: { marginTop: "10px", float: "right", width: "120px" },
                disabled: c,
              },
              c ? "Refreshing..." : "Refresh Stats",
            ),
            l.createElement("br", null),
            l.createElement("br", null),
          ),
        );
      }
    },
    22896: (e, t, n) => {
      "use strict";
      n.d(t, { F: () => o, i: () => s });
      var a = n(86236),
        i = n(81070),
        l = n(47427),
        r = n(46882);
      function o(e) {
        const { pageid: t } = e,
          [n, o] = (0, l.useState)(null);
        return (
          (0, l.useEffect)(() => {
            const e = i.v.Get().GetDefinition(t);
            if (e) {
              let n = i.v.Get().GetOptInStats()[t];
              a.On.Get().Reset(e, n), o(a.On.Get());
            } else
              i.v
                .Get()
                .LoadOptInAdminDef(t)
                .then((e) => {
                  if (e) {
                    const e = i.v.Get().GetDefinition(t);
                    let n = i.v.Get().GetOptInStats()[t];
                    a.On.Get().Reset(e, n), o(a.On.Get());
                  }
                });
          }, [t]),
          n && n.BInitialized()
            ? l.createElement(l.Fragment, null, e.children)
            : l.createElement(r.V, { string: "Loading optin info: " + t })
        );
      }
      function s(e) {
        const { pageid: t } = e,
          [n, o] = (0, l.useState)(null);
        return (
          (0, l.useEffect)(() => {
            const e = i.v.Get().GetDefinition(t);
            e
              ? (a.On.Get().Reset(e, null), o(a.On.Get()))
              : i.v
                  .Get()
                  .LoadOptInAdminDef(t)
                  .then((e) => {
                    if (e) {
                      const e = i.v.Get().GetDefinition(t);
                      a.On.Get().Reset(e, null), o(a.On.Get());
                    }
                  });
          }, [t]),
          n && n.BInitialized()
            ? l.createElement(l.Fragment, null, e.children)
            : l.createElement(r.V, { string: "Loading optin info: " + t })
        );
      }
    },
    4942: (e, t, n) => {
      "use strict";
      n.d(t, { I: () => l, f: () => r });
      var a = n(77936),
        i = n(65255);
      function l(e, t, n) {
        return `${i.De.BASE_URL_SHARED_CDN}store_item_assets/optin/${e}/${t}/${n}`;
      }
      function r(e) {
        var t, n;
        const r = i.De.LANGUAGE;
        return (
          null === (t = e.localized_optin_banner) || void 0 === t
            ? void 0
            : t[r]
        )
          ? l(e.pageid, (0, a.jM)(r), e.localized_optin_banner[r])
          : (
                null === (n = e.localized_optin_banner) || void 0 === n
                  ? void 0
                  : n.english
              )
            ? l(e.pageid, 0, e.localized_optin_banner.english)
            : null;
      }
    },
    75816: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { OptInRoutes: () => Dr, default: () => br });
      var a = n(760),
        i = n(69406),
        l = n(86236),
        r = n(81070),
        o = n(47427),
        s = n(28017),
        c = n(64936),
        m = n(1485),
        d = n(10162),
        u = n(71472),
        p = n(71741),
        _ = n.n(p),
        h = n(24827),
        g = n(90069),
        v = n(23665),
        E = n(14609),
        S = n(13129),
        D = n(50423),
        f = n(37563),
        y = n(98255),
        b = n.n(y),
        I = n(85556),
        C = n(80751),
        k = n.n(C),
        A = n(72297),
        w = n.n(A),
        P = n(77178),
        T = n(46882),
        N = n(16649);
      function R(e) {
        const { def: t, closeModal: n, stats: a } = e,
          [i, l] = (0, o.useState)(""),
          [r, s] = (0, o.useState)(!1),
          [c, d] = (0, o.useState)(!1),
          [u, p] = (0, o.useState)(!1),
          [_, g] = (0, o.useState)(null);
        return o.createElement(
          P.uH,
          {
            strTitle: "Clone OptIn Definitions",
            onOK: () => {
              d(!0),
                (function (e, t, n) {
                  var a;
                  return (0, I.mG)(this, void 0, void 0, function* () {
                    const i =
                      f.De.PARTNER_BASE_URL +
                      (n
                        ? "optin/ajaxadmincloneinvites"
                        : "optin/ajaxadmincloneoptinpage");
                    let l = null;
                    try {
                      const r = new FormData();
                      r.append("sessionid", f.De.SESSIONID),
                        r.append(
                          n ? "strSourceOptInName" : "strOldOptInName",
                          e.pageid,
                        ),
                        r.append(
                          n ? "strTargetOptInName" : "strNewOptInName",
                          t,
                        );
                      const o = yield k().post(i, r, { withCredentials: !0 });
                      if (
                        1 ==
                        (null === (a = null == o ? void 0 : o.data) ||
                        void 0 === a
                          ? void 0
                          : a.success)
                      )
                        return !0;
                      l = (0, N.l)(o);
                    } catch (e) {
                      l = (0, N.l)(e);
                    }
                    return (
                      console.log(
                        "CloneOptInDefinition: Failed with ",
                        l.strErrorMsg,
                        l,
                      ),
                      !1
                    );
                  });
                })(t, "sale_" + i, r)
                  .then((e) => {
                    p(e), e || g("Failed to Clone: " + t.pageid);
                  })
                  .catch(() =>
                    g("Failed to Clone, exception caught, " + t.pageid),
                  );
            },
            onCancel: n,
            bOKDisabled: c || 0 == i.trim().length,
          },
          o.createElement(
            "p",
            null,
            "Cloning the OptIn Definition will create a copy of ",
            t.pageid,
            " with the new name you have specified. The OptIn definition will be saved as a draft and return to a more initial state. Please review text and dates to ensure they aren't out of date.  Also make sure the stats are refresh before you clone as those are used. Cloning will also do the following:",
          ),
          o.createElement(
            "p",
            null,
            "We depends on the latest stats to clone invites/prunes. Stats were last refreshed at:",
            (null == a ? void 0 : a.time_updated)
              ? o.createElement(h.H6, {
                  dateAndTime: a.time_updated,
                  bSingleLine: !0,
                })
              : "",
          ),
          o.createElement(
            "ol",
            null,
            o.createElement(
              "li",
              null,
              "Only keep the English text. We expect there to be dates embed and it will require new localization",
            ),
            o.createElement(
              "li",
              null,
              "Will keep the full localization for the dynamic sections (questions asked to optin participants)",
            ),
            o.createElement(
              "li",
              null,
              "Will NOT copy over the email settings",
            ),
            o.createElement("li", null, "Will copy the prune app list"),
            o.createElement(
              "li",
              null,
              "Will convert Opted In, Opted Out and Invited to: Open Invite Status",
            ),
            o.createElement("li", null, "Will NOT copy over the featured apps"),
          ),
          o.createElement(m.II, {
            type: "string",
            label:
              (r ? "Choose Existing page id" : "Choose New page id") +
              ', exclude "sale_"',
            tooltip:
              'Page always start with "sale_" so exclude that in your input. It will be appended before we call the server for the clone operation.',
            value: i,
            onChange: (e) => {
              var t;
              return l(
                (null === (t = null == e ? void 0 : e.currentTarget) ||
                void 0 === t
                  ? void 0
                  : t.value) || "",
              );
            },
            placeholder: "for example: builders_2023",
            disabled: c,
          }),
          o.createElement(m.ji, {
            checked: r,
            onChange: s,
            label: "Only Run Invitation/Pruning Cloning",
            tooltip:
              "If enabled then make sure the name entered abve is an existing opt-in which we want to copy the pruning and invitation data over to",
            disabled: c,
          }),
          Boolean(c && !u && !_) &&
            o.createElement(T.V, {
              string: "Cloning",
              position: "center",
              size: "medium",
            }),
          Boolean(_) &&
            o.createElement("div", { className: A.ErrorStylesBackground }, _),
          Boolean(u) &&
            o.createElement("div", null, "Success! You can close this Dialog."),
        );
      }
      var G = n(31846);
      function L(e) {
        const t = r.v.Get(),
          n = (0, o.useRef)(null),
          a = k().CancelToken.source(),
          [i, l] = (0, o.useState)(""),
          s = () => {
            n.current && n.current("new create requested."),
              e.closeModal && e.closeModal();
          };
        return o.createElement(
          P.RG,
          { onCancel: s },
          o.createElement(m.h4, null, "Create a new Opt In Page"),
          o.createElement(
            m.uT,
            null,
            o.createElement(
              "span",
              null,
              "Please provide a unique ID for the page. Do not start with the 'sale_' prefix, this will automatically be added for you.",
            ),
            o.createElement("br", null),
            o.createElement(
              "div",
              null,
              o.createElement(
                "span",
                { style: { width: "100px", display: "inline-block" } },
                "Sale ID",
              ),
              o.createElement("input", {
                type: "text",
                onChange: function (e) {
                  l(e.target.value);
                },
              }),
              o.createElement("br", null),
              o.createElement("p", null),
              o.createElement(
                "span",
                { style: { fontStyle: "italic" } },
                "The Sale ID is used in the URL for the page. Only letters, numbers, and underscores are allowed.",
              ),
              o.createElement("p", null),
              o.createElement("span", {
                id: "resultmsg",
                style: { color: "red" },
              }),
            ),
          ),
          o.createElement(
            m.$_,
            null,
            o.createElement(m.o9, {
              onCancel: s,
              onOK: function () {
                return (0, I.mG)(this, void 0, void 0, function* () {
                  let e;
                  if (
                    (n.current && n.current("new create requested."),
                    yield (e = t.CreatePage(i, a.token)),
                    t.GetCreatedPageId())
                  )
                    window.location.href =
                      f.De.PARTNER_BASE_URL +
                      "optin/admin/edit/" +
                      t.GetCreatedPageId();
                  else {
                    let e = document.getElementById("resultmsg");
                    t.GetCreatePageErrMsg()
                      ? (e.innerText = t.GetCreatePageErrMsg())
                      : (e.innerText =
                          "Error occured when attempting to create page.  Please try again.");
                  }
                });
              },
              strOKText: (0, G.Xx)("#Button_Continue"),
            }),
          ),
        );
      }
      var B = n(74585),
        x = n.n(B),
        M = n(20128),
        O = n(54842),
        F = n(42718),
        U = n(79545),
        H = n(77581),
        V = n(16861),
        X = n(2041);
      class j {
        BHasReachEstimateLoaded(e) {
          return this.m_mapEmailToReach.has(e);
        }
        GetReachEstimate(e) {
          return this.m_mapEmailToReach.get(e);
        }
        BHasEmailDefLoadFailure(e) {
          return this.m_mapOptInToEmailDefLoadFailure.get(e);
        }
        FetchPartnerOptInEmailDetails(e) {
          var t, n;
          return (0, I.mG)(this, void 0, void 0, function* () {
            const a = U.gA.Init(V.pA);
            a.Body().set_email_def_id(e);
            const i = yield V.u2.GetOptInEmailTracking(
              this.m_steamInterface.GetServiceTransport(),
              a,
            );
            return null ===
              (n =
                null === (t = i.Body()) || void 0 === t
                  ? void 0
                  : t.results()) || void 0 === n
              ? void 0
              : n.map((e) => e.toObject());
          });
        }
        FetchOptInEmailDefAndStats(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const t = U.gA.Init(V.vc);
            t.Body().set_opt_in_name(e);
            return (yield V.u2.GetPartnerAppOptInEmailDefAndStats(
              this.m_steamInterface.GetServiceTransport(),
              t,
            ))
              .Body()
              .defs()
              .map((e) => e.toObject());
          });
        }
        LoadEstimateEmailReach(e) {
          var t;
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n = U.gA.Init(V.XB);
            n.Body().set_email_def_id(e);
            let a = 2;
            try {
              const i = yield V.u2.GetEstimatePartnerAppOptInEmail(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              (a = i.GetEResult()),
                1 == a
                  ? this.m_mapEmailToReach.set(
                      e,
                      (null === (t = i.Body().stats()) || void 0 === t
                        ? void 0
                        : t.toObject()) || {},
                    )
                  : console.error(
                      "COptInEmailAdmin.EstimateEmailReach: Create request failed:",
                      a,
                      i,
                      n,
                    );
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "COptInEmailAdmin.EstimateEmailReach: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return a;
          });
        }
        ComputeSettingFlags(e) {
          let t = 0;
          return (
            e.BHasSectionType(M.rg.k_AssetKit) && (t |= 1),
            e.BHasSectionType(M.rg.k_DemoPressPreview) && (t |= 2),
            e.BHasSectionType(M.rg.k_ScheduleLiveStream) && (t |= 4),
            e.BHasSectionType(M.rg.k_CancelSection) && (t |= 8),
            e.BHasSectionType(M.rg.k_DemoNotReady) && (t |= 16),
            e.BHasSectionType(M.rg.k_ReviewCategorization) && (t |= 128),
            e.BHasSectionType(M.rg.k_DemoReview) && (t |= 256),
            e.BHasSectionType(M.rg.k_PressPreviewDetails) && (t |= 512),
            e.BHasSectionType(M.rg.k_StatsSummary) && (t |= 1024),
            e.BHasSectionType(M.rg.k_SurveyButton) && (t |= 2048),
            e.BHasSectionType(M.rg.k_DemoLaunch) && (t |= 4096),
            e.BHasSectionType(M.rg.k_CallForRegistration) && (t |= 8192),
            e.BHasSectionType(M.rg.k_SteamAwardsCategories) && (t |= 16384),
            t
          );
        }
        CreateOptInEmail(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const t = U.gA.Init(V.xQ);
            t.Body().set_opt_in_name(l.On.Get().GetFullName()),
              t.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
              t.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
              t.Body().set_email_templates(e.GetUniqueID()),
              t.Body().set_start_rtime(0),
              t.Body().set_end_rtime(0);
            let n = 2;
            try {
              const a = yield V.u2.CreatePartnerAppOptInEmails(
                this.m_steamInterface.GetServiceTransport(),
                t,
              );
              if (((n = a.GetEResult()), 1 == n)) {
                const t = a.Body().email_def_id();
                e.SetServerEmailDefID(t);
              } else
                console.error(
                  "COptInEmailAdmin.CreateOptInEmail: Create request failed:",
                  n,
                  a,
                  t,
                );
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "COptInEmailAdmin.CreateOptInEmail: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return W(e.GetOwningOptInName()), n;
          });
        }
        UpdateOptInEmailMetaData(e, t) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n = U.gA.Init(V.Rg);
            n.Body().set_email_def_id(e.GetServerEmailDefID()),
              n.Body().set_targeting_flag("" + (e.GetEmailTargeting() || 1)),
              n.Body().set_settings_flag("" + this.ComputeSettingFlags(e)),
              n.Body().set_email_templates(e.GetUniqueID()),
              n
                .Body()
                .set_start_rtime(
                  (null == t ? void 0 : t.rtStartAutomaticEmailType) || 0,
                ),
              n
                .Body()
                .set_end_rtime(
                  (null == t ? void 0 : t.rtEndAutomaticEmail) || 0,
                ),
              n.Body().set_reviewed((null == t ? void 0 : t.bReviewed) || !1);
            let a = 2;
            try {
              const e = yield V.u2.UpdatePartnerAppOptInEmails(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              (a = e.GetEResult()),
                1 != a &&
                  console.error(
                    "COptInEmailAdmin.UpdateOptInEmailMetaData: Update request failed:",
                    a,
                    e,
                    n,
                  );
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "COptInEmailAdmin.UpdateOptInEmailMetaData: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return W(e.GetOwningOptInName()), a;
          });
        }
        SendManualEmail(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const t = U.gA.Init(V.ik);
            t.Body().set_email_def_id(e.GetServerEmailDefID());
            let n = 2,
              a = null;
            try {
              const e = yield V.u2.SendPartnerOptInEmailAndWait(
                this.m_steamInterface.GetServiceTransport(),
                t,
              );
              (n = e.GetEResult()),
                1 == n
                  ? (a = e.Body().results().toObject())
                  : console.error(
                      "COptInEmailAdmin.SendManualEmail: Create request failed:",
                      n,
                      e,
                      t,
                    );
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "COptInEmailAdmin.SendManualEmail: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return W(e.GetOwningOptInName()), { eResult: n, stats: a };
          });
        }
        TestFireEmailToSelf(e, t = 220) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n = U.gA.Init(V.XD);
            n.Body().set_email_def_id(e.GetServerEmailDefID()),
              n.Body().set_appid(t);
            let a = 2;
            try {
              const e = yield V.u2.TestFirePartnerAppOptInEmail(
                this.m_steamInterface.GetServiceTransport(),
                n,
              );
              (a = e.GetEResult()),
                1 !== a &&
                  console.error(
                    "COptInEmailAdmin.TestFireEmailToSelf: Create request failed:",
                    a,
                    e,
                    n,
                  );
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "COptInEmailAdmin.TestFireEmailToSelf: caught error " +
                  t.strErrorMsg,
                t,
              );
            }
            return a;
          });
        }
        static Get() {
          return (
            j.s_Singleton ||
              ((j.s_Singleton = new j()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInEmailAdminStore = j.s_Singleton),
              j.s_Singleton.Init()),
            j.s_Singleton
          );
        }
        constructor() {
          (this.m_steamInterface = null),
            (this.m_mapOptInToEmailDef = new Map()),
            (this.m_mapEmailToReach = new Map()),
            (this.m_mapOptInToEmailDefLoadFailure = new Map()),
            (0, O.rC)(this);
        }
        Init() {
          const e = (0, f.kQ)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new H.J(f.De.WEBAPI_BASE_URL, e))
            : console.error("COptInEmailAdmin missing API token");
        }
      }
      function q(e) {
        const t = (0, F.useQuery)(
          ["OptInEamilDefAndStats", e],
          () =>
            (0, I.mG)(this, void 0, void 0, function* () {
              return yield j.Get().FetchOptInEmailDefAndStats(e);
            }),
          { staleTime: 3e5 },
        );
        return { bLoading: t.isLoading, rgEmailDefAndStats: t.data };
      }
      function W(e) {
        X.U.invalidateQueries(["OptInEamilDefAndStats", e]);
      }
      function z(e) {
        const { list: t, bActiveOptIn: n } = e,
          a = (0, o.useMemo)(() => t.map((e) => e.pageid), [t]),
          i = (function (e) {
            const t = e.map((e) => q(e));
            if (t.some((e) => e.bLoading)) return null;
            const n = new Map();
            return e.forEach((e, a) => n.set(e, t[a].rgEmailDefAndStats)), n;
          })(a);
        return i
          ? o.createElement(Z, {
              rgStrOptInName: a,
              mapOptInToDefs: i,
              bActiveOptIn: n,
            })
          : o.createElement(T.V, {
              size: "medium",
              string: (0, G.Xx)("#Loading"),
              position: "center",
            });
      }
      function Z(e) {
        const { rgStrOptInName: t, mapOptInToDefs: n, bActiveOptIn: a } = e,
          i = (0, o.useMemo)(() => {
            const e = new Map();
            return (
              t.forEach((t) => {
                n.get(t).forEach((n) => e.set(n.email_def_id, t));
              }),
              e
            );
          }, [n, t]),
          [l, r, s] = (0, o.useMemo)(() => {
            const e = [],
              a = [],
              i = [];
            return (
              t.forEach((t) => {
                n.get(t).forEach((t) => {
                  t.reviewed
                    ? e.push(t)
                    : t.completed || t.aborted || t.deleted
                      ? a.push(t)
                      : i.push(t);
                });
              }),
              e.sort((e, t) => e.start_rtime - t.start_rtime),
              a.sort((e, t) => e.start_rtime - t.start_rtime),
              i.sort((e, t) => e.start_rtime - t.start_rtime),
              [e, a, i]
            );
          }, [n, t]);
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            null,
            "There are ",
            Array.from(i.keys()).length,
            " ",
            a ? "active " : "archived ",
            "Partner OptIns with ",
            l.length + s.length + r.length,
            " emails past the draft stage",
          ),
          o.createElement("h3", null, "Staged Emails"),
          Boolean(s.length > 0)
            ? s.map((e) =>
                o.createElement(K, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : o.createElement("span", null, "No Emails Pending Review"),
          o.createElement("h3", null, "Pending Review Emails"),
          Boolean(r.length > 0)
            ? r.map((e) =>
                o.createElement(K, {
                  key: e.email_def_id,
                  serverDef: e,
                  mapEmailDefIDToStrOptInName: i,
                }),
              )
            : o.createElement("span", null, "No Emails Pending Review"),
          o.createElement("h3", null, "Completed"),
          l.length,
        );
      }
      function K(e) {
        const { serverDef: t, mapEmailDefIDToStrOptInName: n } = e;
        return o.createElement("div", null, t.email_def_id);
      }
      (0, I.gn)([O.LO], j.prototype, "m_mapOptInToEmailDef", void 0),
        (0, I.gn)([O.aD], j.prototype, "LoadEstimateEmailReach", null),
        (0, I.gn)([O.aD], j.prototype, "CreateOptInEmail", null),
        (0, I.gn)([O.aD], j.prototype, "UpdateOptInEmailMetaData", null),
        (0, I.gn)([O.aD], j.prototype, "SendManualEmail", null),
        (0, I.gn)([O.aD], j.prototype, "TestFireEmailToSelf", null),
        (0, I.gn)([O.aD], j.prototype, "Init", null);
      const Q = (e) => {
        var t, n;
        (0, o.useEffect)(() => {
          r.v.Get(), l.On.Get().Reset(null, null);
        }, []);
        const [a, i] = (0, u.Ar)("tab", "active"),
          s = (e) => i(e.key),
          c = [
            {
              name: `Active Opt-In Events (${(null === (t = r.v.Get().GetActiveOptIn()) || void 0 === t ? void 0 : t.length) || 0})`,
              key: "active",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Y, {
                  list: r.v.Get().GetActiveOptIn(),
                  stats: r.v.Get().GetOptInStats(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: s,
            },
            {
              name: `Archived Opt-In Events (${(null === (n = r.v.Get().GetArchivedOptIn()) || void 0 === n ? void 0 : n.length) || 0})`,
              key: "archive",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Y, {
                  list: r.v.Get().GetArchivedOptIn(),
                  stats: null,
                  bReverseOrder: !0,
                }),
              ),
              onClick: s,
            },
            {
              name: "Active Opt-In Email",
              key: "activeemail",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(
                  "div",
                  null,
                  "TODO: In development mode; not ready for prime time.",
                ),
                o.createElement(z, {
                  list: r.v.Get().GetActiveOptIn(),
                  bActiveOptIn: !0,
                }),
              ),
              onClick: s,
            },
          ];
        return o.createElement(
          d.SV,
          null,
          o.createElement(
            "div",
            { className: x().DashboardCtn },
            o.createElement(
              "h1",
              null,
              "Opt-In Admin Dashboard",
              o.createElement(
                "button",
                {
                  className: (0, S.Z)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) =>
                    (0, E.b8)(
                      e,
                      "https://confluence.valve.org/display/STEAM/Setting+up+an+opt-in+event",
                    ),
                },
                "Help",
              ),
              o.createElement(
                "button",
                {
                  className: (0, S.Z)(_().Button),
                  style: { float: "right", marginRight: "16px" },
                  onClick: (e) => {
                    (0, g.AM)(o.createElement(L, null), (0, D.RA)(e));
                  },
                },
                "Create Opt-In Page",
              ),
            ),
            o.createElement("hr", null),
            o.createElement(
              "p",
              null,
              "This shows all of the active and past opt-in definitions we have setup. Definition drives both the eligibility of the app that are included and also describe the content we show partners on their specific opt-in page.",
            ),
            o.createElement(v.n, { tabs: c, startingTab: a }),
          ),
        );
      };
      function Y(e) {
        const { bActiveOptIn: t, stats: n, list: a, bReverseOrder: i } = e,
          [l, r] = (0, u.Ar)("query", ""),
          s = (0, o.useMemo)(() => {
            const e = l.trim();
            return a
              .sort((e, t) =>
                i
                  ? e.sale_optin_enabled == t.sale_optin_enabled
                    ? t.event_start_date - e.event_start_date
                    : -1
                  : e.sale_optin_enabled == t.sale_optin_enabled
                    ? e.event_start_date - t.event_start_date
                    : e.sale_optin_enabled
                      ? -1
                      : 1,
              )
              .filter((t) => {
                var n, a, i, l;
                return (
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  (null ===
                    (a =
                      null === (n = t.opt_in_registration_title) || void 0 === n
                        ? void 0
                        : n.english) || void 0 === a
                    ? void 0
                    : a.toLocaleLowerCase().includes(e)) ||
                  (null ===
                    (l =
                      null === (i = t.event_title) || void 0 === i
                        ? void 0
                        : i.english) || void 0 === l
                    ? void 0
                    : l.toLocaleLowerCase().includes(e))
                );
              });
          }, [i, a, l]);
        return o.createElement(
          "div",
          null,
          o.createElement(m.II, {
            type: "string",
            value: l,
            onChange: (e) => r(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          s.map((e) =>
            o.createElement(J, {
              key: e.pageid,
              def: e,
              stats: n,
              bActiveOptIn: t,
            }),
          ),
        );
      }
      function J(e) {
        var t, n, a, i, l;
        const { def: d, stats: u, bActiveOptIn: p } = e,
          v = r.v.Get().BHasUnpublishedChagnes(d.pageid),
          E =
            (null === (t = null == u ? void 0 : u[d.pageid]) || void 0 === t
              ? void 0
              : t.time_updated) || 0,
          y = c.JW.GetTimeNowWithOverride(),
          I = d.event_end_date < y,
          C = d.sale_optin_enabled && !I,
          k =
            (null === (n = d.event_title) || void 0 === n
              ? void 0
              : n.english) || "No Name Assigned";
        return o.createElement(
          "div",
          {
            key: d.pageid,
            className: (0, S.Z)(
              x().OptInAdminRow,
              b().TileContainer,
              Boolean(C) ? x().OptinEnabled : "",
            ),
          },
          o.createElement(
            "div",
            { className: b().EventNameCtn },
            o.createElement(
              "div",
              { className: b().EventName },
              Boolean(k) && k,
              " ",
              o.createElement("span", null, "(", d.pageid, ")"),
            ),
            o.createElement(
              "div",
              { className: b().DatesCtn },
              o.createElement(
                "span",
                { className: b().DateAndTime },
                o.createElement(h.H6, {
                  dateAndTime: d.event_start_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
              "",
              o.createElement(
                "span",
                { className: b().DateAndTime },
                "To ",
                o.createElement(h.H6, {
                  dateAndTime: d.event_end_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
            ),
          ),
          o.createElement(
            "div",
            { className: b().EventDetailsCtn },
            o.createElement(
              "div",
              { className: x().StatsCtn },
              o.createElement(
                "div",
                { className: b().TopStatsCtn },
                Boolean(
                  null === (a = null == u ? void 0 : u[d.pageid]) ||
                    void 0 === a
                    ? void 0
                    : a.count_eligible,
                ) &&
                  o.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    o.createElement(
                      "div",
                      { className: b().BigNumber },
                      u[d.pageid].count_eligible.toLocaleString(),
                    ),
                    o.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps eligible based on the criteria set",
                        className: _().HelperTooltip,
                      },
                      "Eligible",
                    ),
                  ),
                Boolean(
                  null === (i = null == u ? void 0 : u[d.pageid]) ||
                    void 0 === i
                    ? void 0
                    : i.count_invited,
                ) &&
                  o.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    o.createElement(
                      "div",
                      { className: b().BigNumber },
                      u[d.pageid].count_invited.toLocaleString(),
                    ),
                    o.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps that have an open invitation and have not yet acted on it.",
                        className: _().HelperTooltip,
                      },
                      "Open Invitation",
                    ),
                  ),
                Boolean(null == u ? void 0 : u[d.pageid]) &&
                  o.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    o.createElement(
                      "div",
                      { className: (0, S.Z)(b().BigNumber, b().Highlight) },
                      u[d.pageid].count_opted_in.toLocaleString(),
                    ),
                    o.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps that have selected to opt in for this event",
                        className: _().HelperTooltip,
                      },
                      "Opted In (",
                      o.createElement(
                        "a",
                        {
                          href:
                            f.De.PARTNER_BASE_URL +
                            "optin/admin/edit/" +
                            d.pageid +
                            "?tab=manage",
                          className: (0, S.Z)(b().BrowseLink),
                        },
                        "Browse",
                      ),
                      ")",
                    ),
                  ),
                Boolean(null == u ? void 0 : u[d.pageid]) &&
                  o.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    o.createElement(
                      "div",
                      { className: b().BigNumber },
                      u[d.pageid].count_opted_out.toLocaleString(),
                    ),
                    o.createElement(
                      "div",
                      { className: x().StatRow },
                      "Opted Out",
                    ),
                  ),
                Boolean(
                  null === (l = null == u ? void 0 : u[d.pageid]) ||
                    void 0 === l
                    ? void 0
                    : l.count_featured,
                ) &&
                  o.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    o.createElement(
                      "div",
                      { className: b().BigNumber },
                      u[d.pageid].count_featured.toLocaleString(),
                    ),
                    o.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Apps marked with additional featuring.",
                        className: _().HelperTooltip,
                      },
                      "Featured",
                    ),
                  ),
              ),
              o.createElement(
                "div",
                { className: b().StatusCtn },
                Boolean(null == u ? void 0 : u[d.pageid]) &&
                  o.createElement(
                    "div",
                    { className: x().StatRefresh },
                    "Stats refreshed:",
                    o.createElement(h.H6, { dateAndTime: E, bSingleLine: !0 }),
                  ),
                v &&
                  o.createElement(
                    "div",
                    { className: b().PendingChanges },
                    "Has Unpublished Changes",
                  ),
              ),
            ),
            o.createElement(
              "div",
              { className: (0, S.Z)(x().Button, x().ButtonCtn) },
              o.createElement(
                s.rU,
                {
                  to: Dr.OptinAdminEdit(d.pageid),
                  className: (0, S.Z)(_().Button, _().Primary),
                },
                "Edit Opt-In Definition",
              ),
              Boolean(p) &&
                o.createElement(
                  "a",
                  {
                    href:
                      f.De.PARTNER_BASE_URL +
                      "optin" +
                      Dr.OptInAppReview(d.pageid),
                    className: (0, S.Z)(_().Button),
                    target: "_blank",
                  },
                  "Open Opt-In Pruning Page",
                ),
              Boolean(!p) &&
                o.createElement(
                  s.rU,
                  {
                    to: Dr.OptinAdminAnalysis(d.pageid),
                    className: (0, S.Z)(_().Button, _().Primary),
                  },
                  "Post OptIn Stats",
                ),
              o.createElement(
                m.zx,
                {
                  className: x().CloneButton,
                  onClick: (e) =>
                    (0, g.AM)(
                      o.createElement(R, {
                        def: d,
                        stats: null == u ? void 0 : u[d.pageid],
                      }),
                      (0, D.RA)(e),
                    ),
                },
                "Clone",
              ),
            ),
          ),
        );
      }
      var $ = n(27605),
        ee = n(27910),
        te = n(4771),
        ne = n(77936),
        ae = n(65650),
        ie = n(45167),
        le = n(90604),
        re = n(34704),
        oe = n(62613),
        se = n(59728),
        ce = n(83999),
        me = n(84531),
        de = n(4176),
        ue = n.n(de),
        pe = n(56164);
      const _e = (0, $.Pi)((e) => {
          const t = l.On.Get(),
            n = t
              .GetEditableDynamicSections()
              .map((e, t) =>
                o.createElement(he, {
                  key: e.GetUniqueID(),
                  section: e,
                  dynamicSectionIndex: t,
                }),
              );
          return o.createElement(
            pe.ug,
            { title: "Optional Dynamic Sections", bStartMinimized: !1 },
            o.createElement("hr", null),
            o.createElement(
              "p",
              null,
              "Optional Section that can be used to collect additional data from users for their app prior to opting in. This data can be later used to help organize the content on the sales and will surface in the sale page editors.",
            ),
            n,
            o.createElement(
              "div",
              { className: me.AddSectionCtn },
              o.createElement(
                m.KM,
                { onClick: t.AddDynamicSection },
                "Add New Dynamic Section",
              ),
            ),
          );
        }),
        he = (0, $.Pi)((e) => {
          const { section: t, dynamicSectionIndex: n } = e,
            a = ae.U.Get().GetCurEditLanguage(),
            i = o.createRef(),
            l = t
              .GetLists()
              .map((e, n) =>
                o.createElement(ve, {
                  key: t.GetUniqueID() + e.unique_id,
                  section: t,
                  listIndex: n,
                }),
              );
          return o.createElement(
            d.SV,
            null,
            o.createElement(
              "div",
              {
                className: (0, S.Z)({
                  [ue().Section]: !0,
                  [_().ValveOnlyBackground]: t.BIsValveOnlySection(),
                }),
              },
              o.createElement(ge, { section: t, dynamicSectionIndex: n }),
              o.createElement("div", null, "Section ID: ", t.GetUniqueID()),
              o.createElement(m.II, {
                type: "text",
                label: "Section Name",
                value: t.GetName(),
                onChange: (e) => t.SetName(e.target.value, a),
              }),
              o.createElement("div", null, "Section Description: (optional)"),
              o.createElement(le.R, {
                fnGetCurText: t.GetDescription,
                fnOnTextChange: (e) =>
                  t.SetDescription(e.currentTarget.value, a),
                fnSetText: t.SetDescriptionWithCurLang,
                strPlaceholder: "Enter Description Here",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              o.createElement(m.ji, {
                className: _().ValveOnlyBackground,
                label: "Valve Admin and Support Team Only",
                tooltip:
                  "Only showns to and changeable by Valve Admin and Support. Useful to markup and store a setting on the opt-in registration directly.",
                onChange: t.SetValveOnly,
                checked: t.BIsValveOnlySection(),
              }),
              o.createElement(m.ry, {
                rgOptions: [
                  { label: "Radio Buttons (single selection)", data: "radio" },
                  {
                    label: "Checkboxes (none or multi-selection)",
                    data: "checkbox",
                  },
                  {
                    label: "Dropdown (lots of options, allows type searching)",
                    data: "single_select",
                  },
                  {
                    label:
                      "Multi-Select Dropdown (lots of options, allows type searching)",
                    data: "multi_select",
                  },
                  { label: "Text (open ended answers)", data: "text_input" },
                ],
                selectedOption: t.GetInputStyle(),
                onChange: (e) => {
                  "text_input" === e.data &&
                  "text_input" !== t.GetInputStyle() &&
                  t.GetListCount() > 1
                    ? (0, g.AM)(
                        o.createElement(P.uH, {
                          strTitle: "Change to Text Input",
                          bDestructiveWarning: !0,
                          strDescription:
                            "Changing to text input is destructive, and will eliminate any previous values you have created for the lists. Are you sure?",
                          onOK: () => t.SetInputStyle(e.data),
                          onCancel: () => {
                            var e;
                            return null ===
                              (e = null == i ? void 0 : i.current) ||
                              void 0 === e
                              ? void 0
                              : e.SetSelectedOption(t.GetInputStyle());
                          },
                        }),
                        window,
                      )
                    : t.SetInputStyle(e.data);
                },
                label: "Input Style",
                dropDownControlRef: i,
              }),
              Boolean(
                "radio" == t.GetInputStyle() || "checkbox" == t.GetInputStyle(),
              ) &&
                o.createElement(m.DS, {
                  label: "Display as # of Column(s)",
                  showValue: !0,
                  min: 1,
                  max: 3,
                  value: t.GetColumnCount(),
                  onChange: (e) => t.SetColumnCount(e),
                  tooltip:
                    "The options to select will be displayed in this many columns to the users",
                }),
              l,
              Boolean("text_input" != t.GetInputStyle()) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    m.zx,
                    {
                      disabled: t.GetListCount() < 2,
                      onClick: (e) => ye(e, t.GetModel()),
                    },
                    "Re-Order lists within this Section",
                  ),
                  o.createElement(
                    m.KM,
                    { onClick: t.AddOptionList },
                    "Add Another Option List within this Dynamic Section",
                  ),
                ),
            ),
          );
        }),
        ge = (0, $.Pi)((e) => {
          const t = l.On.Get(),
            { section: n, dynamicSectionIndex: a } = e;
          return o.createElement(
            "div",
            {
              className: (0, S.Z)({
                [me.Header]: !0,
                [_().ValveOnlyBackground]: n.BIsValveOnlySection(),
              }),
            },
            o.createElement(
              "span",
              null,
              n.BIsValveOnlySection() && "(VO) ",
              n.GetNameWithFallback(`Dynamic Section ${a}`),
            ),
            o.createElement(
              "div",
              null,
              o.createElement(
                m.zx,
                {
                  onClick: (e) => {
                    (0, g.AM)(
                      o.createElement(P.uH, {
                        onOK: () => {
                          t.DeleteDynamicSection(n.GetUniqueID());
                        },
                        strTitle: "Delete Dynamic Section?",
                        strDescription:
                          "Delete this section? This cannot be undone and any data will be lost.",
                        bDestructiveWarning: !0,
                      }),
                      (0, D.RA)(e),
                    );
                  },
                },
                o.createElement(oe.pVO, null),
              ),
            ),
          );
        }),
        ve = (0, $.Pi)((e) => {
          const { section: t, listIndex: n } = e;
          return "text_input" === t.GetInputStyle()
            ? o.createElement(
                "div",
                null,
                "Textarea will appear here for the users input.",
              )
            : o.createElement(Ee, { section: t, listIndex: n });
        }),
        Ee = (0, $.Pi)((e) => {
          const { section: t, listIndex: n } = e,
            a = t.GetListByIndex(n),
            i = ae.U.Get().GetCurEditLanguage();
          return o.createElement(
            "div",
            { id: t.GetUniqueID() + a.unique_id, className: me.optionList },
            o.createElement(m.II, {
              type: "text",
              label: "Name for this group of options",
              value: t.GetListTitle(n),
              onChange: (e) =>
                t.SetListTitleByListIndex(n, e.currentTarget.value, i),
            }),
            Boolean(0 == a.options.length)
              ? o.createElement("div", null, "No Options Added")
              : o.createElement(re.R, {
                  items: a.options.map((e, t) => ({
                    itemIndex: t,
                    listitem: e,
                  })),
                  onDelete: (e, a) => {
                    (0, g.AM)(
                      o.createElement(P.uH, {
                        bDestructiveWarning: !0,
                        strTitle: "Delete selected option",
                        strDescription:
                          "Are you sure you want to delete the following item?: " +
                          (0, te.Xj)(t.GetItemAtListAndIndex(n, e).text, i),
                        onOK: () => t.RemoveListItem(n, e),
                      }),
                      (0, D.RA)(a),
                    );
                  },
                  onEdit: (a, i) => {
                    (0, g.AM)(
                      o.createElement(
                        Se,
                        Object.assign({}, e, {
                          itemIndex: a,
                          item: t.GetItemAtListAndIndex(n, a),
                        }),
                      ),
                      (0, D.RA)(i),
                    );
                  },
                  onMove: (e, t) => {
                    (0, ce.hV)(a.options, e, t), l.On.Get().SetDirty(!0);
                  },
                  render: (e) => {
                    let t =
                      e.listitem.tooltip &&
                      (0, te.Xj)(e.listitem.tooltip, i, void 0);
                    return o.createElement(
                      se.HP,
                      { toolTipContent: t },
                      (0, te.Xj)(e.listitem.text, i),
                      " ",
                      Boolean(t) && "(?)",
                    );
                  },
                }),
            o.createElement(
              m.zx,
              {
                onClick: (t) =>
                  (0, g.AM)(
                    o.createElement(De, Object.assign({}, e)),
                    (0, D.RA)(t),
                  ),
              },
              "Add Option Item",
            ),
          );
        }),
        Se = (e) => {
          const [t, n] = (0, o.useState)(e.item.text),
            [a, i] = (0, o.useState)(e.item.tooltip),
            [l, r] = (0, o.useState)(ae.U.Get().GetCurEditLanguage());
          return o.createElement(
            P.uH,
            {
              strTitle: "Edit Item",
              strDescription: "Update the value and confirm to apply changes.",
              onOK: () => {
                e.section.UpdateListItemTextByKV(
                  e.listIndex,
                  e.itemIndex,
                  t,
                  a,
                ),
                  e.closeModal && e.closeModal();
              },
              onCancel: e.closeModal,
            },
            o.createElement(
              "div",
              null,
              o.createElement(ee.uW, {
                selectedLang: l,
                fnLangHasData: (e) => {
                  let n = (0, ne.j_)(e);
                  return (
                    (t[n] && t[n].trim().length > 0) ||
                    (a && a[n] && a[n].trim().length > 0)
                  );
                },
                fnOnLanguageChanged: r,
              }),
              o.createElement(m.II, {
                type: "text",
                placeholder: "Enter Text",
                label: "Item Name",
                value: (0, te.pM)(t, l, ""),
                onChange: (e) => {
                  let a = JSON.parse(JSON.stringify(t));
                  (a[(0, ne.j_)(l)] = e.target.value), n(a);
                },
              }),
              o.createElement(m.II, {
                type: "text",
                placeholder: "Enter Tooltip",
                label: "Tooltip (optional)",
                value: (0, te.pM)(a, l, ""),
                onChange: (e) => {
                  let t = a ? JSON.parse(JSON.stringify(a)) : {};
                  (t[(0, ne.j_)(l)] = e.target.value), i(t);
                },
              }),
            ),
          );
        },
        De = (e) => {
          const [t, n] = (0, o.useState)(""),
            [a, i] = (0, o.useState)(""),
            l = ae.U.Get().GetCurEditLanguage();
          return o.createElement(
            P.uH,
            {
              strTitle: "Add Option Item",
              strDescription: `Add items for the user to select from. Adding for the language: ${(0, ne.j_)(l)}`,
              onOK: () => {
                e.section.AddItemToListByIndex(e.listIndex, t, l, a),
                  e.closeModal && e.closeModal();
              },
              bOKDisabled: 0 == t.trim().length,
              onCancel: e.closeModal,
            },
            o.createElement(
              "div",
              null,
              o.createElement(m.II, {
                type: "text",
                value: t,
                onChange: (e) => n(e.currentTarget.value),
                placeholder: "Enter name (requred)",
                label: "Item Name",
                focusOnMount: !0,
              }),
              o.createElement(m.II, {
                type: "text",
                value: a,
                onChange: (e) => i(e.currentTarget.value),
                placeholder: "Enter Tooltip (optional)",
                label: "Tooltip",
              }),
            ),
          );
        },
        fe = (e) => {
          const t = l.On.Get(),
            n = ae.U.Get().GetCurEditLanguage();
          (0, g.AM)(
            o.createElement(
              P.uH,
              {
                strTitle: "Re-Order Dynamic Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the dynamic section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              o.createElement(
                "div",
                null,
                Boolean(
                  t.GetModel().dynamic_sections &&
                    t.GetModel().dynamic_sections.length > 0,
                )
                  ? o.createElement(re.R, {
                      items: t.GetModel().dynamic_sections,
                      render: (e) => (0, te.Xj)(e.name, n, "Unnamed Section"),
                      onReorder: () => t.SetDirty(!0),
                    })
                  : o.createElement(
                      "p",
                      null,
                      "No dynamic sections to re-order",
                    ),
              ),
            ),
            (0, D.RA)(e),
          );
        },
        ye = (e, t) => {
          const n = l.On.Get(),
            a = ae.U.Get().GetCurEditLanguage();
          (0, g.AM)(
            o.createElement(
              P.uH,
              {
                strTitle: "Re-Order Lists within a Sections",
                bDestructiveWarning: !0,
                strDescription:
                  "Reorders the list within a section. Changes are immediately applied but don't reflect in the editor. Save and reload the page (its a bug, I will fix is soon!)",
              },
              o.createElement(
                "div",
                null,
                Boolean(t.lists && t.lists.length > 0)
                  ? o.createElement(re.R, {
                      items: t.lists,
                      render: (e) =>
                        (0, te.Xj)(e.option_title, a, "Untitled List"),
                      onReorder: () => n.SetDirty(!0),
                    })
                  : o.createElement("p", null, "No list to re-order"),
              ),
            ),
            (0, D.RA)(e),
          );
        };
      var be = n(71630);
      const Ie = (e) => {
        const t = l.On.Get(),
          n = JSON.parse(JSON.stringify(t.GetModel() || [])),
          a = JSON.parse(JSON.stringify(n.emails || []));
        n.emails = [];
        const i = [
          {
            name: "OptIn Event Body Raw",
            key: "eventbody",
            status: "",
            statusType: "success",
            contents: o.createElement(
              d.SV,
              null,
              o.createElement(be.G, { data: n }),
            ),
          },
        ];
        return (
          a.forEach((e, t) => {
            i.push({
              name: e.internal_name,
              key: "" + (e.email_def_id || t),
              status: "",
              statusType: "success",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(be.G, { data: e }),
              ),
            });
          }),
          console.log(a),
          o.createElement(
            "div",
            null,
            o.createElement("h1", null, "Data:"),
            o.createElement("div", null, "PageID: ", t.GetName()),
            o.createElement(
              "div",
              null,
              "Event Start Time: ",
              t.GetEventStartTime(),
              " -",
              Boolean(0 != t.GetEventStartTime()) &&
                o.createElement(h.H6, {
                  dateAndTime: t.GetEventStartTime(),
                  bSingleLine: !0,
                }),
            ),
            o.createElement(
              "div",
              null,
              "Event End Time: ",
              t.GetEventEndTime(),
              " -",
              Boolean(0 != t.GetEventEndTime()) &&
                o.createElement(h.H6, {
                  dateAndTime: t.GetEventEndTime(),
                  bSingleLine: !0,
                }),
            ),
            o.createElement(
              "div",
              null,
              "Trailer Drop Date: ",
              t.GetEventTrailerDropDate(),
              " -",
              Boolean(0 != t.GetEventTrailerDropDate()) &&
                o.createElement(h.H6, {
                  dateAndTime: t.GetEventTrailerDropDate(),
                  bSingleLine: !0,
                }),
            ),
            o.createElement(v.n, { tabs: i, bDisableRouting: !0 }),
            o.createElement("br", null),
            o.createElement("br", null),
            o.createElement("br", null),
            o.createElement("br", null),
            o.createElement("br", null),
            o.createElement("br", null),
            o.createElement("br", null),
            o.createElement("br", null),
          )
        );
      };
      var Ce = n(30750),
        ke = n(15459),
        Ae = n(77681),
        we = n.n(Ae),
        Pe = n(92012),
        Te = n(38071),
        Ne = n(98330),
        Re = n(9466),
        Ge = n(62210),
        Le = n(65255),
        Be = n(8897),
        xe = n(4942);
      function Me(e) {
        const t = l.On.Get(),
          n = (0, o.useMemo)(() => ["localized_optin_banner"], []),
          a = (0, o.useMemo)(
            () => [Te.IN.k_ESteamRealmGlobal, Te.IN.k_ESteamRealmChina],
            [],
          ),
          i = (0, o.useCallback)(
            (e, n, a, i, l) => {
              (0, Ge.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              ),
                t.SetLocalizedOptInBanner(a, e + (0, Ne.U)(i));
            },
            [t],
          );
        return o.createElement(
          "div",
          { className: ue().Section },
          o.createElement(
            "h3",
            null,
            "Localized Branding Artwork: ",
            o.createElement("span", null, "(1000 x 150)"),
          ),
          o.createElement(
            "p",
            null,
            "Branding artwork we will show to partners on any optin page",
          ),
          o.createElement(Re.j, {
            rgSupportArtwork: n,
            rgRealmList: a,
            strUploadAjaxURL: `${Le.De.PARTNER_BASE_URL}optin/ajaxuploadasset/${t.GetOptInPageID()}`,
            fnOnUploadSuccess: i,
          }),
          o.createElement(d.SV, null, o.createElement(Oe, null)),
        );
      }
      function Oe(e) {
        const t = l.On.Get(),
          [n] = (0, Ce.SZ)(() => [
            Object.keys(t.GetAllLocalizedOptInBanner())
              .sort()
              .map((e) => (0, ne.jM)(e)),
          ]),
          a = (0, o.useCallback)(
            (e) => {
              const n = t.GetLocalizedOptInBanner(e);
              return n ? (0, xe.I)(t.GetOptInPageID(), e, n) : null;
            },
            [t],
          );
        return o.createElement(Be.V, {
          rgAssetLangs: n,
          fnGetAssetUrl: a,
          fnDeletAssetLang: t.DeleteLocalizedOptInBanner,
          imageClassname: we().BannerPreview,
        });
      }
      var Fe = n(16997);
      class Ue {
        ChangeAppsAdditionalFeaturingState(e, t, n) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const a = U.gA.Init(V.rf),
              i = new Set(t.filter(Boolean) || []);
            if (0 == i.size || !e) return 8;
            a.Body().set_appids(Array.from(i)),
              a.Body().set_opt_in_name(e),
              a.Body().set_additional_featuring(n);
            return (yield V.u2.SetFeaturingOnPartnerAppOptIn(
              this.m_steamInterface.GetServiceTransport(),
              a,
            )).GetEResult();
          });
        }
        static Get() {
          return (
            Ue.s_Singleton ||
              ((Ue.s_Singleton = new Ue()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminAdditionalFeaturingStore = Ue.s_Singleton),
              Ue.s_Singleton.Init()),
            Ue.s_Singleton
          );
        }
        constructor() {
          (this.m_steamInterface = null), (0, O.rC)(this);
        }
        Init() {
          const e = (0, f.kQ)("optin_webapi_token", "application_config");
          e
            ? (this.m_steamInterface = new H.J(f.De.WEBAPI_BASE_URL, e))
            : console.error(
                "COptInAdminAdditionalFeaturingStore missing API token",
              );
        }
      }
      (0, I.gn)(
        [Fe.a],
        Ue.prototype,
        "ChangeAppsAdditionalFeaturingState",
        null,
      ),
        (0, I.gn)([O.aD], Ue.prototype, "Init", null);
      var He = n(83743);
      function Ve(e) {
        const {
            strTitle: t,
            strDescription: n,
            closeModal: a,
            fnGenericAddAction: i,
          } = e,
          [r, s] = o.useState(""),
          c = (0, He.tx)(),
          m = l.On.Get(),
          d = (0, o.useCallback)(() => {
            c.fnSetLoading(!0);
            const e = r.replace(/\n/g, "|").split("|"),
              t = new Array();
            e.forEach((e) => {
              const n = Number.parseInt(e);
              n > 0 && t.push(n);
            }),
              t.length > 0
                ? i(t).then((e) => {
                    1 == e
                      ? (c.fnSetSuccess(!0),
                        c.fnSetStrSuccess(
                          `Successfully updated ${t.length} apps`,
                        ))
                      : (c.fnSetError(!0),
                        c.fnSetStrError(
                          `Failed to update ${t.length} apps error: ${e} `,
                        ));
                  })
                : (c.fnSetSuccess(!0),
                  c.fnSetStrSuccess("No new appids to invite"));
          }, [c, i, r]);
        if (c.bLoading)
          return o.createElement(He.NT, {
            state: c,
            strDialogTitle: t,
            closeModal: a,
          });
        const u =
          (null == m ? void 0 : m.GetEventEndTime()) <
          Math.floor(Date.now() / 1e3);
        return o.createElement(
          P.uH,
          {
            strTitle: t,
            strDescription: n,
            onOK: d,
            bOKDisabled: 0 == r.trim().length || c.bLoading || u,
            onCancel: a,
          },
          o.createElement("br", null),
          o.createElement("br", null),
          o.createElement(
            "div",
            null,
            "Note: Remember after add all of the apps, go to 'Manage' Tab and 'Refresh Stats' to update our list",
          ),
          o.createElement("br", null),
          Boolean(u) &&
            o.createElement(
              "div",
              { className: w().WarningStylesWithIcon },
              "Opt-In is already ended on date ",
              (0, G.$1)(null == m ? void 0 : m.GetEventEndTime()),
              ". We cannot change invite/prune list.",
            ),
          o.createElement("div", null, "Enter App IDs seperated by new lines:"),
          o.createElement("textarea", {
            cols: 120,
            rows: 10,
            onChange: (e) => s(e.currentTarget.value),
            value: r,
            autoFocus: !0,
            disabled: c.bLoading,
          }),
        );
      }
      function Xe(e) {
        const t = l.On.Get(),
          [n, a, i, r] = (0, Ce.SZ)(() => [
            t.BIsAdditionalFeaturingSectionEnabled(),
            t.BIsCollectTrailerPermissions(),
            t.BIsCollectDemoPermissions(),
            t.BIsCollectGameProfileIntent(),
          ]),
          [s, c] = (0, o.useState)(t.BHasCollectDemoDeadlineDate()),
          [d] = (0, Ce.SZ)(() => [t.GetEventStartTime()]);
        return o.createElement(
          pe.ug,
          { title: "Additional Featuring Section", bStartMinimized: !1 },
          o.createElement("hr", null),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "For Apps Marked As Featured"),
            o.createElement(
              "div",
              { className: ue().SectionDesc },
              "If eneabled, this allows us to collect additional information and permissions from apps who have additional featuring enabled on them. Additional featuring is done during the App Review (pruning) process prior to sending invitation. It can be added at anytime:",
            ),
            o.createElement("br", null),
            o.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(je, { strOptInName: t.GetOptInPageID() }),
                    (0, D.RA)(e),
                  ),
              },
              "Add Games to Featuring...",
            ),
            o.createElement(m.ji, {
              label: "Enable the Additional Featuring Section.",
              onChange: t.SetAdditionalFeaturingSectionEnabled,
              checked: n,
            }),
            o.createElement("hr", null),
            o.createElement(
              "div",
              {
                className: (0, S.Z)(
                  ue().IndentedSubSection,
                  n ? "" : ue().Disabled,
                ),
              },
              o.createElement(m.ji, {
                label: "Collect Trailer Permissions",
                tooltip:
                  "This request from them the use of their trailer in our events marketing material. Permitting us to edit the trailer for the purpose",
                onChange: t.SetCollectTrailerPermissions,
                checked: a,
              }),
              o.createElement(m.ji, {
                label: "Collect Demo Permissions",
                tooltip:
                  "This is useful for events like Next Fest. Requesting permission for us to optional feature by playing their demo during our event stream.",
                onChange: t.SetCollectDemoPermissions,
                checked: i,
              }),
              o.createElement(m.ji, {
                label: "Collect Game Profile Intent",
                tooltip:
                  "This lets the partner know that we are promoting game profile and are inviting them to submit one for the event. Note: Operational step, make sure to add game profile creation on the partner account",
                onChange: t.SetCollectGameProfileIntent,
                checked: r,
              }),
              s
                ? o.createElement(Pe.A, {
                    strDescription:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    nLatestTime: d,
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: t.GetCollectDemoDeadlineDate,
                    fnSetTimeToUpdate: t.SetCollectDemoDeadlineDate,
                    fnSetToNow: t.SetCollectDemoDeadlineDate,
                  })
                : o.createElement(m.ji, {
                    label: "Show a specific due date",
                    tooltip:
                      "Date by which partners have a submitted, reviewed and approved demo or discount",
                    onChange: c,
                    checked: s,
                  }),
            ),
          ),
        );
      }
      function je(e) {
        const { strOptInName: t } = e,
          { fnChangeAppAdditionalFeaturingState: n } = {
            fnChangeAppAdditionalFeaturingState:
              Ue.Get().ChangeAppsAdditionalFeaturingState,
          },
          a = (0, o.useCallback)(
            (e) =>
              (0, I.mG)(this, void 0, void 0, function* () {
                return n(t, e, !0);
              }),
            [n, t],
          );
        return o.createElement(Ve, {
          strTitle: "Additional App Featuring",
          strDescription:
            "Feature apps to that have already been invited or opted into the event, so that they may signed up for further featuring.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      class qe {
        UpdateAppInvitation(e, t, n, a, i, l) {
          var r, o, s, c;
          return (0, I.mG)(this, void 0, void 0, function* () {
            let m = 1;
            try {
              const d = new FormData();
              if (n && (i || a))
                return (
                  console.error(
                    "COptinAdminInvitationStore::UpdateAppInvitation Unexpected parameters",
                  ),
                  8
                );
              d.append("sessionid", f.De.SESSIONID),
                d.append("opt_in_name", e),
                t && d.append("appids", JSON.stringify(t)),
                d.append("add", n ? "1" : "0"),
                d.append("pending_review", i ? "1" : "0"),
                d.append("prune", a ? "1" : "0");
              const u = yield k().post(
                f.De.PARTNER_BASE_URL + "optin/ajaxinviteapps",
                d,
                {
                  withCredentials: !0,
                  cancelToken: null == l ? void 0 : l.token,
                },
              );
              (200 == (null == u ? void 0 : u.status) &&
                1 ==
                  (null === (r = u.data) || void 0 === r
                    ? void 0
                    : r.success)) ||
                (console.log(
                  `COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed with status ${null == u ? void 0 : u.status} eresult ${null === (o = null == u ? void 0 : u.data) || void 0 === o ? void 0 : o.success} and msg ${null === (s = null == u ? void 0 : u.data) || void 0 === s ? void 0 : s.msg}`,
                ),
                (m =
                  (null === (c = null == u ? void 0 : u.data) || void 0 === c
                    ? void 0
                    : c.success) || 2));
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "COptinAdminInvitationStore.InternalUpdatePartnerOrAppInvitation failed add: " +
                  t.strErrorMsg,
                t,
              ),
                (m = 2);
            }
            return m;
          });
        }
        static Get() {
          return (
            qe.s_Singleton ||
              ((qe.s_Singleton = new qe()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInAdminInvitationStore = qe.s_Singleton)),
            qe.s_Singleton
          );
        }
        constructor() {}
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].opt_in_name &&
            Array.isArray(t[0].partner_ids) &&
            "number" == typeof t[0].partner_ids[0]
          );
        }
      }
      function We() {
        return { fnUpdateAppToInvitation: qe.Get().UpdateAppInvitation };
      }
      (0, I.gn)([Fe.a], qe.prototype, "UpdateAppInvitation", null);
      var ze = n(90807),
        Ze = n(35427),
        Ke = n(15690),
        Qe = n(80886),
        Ye = n(20417),
        Je = n(13116),
        $e = n.n(Je),
        et = n(28738),
        tt = n(82493);
      class nt extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              invite_token: "",
              input_search: "",
              friend_code_copied: !1,
              invite_copied: !1,
            });
        }
        componentDidMount() {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const e = yield k().get(
              f.De.COMMUNITY_BASE_URL + "invites/ajaxgetall",
              { params: { sessionid: f.De.SESSIONID } },
            );
            if (e && e.data && e.data.tokens) {
              const t = e.data.tokens.filter((e) => e.valid);
              t.length
                ? this.setState({ invite_token: t[0].invite_token })
                : this.OnCreateInviteLink();
            } else this.OnCreateInviteLink();
          });
        }
        OnCreateInviteLink() {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const e = new FormData();
            e.append("sessionid", f.De.SESSIONID),
              e.append("steamid_user", f.L7.steamid),
              e.append("duration", (2592e3).toString());
            const t = yield k().post(
              f.De.COMMUNITY_BASE_URL + "invites/ajaxcreate",
              e,
            );
            t &&
              t.data &&
              t.data.invite &&
              this.setState({ invite_token: t.data.invite.invite_token });
          });
        }
        OnCopy(e, t) {
          "friend_code" === e &&
            (this.setState({ friend_code_copied: !0 }),
            setTimeout(() => this.setState({ friend_code_copied: !1 }), 1e3)),
            "invite" === e &&
              (this.setState({ invite_copied: !0 }),
              setTimeout(() => this.setState({ invite_copied: !1 }), 1e3)),
            (0, D.Ei)(t);
        }
        OnAddFriend(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", f.De.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0");
            try {
              const e = yield k().post(
                f.De.COMMUNITY_BASE_URL + "actions/AddFriendAjax",
                t,
              );
              return e && e.data && 1 == e.data.success;
            } catch (e) {
              return !1;
            }
          });
        }
        OnSearchChange(e) {
          this.setState({ input_search: e.target.value });
        }
        OnSearchKeyDown(e) {
          13 === e.keyCode && this.OnSearchSubmit();
        }
        OnSearchSubmit() {
          window.open(
            f.De.COMMUNITY_BASE_URL +
              "search/users/#text=" +
              encodeURIComponent(this.state.input_search),
            "_self",
          );
        }
        render() {
          const e = f.L7.short_url + "/" + this.state.invite_token;
          return o.createElement(
            "div",
            null,
            o.createElement(
              "div",
              { className: $e().HeaderBlock },
              (0, G.Xx)("#ManageFriends_AddAFriend"),
            ),
            o.createElement(
              "div",
              { className: $e().Background },
              o.createElement(
                "h1",
                { className: $e().Heading },
                (0, G.Xx)("#ManageFriends_YourFriendCode"),
              ),
              o.createElement(
                "div",
                { className: $e().CopyContainer },
                o.createElement("h1", { className: $e().Text }, f.L7.accountid),
                o.createElement(
                  m.KM,
                  {
                    autoFocus: !0,
                    className: $e().Button,
                    onClick: () =>
                      this.OnCopy("friend_code", String(f.L7.accountid)),
                  },
                  this.state.friend_code_copied
                    ? (0, G.Xx)("#ManageFriends_Copied")
                    : (0, G.Xx)("#ManageFriends_Copy"),
                ),
              ),
              o.createElement(
                "p",
                { className: $e().Body },
                (0, G.Xx)("#ManageFriends_EnterFriendCode"),
              ),
              o.createElement(at, {
                onButtonClick: this.OnAddFriend,
                buttonText: (0, G.Xx)("#ManageFriends_SendInvite"),
                bDisableForSelf: !0,
                bDisableForFriends: !0,
                bShowStatus: !0,
              }),
            ),
            o.createElement(
              "div",
              { className: $e().DimBackground },
              o.createElement(
                "h1",
                { className: $e().Heading },
                (0, G.Xx)("#ManageFriends_OrSendQuickInvite"),
              ),
              o.createElement(
                "p",
                { className: $e().Body },
                (0, G.Xx)("#ManageFriends_QuickInviteDescription"),
              ),
              o.createElement(
                "p",
                { className: $e().Body },
                (0, G.Xx)("#ManageFriends_QuickInviteNote"),
              ),
              o.createElement(
                "div",
                { className: $e().CopyContainer },
                Boolean(this.state.invite_token) &&
                  o.createElement("div", { className: $e().Link }, e),
                o.createElement(
                  m.KM,
                  {
                    className: $e().Button,
                    onClick: () => this.OnCopy("invite", e),
                  },
                  this.state.invite_copied
                    ? (0, G.Xx)("#ManageFriends_Copied")
                    : (0, G.Xx)("#ManageFriends_Copy"),
                ),
              ),
              o.createElement(
                m.zx,
                {
                  className: $e().GenerateLinkButton,
                  onClick: this.OnCreateInviteLink,
                },
                (0, G.Xx)("#ManageFriends_CreateInviteLink"),
              ),
            ),
            o.createElement(
              "div",
              { className: $e().Background },
              o.createElement(
                "h1",
                { className: $e().Heading },
                (0, G.Xx)("#ManageFriends_OrSearch"),
              ),
              o.createElement("br", null),
              o.createElement(
                "div",
                {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    maxWidth: "598px",
                    position: "relative",
                  },
                },
                o.createElement(
                  "div",
                  { style: { width: "100%" } },
                  o.createElement(m.II, {
                    className: $e().Input,
                    onKeyDown: this.OnSearchKeyDown,
                    value: this.state.input_search,
                    onChange: this.OnSearchChange,
                    placeholder: (0, G.Xx)("#ManageFriends_EnterProfileName"),
                  }),
                ),
                o.createElement(
                  "div",
                  {
                    id: "searchIcon",
                    style: {
                      position: "absolute",
                      right: "10px",
                      cursor: "pointer",
                    },
                    onClick: this.OnSearchSubmit,
                  },
                  o.createElement(oe.YtI, null),
                ),
              ),
            ),
          );
        }
      }
      (0, I.gn)([Ye.ak], nt.prototype, "OnCreateInviteLink", null),
        (0, I.gn)([Ye.ak], nt.prototype, "OnCopy", null),
        (0, I.gn)([Ye.ak], nt.prototype, "OnAddFriend", null),
        (0, I.gn)([Ye.ak], nt.prototype, "OnSearchChange", null),
        (0, I.gn)([Ye.ak], nt.prototype, "OnSearchKeyDown", null),
        (0, I.gn)([Ye.ak], nt.prototype, "OnSearchSubmit", null);
      class at extends o.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              input_friend_code: "",
              disable_send_invite: !1,
              searchResult: null,
              invite_status: "pending",
            }),
            (this.m_currentRequest = 0);
        }
        OnFriendCodeChange(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const t = e.target.value.split(",")[0];
            this.setState({ input_friend_code: t, invite_status: "pending" }),
              window.clearTimeout(this.m_currentRequest),
              (this.m_currentRequest = window.setTimeout(
                () => this.LoadProfile(t),
                500,
              ));
          });
        }
        LoadProfile(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            if (e) {
              const t = Ze.K.InitFromAccountID(Number(e));
              yield et.y$.LoadProfiles([t.ConvertTo64BitString()]);
              const n = et.y$.GetProfile(t.ConvertTo64BitString());
              n
                ? this.setState({
                    searchResult: n,
                    disable_send_invite:
                      f.L7.is_limited ||
                      (this.props.bDisableForFriends && n.is_friend) ||
                      (this.props.bDisableForSelf &&
                        n.steamid === f.L7.steamid),
                  })
                : this.setState({ searchResult: null });
            } else this.setState({ searchResult: null });
          });
        }
        OnActionClick(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const t = new FormData();
            t.append("sessionID", f.De.SESSIONID),
              t.append("steamid", e),
              t.append("accept_invite", "0"),
              this.setState({ disable_send_invite: !0 });
            (yield this.props.onButtonClick(e))
              ? (this.setState({
                  input_friend_code: "",
                  invite_status: "success",
                }),
                setTimeout(() => this.setState({ searchResult: null }), 3e3))
              : this.setState({
                  invite_status: "failure",
                  disable_send_invite: !1,
                });
          });
        }
        render() {
          return o.createElement(
            "div",
            { className: $e().FriendCodeSelector },
            o.createElement(m.II, {
              className: $e().Input,
              value: this.state.input_friend_code,
              onChange: this.OnFriendCodeChange,
              placeholder: (0, G.Xx)(
                "#ManageFriends_EnterFriendCodePlaceholder",
              ),
            }),
            o.createElement(
              it,
              {
                searchResult: this.state.searchResult,
                invite_status: this.state.invite_status,
                bShowStatus: this.props.bShowStatus,
              },
              o.createElement(
                m.KM,
                {
                  className: $e().SendInviteButton,
                  onClick: () =>
                    this.OnActionClick(this.state.searchResult.steamid),
                  disabled: this.state.disable_send_invite,
                },
                this.props.buttonText,
              ),
            ),
          );
        }
      }
      (0, I.gn)([Ye.ak], at.prototype, "OnFriendCodeChange", null),
        (0, I.gn)([Ye.ak], at.prototype, "LoadProfile", null),
        (0, I.gn)([Ye.ak], at.prototype, "OnActionClick", null);
      const it = (e) => {
        const {
            searchResult: t,
            invite_status: n,
            bShowStatus: a,
            children: i,
          } = e,
          l = (0, f.id)();
        return Boolean(t)
          ? o.createElement(
              "div",
              { className: $e().ProfileCard },
              o.createElement(
                "div",
                { className: $e().UserContainer },
                o.createElement(
                  "div",
                  { className: $e().Image },
                  o.createElement("img", {
                    style: { width: "100%", height: "100%" },
                    src: t.avatar_url_full,
                  }),
                ),
                o.createElement(
                  "div",
                  { className: $e().ProfileContent },
                  o.createElement(
                    "h1",
                    { className: $e().Heading },
                    t.persona_name,
                  ),
                  o.createElement(
                    "div",
                    { className: $e().ProfileLink },
                    o.createElement(
                      tt.IS,
                      {
                        target: l ? void 0 : "_blank",
                        href: f.De.COMMUNITY_BASE_URL + "profiles/" + t.steamid,
                      },
                      (0, G.Xx)("#ManageFriends_ProfileLink"),
                    ),
                    o.createElement("br", null),
                    o.createElement(
                      "span",
                      { className: $e().Body },
                      t.real_name,
                      o.createElement("br", null),
                      `${t.city}${t.city ? "," : ""} ${t.state}${t.state ? "," : ""} ${t.country}`,
                    ),
                  ),
                ),
                i,
              ),
              o.createElement(
                "div",
                { className: $e().ProfileLink },
                t.is_friend &&
                  o.createElement(
                    "div",
                    null,
                    (0, G.Xx)("#ManageFriends_IsFriend"),
                  ),
                0 != t.friends_in_common &&
                  o.createElement(
                    "div",
                    null,
                    o.createElement(
                      tt.IS,
                      {
                        target: l ? void 0 : "_blank",
                        href:
                          f.De.COMMUNITY_BASE_URL +
                          "profiles/" +
                          t.steamid +
                          "/friendscommon",
                      },
                      1 === t.friends_in_common
                        ? (0, G.Xx)(
                            "#ManageFriends_FriendsInCommonSingular",
                            t.friends_in_common,
                          )
                        : (0, G.Xx)(
                            "#ManageFriends_FriendsInCommon",
                            t.friends_in_common,
                          ),
                    ),
                  ),
                a &&
                  "failure" === n &&
                  o.createElement(
                    "div",
                    { className: $e().Failure },
                    (0, G.Xx)("#ManageFriends_InviteFailure"),
                  ),
                a &&
                  "success" === n &&
                  o.createElement(
                    "div",
                    { className: $e().Success },
                    (0, G.Xx)("#ManageFriends_InviteSuccess", t.persona_name),
                  ),
              ),
            )
          : null;
      };
      var lt = n(38201);
      function rt(e) {
        const t = l.On.Get(),
          n = (0, Ce.SZ)(() => l.On.Get().GetExternalAppReviewers());
        return o.createElement(
          o.Fragment,
          null,
          o.createElement("h3", null, "App Invites"),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement(
              "div",
              { className: ue().SectionDesc },
              "Tool that lets you explicitly invite specific apps to participate. This can be done before or after the OptIn is published/live for partners. App Invites will bypass ",
              o.createElement("b", null, "ALL"),
              " eligibility constraints or restrictions (ie, missing a tag and/or pass the end date for the registrations). This is independant of invitation only and can be used in conjunction of invitation only.",
            ),
            o.createElement(
              "div",
              { className: ue().SectionDesc },
              "Inviting apps will NOT trigger any automatic notification. However, the email tab can be used to send an email to all invited apps.",
            ),
            o.createElement("h4", null, "Eligibilty Criteria Internal"),
            o.createElement(
              "p",
              null,
              "Shown on the pruning UI to our team and external pruning contractors",
            ),
            o.createElement(le.R, {
              fnGetCurText: t.GetCurPruningCriteriaText,
              fnOnTextChange: (e) =>
                t.SetCurPruningCriteriaText(e.currentTarget.value),
              fnSetText: t.SetCurPruningCriteriaText,
              strPlaceholder: "Enter Pruning Criteria Text",
              emoticonStore: ie.F,
              bSupportHTMLImport: !0,
              showFormatHelp: "PartnerEvents",
              classNameForTextArea: ue().EventBBCodeEditor,
              limitBBCode: void 0,
              nOverridesRows: 10,
            }),
            o.createElement(
              "div",
              { className: ue().InviteButtonRow },
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "For adding games to the pruning process; app isn't able to optin while in this state. Only games we haven't already acted upon can move to pending review.",
                },
                o.createElement(
                  m.KM,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(st, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  'Add to "Pending Review"...',
                ),
              ),
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "Invite an app allows it to immediately optin to the event and will see they are permitted to participate",
                },
                o.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(ot, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Invite Apps...",
                ),
              ),
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "Directly marks an app as pruned. It won't surface on the sale pages or content hub override page. Will apply even if app as opted in",
                },
                o.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(ct, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Prune Apps...",
                ),
              ),
            ),
            o.createElement(
              "div",
              { className: ue().ShowAllInvitedRow },
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "This list will include all invited app, even if they are no longer invited because we pruned them or the partner took action - opted in/out.",
                },
                o.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(dt, {
                          strOptInName: t.GetOptInPageID(),
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Show All Apps that were once Invited...",
                ),
              ),
            ),
            o.createElement("br", null),
            o.createElement("h3", null, "Manage App Pruning"),
            o.createElement(
              "div",
              { className: ue().SectionDesc },
              "For an event like a tag sale, that depends on publisher and users tagging, we may need to review invited games to ensure they match the intent of the tag sale. ",
              o.createElement(
                "a",
                {
                  href:
                    f.De.PARTNER_BASE_URL +
                    "optin/appreview/" +
                    t.GetOptInPageID(),
                },
                "Go to Opt-In Pruning Page",
              ),
            ),
            o.createElement(
              "div",
              null,
              "To find and add a users external reviewer list please see this ",
              o.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/pages/viewpage.action?pageId=320176134",
                  target: "_blank",
                },
                "document page",
              ),
              ".",
            ),
            Boolean((null == n ? void 0 : n.length) > 0) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("br", null),
                o.createElement("h3", null, "External Reviewers"),
                o.createElement(re.R, {
                  bDisabled: !0,
                  items: n,
                  onDelete: (e) => t.RemoveExternalAppReviewAt(e),
                  render: (e) => {
                    const t = Ze.K.InitFromAccountID(e);
                    return o.createElement(
                      "a",
                      {
                        href: `${f.De.COMMUNITY_BASE_URL}profiles/${t.ConvertTo64BitString()}`,
                      },
                      o.createElement(lt.N, { accountID: e }),
                    );
                  },
                }),
                o.createElement(
                  "p",
                  null,
                  "Note: Make sure to publish changes to the external review list. They can only access published opt-in definitions.",
                ),
              ),
            o.createElement(
              "p",
              { className: ue().SectionDesc },
              o.createElement(
                "b",
                null,
                "Add External App Reviewer via Friend Code / Account ID",
              ),
            ),
            o.createElement(at, {
              buttonText: "Add to Reviewer List",
              onButtonClick: (e) =>
                (0, I.mG)(this, void 0, void 0, function* () {
                  const n = new Ze.K(e);
                  return t.BAddExternalAppReviewAt(n.GetAccountID());
                }),
              bDisableForSelf: !0,
              bShowStatus: !0,
            }),
          ),
        );
      }
      function ot(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: n } = We(),
          a = (0, o.useCallback)((e) => n(t, e, !0), [t, n]);
        return o.createElement(Ve, {
          strTitle: "Invite Apps",
          strDescription:
            "Invite apps to participate in the OptIn, which will disregard any opt-in restriction. This will not notify the partners for the apps. This will re-invite apps which previously opted out.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      function st(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: n } = We(),
          a = (0, o.useCallback)((e) => n(t, e, !1, !1, !0), [t, n]);
        return o.createElement(Ve, {
          strTitle: "Add Apps to Pending Review",
          strDescription:
            "For apps not already invited/opted in/out or pruned, this will set the apps to an initial pending review state. This allow us to have a clear list of app awaiting pruning. In this state, the game cannot join the opt-in until they either invited.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      function ct(e) {
        const { strOptInName: t } = e,
          { fnUpdateAppToInvitation: n } = We(),
          a = (0, o.useCallback)((e) => n(t, e, !1, !0), [t, n]);
        return o.createElement(Ve, {
          strTitle: "Prune App",
          strDescription:
            "This will immediately mark the app as pruned. This will override their opt-in or opt-out status and move the app to the prune list.",
          fnGenericAddAction: a,
          closeModal: e.closeModal,
        });
      }
      const mt = { include_release: !0 };
      function dt(e) {
        const { closeModal: t, strOptInName: n } = e,
          a = (0, ze.Cy)(n, !1),
          [i, l] = o.useState(!1);
        return (
          o.useEffect(() => {
            if ((null == a ? void 0 : a.length) > 0) {
              const e = a.map((e) => e.appid);
              Ke.Z.Get()
                .QueueMultipleAppRequests(e, mt)
                .then(() => l(!0));
            } else l(!0);
          }, [a]),
          o.createElement(
            P.uH,
            {
              strTitle: "All Invited Apps",
              strDescription:
                "This is the list of all apps that were ever invited. The invite status will change when the partner takes action such as opt-in or opt-out. We use the invite account setting to figure out if an invite actually happened",
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              closeModal: t,
              className: ue().InvitedAppHistoryDialog,
            },
            Boolean(!a || !i) &&
              o.createElement(T.V, { size: "medium", position: "center" }),
            o.createElement(
              "table",
              { className: ue().InvitedAppHistoryTable },
              o.createElement(
                "thead",
                null,
                o.createElement(
                  "tr",
                  null,
                  o.createElement("th", null, "Invited By"),
                  o.createElement("th", null, "Game"),
                  o.createElement("th", null, "Status"),
                ),
              ),
              o.createElement(
                "tbody",
                null,
                null == a
                  ? void 0
                  : a
                      .filter((e) => e.accountid_invited)
                      .map((e) =>
                        o.createElement(ut, { registration: e, key: e.appid }),
                      ),
              ),
            ),
          )
        );
      }
      function ut(e) {
        const { registration: t } = e,
          [n] = (0, Qe.vs)(t.appid, mt);
        let a = "invited";
        return (
          t.pruned
            ? (a = "pruned")
            : t.opt_in
              ? (a = "opted in")
              : t.time_opted_out && (a = "opted out"),
          o.createElement(
            "tr",
            { className: ue().InvitedAppRow },
            o.createElement(
              "td",
              null,
              Boolean(t.accountid_invited) &&
                o.createElement(lt.N, { accountID: t.accountid_invited }),
            ),
            o.createElement(
              "td",
              null,
              (null == n ? void 0 : n.GetName()) || "unknown",
              " (",
              t.appid,
              ") ",
            ),
            o.createElement("td", null, a),
          )
        );
      }
      const pt = (0, $.Pi)((e) => {
        const t = l.On.Get(),
          n = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible();
        return o.createElement(
          pe.ug,
          { title: "Registration Requirements", bStartMinimized: !1 },
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "Registration Deadline"),
            o.createElement(Pe.A, {
              strDescription: void 0,
              nEarliestTime: 0,
              fnGetTimeToUpdate: () => t.GetOptInDeadlineTime(),
              fnSetTimeToUpdate: t.SetOptInDeadlineTime,
              fnIsValidDateTime: () => !0,
              bShowTimeZone: !0,
            }),
          ),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "ELIGIBILITY SETTING"),
            o.createElement(
              "div",
              { className: ue().SectionDesc },
              "Enable this to limit participation to only invitied games or partners.",
              o.createElement("br", null),
              "Disable to use criteria to determine participation eligibility.",
            ),
            o.createElement(m.gE, {
              onChange: (e) => {
                t.SetInvititationOnly(e);
              },
              label: "Make participation invite-only",
              checked: t.BIsInvitationOnly(),
            }),
            t.BIsInvitationOnly() &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: ue().Section },
                  o.createElement(rt, null),
                ),
              ),
            !t.BIsInvitationOnly() &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: ue().Section },
                  o.createElement("h3", null, "ELIGIBILITY CRITERIA SETTINGS"),
                  o.createElement(
                    "div",
                    { className: ue().IndentedSubSection },
                    o.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Use the settings below to define one or more criteria that determines which games can participate.",
                      o.createElement("br", null),
                      o.createElement("br", null),
                    ),
                    o.createElement("h3", null, "LIMIT BY RELEASE DATE"),
                    o.createElement(
                      "div",
                      { className: ue().Section },
                      !Boolean(n) &&
                        o.createElement(
                          "div",
                          { className: w().WarningStylesWithIcon },
                          "Required Setting for OptIn",
                        ),
                      o.createElement(m.ji, {
                        label: "Released games are eligible",
                        checked: t.BIsReleaseGamesEligible(),
                        onChange: t.SetReleaseGameEligible,
                      }),
                      o.createElement(m.ji, {
                        label: "Unreleased games are eligible",
                        checked: t.BIsUnreleaseGamesEligible(),
                        onChange: t.SetUnreleaseGameEligible,
                      }),
                      Boolean(t.BIsUnreleaseGamesEligible()) &&
                        o.createElement(
                          o.Fragment,
                          null,
                          o.createElement(Pe.A, {
                            strDescription: "Must release AFTER",
                            nEarliestTime: 0,
                            fnGetTimeToUpdate: () =>
                              t.GetEligibleReleaseAfterDate(),
                            fnSetTimeToUpdate: t.SetEligibleReleaseAfterDate,
                            fnIsValidDateTime: () => !0,
                            bShowTimeZone: !0,
                          }),
                          o.createElement(Pe.A, {
                            strDescription: "Must release BEFORE",
                            nEarliestTime: 0,
                            fnGetTimeToUpdate: () =>
                              t.GetEligibleReleaseBeforeDate(),
                            fnSetTimeToUpdate: t.SetEligibleReleaseBeforeDate,
                            fnIsValidDateTime: () => !0,
                            bShowTimeZone: !0,
                          }),
                        ),
                    ),
                    o.createElement("h3", null, "LIMIT BY COOLDOWN GROUP"),
                    o.createElement(
                      "div",
                      { className: ue().Section },
                      o.createElement(m.ji, {
                        label:
                          "Games are ineligible to optin to this event if already opted in to an event of the same type",
                        checked: t.GetCooldownRequired(),
                        onChange: t.SetCooldownRequired,
                      }),
                      o.createElement(
                        "div",
                        { className: ue().InviteButtonRow },
                        o.createElement(m.ry, {
                          label: "Cooldown Group",
                          rgOptions: t.GetCooldownGroupOptions(),
                          selectedOption: t.GetCooldownGroupType(),
                          onChange: (e) => t.SetCooldownGroupType(e.data),
                          contextMenuPositionOptions: {
                            bDisableMouseOverlay: !0,
                          },
                        }),
                        o.createElement(
                          "div",
                          { className: ue().NarrowInputField },
                          o.createElement(m.II, {
                            label: "Cooldown Window (in number of days)",
                            type: "number",
                            value: t.GetCooldownDays(),
                            maxLength: 4,
                            onChange: (e) =>
                              t.SetCooldownDays(parseInt(e.target.value)),
                          }),
                        ),
                      ),
                    ),
                    o.createElement("h3", null, "LIMIT BY TAG"),
                    o.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Games must have one of these tags to participate",
                    ),
                    o.createElement(
                      "div",
                      { className: ue().Section },
                      o.createElement(ke.ZP, {
                        isSearchable: !0,
                        isMulti: !0,
                        onChange: t.OnChangeRequiredTags,
                        value: t.GetRequiredTags(),
                        options: t.GetGameTagOptions(),
                      }),
                      o.createElement("br", null),
                      o.createElement("br", null),
                      o.createElement(
                        "div",
                        { className: ue().NarrowInputField },
                        o.createElement(m.II, {
                          type: "number",
                          min: "1",
                          max: "40",
                          label:
                            "Max Rank for the Apps Weighted Official Tag to Include",
                          tooltip:
                            "When comparing against the app list of official weighted tags; this is the largest rank to include. Default is 20 if not specified on the server.  Make sure 1) set field, 2) save opt in, 3) publish opt in, 4) refresh stats 5) ??? 6) Profit",
                          value: t.GetAppOfficialWeightedTagRankToInclude(),
                          onChange: (e) => {
                            const n =
                              Number.parseInt(e.currentTarget.value) || 20;
                            t.SetAppOfficialWeightedTagRankToInclude(n);
                          },
                        }),
                      ),
                    ),
                    o.createElement("h3", null, "LIMIT BY APP FEATURES"),
                    o.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Games must have one of these features to participate",
                    ),
                    o.createElement(
                      "div",
                      { className: ue().Section },
                      o.createElement(m.ji, {
                        label: "Remote Play Together",
                        checked: t.BRequiresRemotePlayTogether(),
                        onChange: t.SetRequiresRemotePlayTogether,
                      }),
                      o.createElement(m.ji, {
                        label: "VR",
                        checked: t.BRequiresVR(),
                        onChange: t.SetRequiresVR,
                      }),
                    ),
                  ),
                ),
              ),
          ),
        );
      });
      var _t = n(80445);
      function ht(e) {
        return e ? { label: (0, _t.Sq)(e), value: "" + e } : null;
      }
      const gt = (0, $.Pi)((e) => {
        const t = l.On.Get(),
          [n, a] = o.useState(t.BHasSpecialEventType()),
          [i, r] = o.useState(ht(t.GetSpecialEventType())),
          s = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          },
          c = new Array();
        ne.De.forEach((e) => c.push(ht(e)));
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "h3",
            null,
            "Include Special Event Category for OptIn",
          ),
          o.createElement(
            "p",
            null,
            "If enabled, registered games have the ability to create events of the specified typed marked up using tags with this opt-in names. This allows sales page to automatically load those events in a carousel or a schedule widget.",
            o.createElement(
              "span",
              null,
              Boolean(n) &&
                o.createElement(
                  "span",
                  null,
                  " The following tag will be set on the associated events: ",
                  o.createElement("b", null, t.GetFullName()),
                ),
            ),
          ),
          n
            ? o.createElement(
                "div",
                { className: ue().IndentedSubSection },
                o.createElement(
                  "p",
                  null,
                  "This special event type will appear at the top of the category chooser for registered games. Please configure the name and info so partners know what this event is for.",
                ),
                o.createElement(
                  "p",
                  null,
                  o.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Opt-In+Tech+Custom+Event+type",
                      target: "_blank",
                    },
                    "Learn more about this feature here.",
                  ),
                ),
                o.createElement(ke.ZP, {
                  styles: s,
                  isSearchable: !0,
                  isMulti: !1,
                  placeholder: "Choose Event type",
                  onChange: (e) => {
                    r(e),
                      (null == e ? void 0 : e.value) &&
                        t.SetSpecialEventType(Number.parseInt(e.value));
                  },
                  value: i,
                  options: c,
                  defaultMenuIsOpen: !1,
                }),
                o.createElement("br", null),
                o.createElement(m.II, {
                  type: "text",
                  label: "Optional: Special Event Title:",
                  onChange: (e) => t.SetCurSpecialEventName(e.target.value),
                  value: t.GetCurSpecialEventName(),
                  tooltip:
                    "This appears on the partner events editor to describe the special event category. Assign if the opt-in name is not helpful when creating the event. Don't include the event type, it will be appended at the end, ie, News or Live Stream.",
                  placeholder: "Optional: Special Event Title Here",
                }),
                o.createElement("br", null),
                o.createElement(
                  "div",
                  null,
                  "Optional: Special Event Description:",
                ),
                o.createElement(le.R, {
                  fnGetCurText: t.GetCurSpecialEventDescription,
                  fnOnTextChange: (e) =>
                    t.SetCurSpecialEventDescription(e.currentTarget.value),
                  fnSetText: t.SetCurSpecialEventDescription,
                  strPlaceholder:
                    "Optional: Enter Special Event Description Here",
                  emoticonStore: ie.F,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: ue().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                o.createElement("br", null),
                o.createElement(m.II, {
                  type: "text",
                  label: "Optional: Documentation Link:",
                  onChange: (e) => t.SetSpecialEventDocLink(e.target.value),
                  value: t.GetSpecialEventDocLink(),
                  tooltip:
                    "Ideally links directly to the part of the OptIn documentation that talks about the purpose of this event. Use an anchor to do this.",
                  placeholder: "Optional: Documentation Link Here",
                }),
                o.createElement(
                  "div",
                  { className: ue().NarrowInputField },
                  o.createElement(m.II, {
                    type: "number",
                    min: "0",
                    max: "40",
                    label: "Optional: Maximum amount of events per game",
                    onChange: (e) =>
                      t.SetSpecialEventTypeMax(Number.parseInt(e.target.value)),
                    value: t.GetSpecialEventTypeMax(),
                    tooltip:
                      "How many of these event type can a single game created? If set to zero, it means unlimited.",
                  }),
                ),
                o.createElement(vt, null),
              )
            : o.createElement(m.ji, {
                label: "Enable Feature",
                checked: n,
                onChange: a,
              }),
        );
      });
      function vt(e) {
        const t = l.On.Get(),
          [n, a] = o.useState(
            t.BHasSpecialEventTimeSet() || t.NCountSpecialEventBlocks() > 0,
          ),
          [i, r, s, c, d] = (0, Ce.SZ)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetSpecialEventStartTime(),
            t.GetSpecialEventEndTime(),
            t.GetAllSpecialEventBlocks(),
          ]);
        return n
          ? o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "p",
                null,
                "Optional: Further restrict the event scheduling between these following two times. By restricting the schedule\tit allows the event organizer to run official streams that will take priority and letting partners avoid scheduling their events at those time.",
              ),
              o.createElement(Pe.A, {
                strDescription: "Special Event Scheduling Start Date and Time",
                nEarliestTime: i,
                nLatestTime: r,
                fnGetTimeToUpdate: () => s,
                fnSetTimeToUpdate: t.SetSpecialEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              o.createElement(Pe.A, {
                strDescription: "Special Event Scheduling End Date and Time",
                nEarliestTime: i,
                nLatestTime: r,
                fnGetTimeToUpdate: () => c,
                fnSetTimeToUpdate: t.SetSpecialEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement(
                "p",
                null,
                "Optional: Add one ore more additional event scheduling restrictions. For instance, we plan to have official replace or broadcasts are different points of the events that are not strictly at the start or end of the event. Alternatively, we want to prevents partners from scheduling their live streams during the common hours related to Steam prop and suffer from their stream interruptions.",
              ),
              o.createElement(re.R, {
                items: d,
                onDelete: (e) => t.RemoveSpecialEventBlock(e),
                onMove: (e, n) => t.MoveSpecialEventblock(e, n),
                render: (e) => {
                  const t = e,
                    n = d.findIndex((e) => e == t);
                  return o.createElement(Et, {
                    key:
                      "rtime" +
                      n +
                      "_" +
                      (null == t ? void 0 : t.block_rt_start),
                    block: t,
                  });
                },
                onEdit: (e, t) =>
                  (0, g.AM)(
                    o.createElement(St, { blockIndex: e }),
                    (0, D.RA)(t),
                  ),
              }),
              o.createElement(
                m.zx,
                { onClick: () => t.AddSpecialEventBlock() },
                "Add a Special Event Blocked from Scheduling Time Range",
              ),
              o.createElement("br", null),
              o.createElement("br", null),
            )
          : o.createElement(m.ji, {
              label: "Optional: Limit Event Schedule Time",
              checked: n,
              onChange: a,
            });
      }
      function Et(e) {
        const { block: t } = e,
          [n, a, i, l] = (0, Ce.SZ)(() => [
            t.block_rt_start,
            t.block_rt_end,
            t.block_reason,
            t.internal_reason,
          ]);
        return t && t.block_rt_start && t.block_rt_end
          ? o.createElement(
              "div",
              null,
              o.createElement("span", null, "Blocked time: "),
              o.createElement(h.Ai, { startDateAndTime: n, endDateAndTime: a }),
              Boolean(l) && o.createElement("div", null, "Interal Reason: ", l),
              Boolean(i) &&
                o.createElement(
                  "div",
                  null,
                  "Has Localizable User Facing Reason",
                ),
            )
          : o.createElement(
              "div",
              null,
              "Error: Block Time not setup. Please edit",
            );
      }
      function St(e) {
        const { blockIndex: t, closeModal: n } = e,
          a = l.On.Get(),
          [i, r] = (0, o.useState)(a.GetAllSpecialEventBlocks()[t]),
          [s, c, d] = (0, Ce.SZ)(() => [
            a.GetEventStartTime(),
            a.GetEventEndTime(),
            ae.U.Get().GetCurEditLanguage(),
          ]),
          u = (0, ne.j_)(d),
          p = (e) => (i.block_reason[u] = e);
        return o.createElement(
          P.uH,
          {
            strTitle: "Edit Special Event Schedule Block Range",
            strDescription:
              "Additional times when a partner cannot schedule their special event because we have blocked it out",
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              a.SetSpecialEventBlock(t, i) ||
                console.log(
                  "Failed to save special event block, requiring debugging, ",
                  t,
                );
            },
            closeModal: n,
          },
          o.createElement(Pe.A, {
            strDescription: "Blocked Out Scheduling Start Date and Time",
            nEarliestTime: s,
            nLatestTime: c,
            fnGetTimeToUpdate: () => i.block_rt_start,
            fnSetTimeToUpdate: (e) =>
              r(Object.assign(Object.assign({}, i), { block_rt_start: e })),
            fnIsValidDateTime: () =>
              (i.block_rt_start && !i.block_rt_end) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          o.createElement(Pe.A, {
            strDescription: "Blocked Out Scheduling End Date and Time",
            nEarliestTime: s,
            nLatestTime: c,
            fnGetTimeToUpdate: () => i.block_rt_end,
            fnSetTimeToUpdate: (e) =>
              r(Object.assign(Object.assign({}, i), { block_rt_end: e })),
            fnIsValidDateTime: () =>
              (i.block_rt_end && !i.block_rt_start) ||
              i.block_rt_start < i.block_rt_end,
            bShowTimeZone: !0,
          }),
          o.createElement(m.II, {
            type: "text",
            label: "Internal Reason",
            value: i.internal_reason || "",
            onChange: (e) =>
              r(
                Object.assign(Object.assign({}, i), {
                  internal_reason: e.currentTarget.value,
                }),
              ),
            placeholder: "Optional: Reason visible only to us",
          }),
          o.createElement(
            "div",
            null,
            "Optional: Blocking Schedule Localized Reason visible to Partner Event Editors:",
          ),
          o.createElement(le.R, {
            fnGetCurText: () => (0, te.pM)(i.block_reason, d, ""),
            fnOnTextChange: (e) => p(e.currentTarget.value),
            fnSetText: p,
            strPlaceholder:
              "Optional: Enter Schedule block description here; shorter concise reason preferred.",
            emoticonStore: ie.F,
            bSupportHTMLImport: !0,
            showFormatHelp: "PartnerEvents",
            classNameForTextArea: ue().EventBBCodeEditor,
            limitBBCode: void 0,
            nOverridesRows: 10,
          }),
          o.createElement("br", null),
        );
      }
      function Dt(e) {
        const t = l.On.Get(),
          [n, a] = (0, o.useState)(
            () =>
              t.GetQandA1EventStartTime() > 0 ||
              t.GetQandA2EventStartTime() > 0,
          ),
          [i, r, s, c, d, u] = (0, Ce.SZ)(() => [
            t.GetEventStartTime(),
            t.GetEventEndTime(),
            t.GetQandA1EventStartTime(),
            t.GetQandA2EventStartTime(),
            t.GetQandA1URL(),
            t.GetQandA2URL(),
          ]);
        return o.createElement(
          pe.ug,
          { title: "Event Deadlines and Reminders", bStartMinimized: !1 },
          o.createElement(
            "p",
            null,
            "Items here will surface directly on the generated documentation and surfaces on participating partners dashboards as informational",
          ),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "Next Fest Additional Times"),
            o.createElement(
              "p",
              null,
              "Next Fest has two Question and Answer sessions. The first one is registration focussed and second is more general",
            ),
            Boolean(!n)
              ? o.createElement(m.ji, {
                  label: "Enable Question and Answer Section?",
                  checked: n,
                  onChange: () => a(!0),
                })
              : o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(Pe.A, {
                    strDescription: (0, G.Xx)(
                      "#OptIn_NextFest_QAndA_Registration",
                    ),
                    nEarliestTime: i,
                    nLatestTime: r,
                    fnGetTimeToUpdate: () => s,
                    fnSetTimeToUpdate: t.SetQandA1EventStartTime,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                  o.createElement(m.II, {
                    type: "text",
                    label: "URL to display partners for this event:",
                    onChange: (e) => t.SetQandA1URL(e.target.value),
                    value: d,
                    mustBeURL: !0,
                  }),
                  o.createElement(Pe.A, {
                    strDescription: (0, G.Xx)("#OptIn_NextFest_QAndA"),
                    nEarliestTime: i,
                    nLatestTime: r,
                    fnGetTimeToUpdate: () => c,
                    fnSetTimeToUpdate: t.SetQandA2EventStartTime,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                  o.createElement(m.II, {
                    type: "text",
                    label: "URL to display partners for this event:",
                    onChange: (e) => t.SetQandA2URL(e.target.value),
                    value: u,
                    mustBeURL: !0,
                  }),
                ),
          ),
        );
      }
      function ft(e) {
        const t = l.On.Get(),
          [n, a, i] = (0, Ce.SZ)(() => [
            t.GetName(),
            t.GetFullName(),
            t.BIsOptInEnabled(),
          ]),
          r =
            f.De.PARTNER_BASE_URL +
            "admin/store/page/" +
            a +
            "?activetab=tab_publish";
        return o.createElement(
          "div",
          { className: we().AdminPageCtn },
          o.createElement(
            "div",
            { className: we().PageTitle },
            "OptIn Admin Editing: ",
            n,
          ),
          o.createElement("hr", null),
          o.createElement(
            "div",
            { className: we().ColumnCtn },
            o.createElement(
              "div",
              { className: we().LeftCol },
              o.createElement(yt, null),
              o.createElement(Pt, null),
              o.createElement(pt, null),
              o.createElement(bt, null),
              o.createElement(Dt, null),
              o.createElement(It, null),
              o.createElement(_e, null),
              o.createElement(Ct, null),
              o.createElement(kt, null),
              o.createElement(At, null),
              o.createElement(Xe, null),
              o.createElement(wt, null),
            ),
            o.createElement(
              "div",
              { className: we().RightCol },
              o.createElement(
                "div",
                { className: we().SectionCtn },
                o.createElement(
                  "div",
                  { className: ue().SectionDesc },
                  "When you are ready to start accepting opt-ins from eligible games that meet the criteria you've defined, check the box below. You will then need to follow the path to publish this event in order to make it public.",
                ),
                o.createElement("br", null),
                Boolean(i) &&
                  o.createElement(
                    o.Fragment,
                    null,
                    o.createElement(
                      "div",
                      { className: ue().SectionDesc },
                      "Note: Since this OptIn is enabled for partner, after each text or localization update, please remember to Publish.  Publishing is required for the updated text to appear to partners.",
                    ),
                    o.createElement("br", null),
                  ),
                o.createElement(m.ji, {
                  label: "Enable Partners to opt-in",
                  checked: i,
                  onChange: t.SetOptInEnabled,
                }),
                o.createElement(
                  "a",
                  { href: r, className: (0, S.Z)(_().Button, _().Primary) },
                  "Go Publish",
                ),
              ),
            ),
          ),
        );
      }
      const yt = (0, $.Pi)((e) => {
          const t = l.On.Get(),
            n = [
              {
                label: "Event Registration",
                data: te.Vs.k_EOptInType_EventRegistration,
              },
              {
                label: "Recommended Actions",
                data: te.Vs.k_EOptInType_RecommendedAction,
              },
            ];
          return o.createElement(
            pe.ug,
            { title: "Basic Event Info", bStartMinimized: !1 },
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Event Title:"),
              o.createElement(m.II, {
                type: "text",
                onChange: (e) => t.SetCurEventTitle(e.target.value),
                value: t.GetCurEventTitle(),
                placeholder: "Enter Title Here",
                className: _().LargeInput,
              }),
              o.createElement("br", null),
              o.createElement("h3", null, "Event Description:"),
              o.createElement(
                "p",
                null,
                "This section appears at the top of the opt-in page and is used for telling potential participants what the event is all about. This is also considered the overview which appears in the automatically generated docs",
              ),
              o.createElement(le.R, {
                fnGetCurText: t.GetCurDescription,
                fnOnTextChange: (e) =>
                  t.SetCurDescription(e.currentTarget.value),
                fnSetText: t.SetCurDescription,
                strPlaceholder: "Enter Description Here",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              o.createElement("h3", null, "Event Eligibility:"),
              o.createElement(
                "p",
                null,
                "This section should contain only the eligibility requirements for participating in the event",
              ),
              o.createElement(le.R, {
                fnGetCurText: t.GetCurEligibilityText,
                fnOnTextChange: (e) =>
                  t.SetCurEligibilityText(e.currentTarget.value),
                fnSetText: t.SetCurEligibilityText,
                strPlaceholder: "Enter Eligibility Here",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
              o.createElement("h3", null, "OptIn Type"),
              o.createElement(m.ry, {
                strDropDownClassName: _().DropDownScroll,
                rgOptions: n,
                selectedOption: t.GetOptInType(),
                onChange: (e) => t.SetOptInType(e.data),
                bDisableMouseOverlay: !0,
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                tooltip:
                  "Allows us to re-use OptIn tech for non-event registration purposes.",
              }),
            ),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Event Dates:"),
              o.createElement(
                "p",
                null,
                "Specify the dates of the actual event",
              ),
              o.createElement(Pe.A, {
                strDescription: "Event Start Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventStartTime(),
                fnSetTimeToUpdate: t.SetEventStartTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              o.createElement(Pe.A, {
                strDescription: "Event End Date and Time",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventEndTime(),
                fnSetTimeToUpdate: t.SetEventEndTime,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
              o.createElement("h3", null, "Trailer Live Date:"),
              o.createElement(
                "p",
                null,
                "Specify when the trailer will be available. If missing, we won't show in the documentation",
              ),
              o.createElement(Pe.A, {
                strDescription: "Trailer Live Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => t.GetEventTrailerDropDate(),
                fnSetTimeToUpdate: t.SetEventTrailerDropDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Steamworks Documentation URL:"),
              o.createElement(
                "p",
                null,
                "Where in the Steamworks Documentation can partners learn about this festival and eligiblity criteria",
              ),
              o.createElement(m.II, {
                type: "text",
                onChange: (e) =>
                  t.SetPublicDocumentationWikiURL(e.target.value),
                value: t.GetPublicDocumentationWikiURL(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales/<EVENT NAME>",
              }),
              o.createElement("h3", null, "Partner and Press Asset Kit:"),
              o.createElement(
                "p",
                null,
                "When supplied this will be the URL for the partner and press to download from the documentation page",
              ),
              o.createElement(m.II, {
                type: "text",
                onChange: (e) => t.SetAssetSetDocFile(e.target.value),
                value: t.GetAssetSetDocFile(),
                mustBeURL: !0,
                placeholder:
                  "For Example: https://www.dropbox.com/scl/fo/hv57yc7yda6i21k47fi2v/h?rlkey=w7gbb0mjuy4imutpi2651lbl8&dl=0",
              }),
              o.createElement("h3", null, "Help Text:"),
              o.createElement(
                "p",
                null,
                "This section appears near the bottom of the opt-in page and is used for describing where participants can find more information.",
              ),
              o.createElement(le.R, {
                fnGetCurText: t.GetCurHelpText,
                fnOnTextChange: (e) => t.SetCurHelpText(e.currentTarget.value),
                fnSetText: t.SetCurHelpText,
                strPlaceholder: "Enter Help Text",
                emoticonStore: ie.F,
                bSupportHTMLImport: !0,
                showFormatHelp: "PartnerEvents",
                classNameForTextArea: ue().EventBBCodeEditor,
                limitBBCode: void 0,
                nOverridesRows: 10,
              }),
            ),
            o.createElement(Me, null),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Categorization & Stat Reporting:"),
              o.createElement(
                "p",
                null,
                "Allows the developer to view how their game is being categorized within the sale page. The event hosting the sale page must be publicly visible.",
              ),
              o.createElement(
                "ul",
                null,
                o.createElement(
                  "li",
                  null,
                  "Before the event start, this would be the developer preview sale pages. ",
                ),
                o.createElement(
                  "li",
                  null,
                  "Once the evnet is live, we should update this value to the actual sale page's clan event GID.",
                ),
              ),
              o.createElement(
                "p",
                null,
                "Our event stats will also be based on the apps included in this sale page.",
              ),
              o.createElement(m.II, {
                type: "text",
                onChange: (e) => t.SetPublicEventID(e.target.value),
                value: t.GetPublicEventID(),
                placeholder: "5196643638649256091",
              }),
            ),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement(gt, null),
            ),
          );
        }),
        bt = (0, $.Pi)((e) => {
          const t = l.On.Get();
          return o.createElement(
            pe.ug,
            { title: "Registration Options", bStartMinimized: !1 },
            o.createElement(
              "span",
              null,
              "Select the settings that should appear as part of the opt-in process",
            ),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Categories"),
              o.createElement(
                "p",
                null,
                "Ask developers to choose one or more categories that apply to their game. Most often used with Next Fest to put games in the right sections and tabs.",
              ),
              o.createElement(m.ji, {
                label: "Show Categories",
                checked: t.BIsCategoriesEnabled(),
                onChange: t.SetCategoriesEnabled,
              }),
              o.createElement("hr", null),
              o.createElement(
                "div",
                {
                  className: (0, S.Z)(
                    ue().IndentedSubSection,
                    t.BIsCategoriesEnabled() ? "" : ue().Disabled,
                  ),
                },
                o.createElement(m.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetCategoriesRequired(),
                  onChange: (e) => t.SetCategoriesRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                o.createElement("span", null, "Visible Categories"),
                o.createElement(ke.ZP, {
                  isSearchable: !0,
                  isMulti: !0,
                  onChange: t.OnChangeCategoryTags,
                  value: t.GetCategoryTags(),
                  options: t.GetGameTagOptions(),
                }),
              ),
            ),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Press Contact Info"),
              o.createElement(
                "p",
                null,
                "When enablesd, it will allow the partner to enter a primary contact name and email address for this game. It will inform them that we plan to use this information when contacting the press about the event with participating games. You can export the opt-in press contact in manage tab.",
              ),
              o.createElement(m.ji, {
                label: "Collect Press Contact Info",
                checked: t.BIsPressContactEnabled(),
                onChange: t.SetPressContactEnabled,
              }),
              o.createElement("hr", null),
              o.createElement(
                "div",
                {
                  className: (0, S.Z)(
                    ue().IndentedSubSection,
                    t.BIsPressContactEnabled() ? "" : ue().Disabled,
                  ),
                },
                o.createElement(m.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetPressContactRequired(),
                  onChange: (e) => t.SetPressContactRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
              ),
            ),
          );
        }),
        It = (0, $.Pi)((e) => {
          const t = l.On.Get();
          return o.createElement(
            pe.ug,
            { title: "Uncommon Registration Options", bStartMinimized: !0 },
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Artist Statement"),
              o.createElement(
                "p",
                null,
                "Ask developers to provide an artist statement. This is presented as the following",
              ),
              o.createElement(
                "p",
                null,
                o.createElement(
                  "i",
                  null,
                  '"Please also tell us a bit about yourself (or your team) and your game. Anything you think we should know that won\'t be obvious from your Steam appID such as awards your game has won or shows it has been included in? Unique story of your team or the project? Let us know here! Note: Your text here is for internal use at Valve only and will not be shown publicly."',
                ),
              ),
              o.createElement(m.ji, {
                label: "Artist Statement",
                checked: t.BIsArtistStatementEnabled(),
                onChange: t.SetArtistStatementEnabled,
              }),
              o.createElement(m.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: t.GetRequiredOptions(),
                selectedOption: t.GetArtistStatementRequired(),
                onChange: (e) => t.SetArtistStatementRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
            ),
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement("h3", null, "Primary Country"),
              o.createElement(
                "p",
                null,
                "Ask developers to tell us what country they are primarily from. We haven't used this in a long time.",
              ),
              o.createElement(m.ji, {
                label: "Ask developers to enter their Primary Country",
                checked: t.BIsPrimaryCountryEnabled(),
                onChange: t.SetPrimaryCountryEnabled,
              }),
              o.createElement(m.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: t.GetRequiredOptions(),
                selectedOption: t.GetPrimaryCountryRequired(),
                onChange: (e) => t.SetPrimaryCountryRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
            ),
          );
        }),
        Ct = (0, $.Pi)((e) => {
          const t = l.On.Get();
          return o.createElement(
            pe.ug,
            {
              title: "Tasks Required Prior To Registration",
              bStartMinimized: !1,
            },
            o.createElement(
              "div",
              { className: ue().Section },
              o.createElement(m.ji, {
                label: "Show this section to developers",
                checked: t.BIsBeforeYouOptInEnabled(),
                onChange: t.SetBeforeYouOptInEnabled,
              }),
              o.createElement("hr", null),
              o.createElement(
                "div",
                {
                  className: (0, S.Z)(
                    ue().IndentedSubSection,
                    t.BIsBeforeYouOptInEnabled() ? "" : ue().Disabled,
                  ),
                },
                o.createElement("h3", null, "Build Your Store Page"),
                o.createElement(m.ji, {
                  label: "Remind devs to build their store page",
                  checked: t.BIsBuildYourStorePageEnabled(),
                  onChange: t.SetBuildYourStorePageEnabled,
                }),
                o.createElement(m.ry, {
                  label: "Optional/Suggested/Required",
                  rgOptions: t.GetRequiredOptions(),
                  selectedOption: t.GetBuildYourStorePageRequired(),
                  onChange: (e) => t.SetBuildYourStorePageRequired(e.data),
                  contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
                }),
                o.createElement(le.R, {
                  fnGetCurText: t.GetStorePageText,
                  fnOnTextChange: (e) =>
                    t.SetStorePageText(e.currentTarget.value),
                  fnSetText: t.SetStorePageText,
                  strPlaceholder:
                    "Describe any required guidelines for the store page such as screenshots, trailer, etc.",
                  emoticonStore: ie.F,
                  bSupportHTMLImport: !0,
                  showFormatHelp: "PartnerEvents",
                  classNameForTextArea: ue().EventBBCodeEditor,
                  limitBBCode: void 0,
                  nOverridesRows: 10,
                }),
                o.createElement("h3", null, "Tagging Wizard"),
                o.createElement(m.ji, {
                  label: "Remind developers to use The Tagging Wizard",
                  checked: t.BIsTaggingWizardEnabled(),
                  onChange: t.SetTaggingWizardEnabled,
                }),
              ),
            ),
          );
        });
      function kt(e) {
        const t = l.On.Get(),
          [n, a, i, r] = (0, Ce.SZ)(() => [
            t.BIsLaunchYourDemoEnabled(),
            t.GetRequiredOptions(),
            t.GetLaunchYourDemoRequired(),
            t.GetLaunchYourDemoDueDate(),
          ]);
        return o.createElement(
          pe.ug,
          { title: "Tasks required to start", bStartMinimized: !1 },
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement(
              "p",
              null,
              "These are sections that describe activities that developers need to do in order to be live within the festival.",
            ),
            o.createElement(m.ji, {
              label: "Show 'Launch your demo' section",
              checked: n,
              onChange: t.SetLaunchYourDemoEnabled,
            }),
            o.createElement("hr", null),
            o.createElement(
              "div",
              {
                className: (0, S.Z)(
                  ue().IndentedSubSection,
                  n ? "" : ue().Disabled,
                ),
              },
              o.createElement(m.ry, {
                label: "Optional/Suggested/Required",
                rgOptions: a,
                selectedOption: i,
                onChange: (e) => t.SetLaunchYourDemoRequired(e.data),
                contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
              }),
              o.createElement(Pe.A, {
                strDescription: "Due Date",
                nEarliestTime: 0,
                fnGetTimeToUpdate: () => r,
                fnSetTimeToUpdate: t.SetLaunchYourDemoDueDate,
                fnIsValidDateTime: () => !0,
                bShowTimeZone: !0,
              }),
            ),
          ),
        );
      }
      function At(e) {
        const t = l.On.Get(),
          [n, a, i, r, s, c] = (0, Ce.SZ)(() => [
            t.BIsDoAnytimeEnabled(),
            t.BIsLivestreamEnabled(),
            t.BIsChatSessionEnabled(),
            t.BIsAnytimeTaggingWizardEnabled(),
            t.BIsEnterDiscountsEnabled(),
            t.GetDiscountEventID(),
          ]);
        return o.createElement(
          pe.ug,
          { title: "Tasks that can be done any time", bStartMinimized: !1 },
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement(
              "p",
              null,
              "Show activities such as livestreaming, chat sessions, tagging wizard, and discounting that developers can do at any time to get more out of their participation in this event.",
            ),
            o.createElement(m.ji, {
              label: "Show This Section to Developers",
              checked: n,
              onChange: t.SetDoAnytimeEnabled,
            }),
            o.createElement("hr", null),
            o.createElement(
              "div",
              {
                className: (0, S.Z)(
                  ue().IndentedSubSection,
                  Boolean(n) ? "" : ue().Disabled,
                ),
              },
              o.createElement(
                "h3",
                null,
                "This Event Will Feature Livestreams",
              ),
              o.createElement(m.ji, {
                label: "Developers can create livestream sessions",
                checked: a,
                onChange: t.SetLivestreamEnabled,
              }),
              o.createElement(
                "span",
                null,
                "Developers may schedule a 'livestream' type event during this sale and their stream will be prioritized in the broadcast player on the event landing page during their scheduled time.",
              ),
              o.createElement("br", null),
              o.createElement("h3", null, "This Event Will Feature Dev Chats"),
              o.createElement(m.ji, {
                label: "Developers can create chat session",
                checked: i,
                onChange: t.SetChatSessionEnabled,
              }),
              o.createElement(
                "span",
                null,
                "Developers may schedule a 'live chat' type event during this sale and their event will appear in the schedule on the event landing page.",
              ),
              o.createElement("br", null),
              o.createElement("h3", null, "Reminder to Update Store Tags"),
              o.createElement(m.ji, {
                label: "Remind developers to use the tagging wizard",
                checked: r,
                onChange: t.SetAnytimeTaggingWizardEnabled,
              }),
              o.createElement(
                "span",
                null,
                "Developers should make use of the tagging wizard to make sure players can find their game.",
              ),
              o.createElement("br", null),
              o.createElement("h3", null, "This Event features discounts"),
              o.createElement(m.ji, {
                label: "Remind developers to enter discounts",
                checked: s,
                onChange: t.SetEnterDiscountsEnabled,
              }),
              o.createElement(
                "span",
                null,
                "Developers are reminded to enter discounts for their game.",
              ),
              o.createElement("br", null),
              Boolean(s) &&
                o.createElement(m.II, {
                  type: "text",
                  label: "Enter Discount Event ID",
                  placeholder:
                    "For example: 7113, in the case of partner.steamgames.com/admin/editdiscountevent/7113",
                  tooltip: "Only requires the ID found at the end of the URL",
                  value: c,
                  onChange: (e) => {
                    var n;
                    return t.SetDiscountEventID(
                      (null === (n = null == e ? void 0 : e.currentTarget) ||
                      void 0 === n
                        ? void 0
                        : n.value) || "",
                    );
                  },
                }),
            ),
          ),
        );
      }
      function wt(e) {
        const t = l.On.Get(),
          [n] = (0, Ce.SZ)(() => [t.BOptInRegistationOnlyShowSaveButton()]),
          [a, i] = (0, o.useState)(
            t.BHasOptInRegistrationTitleOrCheckbox() || n,
          ),
          [r, s] = (0, Ce.SZ)(() => [
            t.GetCurOptInRegistrationTitle(),
            t.GetCurOptInRegistrationCheckbox(),
          ]);
        return o.createElement(
          pe.ug,
          { title: "Override Final Particiption Text", bStartMinimized: !1 },
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement(
              "p",
              null,
              "The final part of the registration for the opt-in will have the following:",
            ),
            o.createElement(
              "p",
              null,
              o.createElement("b", null, "Default Title:"),
              " ",
              (0, G.Xx)("#OptIn_OptinOptionTitle"),
            ),
            o.createElement(
              "p",
              null,
              o.createElement("b", null, "Radio 1:"),
              " ",
              (0, G.Xx)(
                "#OptIn_Participate",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            o.createElement(
              "p",
              null,
              o.createElement("b", null, "Radio 2:"),
              " ",
              (0, G.Xx)(
                "#OptIn_Participate_No",
                "Game Name",
                t.GetCurEventTitle(),
              ),
            ),
            o.createElement("br", null),
            a
              ? o.createElement(
                  "div",
                  null,
                  o.createElement(m.II, {
                    type: "text",
                    label: "OptIn Registration Title",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationTitle(e.target.value),
                    value: r,
                    disabled: n,
                    placeholder: "Enter OptIn Registration Title Here",
                  }),
                  o.createElement(m.II, {
                    type: "text",
                    label: "OptIn Registration Checkbox",
                    tooltip:
                      "This version cannot dynamically insert the game name or the event name, it is just a localized string",
                    onChange: (e) =>
                      t.SetCurOptInRegistrationCheckbox(e.target.value),
                    value: s,
                    disabled: n,
                    placeholder: "Enter OptIn Registration Checkbox Here",
                  }),
                  o.createElement(m.ji, {
                    label: "Use the Save button as 'Opted In'",
                    tooltip:
                      "This hides the title and checkbox and only shows the save. When the save is pressed it is treated as opted in. Useful for when we are asking for permissions and not actualy looking for opt-in into a festival. Hitting means they are done.",
                    onChange: t.SetOptInRegistationOnlyShowSaveButton,
                    checked: n,
                  }),
                )
              : o.createElement(m.ji, {
                  label: "Override this final text?",
                  checked: a,
                  onChange: i,
                }),
          ),
        );
      }
      function Pt(e) {
        var t;
        const n = l.On.Get(),
          [a, i] = (0, o.useState)(
            (null === (t = n.GetCurAppealsText()) || void 0 === t
              ? void 0
              : t.length) > 0,
          );
        return o.createElement(
          pe.ug,
          { title: "Appeals Process", bStartMinimized: !1 },
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement(
              "p",
              null,
              "To avoid tickets, we want to provide games that have been pruned out or not considered information about how we reviewed games for inclusion in the sale. This let them review our guidelines and then submit an appeal for us to review for their include.  Not all opt-in's need an appear process.",
            ),
            Boolean(a)
              ? o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "p",
                    null,
                    "Describe the eligibility criteria here for partners to see. They will see this when their game is not eligible and they can then consider whether they wish to start an appeal.",
                  ),
                  o.createElement(le.R, {
                    fnGetCurText: n.GetCurAppealsText,
                    fnOnTextChange: (e) =>
                      n.SetCurAppealsText(e.currentTarget.value),
                    fnSetText: n.SetCurAppealsText,
                    strPlaceholder: "Enter Appeals Text",
                    emoticonStore: ie.F,
                    bSupportHTMLImport: !0,
                    showFormatHelp: "PartnerEvents",
                    classNameForTextArea: ue().EventBBCodeEditor,
                    limitBBCode: void 0,
                    nOverridesRows: 10,
                  }),
                )
              : o.createElement(
                  m.zx,
                  { onClick: () => i(!0) },
                  "Add Appeals Support",
                ),
          ),
        );
      }
      var Tt = n(33687),
        Nt = n(12999);
      function Rt(e) {
        const { tableRef: t } = e,
          n = (0, o.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              n = document.getElementById("filter-type"),
              a = document.getElementById("filter-value");
            (e.value = ""),
              (n.value = ""),
              (a.value = ""),
              t.current.table.clearFilter();
          }, [t]),
          a = (0, o.useCallback)(() => {
            let e = document.getElementById("filter-field"),
              n = document.getElementById("filter-type"),
              a = document.getElementById("filter-value"),
              i = e.options[e.selectedIndex].value,
              l = -1 != n.selectedIndex ? n.options[n.selectedIndex].value : "";
            i && l && t.current.table.setFilter(i, l, a.value);
          }, [t]);
        return o.createElement(
          "div",
          null,
          "Field: ",
          o.createElement(
            "select",
            { id: "filter-field", onChange: a },
            o.createElement("option", null),
            o.createElement("option", { value: "app_name" }, "App Name"),
            o.createElement("option", { value: "tags" }, "Tags"),
          ),
          o.createElement("span", { style: { paddingLeft: "20px" } }, "Type:"),
          o.createElement(
            "select",
            { id: "filter-type", onChange: a },
            o.createElement("option", { value: "=" }, "="),
            o.createElement("option", { value: "like" }, "like"),
          ),
          o.createElement("span", { style: { paddingLeft: "20px" } }, "Value:"),
          o.createElement("input", {
            id: "filter-value",
            type: "text",
            placeholder: "value to filter",
            onKeyUp: a,
          }),
          o.createElement("span", { style: { paddingLeft: "20px" } }),
          o.createElement(
            "button",
            { id: "download-csv", onClick: n },
            "Clear",
          ),
        );
      }
      var Gt = n(61553),
        Lt = n(6683),
        Bt = n(68390),
        xt = n.n(Bt),
        Mt = n(52108);
      function Ot(e) {
        const t = l.On.Get(),
          n = [
            { title: "App ID", field: "appid", formatter: Mt.L2, width: 80 },
            {
              title: "App Name",
              field: "app_name",
              formatter: Mt.IX,
              width: 250,
            },
            {
              title: "Is Released",
              field: "released",
              formatter: Mt.c8,
              width: 120,
            },
          ];
        return (
          t.BIsEnterDiscountsEnabled() &&
            n.push(
              {
                title: "Long Term Sales Rank",
                field: "long_term_sales_rank",
                formatter: Mt.AV,
                width: 80,
              },
              {
                title: "Discounts",
                field: "discount_info",
                formatter: Mt.sN,
                width: 450,
                variableHeight: !0,
              },
            ),
          n.push(
            {
              title: "Wishlists",
              field: "wishlists",
              formatter: Mt.AV,
              sorter: "number",
              width: 140,
            },
            {
              title: "Sales",
              field: "sales",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "DLC Sales",
              field: "sales_dlc",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "In Game Sales",
              field: "sales_in_game",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            { title: "Tags", field: "tags", width: 250 },
            {
              title: "Publisher ID",
              field: "publisherid",
              formatter: Mt.H,
              width: 120,
            },
          ),
          n
        );
      }
      function Ft(e, t) {
        return Number.parseInt(t.sales) - Number.parseInt(e.sales);
      }
      function Ut(e, t) {
        const {
            oAllStats: n,
            mapAppToDiscountInfo: a,
            strDiscountEventID: i,
            rtEventStart: l,
            rtEventEnd: r,
          } = t,
          o = {
            nTotal: e.length || 0,
            nTopOptedIn: 0,
            nTopOptedOut: 0,
            nTopInvited: 0,
            nTopWithOverlappingDiscount: 0,
            nTopWithOfficialDiscount: 0,
            nTopFree: 0,
            nTopComingSoon: 0,
          };
        return (
          e.forEach((e) => {
            var t, s;
            n.setOptedIn.has(e.appid) && (o.nTopOptedIn += 1),
              n.setOptedOut.has(e.appid) && (o.nTopOptedOut += 1),
              n.setInvited.has(e.appid) && (o.nTopInvited += 1);
            const c = null == a ? void 0 : a.get(e.appid);
            c &&
              (c.is_free && (o.nTopFree += 1),
              c.is_coming_soon && (o.nTopComingSoon += 1),
              i &&
                (null === (t = c.discounts) || void 0 === t
                  ? void 0
                  : t.find((e) => e.discountEventID == i)) &&
                (o.nTopWithOfficialDiscount += 1),
              (null === (s = c.discounts) || void 0 === s
                ? void 0
                : s.some((e) => e.rtStartDate < r && e.rtEndDate > l)) &&
                (o.nTopWithOverlappingDiscount += 1));
          }),
          o
        );
      }
      function Ht(e) {
        const { rgOverviewList: t } = e,
          [n, a] = (0, o.useMemo)(
            () => [Ut(t.sort(Ft).slice(0, 100), e), Ut(t, e)],
            [e, t],
          );
        return e.mapAppToDiscountInfo
          ? o.createElement(
              pe.ug,
              {
                title: "OptIn Participation Stats",
                tooltip:
                  "Shows the stats for the top 100 and all games invited/optin/opted out for a themed sale. Ignores the eligible games",
                bStartMinimized: !1,
              },
              o.createElement(
                "table",
                { className: ue().StatsCtn },
                o.createElement(
                  "tr",
                  null,
                  o.createElement("th", null),
                  o.createElement("th", { colSpan: 4 }, "Action Taken:"),
                  o.createElement("th", { colSpan: 3 }, "Discounts:"),
                ),
                o.createElement(
                  "tr",
                  null,
                  o.createElement("th", null),
                  o.createElement("th", null, "Total"),
                  o.createElement("th", null, "Opt In"),
                  o.createElement("th", null, "Opt Out"),
                  o.createElement("th", null, "Invited"),
                  o.createElement("th", null, "All"),
                  o.createElement("th", null, "Official Discount Event"),
                  o.createElement("th", null, "Any overlapping Discount"),
                ),
                o.createElement(
                  "tr",
                  null,
                  o.createElement("td", null, "Top Hundred:"),
                  o.createElement(Vt, { oCalc: n }),
                ),
                o.createElement(
                  "tr",
                  null,
                  o.createElement("td", null, "All Games:"),
                  o.createElement(Vt, { oCalc: a }),
                ),
              ),
            )
          : o.createElement(T.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function Vt(e) {
        const { oCalc: t } = e;
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "td",
            null,
            t.nTopOptedIn + t.nTopOptedOut + t.nTopInvited,
          ),
          o.createElement("td", null, t.nTopOptedIn),
          o.createElement("td", null, t.nTopOptedOut),
          o.createElement("td", null, t.nTopInvited),
          o.createElement(
            "td",
            null,
            t.nTopWithOverlappingDiscount + t.nTopWithOfficialDiscount,
          ),
          o.createElement("td", null, t.nTopWithOfficialDiscount),
          o.createElement("td", null, t.nTopWithOverlappingDiscount),
        );
      }
      var Xt = n(45492);
      class jt {
        GetOptInDemoApps(e, t) {
          return this.m_mapAppToDemoAppID.get(this.ConvertToKey(e, t));
        }
        BHasLoaded(e, t) {
          return this.m_mapAppToDemoAppID.has(this.ConvertToKey(e, t));
        }
        GetLoadCallback(e, t) {
          const n = this.ConvertToKey(e, t);
          return (
            this.m_mapLoadCallback.has(n) ||
              this.m_mapLoadCallback.set(n, new Xt.pB()),
            this.m_mapLoadCallback.get(n)
          );
        }
        ConvertToKey(e, t) {
          return (
            e +
            (null == t ? void 0 : t.section_id) +
            (null == t ? void 0 : t.list_id) +
            (null == t ? void 0 : t.option_id)
          );
        }
        LoadAppWithDemoAppIDs(e, t) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n = this.ConvertToKey(e, t);
            return (
              this.m_mapPromises.has(n) ||
                this.m_mapPromises.set(
                  n,
                  this.InternalLoadAppWithDemoAppIDs(e, t),
                ),
              this.m_mapPromises.get(n)
            );
          });
        }
        InternalLoadAppWithDemoAppIDs(e, t) {
          var n, a;
          return (0, I.mG)(this, void 0, void 0, function* () {
            const i = new Map(),
              l = this.ConvertToKey(e, t);
            if (this.m_mapAppToDemoAppID.has(l))
              return this.m_mapAppToDemoAppID.get(l);
            try {
              const r = { sessionid: f.De.SESSIONID, optInName: e },
                o = f.De.PARTNER_BASE_URL + "optin/ajaxgetoptinappwithdemoid",
                s = yield k().get(o, { params: r, withCredentials: !0 });
              if (
                200 == (null == s ? void 0 : s.status) &&
                1 ==
                  (null === (n = null == s ? void 0 : s.data) || void 0 === n
                    ? void 0
                    : n.success)
              )
                null === (a = s.data.app_with_demos) ||
                  void 0 === a ||
                  a.forEach((e) => {
                    i.set(e.appid, e);
                  }),
                  this.m_mapAppToDemoAppID.set(l, i),
                  this.GetLoadCallback(e, t).Dispatch(i);
              else {
                const e = (0, N.l)(s);
                console.error(
                  "function GetAppWithDemoAppIDs: error message received with " +
                    e.strErrorMsg,
                  e,
                );
              }
            } catch (e) {
              const t = (0, N.l)(e);
              console.error(
                "function GetAppWithDemoAppIDs: failed with " + t.strErrorMsg,
                t,
              );
            }
            return i;
          });
        }
        static Get() {
          return (
            jt.s_Singleton ||
              ((jt.s_Singleton = new jt()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInDemoAppStores = jt.s_Singleton)),
            jt.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppToDemoAppID = new Map()),
            (this.m_mapPromises = new Map()),
            (this.m_mapLoadCallback = new Map()),
            (0, O.rC)(this);
        }
      }
      function qt(e) {
        const { tableRef: t, mapAppToDiscountInfo: n, oAllStats: a } = e,
          i = l.On.Get(),
          { jsonFeatured: r } = a,
          [s, c, m] = (0, Ce.SZ)(() => [
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectTrailerPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectDemoPermissions(),
            i.BIsAdditionalFeaturingSectionEnabled() &&
              i.BIsCollectGameProfileIntent(),
          ]),
          u = (function (e, t) {
            const [n, a] = (0, o.useState)(jt.Get().GetOptInDemoApps(e));
            return (
              (0, o.useEffect)(() => {
                t &&
                  !jt.Get().BHasLoaded(e) &&
                  jt.Get().LoadAppWithDemoAppIDs(e);
              }, [e, t]),
              (0, Ye.Qg)(jt.Get().GetLoadCallback(e), a),
              n
            );
          })(
            (0, Ce.SZ)(() => i.GetOptInPageID()),
            c,
          ),
          p = (0, o.useMemo)(() => r.map((e) => e.appid), [r]),
          _ = (0, ze.QQ)(i.GetOptInPageID(), p),
          h = (0, o.useMemo)(
            () =>
              r && _
                ? r.map((e) => {
                    var t, n, a, i, l, r;
                    if (_) {
                      const o = _.get(e.appid);
                      o &&
                        ((e.opt_in = o.opt_in),
                        (e.trailers_opt_in = Boolean(
                          (null === (t = o.jsondata) || void 0 === t
                            ? void 0
                            : t.trailer_permission) &&
                            (null === (n = o.jsondata) || void 0 === n
                              ? void 0
                              : n.rtime_granting_trailer),
                        )),
                        (e.demo_opt_in = Boolean(
                          (null === (a = o.jsondata) || void 0 === a
                            ? void 0
                            : a.demo_permission) &&
                            (null === (i = o.jsondata) || void 0 === i
                              ? void 0
                              : i.rtime_granting_demo),
                        )),
                        (e.game_profile_intent = Boolean(
                          (null === (l = o.jsondata) || void 0 === l
                            ? void 0
                            : l.game_profile_intent) &&
                            (null === (r = o.jsondata) || void 0 === r
                              ? void 0
                              : r.rtime_granting_profile),
                        )),
                        (e.store_url = `${f.De.STORE_BASE_URL}app/${e.appid}`));
                    }
                    if (u) {
                      const t = u.get(e.appid);
                      t &&
                        (t.is_demo_released
                          ? (e.demo_state = "Released")
                          : t.is_build_reviewed
                            ? (e.demo_state = "Approved")
                            : (e.demo_state = "No Demo"));
                    }
                    return e;
                  })
                : null,
            [r, _, u],
          );
        if (!_ || !h || (c && !u))
          return o.createElement(T.V, {
            string: (0, G.Xx)("#Loading"),
            position: "center",
            size: "medium",
          });
        const g =
            f.De.PARTNER_BASE_URL + "optin/sale/" + i.GetOptInPageID() + "/",
          v = [
            {
              title: "Opted In",
              field: "opt_in",
              formatter: Mt.KF,
              width: 50,
              formatterParams: g,
            },
            ...Ot(),
          ];
        s &&
          v.push({
            title: "Trailer OptIn",
            field: "trailers_opt_in",
            formatter: Mt.Xv,
            width: 50,
          }),
          c &&
            v.push(
              {
                title: "Demo OptIn",
                field: "demo_opt_in",
                formatter: Mt.Xv,
                width: 50,
              },
              {
                title: "Demo State",
                field: "demo_state",
                formatter: Mt.T6,
                width: 100,
              },
            ),
          m &&
            v.push({
              title: "Game Profile OptIn",
              field: "game_profile_intent",
              formatter: Mt.Xv,
              width: 50,
            }),
          v.push({ title: "Store URL", field: "store_url", width: 350 });
        const E = (0, Mt.n_)();
        return o.createElement(
          d.SV,
          null,
          o.createElement(
            "div",
            { className: xt().ManageCallout },
            "To enable additional options unlocked during registration, switch over to the 'editor' tab and scroll to the very bottom. Games can be added to the featured list from the bottom of the 'editor' tab, or from the pruning process.",
          ),
          o.createElement(Lt.ReactTabulator, {
            ref: t,
            columns: v,
            data: h,
            options: E,
          }),
          o.createElement("br", null),
        );
      }
      function Wt(e) {
        const {
            tableRef: t,
            bSomeEmailSent: n,
            mapAppToDiscountInfo: a,
            oAllStats: i,
          } = e,
          r = l.On.Get(),
          s = (0, l.tb)(),
          [c, m, u, p] = (0, Ce.SZ)(() => [
            r.GetEventStartTime(),
            r.GetEventEndTime(),
            r.BIsInvitationOnly(),
            r.GetDiscountEventID(),
          ]),
          {
            jsonEligible: _,
            jsonOptedIn: h,
            jsonOptedOut: g,
            jsonInvited: E,
            jsonPruned: S,
            jsonPendingReview: D,
          } = i,
          f = Ot(),
          y = [
            { title: "App ID", field: "appid", formatter: Mt.L2, width: 80 },
            {
              title: "App Name",
              field: "app_name",
              formatter: Mt.IX,
              width: 250,
            },
            {
              title: "Is Released",
              field: "released",
              formatter: Mt.c8,
              width: 120,
            },
            {
              title: "Wishlists",
              field: "wishlists",
              formatter: Mt.AV,
              sorter: "number",
              width: 140,
            },
            {
              title: "Sales",
              field: "sales",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "DLC Sales",
              field: "sales_dlc",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            {
              title: "In Game Sales",
              field: "sales_in_game",
              formatter: "money",
              formatterParams: { precision: !1, symbol: "$" },
              width: 150,
            },
            { title: "Tags", field: "tags", width: 250 },
            {
              title: "Publisher IDs",
              field: "publishers",
              formatter: Mt.H,
              width: 120,
            },
          ],
          b = (0, Mt.n_)(),
          I = [];
        if (n && u) {
          if (n) {
            const e = s
                ? s.count_opted_in + s.count_opted_out + s.count_invited
                : 0,
              n = [...f];
            n.unshift({
              title: "State",
              field: "appid",
              formatter: Mt.oC,
              width: 120,
              formatterParams: i,
            });
            const l = [...h, ...g, ...E];
            I.push({
              name: s ? `Overview (${e})` : "Overview",
              key: "overview",
              status: "",
              statusType: "success",
              tooltip:
                "Shows a single table with all of the opted in, opted out and invited apps",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Ht, {
                  rgOverviewList: l,
                  oAllStats: i,
                  mapAppToDiscountInfo: a,
                  strDiscountEventID: p,
                  rtEventStart: c,
                  rtEventEnd: m,
                }),
                o.createElement(Lt.ReactTabulator, {
                  ref: t,
                  columns: n,
                  data: l,
                  options: b,
                }),
                o.createElement("br", null),
              ),
            });
          }
        } else
          I.push({
            name: s
              ? "Eligible via OptIn Def (" + s.count_eligible + ")"
              : "Eligible via OptIn Def",
            key: "eligible",
            status: "",
            statusType: "success",
            tooltip:
              "Automatically hides when invitation only mode and we have already sent some email.",
            contents: o.createElement(
              d.SV,
              null,
              o.createElement(
                "div",
                { className: xt().ManageCallout },
                "Eligible information is based on the published page",
              ),
              o.createElement(Lt.ReactTabulator, {
                ref: t,
                columns: y,
                data: _,
                options: b,
              }),
              o.createElement("br", null),
            ),
          });
        const C = n ? "Invited Apps" : "Pending Invite";
        return (
          I.push(
            {
              name: s ? "Opted In (" + s.count_opted_in + ")" : "Opted In",
              key: "manage&section=optedin",
              status: "",
              statusType: "success",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Lt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: h,
                  options: b,
                }),
                o.createElement("br", null),
              ),
            },
            {
              name: s ? "Opted Out (" + s.count_opted_out + ")" : "Opted Out",
              key: "manage&section=optedout",
              status: "",
              statusType: "success",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Lt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: g,
                  options: b,
                }),
                o.createElement("br", null),
              ),
            },
            {
              name: s ? C + " (" + s.count_invited + ")" : C,
              key: "manage&section=invited",
              tooltip:
                "This only includes invited apps that haven't sinced opted out or opted in.",
              status: "",
              statusType: "success",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Lt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: E,
                  options: b,
                }),
                o.createElement("br", null),
              ),
            },
            {
              name: s
                ? "Pending Review Apps (" + s.count_pending_review + ")"
                : "Pending Review Apps",
              key: "manage&section=pending_review",
              tooltip:
                "IApps that are candidates of the App review process. They can be invited or pruned out.",
              status: "",
              statusType: "success",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Lt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: D,
                  options: b,
                }),
                o.createElement("br", null),
              ),
            },
            {
              name: s
                ? "Pruned Out Apps (" + s.count_pruned + ")"
                : "Pruned Apps",
              key: "manage&section=pruned",
              tooltip:
                "Invited apps which we reviewed and then pruned from the list as they don't closely match the events theme.",
              status: "",
              statusType: "success",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Lt.ReactTabulator, {
                  ref: t,
                  columns: f,
                  data: S,
                  options: b,
                }),
                o.createElement("br", null),
              ),
            },
            {
              name: s
                ? "Featured Apps (" + s.count_featured + ")"
                : "Featured Apps",
              key: "manage&section=featured",
              status: "",
              statusType: "success",
              contents: o.createElement(qt, Object.assign({}, e)),
            },
          ),
          o.createElement(v.n, { tabs: I, bDisableRouting: !0 })
        );
      }
      (0, I.gn)([O.LO], jt.prototype, "m_mapAppToDemoAppID", void 0);
      var zt = n(46984);
      class Zt {
        FetchAllEligibleOptInApps(e) {
          var t;
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n =
                f.De.PARTNER_BASE_URL + "optin/ajaxgetalleligibleoptinapps",
              a = { sessionid: f.De.SESSIONID, opt_in_name: e },
              i = yield k().get(n, { params: a, withCredentials: !0 });
            return null === (t = null == i ? void 0 : i.data) || void 0 === t
              ? void 0
              : t.data;
          });
        }
        static Get() {
          return Zt.s_Singleton || (Zt.s_Singleton = new Zt()), Zt.s_Singleton;
        }
        constructor() {}
      }
      function Kt(e) {
        var t, n, a, i, l, r;
        const s = (0, F.useQuery)(
            ["useAllEligibleOptInApps", e],
            () =>
              (0, I.mG)(this, void 0, void 0, function* () {
                return yield Zt.Get().FetchAllEligibleOptInApps(e);
              }),
            { staleTime: 60 * zt._H.PerMinute * 1e3 },
          ),
          c = (0, o.useMemo)(() => {
            var e, t, n, a, i, l;
            return s.isLoading
              ? null
              : {
                  eligible_appids: new Set(
                    (null === (e = s.data) || void 0 === e
                      ? void 0
                      : e.eligible_appids) || [],
                  ),
                  opted_in_appids: new Set(
                    (null === (t = s.data) || void 0 === t
                      ? void 0
                      : t.opted_in_appids) || [],
                  ),
                  opted_out_appids: new Set(
                    (null === (n = s.data) || void 0 === n
                      ? void 0
                      : n.opted_out_appids) || [],
                  ),
                  invited_appids: new Set(
                    (null === (a = s.data) || void 0 === a
                      ? void 0
                      : a.invited_appids) || [],
                  ),
                  pruned_appids: new Set(
                    (null === (i = s.data) || void 0 === i
                      ? void 0
                      : i.pruned_appids) || [],
                  ),
                  featured_appids: new Set(
                    (null === (l = s.data) || void 0 === l
                      ? void 0
                      : l.featured_appids) || [],
                  ),
                };
          }, [
            null === (t = s.data) || void 0 === t ? void 0 : t.eligible_appids,
            null === (n = s.data) || void 0 === n ? void 0 : n.featured_appids,
            null === (a = s.data) || void 0 === a ? void 0 : a.invited_appids,
            null === (i = s.data) || void 0 === i ? void 0 : i.opted_in_appids,
            null === (l = s.data) || void 0 === l ? void 0 : l.opted_out_appids,
            null === (r = s.data) || void 0 === r ? void 0 : r.pruned_appids,
            s.isLoading,
          ]);
        return s.isLoading || !c ? null : c;
      }
      var Qt = n(12251);
      const Yt = (e) => {
        const t = l.On.Get(),
          n = (0, o.useRef)(null),
          [a, i] = o.useState("Demo Package " + t.GetFullName()),
          [r, s] = o.useState(void 0),
          [c, d] = o.useState(void 0),
          [u, p] = o.useState(void 0),
          [_, h] = o.useState(void 0);
        o.useEffect(
          () => () =>
            n.current &&
            n.current("DialogChoosePackageNameAndDynamicSetting: unmounting"),
          [],
        );
        return _
          ? o.createElement(P.uH, {
              strTitle: "Create Demo Package",
              strDescription:
                "Package succesfully created and opt-in definition updated.",
              onOK: e.closeModal && e.closeModal,
              onCancel: e.closeModal && e.closeModal,
              bAlertDialog: !0,
            })
          : o.createElement(
              P.uH,
              {
                strTitle: "Create Demo Package",
                strDescription:
                  "Choose a package name. We will create a package with release override for 'Featured' Apps who have approved or released demos and that have opted in for us to be able use their demos.",
                onOK: () =>
                  (0, I.mG)(void 0, void 0, void 0, function* () {
                    var e;
                    d(!0);
                    const i = k().CancelToken.source();
                    n.current = i.cancel;
                    try {
                      const n = new FormData();
                      n.append("sessionid", f.De.SESSIONID),
                        n.append("optInName", t.GetFullName()),
                        n.append("packageName", a);
                      const l =
                          f.De.PARTNER_BASE_URL + "optin/ajaxcreatedemopackage",
                        r = yield k().post(l, n, {
                          withCredentials: !0,
                          cancelToken: i.token,
                        });
                      if (
                        200 == (null == r ? void 0 : r.status) &&
                        1 ==
                          (null === (e = r.data) || void 0 === e
                            ? void 0
                            : e.success) &&
                        r.data.packageid >= 0 &&
                        !i.token.reason
                      ) {
                        t.AddDemoPackage({
                          packageid: r.data.packageid,
                          rtimecreated: Math.floor(Date.now() / 1e3),
                        });
                        const e = yield t.Save(i.token);
                        Boolean(e) && !i.token.reason ? s(e) : h(!0);
                      } else
                        i.token.reason ||
                          s(
                            "Create Package Failed: " +
                              (null == r ? void 0 : r.status) +
                              " " +
                              (null == r ? void 0 : r.statusText),
                          );
                    } catch (e) {
                      const t = (0, N.l)(e),
                        n =
                          "DialogChoosePackageNameAndDynamicSetting error: " +
                          t.strErrorMsg;
                      console.error(n, t), i.token.reason || s(n);
                    } finally {
                      i.token.reason || d(!1);
                    }
                  }),
                bOKDisabled: 0 == a.trim().length || void 0 !== c,
                onCancel: e.closeModal,
              },
              o.createElement("br", null),
              o.createElement(m.II, {
                type: "text",
                label: "Package Name",
                tooltip:
                  "Public name of the package; please give a thoughtful and easy to search name",
                value: a,
                onChange: (e) => i(e.currentTarget.value),
              }),
              Boolean(c) &&
                o.createElement(T.V, {
                  string: u
                    ? "Package Created, Saving Model"
                    : "Creating Package in Progress",
                  size: "medium",
                  position: "center",
                }),
              Boolean(r) &&
                o.createElement(
                  "div",
                  { className: A.ErrorStylesBackground },
                  r,
                ),
            );
      };
      function Jt(e, t) {
        const n = l.On.Get(),
          a = new Array();
        return (
          n.GetDynamicSections().forEach((n) => {
            (e && !e.includes(n.input_style)) ||
              n.lists.forEach((e) => {
                t
                  ? a.push({
                      value: n.unique_id + "|" + e.unique_id,
                      label: e.option_title
                        ? e.option_title.english
                        : n.name.english,
                    })
                  : e.options.forEach((t) => {
                      a.push({
                        value:
                          n.unique_id + "|" + e.unique_id + "|" + t.unique_id,
                        label: t.text.english,
                      });
                    });
              });
          }),
          a
        );
      }
      const $t = (e) => {
          const t = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            },
            n = Jt(e.rgInputType);
          return o.createElement(
            o.Fragment,
            null,
            Boolean(e.label) && o.createElement("div", null, e.label),
            o.createElement(ke.ZP, {
              styles: t,
              isSearchable: !0,
              isMulti: !1,
              placeholder: "Choose One",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: n,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        en = (e) => {
          const t = {
              option: (e) =>
                Object.assign(Object.assign({}, e), { color: "#444444" }),
            },
            n = Jt(e.rgInputType, e.bForDataExport);
          return o.createElement(
            o.Fragment,
            null,
            Boolean(e.label) && o.createElement("div", null, e.label),
            o.createElement(ke.ZP, {
              styles: t,
              isSearchable: !0,
              isMulti: !0,
              placeholder: "Choose One or More",
              onChange: e.fnChoiceMade,
              value: e.selected,
              options: n,
              defaultMenuIsOpen: !1,
            }),
          );
        },
        tn = (0, $.Pi)((e) => {
          var t;
          const { editModel: n } = e;
          return (null === (t = n.GetDemoPackages()) || void 0 === t
            ? void 0
            : t.length) > 0
            ? o.createElement(
                "div",
                null,
                o.createElement("h3", null, "Packages Created by OptIn"),
                n
                  .GetDemoPackages()
                  .map((e) =>
                    o.createElement(nn, {
                      key: "pack" + e.packageid,
                      demoPackageInfo: e,
                      editModel: n,
                    }),
                  ),
              )
            : null;
        }),
        nn = (0, $.Pi)((e) => {
          const { demoPackageInfo: t, editModel: n } = e,
            [a, i] = (0, Qe.ie)(t.packageid, { include_basic_info: !0 });
          return n.BInitialized() && null != t.packageid
            ? a && 1 != i
              ? o.createElement(
                  "div",
                  null,
                  o.createElement(
                    "div",
                    null,
                    o.createElement(
                      "a",
                      {
                        href:
                          f.De.PARTNER_BASE_URL +
                          "store/packagelanding/" +
                          t.packageid,
                        target: "_blank",
                      },
                      a.GetName(),
                      " - package id: ",
                      t.packageid,
                    ),
                  ),
                  o.createElement(
                    "div",
                    null,
                    "Matches Option: ",
                    n.GetOptionNameByID(t.selection),
                  ),
                  o.createElement(
                    "div",
                    null,
                    "Created Time: ",
                    (0, G.vX)(t.rtimecreated),
                    " - ",
                    (0, Qt.Sc)(t.rtimecreated, { bForce24HourClock: !1 }),
                  ),
                )
              : 1 == i
                ? o.createElement(T.V, {
                    string: "Loading Package " + t.packageid,
                    size: "small",
                    position: "center",
                  })
                : o.createElement(
                    "div",
                    { className: A.ErrorStylesBackground },
                    "Failed to load package: ",
                    t.packageid,
                  )
            : o.createElement(T.V, null);
        });
      function an(e) {
        const t = e.split("|");
        return { section_id: t[0], list_id: t[1], option_id: t[2] };
      }
      var ln = n(88408);
      class rn {
        constructor() {
          (this.nLoadedOptIn = 0), (0, O.rC)(this);
        }
        Increment() {
          this.nLoadedOptIn += 1;
        }
      }
      function on(e, t, n) {
        const a = (0, o.useMemo)(
            () => t.filter((e) => e && e.appid).map((e) => e.appid),
            [t],
          ),
          i = (0, ze.QQ)(e, a, n);
        return Boolean(i);
      }
      function sn(e) {
        const t = l.On.Get(),
          [n, a] = o.useState(null),
          [i, r] = o.useState(new Array()),
          [s, c] = o.useState(!1),
          [d, u] = o.useState(!1),
          [p, _] = o.useState(!0),
          [h, v] = o.useState(!1);
        return o.createElement(
          P.uH,
          {
            strTitle: "Export Press Opt-In CSV",
            onCancel: e.closeModal,
            onOK: () => {
              e.closeModal && e.closeModal();
              let t = n ? an(n.value) : null,
                a =
                  (null == i ? void 0 : i.length) > 0
                    ? i.map((e) => an(e.value))
                    : null;
              (0, g.AM)(
                o.createElement(cn, {
                  strOptInName: e.strOptInName,
                  optInStats: e.optInStats,
                  filter: t,
                  rgAdditionalData: a,
                  bExportArtistStatement: s,
                  bFilterToDemoExist: d,
                  bIncludePerssContact: p,
                  bIncludeCategories: h,
                }),
                window,
              );
            },
            strDescription:
              "Choose an optional filter which will limit which partners to export. Choose optionally additional data to export that the partners would have entered",
          },
          o.createElement($t, {
            selected: n,
            fnChoiceMade: a,
            rgInputType: ["checkbox"],
            label: "Choose Filter:",
          }),
          o.createElement(en, {
            selected: i,
            fnChoiceMade: r,
            bForDataExport: !0,
            label: "Additional Data to Export:",
          }),
          t.BIsArtistStatementEnabled() &&
            o.createElement(m.ji, {
              label: "Export Artist Statement",
              checked: s,
              onChange: c,
            }),
          t.BIsArtistStatementEnabled() &&
            o.createElement(m.ji, {
              label: "Export Press Contact Info",
              checked: p,
              onChange: _,
            }),
          t.BIsLaunchYourDemoEnabled() &&
            o.createElement(m.ji, {
              label: "Filter to games with Demo Apps Created",
              tooltip:
                "Just requires the partner to have created the demo appid. This will include live demos and demo still being builte",
              checked: d,
              onChange: u,
            }),
          t.BIsCategoriesEnabled() &&
            o.createElement(m.ji, {
              label: "Add the categories selection",
              tooltip:
                "Partners can choose up to two categories, include them in the output.",
              checked: h,
              onChange: v,
            }),
        );
      }
      function cn(e) {
        const {
            rgAdditionalData: t,
            filter: n,
            bIncludePerssContact: a,
            bIncludeCategories: i,
            bExportArtistStatement: s,
          } = e,
          c = () => e.closeModal && e.closeModal(),
          { optInStats: u, strOptInName: p, bFilterToDemoExist: _ } = e,
          h = u.length,
          [g, v] = (0, o.useState)(!1),
          [E] = (0, o.useState)(() => new rn()),
          S = on(p, u, E),
          D = (0, o.useRef)(null),
          y = (null == t ? void 0 : t.length) > 0,
          b = (0, o.useMemo)(() => {
            const e = new Array();
            return (
              y &&
                t.forEach((t) => {
                  e.push(l.On.Get().GetDynamicSectionByID(t.section_id));
                }),
              e
            );
          }, [y, t]);
        return (
          (0, o.useEffect)(() => {
            if (u && S) {
              (() =>
                (0, I.mG)(this, void 0, void 0, function* () {
                  const e = k().CancelToken.source();
                  D.current = e.cancel;
                  let o = null;
                  _ && (o = yield jt.Get().LoadAppWithDemoAppIDs(p, n));
                  const c = new Array();
                  u
                    .filter((e) =>
                      ze.qh.Get().BHasOptionOnRegistration(e.appid, p, n),
                    )
                    .filter((e) => {
                      var t;
                      return Boolean(
                        null == o ||
                          (null === (t = o.get(e.appid)) || void 0 === t
                            ? void 0
                            : t.demo_appid),
                      );
                    })
                    .forEach((e) => {
                      var n, o, m, d;
                      const u = ze.qh.Get().GetRegistration(e.appid, p),
                        _ = {
                          game_name: e.app_name || "undefined",
                          store_page: f.De.STORE_BASE_URL + "app/" + e.appid,
                          tags: e.tags || "",
                        };
                      if (
                        (a &&
                          ((_.press_contact_name =
                            (null === (n = null == u ? void 0 : u.jsondata) ||
                            void 0 === n
                              ? void 0
                              : n.press_contact_name) || ""),
                          (_.press_contact_email =
                            (null === (o = null == u ? void 0 : u.jsondata) ||
                            void 0 === o
                              ? void 0
                              : o.press_contact_email) || "")),
                        s &&
                          (_.artist_statement =
                            (null === (m = null == u ? void 0 : u.jsondata) ||
                            void 0 === m
                              ? void 0
                              : m.artist_statement) || ""),
                        i &&
                          (null === (d = null == u ? void 0 : u.jsondata) ||
                          void 0 === d
                            ? void 0
                            : d.category_tags))
                      ) {
                        let e = 0;
                        const t = r.v.Get().GetGameTags();
                        console.log(u.jsondata.category_tags);
                        for (const n in u.jsondata.category_tags) {
                          const a = t.filter((e) => e.value == n);
                          (null == a ? void 0 : a.length) > 0
                            ? (_["category_choice_" + ++e] = a[0].label)
                            : (_["category_choice_" + ++e] = n);
                        }
                        for (; e < 2; ) _["category_choice_" + ++e] = "";
                      }
                      y &&
                        t.forEach((e, t) => {
                          const n = b[t],
                            a = n.GetListByID(e.list_id),
                            i = a.option_title
                              ? a.option_title.english
                              : n.GetName(),
                            r = (0, ze.A0)(u, e);
                          if ("text_input" == n.GetInputStyle())
                            _[i] =
                              (null == r ? void 0 : r.length) > 0 ? r[0] : "";
                          else {
                            let t = "";
                            null == r ||
                              r.forEach((n) => {
                                const a = l.On.Get().GetDynamicOptionByID(
                                  Object.assign(Object.assign({}, e), {
                                    option_id: n,
                                  }),
                                );
                                t.length > 0 && (t += "|"),
                                  (t += a.text.english);
                              }),
                              (_[i] = t);
                          }
                        }),
                        c.push(_);
                    }),
                    ln.K.WriteCSVToFile(c, "press_game_list.csv"),
                    v(!0);
                }))();
            }
            return () =>
              D.current && D.current("OptInStatsPressCSV: unmounting");
          }, [u, p, _, S, n, a, s, i, t, y, b]),
          o.createElement(
            d.SV,
            null,
            o.createElement(
              P.e1,
              { onEscKeypress: c },
              o.createElement(
                m.VY,
                null,
                o.createElement(m.h4, null, "Export Press Opt-In CSV"),
                o.createElement(
                  m.uT,
                  null,
                  o.createElement(
                    m.Ac,
                    null,
                    o.createElement(
                      "div",
                      null,
                      "Extracting the list of opt-in games and producing a CSV. This requires reading in each opt-in record by partners to extract their 'Press Contact Info' if available which takes a while. Please wait while we pull that information",
                    ),
                    o.createElement("br", null),
                    g
                      ? o.createElement(
                          "div",
                          null,
                          "Completed processing, needed to load ",
                          E.nLoadedOptIn,
                          " Apps out of a total ",
                          u.length,
                          ". You can close this dialog.",
                        )
                      : o.createElement(mn, { tracker: E, nTotalOptIn: h }),
                  ),
                ),
                o.createElement(
                  m.$_,
                  null,
                  o.createElement(m.o9, {
                    onCancel: c,
                    bOKDisabled: !g,
                    strOKText: "Done",
                    onOK: c,
                  }),
                ),
              ),
            ),
          )
        );
      }
      (0, I.gn)([O.LO], rn.prototype, "nLoadedOptIn", void 0);
      const mn = (0, $.Pi)((e) => {
        const { tracker: t, nTotalOptIn: n } = e,
          a = (0, ze.lQ)();
        return o.createElement(T.V, {
          string: `Progressing ${a ? t.nLoadedOptIn : 0} / ${n}`,
          size: "medium",
          position: "center",
        });
      });
      function dn(e) {
        const {
            closeModal: t,
            eligigleOptInStats: n,
            strOptInName: a,
            bPendingReviewInstead: i,
          } = e,
          l = (0, o.useMemo)(() => {
            const e = new Set(n.map((e) => e.appid));
            return Array.from(e);
          }, [n]),
          r = (0, Qe.wZ)(l, { include_release: !0 }),
          [s, c] = (0, o.useState)(!0),
          [d, u] = (0, o.useState)(!1),
          [p, _] = (0, o.useState)(1e3),
          [h, g, v, E, S] = (0, o.useMemo)(
            () => [
              n.length,
              n.filter((e) => e.released).length,
              n.filter((e) => {
                if (!e.released) return !1;
                return (
                  Number.parseInt(e.sales.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_dlc.replace(/[^0-9.-]+/g, "")) +
                    Number.parseInt(e.sales_in_game.replace(/[^0-9.-]+/g, "")) >
                  p
                );
              }).length,
              n.filter((e) => !e.released).length,
              n.filter((e) => {
                if (!e.released && 1 != r) {
                  const t = Ke.Z.Get().GetApp(e.appid);
                  return Boolean(null == t ? void 0 : t.BIsComingSoon());
                }
                return !1;
              }).length,
            ],
            [n, p, r],
          ),
          [D, f] = (0, o.useState)(void 0),
          [y, b] = (0, o.useState)(void 0),
          [C, k] = (0, o.useState)(void 0),
          { fnUpdateAppToInvitation: w } = We(),
          N = (0, o.useCallback)(
            () =>
              (0, I.mG)(this, void 0, void 0, function* () {
                b(!0);
                const e = Array.from(
                  new Set(
                    n
                      .filter((e) => {
                        if (e.released) {
                          if (d) {
                            return (
                              Number.parseInt(
                                e.sales.replace(/[^0-9.-]+/g, ""),
                              ) +
                                Number.parseInt(
                                  e.sales_dlc.replace(/[^0-9.-]+/g, ""),
                                ) +
                                Number.parseInt(
                                  e.sales_in_game.replace(/[^0-9.-]+/g, ""),
                                ) >
                              p
                            );
                          }
                          return !0;
                        }
                        if (s) {
                          const t = Ke.Z.Get().GetApp(e.appid);
                          return Boolean(
                            null == t ? void 0 : t.BIsComingSoon(),
                          );
                        }
                        return !0;
                      })
                      .map((e) => e.appid),
                  ),
                );
                let t = 1;
                for (; e.length > 0; ) {
                  const n = e.splice(0, 100);
                  if (((t = yield w(a, n, !i, !1, i)), 1 != t)) break;
                }
                1 != t &&
                  f("Hit error on invite batch, check networks/console: " + t),
                  k(!0);
              }),
            [d, i, s, n, w, p, a],
          );
        return o.createElement(
          P.uH,
          {
            strTitle: `Move Eligible Apps To '${i ? "Pending Review" : "Invited"}'`,
            strDescription: `Move eligible apps into the '${i ? "Pending Review" : "Invited"}' state as computed by the latest refresh stats to the ${i ? "app requiring review. This lets us prune the app to be precisely matching our festival purpose." : "invited app list. This lets them participate immediately when festival is open."}`,
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: y || 1 == r,
            onOK: N,
            strOKButtonText: `Mark Apps as '${i ? "Pending Review" : "Invited"}'`,
          },
          Boolean(!y) &&
            o.createElement(
              o.Fragment,
              null,
              Boolean(1 == r) &&
                o.createElement(T.V, {
                  size: "small",
                  string: "Loading App Details",
                }),
              o.createElement(
                "div",
                null,
                o.createElement("div", null, "Total Eligible Apps: ", h),
                o.createElement("div", null, "** Total Released Apps: ", g),
                d &&
                  o.createElement(
                    "div",
                    null,
                    "** Total Released Apps with min revenue: ",
                    v,
                  ),
                o.createElement("div", null, "** Total Unreleased Apps: ", E),
                o.createElement(
                  "div",
                  null,
                  "** Total Unreleased Apps with Coming Soon Pages: ",
                  S,
                ),
              ),
              d
                ? o.createElement(m.II, {
                    type: "number",
                    label: `Minimum lifetime revenue for released app to be included in the '${i ? "Pending Review" : "Invite"}'`,
                    min: "0",
                    max: "100000000",
                    value: p,
                    tooltip:
                      "This looks at the combination of lifetime package sales, dlc sales and in-game sales",
                    onChange: (e) => {
                      const t = Number.parseInt(e.currentTarget.value) || 0;
                      _(t);
                    },
                  })
                : o.createElement(m.ji, {
                    label: "Filter released apps by min lifetime revenue?",
                    checked: d,
                    onChange: u,
                  }),
              o.createElement(m.ji, {
                label: "Unreleased App Require a Coming Soon Page",
                checked: s,
                onChange: c,
              }),
            ),
          Boolean(y && !C) &&
            o.createElement(T.V, {
              string: (0, G.Xx)("#Saving"),
              size: "medium",
            }),
          Boolean(D) &&
            o.createElement("div", { className: A.ErrorStylesBackground }, D),
          Boolean(C && !D) &&
            o.createElement(
              "div",
              null,
              "Moving ",
              i ? "Pending Review" : "Invited",
              " to now completed, you can close the dialog",
            ),
        );
      }
      var un,
        pn = n(29480);
      function _n(e, t, n, a, i) {
        return (0, I.mG)(this, void 0, void 0, function* () {
          try {
            const i = yield fetch(t);
            console.log("fetched: ", i);
            const l = yield i.blob(),
              r = window.URL.createObjectURL(l),
              o = document.createElement("a");
            (o.style.display = "none"),
              (o.href = r),
              (o.download = n),
              document.body.appendChild(o),
              o.click(),
              window.URL.revokeObjectURL(r),
              a(e + 1),
              console.log("Downloaded " + e + ":" + n + " size: " + l.size);
          } catch (e) {
            const t = (0, N.l)(e);
            console.log("Download error" + e.strErrorMsg),
              i("Download failed " + t.strErrorMsg);
          }
        });
      }
      function hn(e) {
        const { closeModal: t, optInStats: n } = e,
          a = l.On.Get(),
          i = a.GetOptInPageID(),
          r = (0, pn.T)("OptinAdminManageDownloadTrailers"),
          [s, c] = (0, o.useState)(1),
          [d, u] = o.useState(null),
          [p, _] = (0, o.useState)(null),
          [h, g] = (0, o.useState)(!1),
          [v, E] = (0, o.useState)(!0),
          [S, D] = (0, o.useState)(new rn()),
          y = on(a.GetOptInPageID(), n, S),
          b = (function (e) {
            const [t, n] = (0, o.useState)(!0);
            return (
              (0, o.useEffect)(() => {
                const t = k().CancelToken.source(),
                  a = e.map((e) => e.appid);
                return (
                  Ke.Z.Get()
                    .QueueMultipleAppRequests(a, {
                      include_trailers: !0,
                      include_screenshots: !0,
                    })
                    .then(() => {
                      t.token.reason || n(!1);
                    }),
                  () => t.cancel("useLoadedStoreItemTrailers: unmounting")
                );
              }, [e]),
              t
            );
          })(n),
          [C, w] = o.useState(void 0),
          [N, R] = o.useState(void 0),
          [G, L] = (0, o.useState)(0),
          [B, x] = (0, o.useState)(un.k_EDownloadTrailer),
          [M, O] = (0, o.useState)([]);
        return (
          (0, o.useEffect)(() => {
            if (!b && (y || !v)) {
              const e = n.map((e) => e.appid),
                t = d ? an(d.value) : null,
                a = e
                  .filter((e) => {
                    var t;
                    return (
                      B != un.k_EDownloadTrailer ||
                      (null === (t = Ke.Z.Get().GetApp(e)) || void 0 === t
                        ? void 0
                        : t.BHasHighlightTrailers())
                    );
                  })
                  .filter(
                    (e) => !v || ze.qh.Get().BHasOptionOnRegistration(e, i, t),
                  )
                  .filter((e) => !h || ze.qh.Get().BHasOptInTrailer(e, i))
                  .filter((e) => !p || p.has(e));
              O(a);
            }
          }, [b, y, n, d, i, p, B, v, h]),
          o.createElement(
            P.uH,
            {
              strTitle:
                "Download Game Capsules or Trailers for " + a.GetFullName(),
              strDescription:
                "Downloads all of the highest quality MP4 or PNG/JPG file for the 'first' trailers or game capsule that appears on the store page. One per opted in game. This has since been modified to support screenshots and any capsule format.",
              onOK: () =>
                (0, I.mG)(this, void 0, void 0, function* () {
                  R(!0),
                    yield (function (e, t, n, a, i, l) {
                      var r;
                      return (0, I.mG)(this, void 0, void 0, function* () {
                        console.log(
                          "Download Assets " +
                            t +
                            " with available assets: " +
                            (null == e ? void 0 : e.length),
                        );
                        for (
                          let o = 0;
                          o < Math.min(t, (null == e ? void 0 : e.length) || 0);
                          ++o
                        ) {
                          if (
                            null === (r = null == l ? void 0 : l.token) ||
                            void 0 === r
                              ? void 0
                              : r.reason
                          )
                            return void console.log(
                              "cancelled download: " + l.token.reason,
                            );
                          const t = e[o],
                            s = Ke.Z.Get().GetApp(t);
                          let c, m;
                          if (n == un.k_EDownloadTrailer) {
                            const e = s
                              .GetAllTrailers()
                              .GetHighlightTrailers()[0]
                              .GetTrailerMax()
                              .strMP4URL.replace("http://", "https://");
                            (m = `${f.De.PARTNER_BASE_URL}gfxproxy/trailergfx?appid=${t}&itype=apps`),
                              (c =
                                s.GetName().replace(/[^\w\s!?]/g, "") +
                                "_" +
                                t +
                                ".mp4"),
                              console.log("fetching indirectly ", e, m),
                              yield _n(o, m, c, a, i);
                          } else if (
                            n == un.k_EDownloadAllAgeSafeScreenshots ||
                            n == un.k_EDownloadScreenshots
                          ) {
                            const e =
                              n == un.k_EDownloadAllAgeSafeScreenshots
                                ? s.GetOnlyAllAgesSafeScreenshots()
                                : s.GetBothAllAgesSafeAndMatureScreenshots();
                            for (let n = 0; n < e.length; ++n) {
                              const l = e[n].split("/").pop().split("?")[0];
                              (c =
                                s.GetName().replace(/[^\w\s!?]/g, "") +
                                "_" +
                                t +
                                "_" +
                                l),
                                (m = `${f.De.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${l}`),
                                yield _n(o, m, c, a, i);
                            }
                          } else {
                            let e = "header.jpg";
                            switch (n) {
                              default:
                              case un.k_EDownloadHeader:
                                break;
                              case un.k_EDownloadSmallCapsule:
                                e = "capsule_231x87.jpg";
                                break;
                              case un.k_EDownloadMainCapsule:
                                e = "capsule_616x353.jpg";
                                break;
                              case un.k_EDownloadVerticalCapsule:
                                e = "hero_capsule.jpg";
                                break;
                              case un.k_EDownloadPageBackground:
                                e = "page_bg_raw.jpg";
                            }
                            (c =
                              s.GetName().replace(/[^\w\s!?]/g, "") +
                              "_" +
                              t +
                              "_" +
                              e),
                              (e += `?t=${Math.floor(Date.now() / 1e3)}&exclude_beta=1`),
                              (m = `${f.De.PARTNER_BASE_URL}gfxproxy/gfx/apps/${t}/${e}`),
                              console.log("fetching indirectly ", m),
                              yield _n(o, m, c, a, i);
                          }
                          console.log(
                            `Finished processing appid ${s.GetName()}`,
                          );
                        }
                      });
                    })(M, s, B, L, w, r);
                }),
              bOKDisabled: b || !y || N || 0 == s,
              bAllowFullSize: !0,
              onCancel: () => {
                r.cancel("cancel"), t && t();
              },
              closeModal: () => r.cancel("cloased"),
              bDisableBackgroundDismiss: !0,
            },
            b || !y
              ? o.createElement(T.V, {
                  string: `Loading ${n.length} OptIn Registration and Games Details`,
                  position: "center",
                  size: "medium",
                })
              : o.createElement(
                  o.Fragment,
                  null,
                  !N &&
                    o.createElement(
                      "div",
                      null,
                      M.length,
                      " of apps with items available to download.",
                      o.createElement(gn, { type: B, setType: x }),
                      o.createElement(m.ji, {
                        checked: v,
                        onChange: E,
                        label: "Require OptIn",
                      }),
                      o.createElement(m.ji, {
                        checked: h,
                        onChange: g,
                        label: "Require Trailer Featuring Opt-in Permissions",
                      }),
                      o.createElement($t, {
                        selected: d,
                        fnChoiceMade: u,
                        rgInputType: ["checkbox"],
                        label: "Choose Filter:",
                      }),
                      o.createElement(m.II, {
                        type: "number",
                        label: "How many Apps to download from?",
                        min: "1",
                        max: (null == M ? void 0 : M.length) || 1,
                        value: s,
                        onChange: (e) =>
                          c(Number.parseInt(e.currentTarget.value) || 1),
                      }),
                      o.createElement(vn, { fnSetAppIDListList: _ }),
                    ),
                ),
            Boolean(N) &&
              o.createElement(
                o.Fragment,
                null,
                Boolean(G < s)
                  ? o.createElement(T.V, {
                      string: `Downloading ${G} out of ${s}`,
                      size: "medium",
                      position: "center",
                    })
                  : o.createElement(
                      "span",
                      null,
                      "Done: Downloaded ",
                      `${G} out of ${s}`,
                    ),
              ),
            Boolean(C) &&
              o.createElement("div", { className: A.ErrorStylesBackground }, C),
          )
        );
      }
      function gn(e) {
        const { type: t, setType: n } = e,
          a = (0, o.useMemo)(
            () => [
              { label: "First Store Trailer", data: un.k_EDownloadTrailer },
              {
                label: "Header Image (460x215 px)",
                data: un.k_EDownloadHeader,
              },
              {
                label: "Small Capsule (231x87 px)",
                data: un.k_EDownloadSmallCapsule,
              },
              {
                label: "Main Capsule (616x353 px)",
                data: un.k_EDownloadMainCapsule,
              },
              {
                label: "Virtual Capsule (374x448 px)",
                data: un.k_EDownloadVerticalCapsule,
              },
              {
                label: "Background (1438x810 px)",
                data: un.k_EDownloadPageBackground,
              },
              {
                label: "All Age Safe Only Screenshots",
                data: un.k_EDownloadAllAgeSafeScreenshots,
              },
              { label: "All Screenshots", data: un.k_EDownloadScreenshots },
            ],
            [],
          );
        return o.createElement(m.ry, {
          label: "Choose Download Type",
          rgOptions: a,
          selectedOption: t,
          onChange: (e) => n(e.data),
        });
      }
      function vn(e) {
        const { fnSetAppIDListList: t } = e,
          [n, a] = o.useState(""),
          [i, l] = o.useState(!1);
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            null,
            "Optionally provide an explicit lists of appids seperately by new lines. Will only download the trailers for these appids as long as they are opted in and have a trailer.",
          ),
          i
            ? o.createElement(
                o.Fragment,
                null,
                o.createElement("div", null, "Enter App IDs:"),
                o.createElement("textarea", {
                  cols: 120,
                  rows: 10,
                  onChange: (e) => a(e.currentTarget.value),
                  value: n,
                  autoFocus: !0,
                }),
                o.createElement(
                  m.zx,
                  {
                    onClick: () => {
                      const e = n.replace(/\n/g, "|").split("|"),
                        a = new Set();
                      e.forEach((e) => {
                        const t = Number.parseInt(e);
                        t > 0 && a.add(t);
                      }),
                        a.size > 0 && t(a);
                    },
                  },
                  "AppID List Complete. Apply Filter",
                ),
              )
            : o.createElement(
                m.zx,
                { onClick: () => l(!0) },
                "Add AppID Filter List",
              ),
        );
      }
      function En(e) {
        const { tableRef: t, eligibleStats: n } = e,
          a = l.On.Get(),
          i = (0, Ce.SZ)(() => a.GetFullName()),
          [r] = (0, Ce.SZ)(() => [
            a.BIsAdditionalFeaturingSectionEnabled() &&
              a.BIsCollectDemoPermissions(),
          ]);
        return o.createElement(
          "div",
          { className: xt().DownloadRow },
          o.createElement(
            m.zx,
            {
              id: "download-csv",
              onClick: () => t.current.table.download("csv", "data.csv"),
            },
            "Download CSV",
          ),
          o.createElement(
            m.zx,
            {
              id: "download-perss_csv",
              onClick: function (e) {
                (0, g.AM)(
                  o.createElement(sn, {
                    strOptInName: i,
                    optInStats: t.current.state.data,
                  }),
                  (0, D.RA)(e),
                );
              },
            },
            o.createElement(
              se.HP,
              {
                toolTipContent:
                  "Generates a CSV of only opt-ed in games intended to be shared with the press",
              },
              "Download Press CSV",
            ),
          ),
          Boolean(r) &&
            o.createElement(
              m.zx,
              {
                id: "create_package",
                onClick: () => {
                  (0, g.AM)(o.createElement(Yt, null), window);
                },
              },
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "Create a package for the demos that have opted-in to the event and allowed us to use their demo. The package is create with release override.",
                },
                "Create Demo Package",
              ),
            ),
          o.createElement(
            m.zx,
            {
              id: "download_trailer",
              onClick: (e) =>
                (0, g.AM)(
                  o.createElement(hn, { optInStats: t.current.state.data }),
                  (0, D.RA)(e),
                ),
            },
            o.createElement(
              se.HP,
              {
                toolTipContent:
                  "Download trailers or Game Capsules for opted-in games from this event.",
              },
              "Download Trailers or Capsules",
            ),
          ),
          o.createElement(
            m.zx,
            {
              id: "find_app",
              onClick: (e) =>
                (0, g.AM)(
                  o.createElement(Sn, { strOptInName: a.GetOptInPageID() }),
                  (0, D.RA)(e),
                ),
            },
            o.createElement(
              se.HP,
              {
                toolTipContent:
                  "Recommend we refresh stats before this call. This will search for the appids in the various buckets (optin, opted out etc...)",
              },
              " Find App...",
            ),
          ),
          Boolean((null == n ? void 0 : n.length) > 0) &&
            o.createElement(
              m.zx,
              {
                id: "eligible_to_invite",
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(dn, {
                      strOptInName: i,
                      eligigleOptInStats: n,
                      bPendingReviewInstead: !0,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "Recommend refresh stats before using this dialog. This will provide a dialog that will mass move apps into the pending_review state which allows us to do pruning before they are invited to participate.",
                },
                "Eligible  Pending Review...",
              ),
            ),
          Boolean((null == n ? void 0 : n.length) > 0) &&
            o.createElement(
              m.zx,
              {
                id: "eligible_to_invite",
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(dn, {
                      strOptInName: i,
                      eligigleOptInStats: n,
                      bPendingReviewInstead: !1,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "Recommend refresh stats before using this dialog. This will provide a dialog that will mass invite eligible apps meeting a coming soon or release with min earn critria.",
                },
                "Eligible  Invited...",
              ),
            ),
        );
      }
      function Sn(e) {
        const { closeModal: t, strOptInName: n } = e,
          [a, i] = (0, o.useState)(""),
          l = Kt(n),
          r = (0, o.useMemo)(
            () =>
              a
                .split(" ")
                .map((e) => Number.parseInt(e))
                .filter(Boolean),
            [a],
          );
        return o.createElement(
          P.uH,
          {
            strTitle: "Find App In OptIn",
            strDescription:
              "Goes across entire opt-in data pulled from refresh stats to surface what cateogry the appid(s) are in.",
            closeModal: t,
            bDisableBackgroundDismiss: !0,
          },
          o.createElement(m.II, {
            type: "text",
            label: "Space separated list of appids to be searched",
            onChange: (e) => i(e.currentTarget.value),
            value: a,
          }),
          o.createElement("h2", null, "Apps:"),
          Boolean(l)
            ? o.createElement(
                "div",
                null,
                "This only print TRUE if it finds the app in the specific list. This doesn't know if the app is eligible or not based on the rules of the optin.",
              )
            : o.createElement(T.V, {
                position: "center",
                string: "loading",
                size: "medium",
              }),
          null == r
            ? void 0
            : r.map((e) => {
                const t = null == l ? void 0 : l.eligible_appids.has(e),
                  n = null == l ? void 0 : l.opted_in_appids.has(e),
                  a = null == l ? void 0 : l.opted_out_appids.has(e),
                  i = null == l ? void 0 : l.invited_appids.has(e),
                  r = null == l ? void 0 : l.pruned_appids.has(e),
                  s = null == l ? void 0 : l.featured_appids.has(e);
                return o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("div", null, "Appid: ", e),
                  o.createElement(
                    "div",
                    null,
                    "In Eligible List?: ",
                    t ? "TRUE" : "",
                  ),
                  o.createElement(
                    "div",
                    null,
                    "In Opted In List?: ",
                    n ? "TRUE" : "",
                  ),
                  o.createElement(
                    "div",
                    null,
                    "In Opted Out List?: ",
                    a ? "TRUE" : "",
                  ),
                  o.createElement(
                    "div",
                    null,
                    "In Invited List?: ",
                    i ? "TRUE" : "",
                  ),
                  o.createElement(
                    "div",
                    null,
                    "In Pruned List?: ",
                    r ? "TRUE" : "",
                  ),
                  o.createElement(
                    "div",
                    null,
                    "in Featured? List: ",
                    s ? "TRUE" : "",
                  ),
                  o.createElement("br", null),
                );
              }),
        );
      }
      function Dn(e) {
        const t = l.On.Get(),
          n = (0, l.tb)(),
          a = (0, Ce.SZ)(() => t.GetFullName()),
          { rgEmailDefAndStats: i } = q(a),
          r = !(
            n &&
            (n.json_invited ||
              n.json_eligible ||
              n.json_opted_in ||
              n.json_featured ||
              n.json_opted_out) &&
            i
          ),
          s = null == i ? void 0 : i.some((e) => e.completed);
        return o.createElement(
          "div",
          null,
          o.createElement("h2", null, a),
          o.createElement("hr", null),
          o.createElement(
            "div",
            { className: (0, S.Z)(ue().Section, ue().ManageTable) },
            o.createElement(
              "div",
              { className: ue().SectionDesc },
              o.createElement(Gt.x, null),
              "How to opt in a specific game. Use this link and swap out the 220 at the end with the correct appID ",
              o.createElement("br", null),
              o.createElement(
                "a",
                { href: f.De.PARTNER_BASE_URL + "optin/sale/" + a + "/220" },
                f.De.PARTNER_BASE_URL,
                "optin/sale/",
                t.GetName(),
                "/220",
              ),
              o.createElement("br", null),
              o.createElement("br", null),
              Boolean(r)
                ? o.createElement(T.V, {
                    size: "medium",
                    string: "Loading Stats/No Stats to show",
                    position: "center",
                  })
                : o.createElement(fn, { bSomeEmailSent: s }),
            ),
          ),
        );
      }
      function fn(e) {
        const t = l.On.Get(),
          { bSomeEmailSent: n } = e,
          a = (0, l.y7)(),
          { jsonEligible: i } = a,
          r = (0, Ce.SZ)(() => t.BIsEnterDiscountsEnabled()),
          s = o.useRef(null);
        return o.createElement(
          o.Fragment,
          null,
          Boolean(r)
            ? o.createElement(bn, {
                tableRef: s,
                bSomeEmailSent: n,
                oAllStats: a,
              })
            : o.createElement(Wt, {
                tableRef: s,
                bSomeEmailSent: n,
                oAllStats: a,
              }),
          o.createElement(Rt, { tableRef: s }),
          o.createElement("br", null),
          o.createElement(En, { tableRef: s, eligibleStats: i }),
        );
      }
      function yn(e, t, n, a, i, l) {
        return t && n && e
          ? (e.forEach((e) => {
              n.fnbHasSomeLongTermSaleRankForApp(e.appid)
                ? (e.long_term_sales_rank = n.fnGetLongTermSaleRankForApp(
                    e.appid,
                  ))
                : (e.long_term_sales_rank = 1e6),
                (e.discount_info = (0, Tt.Lr)(e.appid, t, i, l, a));
            }),
            e)
          : e;
      }
      function bn(e) {
        const { tableRef: t, bSomeEmailSent: n, oAllStats: a } = e,
          i = l.On.Get(),
          [r, s] = (0, Ce.SZ)(() => [i.GetFullName(), i.GetDiscountEventID()]),
          {
            jsonOptedIn: c,
            jsonInvited: m,
            jsonFeatured: d,
            jsonOptedOut: u,
          } = a,
          p = (0, o.useMemo)(() => {
            const e = (null == c ? void 0 : c.map((e) => e.appid)) || [],
              t = (null == m ? void 0 : m.map((e) => e.appid)) || [],
              n = (null == d ? void 0 : d.map((e) => e.appid)) || [],
              a = (null == u ? void 0 : u.map((e) => e.appid)) || [],
              i = new Set([...e, ...t, ...n, ...a]);
            return Array.from(i).sort();
          }, [c, m, d, u]),
          _ = (0, Nt.l)(p),
          h = (0, Tt.oC)(r, p, s),
          g = (0, o.useMemo)(() => {
            const e = i.GetDiscountEventID(),
              t = i.GetEventStartTime(),
              n = i.GetEventEndTime();
            return Object.assign(Object.assign({}, a), {
              jsonOptedIn: yn(a.jsonOptedIn, h, _, e, t, n),
              jsonInvited: yn(a.jsonInvited, h, _, e, t, n),
              jsonFeatured: yn(a.jsonFeatured, h, _, e, t, n),
              jsonOptedOut: yn(a.jsonOptedOut, h, _, e, t, n),
            });
          }, [i, _, h, a]);
        return _ && h
          ? o.createElement(Wt, {
              tableRef: t,
              bSomeEmailSent: n,
              mapAppToDiscountInfo: h,
              oAllStats: g,
            })
          : o.createElement(T.V, {
              string: "Loading",
              size: "medium",
              position: "center",
            });
      }
      function In(e) {
        switch (e) {
          case 1:
            return "User who Registered the App for this Opt-In";
          case 32:
            return "Eligible Games that are not already opted in/out";
          case 16:
            return "Apps who were explicitly Invited, that have not already opted in/out";
          case 64:
            return "All 'Featured' apps";
          case 128:
            return "All 'Featured' apps not opted out without a featured date.";
          case 256:
            return "'Featured' apps who have not been emailed about featuring before";
          case 512:
            return "Custom App List";
        }
        return "Unknown target: " + e;
      }
      !(function (e) {
        (e[(e.k_EDownoadInvalid = 0)] = "k_EDownoadInvalid"),
          (e[(e.k_EDownloadTrailer = 1)] = "k_EDownloadTrailer"),
          (e[(e.k_EDownloadHeader = 2)] = "k_EDownloadHeader"),
          (e[(e.k_EDownloadSmallCapsule = 3)] = "k_EDownloadSmallCapsule"),
          (e[(e.k_EDownloadMainCapsule = 4)] = "k_EDownloadMainCapsule"),
          (e[(e.k_EDownloadVerticalCapsule = 5)] =
            "k_EDownloadVerticalCapsule"),
          (e[(e.k_EDownloadPageBackground = 6)] = "k_EDownloadPageBackground"),
          (e[(e.k_EDownloadAllAgeSafeScreenshots = 7)] =
            "k_EDownloadAllAgeSafeScreenshots"),
          (e[(e.k_EDownloadScreenshots = 8)] = "k_EDownloadScreenshots");
      })(un || (un = {}));
      const Cn = "edit_email";
      class kn {
        constructor() {
          (this.m_curSelection = void 0), (0, O.rC)(this);
        }
        SetSelectionFromQueryParams(e) {
          const t = (0, u.ks)(e, Cn);
          (null == t ? void 0 : t.trim().length) > 0 &&
            l.On.Get()
              .GetEmailDefinitions()
              .forEach((e) => {
                e.GetUniqueID() === t &&
                  this.m_curSelection !== e &&
                  (this.m_curSelection = e);
              });
        }
        BHasSelection() {
          return Boolean(this.m_curSelection);
        }
        GetSelection() {
          return this.m_curSelection;
        }
        SetSelection(e, t, n) {
          var a;
          e != this.m_curSelection &&
            ((this.m_curSelection = e),
            e &&
              t &&
              (null === (a = null == t ? void 0 : t.stats) || void 0 === a
                ? void 0
                : a.completed) &&
              e.SetReadOnly(!0),
            (0, u.i9)(n, Cn, null == e ? void 0 : e.GetUniqueID()));
        }
        static Get() {
          return kn.s_Singleton || (kn.s_Singleton = new kn()), kn.s_Singleton;
        }
      }
      function An(e) {
        const { serverDef: t, emailEditModel: n } = e,
          [a] = (0, Ce.SZ)(() => [t.reviewed || !1]);
        return a
          ? o.createElement("span", null, "Email Resutls: Reviewed")
          : o.createElement(
              m.zx,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(wn, { emailEditModel: n, serverDef: t }),
                    (0, D.RA)(e),
                  ),
              },
              "Mark as Reviewed",
            );
      }
      function wn(e) {
        const { serverDef: t, emailEditModel: n, closeModal: a } = e,
          [i, l] = (0, o.useState)(!1),
          [r, s] = (0, o.useState)(!1),
          [c, m] = (0, o.useState)(null);
        return o.createElement(
          P.uH,
          {
            strTitle: "Email Reviewe",
            strDescription: "Dialog to mark the email as reviewed.",
            onCancel: a,
            onOK: () => {
              l(!0),
                j
                  .Get()
                  .UpdateOptInEmailMetaData(n, {
                    rtStartAutomaticEmailType:
                      (null == t ? void 0 : t.start_rtime) || 0,
                    rtEndAutomaticEmail:
                      (null == t ? void 0 : t.end_rtime) || 0,
                    bReviewed: !0,
                  })
                  .then((e) => {
                    1 != e &&
                      m(
                        'Failed to mark the email Reviewed. "p"lease try again later.',
                      );
                  })
                  .catch(() =>
                    m(
                      'Failed to mark the email Reviewed. "p"lease try again later.',
                    ),
                  )
                  .finally(() => s(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: r ? "Close" : void 0,
          },
          o.createElement(
            "div",
            null,
            "Purpose: Please review the stats for the email that has been sent. Verify that there are not an unexpectedly larger number of failed email or unreachable partner. We want to avoid issues where emails failed due to some server failure and our partners are not notified about these time sensitive requests.",
          ),
          Boolean(i && !r) &&
            o.createElement(T.V, {
              size: "medium",
              position: "center",
              string: (0, G.Xx)("#Saving"),
            }),
          Boolean(r && c) && o.createElement("div", null, "Error: ", c),
          Boolean(r && !c) &&
            o.createElement("div", null, "Review Status Save Successful."),
        );
      }
      function Pn(e) {
        const { serverDef: t, emailEditModel: n } = e,
          [a] = (0, Ce.SZ)(() => [t.start_rtime]);
        return t.aborted || t.completed || t.deleted || t.reviewed
          ? null
          : o.createElement(
              o.Fragment,
              null,
              o.createElement(
                m.zx,
                {
                  className: ue().BasicButtonSize,
                  onClick: (e) =>
                    (0, g.AM)(
                      o.createElement(Tn, { emailEditModel: n, serverDef: t }),
                      (0, D.RA)(e),
                    ),
                },
                Boolean(a) ? "Update Email Scheduled Times" : "Schedule Email",
              ),
              Boolean(a) &&
                o.createElement(
                  m.zx,
                  {
                    className: ue().BasicButtonSize,
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(Nn, {
                          emailEditModel: n,
                          serverDef: t,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Unset Email Schedule",
                ),
            );
      }
      function Tn(e) {
        const { serverDef: t, emailEditModel: n, closeModal: a } = e,
          i = l.On.Get(),
          r = t.start_rtime || i.GetEventStartTime(),
          s = t.end_rtime || i.GetEventEndTime(),
          [m, d] = (0, o.useState)(r),
          [u, p] = (0, o.useState)(s),
          [_, h] = (0, o.useState)(!1),
          [g, v] = (0, o.useState)(!1),
          [E, S] = (0, o.useState)(null),
          D = c.JW.GetTimeNowWithOverride();
        return o.createElement(
          P.uH,
          {
            strTitle: "Setup OptIn Email Schedule",
            strDescription:
              "The email can be setup to start firing upto the end of the underlying Partner OptIn event.  The end-time is a safe guard to prevent firing emals beyond this time incase email servers are slow.",
            onCancel: a,
            bDisableBackgroundDismiss: !1,
            strCancelButtonText: g ? "Close" : void 0,
            onOK: () => {
              h(!0),
                j
                  .Get()
                  .UpdateOptInEmailMetaData(n, {
                    rtStartAutomaticEmailType: m,
                    rtEndAutomaticEmail: u,
                  })
                  .then((e) => {
                    1 != e &&
                      S("Failed to Save setting, please try again later");
                  })
                  .catch(() =>
                    S("Failed to Save setting, please try again later"),
                  )
                  .finally(() => v(!0));
            },
            bOKDisabled: _ || (r == m && u == s),
          },
          Boolean(_ && !g) &&
            o.createElement(T.V, {
              size: "medium",
              position: "center",
              string: (0, G.Xx)("#Saving"),
            }),
          Boolean(g && E) && o.createElement("div", null, "Error: ", E),
          Boolean(g && !E) && o.createElement("div", null, "Save Successful."),
          !Boolean(_) &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement("br", null),
              o.createElement(Pe.A, {
                strDescription: "Email Start Sending Time",
                nEarliestTime: D,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => m,
                fnSetTimeToUpdate: d,
                fnIsValidDateTime: () => m < u,
                bShowTimeZone: !0,
              }),
              o.createElement(Pe.A, {
                strDescription: "Email Stop at Time",
                nEarliestTime: D,
                nLatestTime: i.GetEventEndTime(),
                fnGetTimeToUpdate: () => u,
                fnSetTimeToUpdate: p,
                fnIsValidDateTime: () => m < u,
                bShowTimeZone: !0,
              }),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement("br", null),
            ),
        );
      }
      function Nn(e) {
        const { serverDef: t, emailEditModel: n, closeModal: a } = e,
          [i, l] = (0, o.useState)(!1),
          [r, s] = (0, o.useState)(!1),
          [c, m] = (0, o.useState)(null);
        return o.createElement(
          P.uH,
          {
            strTitle: "Clear Email Schedule?",
            strDescription:
              "Removinmg the scheduling for firing this email? If you confirm, this will be manual mode only.",
            onCancel: a,
            onOK: () => {
              l(!0),
                j
                  .Get()
                  .UpdateOptInEmailMetaData(n, {
                    rtStartAutomaticEmailType: 0,
                    rtEndAutomaticEmail: 0,
                  })
                  .then((e) => {
                    1 != e &&
                      m("Failed to Reset Scheduling, please try again later");
                  })
                  .catch(() =>
                    m("Failed to Save setting, please try again later"),
                  )
                  .finally(() => s(!0));
            },
            bOKDisabled: i,
            strCancelButtonText: r ? "Close" : void 0,
          },
          Boolean(i && !r) &&
            o.createElement(T.V, {
              size: "medium",
              position: "center",
              string: (0, G.Xx)("#Saving"),
            }),
          Boolean(r && c) && o.createElement("div", null, "Error: ", c),
          Boolean(r && !c) && o.createElement("div", null, "Save Successful."),
        );
      }
      (0, I.gn)([O.LO], kn.prototype, "m_curSelection", void 0);
      var Rn = n(8285),
        Gn = n(83831);
      const Ln =
        n.p +
        "images/applications/appmgmt/Logo_Steamworks.png?v=valveisgoodatcaching";
      var Bn = n(87717),
        xn = n.n(Bn),
        Mn = n(28593);
      const On = (0, $.Pi)((e) => {
          const { section: t, sectionIndex: n, emailDef: a, storeItem: i } = e;
          let l = null;
          if (t.GetType() === M.rg.k_Custom)
            l = o.createElement(Fn, { section: t, emailDef: a });
          else
            l = o.createElement(Vn, { section: t, emailDef: a, storeItem: i });
          return o.createElement(
            "div",
            null,
            !a.BIsReadOnly() &&
              o.createElement(
                "div",
                { className: xn().ChangeBtnCtn },
                o.createElement(
                  m.zx,
                  {
                    className: ue().BasicButtonSize,
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(Hn, {
                          emailDef: a,
                          sectionIndex: n,
                          storeItem: i,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Change Section Type",
                ),
              ),
            l,
          );
        }),
        Fn = (0, $.Pi)((e) => {
          const { section: t } = e,
            n = ae.U.Get().GetCurEditLanguage();
          return o.createElement(
            "div",
            { className: xn().SectionCtn },
            o.createElement(
              "div",
              { className: xn().SectionEntryTitle },
              "Title:",
            ),
            o.createElement("input", {
              type: "text",
              value: t.GetTitle(n),
              placeholder: "(required) Enter Title",
              onChange: (e) => t.SetTitle(e.currentTarget.value, n),
              maxLength: 240,
            }),
            o.createElement(
              "div",
              { className: xn().SectionEntryTitle },
              "Description:",
            ),
            o.createElement("textarea", {
              value: t.GetDescription(n),
              onChange: (e) => t.SetDescription(e.currentTarget.value, n),
              placeholder: "(required) Description / Body Text",
              rows: 4,
            }),
          );
        }),
        Un = (e) => {
          const {
              curValue: t,
              fnOnChange: n,
              emailDef: a,
              sectionIndex: i,
            } = e,
            l = M.UT.filter(
              (e) =>
                e == M.rg.k_Custom ||
                !a.GetSections().some((t, n) => n != i && t.GetType() == e),
            ).map((e) => ({ label: (0, M.n)(e), data: e }));
          return o.createElement(m.ry, {
            label: "Email Section Type",
            strDropDownClassName: _().DropDownScroll,
            rgOptions: l,
            selectedOption: t,
            onChange: (e) => n(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        Hn = (e) => {
          const {
              closeModal: t,
              sectionIndex: n,
              emailDef: a,
              storeItem: i,
            } = e,
            l = "number" != typeof n,
            r = l ? M.rg.k_Custom : a.GetSection(n).GetType(),
            s = r == M.rg.k_Custom,
            [c, d] = o.useState(r);
          return o.createElement(
            P.RG,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            o.createElement(
              m.h4,
              null,
              l ? "Add New Email Section" : "Change Section Type",
            ),
            o.createElement(
              m.uT,
              null,
              o.createElement(
                "div",
                null,
                o.createElement(
                  "p",
                  null,
                  "An email can have any number of custom sections. Other section types can only appear once on the email. Sections are pruned from the drop down if they already are using else where in the email body.",
                ),
              ),
              s &&
                o.createElement(
                  "div",
                  null,
                  "Warning: changing from a custom to another type of section will loose any previous custom text.",
                ),
              o.createElement(Un, {
                emailDef: a,
                sectionIndex: n,
                curValue: c,
                fnOnChange: d,
              }),
              o.createElement(
                "div",
                { className: Mn.Preview },
                o.createElement("h2", null, "Section Preview"),
                o.createElement(Vn, {
                  emailDef: a,
                  section: new M.I_({ type: c, unique_id: "dummy" }),
                  storeItem: i,
                }),
              ),
            ),
            o.createElement(
              m.$_,
              null,
              o.createElement(m.o9, {
                onCancel: t,
                onOK: () => {
                  if (l) {
                    a.AddSection(c);
                    const e = document.getElementById("end_of_email_sections");
                    e && e.scrollIntoView();
                  } else a.GetSection(n).SetType(c);
                  t();
                },
              }),
            ),
          );
        },
        Vn = (0, $.Pi)((e) => {
          const { emailDef: t, section: n, storeItem: a } = e;
          let i = "",
            r = o.createElement("div", null);
          if (n.GetType() == M.rg.k_Custom) return null;
          const s =
              f.De.PARTNER_BASE_URL +
              "optin/sale/" +
              l.On.Get().GetName() +
              "/" +
              a.GetAppID(),
            c = s + "?focusmedia=1",
            m = f.De.PARTNER_BASE_URL + "optin/sale/" + l.On.Get().GetName(),
            d = f.De.PARTNER_BASE_URL + "taxonomy/tagwizard/" + a.GetAppID(),
            u =
              (f.De.PARTNER_BASE_URL,
              a.GetAppID(),
              f.De.PARTNER_BASE_URL + "apps/demo/" + a.GetAppID()),
            p =
              f.De.COMMUNITY_BASE_URL +
              "ogg/" +
              a.GetAppID() +
              "/partnerevents/create/",
            _ = l.On.Get().GetOptInDeadlineTime(),
            h = l.On.Get().GetCurEventTitle(),
            g = l.On.Get().GetEventStartTime();
          switch (n.GetType()) {
            case M.rg.k_AssetKit:
              (i = (0, G.Xx)("#OptIn_EmailSection_Asset_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.kQ)(
                    "#OptIn_EmailSection_Asset_Body",
                    o.createElement(
                      "a",
                      { href: t.GetAssetKitURL() || "" },
                      (0, G.Xx)("#OptIn_EmailSection_Asset_Token"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_DemoPressPreview:
              (i = (0, G.Xx)("#OptIn_EmailSection_Press_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_Press_Body",
                      o.createElement(
                        "a",
                        { href: s },
                        (0, G.Xx)("#OptIn_EmailSection_Press_Token"),
                      ),
                      (0, G.$1)(t.GetDemoPressPreviewDate() || 0),
                    ),
                  ),
                ));
              break;
            case M.rg.k_ScheduleLiveStream:
              (i = (0, G.Xx)("#OptIn_EmailSection_schedlive_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.kQ)(
                    "#OptIn_EmailSection_schedlive_Body",
                    t.GetScheduleMaxItems().toLocaleString(),
                    h,
                    o.createElement(
                      "a",
                      { href: t.GetSalePreviewPage() || "" },
                      (0, G.Xx)("#OptIn_EmailSection_schedlive_Token"),
                    ),
                  ),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  (0, G.kQ)(
                    "#OptIn_EmailSection_schedlive_Link",
                    o.createElement(
                      "a",
                      { href: p, target: "_blank" },
                      (0, G.Xx)("#OptIn_EmailSection_schedlive_Link_Token"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_CancelSection:
              (i = (0, G.Xx)("#OptIn_EmailSection_cancel_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_EmailSection_cancel_Body",
                    h,
                    (0, G.$1)(t.GetCancelDate() || 0) +
                      " @ " +
                      (0, Qt.Sc)(t.GetCancelDate() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                ));
              break;
            case M.rg.k_DemoNotReady:
              (i = (0, G.Xx)("#OptIn_EmailSection_notreadydemo_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_EmailSection_notreadydemo_Body",
                    (0, G.$1)(t.GetCancelDate() || 0),
                    (0, G.jr)(t.GetNextEditionDate() || 0),
                  ),
                ));
              break;
            case M.rg.k_ReviewCategorization:
              (i = (0, G.Xx)("#OptIn_EmailSection_reviewcategories_Title")),
                (r = o.createElement(
                  "div",
                  { className: xn().SectionBody },
                  (0, G.kQ)(
                    "#OptIn_EmailSection_reviewcategories_Body",
                    o.createElement(
                      "a",
                      { href: s + "#GameListing" },
                      (0, G.Xx)(
                        "#OptIn_EmailSection_reviewcategories_BodyLink",
                      ),
                    ),
                  ),
                  o.createElement(
                    "ul",
                    null,
                    o.createElement(
                      "li",
                      null,
                      (0, G.kQ)(
                        "#OptIn_EmailSection_reviewcategories_Li_1",
                        o.createElement(
                          "a",
                          { href: s },
                          (0, G.Xx)(
                            "#OptIn_EmailSection_RegistrationForm_Token",
                          ),
                        ),
                      ),
                    ),
                    o.createElement(
                      "li",
                      null,
                      (0, G.kQ)(
                        "#OptIn_EmailSection_reviewcategories_Li_2",
                        o.createElement(
                          "a",
                          { href: d },
                          (0, G.Xx)("#OptIn_EmailSection_TagWizard_Token"),
                        ),
                      ),
                    ),
                    o.createElement(
                      "li",
                      null,
                      (0, G.Xx)("#OptIn_EmailSection_reviewcategories_Li_3"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_DemoReview:
              (i = (0, G.Xx)("#OptIn_EmailSection_DemoReview_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.kQ)(
                    "#OptIn_EmailSection_DemoReview_Body",
                    o.createElement(
                      "a",
                      { href: u },
                      (0, G.Xx)("#OptIn_EmailSection_DemoReview_Token"),
                    ),
                  ),
                ));
              break;
            case M.rg.k_PressPreviewDetails:
              (i = (0, G.Xx)("#OptIn_EmailSection_PressPreviewDetails_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.kQ)(
                    "#OptIn_EmailSection_PressPreviewDetails_Body",
                    (0, G.$1)(t.GetPreviewDate() || 0),
                    o.createElement(
                      "a",
                      { target: "_blank", href: t.GetWikiDocURL() || "" },
                      (0, G.Xx)(
                        "#OptIn_EmailSection_PressPreviewDetails_EventDoc",
                      ),
                    ),
                  ),
                ));
              break;
            case M.rg.k_MediaUsePermission:
              (i = (0, G.Xx)("#OptIn_EmailSection_MediaPermission_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.Xx)("#OptIn_EmailSection_MediaPermission_Body_1"),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  (0, G.Xx)("#OptIn_EmailSection_MediaPermission_Body_2"),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  (0, G.kQ)(
                    "#OptIn_EmailSection_MediaPermission_Body_3",
                    (0, G.$1)(t.GetPermissionDate() || 0),
                  ),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  o.createElement(
                    "a",
                    { href: s },
                    (0, G.kQ)(
                      "#Steamworks_partner_optin_MediaPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case M.rg.k_TrailerOrDemoPermissions:
              (i = (0, G.Xx)(
                "#OptIn_EmailSection_TrailerDemoPermission_title",
              )),
                (r = o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc1",
                    h,
                  ),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  (0, G.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc2",
                    h,
                  ),
                  " ",
                  (0, G.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc3",
                    o.createElement(
                      "b",
                      null,
                      (0, G.$1)(t.GetPressPreviewVisibleDate() || 0),
                    ),
                  ),
                  " ",
                  (0, G.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc4",
                    o.createElement("b", null, (0, G.$1)(g || 0)),
                    h,
                  ),
                  " ",
                  (0, G.Xx)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc5",
                    h,
                  ),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  (0, G.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc6",
                    o.createElement(
                      "b",
                      null,
                      (0, G.$1)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  " ",
                  (0, G.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc7",
                    o.createElement(
                      "b",
                      null,
                      (0, G.$1)(t.GetPermissionDate() || 0),
                    ),
                    h,
                  ),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  (0, G.kQ)(
                    "#OptIn_EmailSection_TrailerDemoPermission_desc8",
                    o.createElement(
                      "b",
                      null,
                      (0, G.$1)(t.GetPermissionDate() || 0),
                    ),
                  ),
                  o.createElement("br", null),
                  o.createElement("br", null),
                  o.createElement(
                    "a",
                    { href: c },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_TrailerDemoPermission_RegLinkText",
                    ),
                  ),
                ));
              break;
            case M.rg.k_StatsSummary:
              (i = (0, G.Xx)("#OptIn_EmailSection_StatsSummary_Title")),
                (r = o.createElement(
                  "div",
                  null,
                  o.createElement(
                    "div",
                    { className: xn().StatCtn },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_StatsSummary_Body",
                      l.On.Get().GetCurEventTitle(),
                    ),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().StatCtn },
                    o.createElement(
                      "div",
                      { className: xn().StatNumber },
                      o.createElement("span", null, "00,000"),
                      " new demo players",
                    ),
                    "Your game's demo was played by 00,000 new players during Steam Next Fest. Click ",
                    o.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of downloads for your demo.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().StatCtn },
                    o.createElement(
                      "div",
                      { className: xn().StatNumber },
                      o.createElement("span", null, "00,000"),
                      " wishlists",
                    ),
                    "Your game was added to the wishlist of 00,000 new players during Steam Next Fest! Click ",
                    o.createElement("a", { href: "#" }, "HERE"),
                    " to see a detailed breakdown of wishlist activity on your game.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().StatCtn },
                    o.createElement(
                      "div",
                      { className: xn().StatNumber },
                      o.createElement("span", null, "00,000"),
                      " broadcast views",
                    ),
                    "We found 8 broadcast sessions for your game during Steam Next Fest, totalling views by 00,000 unique users. Broadcast stats are collected under each Steam account that did the broadcasting, so for now details can only be seen by the owner of the account that did the broadcasting.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().StatCtn },
                    o.createElement(
                      "div",
                      { className: xn().StatNumber },
                      o.createElement("span", null, "00,000"),
                      " store page views",
                    ),
                    "This many unique players visited your store page from the landing page of Steam Next Fest.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().StatCtn },
                    o.createElement(
                      "div",
                      { className: xn().StatNumber },
                      o.createElement("span", null, "00,000"),
                      " game impressions",
                    ),
                    "Your game capsule appeared on screen to this many unique players in Steam Next Fest.",
                  ),
                ));
              break;
            case M.rg.k_SurveyButton:
              (i = null),
                (r = o.createElement(
                  "div",
                  null,
                  "If you have a few minutes, please take this quick survey so that we may understand how you felt the event went for you and how we can improve in the future.",
                  o.createElement(
                    "a",
                    {
                      href: t.GetSurveyLinkURL() || "",
                      className: xn().BigButton,
                    },
                    o.createElement("span", null, "Take Event Survey"),
                  ),
                ));
              break;
            case M.rg.k_MeasureResults:
              (i = "MEASURING YOUR RESULTS"),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "SALES",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "For games that are released and playable, you can find a report of your game's sales here: https://partner.steampowered.com/app/details/",
                    a.GetAppID(),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "WISHLISTS",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    a.GetAppID(),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "DEMO ACTIVATIONS",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    a.GetAppID(),
                  ),
                ));
              break;
            case M.rg.k_MeasureResultsFree:
              (i = "MEASURING YOUR RESULTS"),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "You can check out how your game did by visiting these detailed reporting pages in Steam:",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "WISHLISTS",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Players may add your game to their wishlist if they aren't quite ready to buy it or if your game is unreleased. You can find your wishlisting results here: https://partner.steampowered.com/app/wishlist/",
                    a.GetAppID(),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "DEMO ACTIVATIONS",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "If you had a playable demo available, you can find a report of your demo activations by selecting your demo from this page: https://partner.steampowered.com/app/details/",
                    a.GetAppID(),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "LIVESTREAM VIEWS",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Visit this livestream history page from the account that ran the livestream to see counts of viewers and time watched: https://steamcommunity.com/broadcast/history",
                  ),
                ));
              break;
            case M.rg.k_DemoLaunch:
              (i = (0, G.Xx)("#OptIn_EmailSection_DemoRelease_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_DemoRelease_Body",
                      o.createElement(
                        "a",
                        { href: u },
                        (0, G.Xx)("#OptIn_EmailSection_DemoRelease_Token"),
                      ),
                    ),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "We recommend keeping your demo active for at least a week or two after Next Fest ends to make sure that players have time to try out all the great demos they discover during the fest.",
                  ),
                ));
              break;
            case M.rg.k_EnterDiscount:
              (i = "DISCOUNT"),
                (r = o.createElement(
                  "div",
                  null,
                  "If youd like to offer a discount on your title throughout the ",
                  l.On.Get().GetCurEventTitle(),
                  " event, you'll need to enter your discounts before the event begins on ",
                  o.createElement(
                    "span",
                    null,
                    " " +
                      (0, G.$1)(l.On.Get().GetEventStartTime() || 0) +
                      " @ " +
                      (0, Qt.Sc)(l.On.Get().GetEventStartTime() || 0, {
                        bForce24HourClock: !1,
                      }),
                  ),
                  ". Visit your ",
                  o.createElement(
                    "a",
                    {
                      href:
                        f.De.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    o.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                  o.createElement("br", null),
                  o.createElement("br", null),
                  "Remember, all discounts are subject to the same cooldown between discounts, with the only exceptions being for major Steam seasonal sales. For more details on the discounting, please see the ",
                  o.createElement(
                    "a",
                    { href: f.De.PARTNER_BASE_URL + "doc/marketing/discounts" },
                    o.createElement("span", null, "Discounting documentation"),
                  ),
                  ". If you wish, you may delete conflicting custom discounts you had planned. It's up to you to choose which discount events you participate in.",
                ));
              break;
            case M.rg.k_EnterDiscountReminder:
              (i = "DISCOUNT"),
                (r = o.createElement(
                  "div",
                  null,
                  "If youd like to offer a discount on your title throughout the event, its not too late to do so. Enter your ",
                  l.On.Get().GetCurEventTitle(),
                  " discounts before the event begins on",
                  (0, G.$1)(l.On.Get().GetEventStartTime() || 0) +
                    " @ " +
                    (0, Qt.Sc)(l.On.Get().GetEventStartTime() || 0, {
                      bForce24HourClock: !1,
                    }),
                  ". Visit your ",
                  o.createElement(
                    "a",
                    {
                      href:
                        f.De.PARTNER_BASE_URL +
                        "promotion/discounts/dashboard/",
                    },
                    o.createElement("span", null, "discount dashboard"),
                  ),
                  " to check your eligible games and enter your discounts.",
                ));
              break;
            case M.rg.k_LearnMore:
              (i = "LEARN MORE"),
                (r = o.createElement(
                  "div",
                  null,
                  "Visit our ",
                  o.createElement(
                    "a",
                    { href: t.GetWikiDocURL() || "#" },
                    l.On.Get().GetCurEventTitle(),
                    " documentation",
                  ),
                  " for more information. Should you have any remaining questions, please reach out via ",
                  o.createElement(
                    "a",
                    {
                      href:
                        f.De.HELP_BASE_URL +
                        "en/wizard/HelpWithPublishing?issueid=933",
                    },
                    "Steam Support",
                  ),
                  ".",
                ));
              break;
            case M.rg.k_CallForRegistration:
              (i = (0, G.Xx)("#OptIn_EmailSection_Register_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_Register_Body_1",
                      (0, G.$1)(_ || 0),
                    ),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_Register_Body_2",
                      o.createElement("a", { href: m }, m),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestReturns:
              (i = (0, G.Xx)(
                "#OptIn_EmailSection_NextFest_Returns_Title",
                (0, G.$1)(l.On.Get().GetEventStartTime() || 0),
              )),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)("#OptIn_EmailSection_NextFest_Returns_Body"),
                  ),
                ));
              break;
            case M.rg.k_NextFestQASession:
              (i = (0, G.Xx)("#OptIn_EmailSection_NextFest_QASession_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_NextFest_QASession_Body",
                      o.createElement(
                        "span",
                        null,
                        " " +
                          (0, G.$1)(t.GetQASessionDate() || 0) +
                          " @ " +
                          (0, Qt.Sc)(t.GetQASessionDate() || 0, {
                            bForce24HourClock: !1,
                          }),
                      ),
                      o.createElement(
                        "a",
                        { href: t.GetQASessionLink() || "", target: "_blank" },
                        (0, G.kQ)(
                          "#OptIn_EmailSection_NextFest_QASession_Link",
                        ),
                      ),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestWhatNext:
              (i = (0, G.Xx)("#OptIn_EmailSection_NextFest_WhatNext_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)(
                      "#OptIn_EmailSection_NextFest_WhatNext_Body",
                      (0, G.$1)(l.On.Get().GetEventStartTime() || 0),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestTips:
              (i = (0, G.Xx)("#OptIn_EmailSection_NextFest_Tips_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.kQ)(
                      "#OptIn_EmailSection_NextFest_Tips_Body",
                      o.createElement(
                        "a",
                        {
                          href: "https://partner.steamgames.com/doc/marketing/upcoming_events/nextfest/tips",
                          target: "_blank",
                        },
                        (0, G.kQ)("#OptIn_EmailSection_NextFest_Tips_Insert1"),
                      ),
                      o.createElement(
                        "a",
                        {
                          href: t.GetRecordedQASessionLink() || "",
                          target: "_blank",
                        },
                        (0, G.kQ)("#OptIn_EmailSection_NextFest_Tips_Insert2"),
                      ),
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestStartsNow:
              (i = (0, G.Xx)("#OptIn_EmailSection_NextFest_StartsNow_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)("#OptIn_EmailSection_NextFest_StartsNow_Body"),
                  ),
                ));
              break;
            case M.rg.k_NextFestThankYou:
              (i = (0, G.Xx)("#OptIn_EmailSection_NextFest_ThankYou_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)("#OptIn_EmailSection_NextFest_ThankYou_Body"),
                  ),
                ));
              break;
            case M.rg.k_MediaPermissionReminder:
              (i = (0, G.Xx)(
                "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Title",
              )),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder1_Body",
                    ),
                    o.createElement("br", null),
                    o.createElement("br", null),
                    t.GetDemoTrailerRegLink() || "",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    (0, G.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Title",
                    ),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body",
                      (0, G.$1)(t.GetTrailerDemoDeadlineDate() || 0),
                    ),
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)(
                      "#OptIn_EmailSection_TrailerDemoPermission_Reminder2_Body2",
                    ),
                  ),
                ));
              break;
            case M.rg.k_NextFestMediaUsageIntended:
              (i = "OFFICIAL TRAILER AND/OR LIVESTREAM"),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "We intend to include your game in the official event trailer and/or in the official livestream. Please let us know ASAP if your plans have changed!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "The main event trailer will be available on the ",
                    o.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, G.$1)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "The official livestream will broadcast ",
                    (0, G.$1)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    o.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    o.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    o.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    o.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please",
                    o.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    "immediately and return to",
                    o.createElement(
                      "a",
                      { href: s, target: "_blank" },
                      "your game's registration page",
                    ),
                    "to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "You must opt out by ",
                    (0, G.$1)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case M.rg.k_NextFestMediaUsageIntendedTrailer:
              (i = "WE INTEND TO FEATURE YOUR GAME"),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "We intend to include your game in the official event trailer. Please let us know ASAP if your plans have changed!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "The main event trailer will be available on the ",
                    o.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "Steam YouTube channel",
                    ),
                    " ",
                    (0, G.$1)(t.GetTrailerLaunchDate() || 0),
                    " sometime after 10am Pacific Time.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please",
                    o.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    "immediately and return to",
                    o.createElement(
                      "a",
                      { href: s, target: "_blank" },
                      "your game's registration page",
                    ),
                    "to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "You must opt out by ",
                    (0, G.$1)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case M.rg.k_NextFestMediaUsageIntendedLivestream:
              (i = "WE INTEND TO FEATURE YOUR GAME"),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "We intend to include your game in the official livestream. Please let us know ASAP if your plans have changed!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "The official livestream will broadcast ",
                    (0, G.$1)(t.GetLivestreamLaunchDate() || 0),
                    ", 11am - 1pm Pacific Time, and can be viewed on the ",
                    o.createElement(
                      "a",
                      { href: "https://store.steampowered.com/sale/nextfest" },
                      "Steam Next Fest event page",
                    ),
                    "; ",
                    o.createElement(
                      "a",
                      { href: "https://www.twitch.tv/valve" },
                      "Twitch",
                    ),
                    "; ",
                    o.createElement(
                      "a",
                      { href: "https://www.youtube.com/c/SteamYT" },
                      "YouTube",
                    ),
                    "; and ",
                    o.createElement(
                      "a",
                      { href: "https://www.facebook.com/Steam/videos" },
                      "Facebook",
                    ),
                    ".",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "EVENT PARTICIPATION IS REQUIRED FOR FEATURING",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Of course, participation in this edition of Steam Next Fest with a playable demo is required in order to be featured. If you can no longer participate for any reason please follow the instructions below.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "NEED TO OPT-OUT OR CANCEL? PLEASE DO SO ASAP!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "If your plans have changed and you no longer intend to participate in this edition, or you would like to opt out of trailer and/or livestream inclusion, please",
                    o.createElement(
                      "a",
                      {
                        href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=932",
                        target: "_blank",
                      },
                      "contact us",
                    ),
                    "immediately and return to",
                    o.createElement(
                      "a",
                      { href: s, target: "_blank" },
                      "your game's registration page",
                    ),
                    "to update your selections for featuring permission and/or event registration as relevant.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    'Under the Visibility Opportunity section, select the "no, I do not agree" checkbox(es) for trailer and/or demo usage permissions. If also opting out of Steam Next Fest altogether, please select the "no" checkbox under the Festival Registration section. Make sure to Save.',
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "You must opt out by ",
                    (0, G.$1)(t.GetCancelDate() || 0),
                    " to ensure your trailer and/or demo is not included in our marketing materials.",
                  ),
                ));
              break;
            case M.rg.k_NextFestTopGameWrapUp:
              (i = "YOUR DEMO WAS ONE OF THE MOST PLAYED!"),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Congratulations! As one of the most popular demos in this edition of Next Fest, your game will highlighted as part of a wrap-up announcement and landing page.",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionTitle },
                    "PLEASE LEAVE YOUR DEMO UP!",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "In the next day or so, we will publish the list of most-played demos of Steam Next Fest. Since that could lead to another round of extra attention from players, we wanted to give you a heads up and suggest that you keep your demo live for an additional week or two. (Plus, we know that players can't get through all the great demos they discover during Next Fest, so keeping your demo up for a couple weeks is generally a good idea.)",
                  ),
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    "Thanks for participating in Next Fest, and congrats on having one of the most-played demos of the week!",
                  ),
                ));
              break;
            case M.rg.k_SaleThankYou:
              (i = (0, G.Xx)("#OptIn_EmailSection_ThankYou_Title")),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    (0, G.Xx)("#OptIn_EmailSection_ThankYou_Body"),
                  ),
                ));
              break;
            case M.rg.k_GenericActionLink:
              (i = null),
                (r = o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    "div",
                    { className: xn().SectionBody },
                    t.GetGenericActionLink() &&
                      o.createElement(
                        "a",
                        {
                          href:
                            t
                              .GetGenericActionLink()
                              .replace("%s", a.GetAppID().toString()) || "",
                          target: "_blank",
                        },
                        t
                          .GetGenericActionLink()
                          .replace("%s", a.GetAppID().toString()) || "",
                      ),
                  ),
                ));
              break;
            case M.rg.k_SteamAwardsCategories:
              (i = (0, G.Xx)(
                "#OptIn_EmailSection_SteamAwardsCategories_Title",
              )),
                (r = o.createElement(Xn, { emailDef: t }));
              break;
            default:
              (i = "Unknown"),
                (r = o.createElement(
                  "div",
                  null,
                  "Unknown type ",
                  n.GetType(),
                  " @ ",
                  (0, M.n)(n.GetType()),
                  " ",
                ));
          }
          return o.createElement(
            "div",
            { className: xn().SectionCtn },
            o.createElement("div", { className: xn().SectionTitle }, i),
            r,
          );
        });
      function Xn(e) {
        const { emailDef: t } = e,
          n = fa(t);
        return o.createElement(
          "div",
          { className: xn().SectionBody },
          o.createElement(
            "div",
            null,
            (0, G.Xx)("#OptIn_EmailSection_SteamAwardsCategories_Body"),
          ),
          o.createElement(
            "div",
            null,
            o.createElement(
              "ul",
              null,
              Boolean((null == n ? void 0 : n.length) > 0)
                ? o.createElement(
                    o.Fragment,
                    null,
                    n.map((e) => o.createElement("li", { key: e }, e)),
                  )
                : o.createElement(
                    "li",
                    null,
                    o.createElement(T.V, { size: "small" }),
                  ),
            ),
          ),
        );
      }
      var jn = n(58515),
        qn = n.n(jn),
        Wn = n(92280);
      function zn(e) {
        const { appid: t, closeModal: n } = e,
          a = (0, Wn.$)(t);
        return (
          console.log(t, a),
          o.createElement(
            P.uH,
            {
              bAlertDialog: !0,
              strTitle: "Steam Award Definitions",
              closeModal: n,
            },
            a.isLoading
              ? o.createElement(T.V, { size: "medium", position: "center" })
              : o.createElement(
                  "div",
                  null,
                  o.createElement("h3", null, "Awards: "),
                  a.data.votes.map((e) =>
                    o.createElement(
                      "div",
                      { key: e.internal_name },
                      e.localization.title,
                    ),
                  ),
                  Boolean(a.data.votes.every((e) => e.app_discounts.length > 0))
                    ? o.createElement(
                        "div",
                        { className: A.InfoStylesWithIcon },
                        "Nominees Ready",
                      )
                    : o.createElement(
                        "div",
                        { className: (0, S.Z)(A.WarningStylesWithIcon) },
                        "No nominee's present",
                      ),
                ),
          )
        );
      }
      const Zn = (e) => {
          const { emailDef: t, storeItem: n, partnerInfo: a } = e;
          switch (t.GetType()) {
            case M.Ys.k_Invite:
            case M.Ys.k_InviteReminder:
              return o.createElement(
                o.Fragment,
                null,
                o.createElement("a", { href: a.partner_url }, a.name),
                " is invited to participate in an upcoming Steam event!",
              );
            case M.Ys.k_RegistrationConfirmation:
              return o.createElement(
                o.Fragment,
                null,
                "You've successfully registered ",
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " for an upcoming Steam Event!",
              );
            case M.Ys.k_Update:
              return o.createElement(
                o.Fragment,
                null,
                "We have a few things to share that might be helpful for ",
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " in an upcoming Steam Event!",
              );
            case M.Ys.k_Reminder:
              return o.createElement(
                o.Fragment,
                null,
                "This event is coming up quickly, so we wanted to check that ",
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " is all set to participate.",
              );
            case M.Ys.k_Starting:
              return o.createElement(
                o.Fragment,
                null,
                "This event starts soon! Here are a few final notes to prepare ",
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                ".",
              );
            case M.Ys.k_Followup:
              return o.createElement(
                o.Fragment,
                null,
                "We are pleased to have had ",
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " participate in a recent event!",
              );
            case M.Ys.k_PermissionRequest:
              return o.createElement(
                o.Fragment,
                null,
                o.createElement("a", { href: a.partner_url }, a.name),
                " is in consideration to be included in official event marketing!",
              );
            case M.Ys.k_MediaUsageNotification:
              return o.createElement(
                o.Fragment,
                null,
                "Please let us know ASAP if ",
                o.createElement("a", { href: a.partner_url }, a.name),
                " will no longer be part of the event.",
              );
            case M.Ys.k_GeneralCommunication:
              return o.createElement(
                o.Fragment,
                null,
                "Regarding your game ",
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " on Steam:",
              );
            case M.Ys.k_SteamAwardFinalists:
              return o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "a",
                  { href: n.GetStorePageURL() },
                  n.GetName(),
                ),
                " is a finalist for the Steam Awards!",
              );
            default:
              return o.createElement(
                "div",
                null,
                "unknown type: ",
                t.GetType(),
              );
          }
        },
        Kn = (0, $.Pi)((e) => {
          const { emailDef: t, appid: n } = e,
            [a] = (0, Qe.vs)(n, { include_basic_info: !0 }),
            [i] = (0, Gn.DV)((0, Gn.Tt)());
          if (!a || !i)
            return o.createElement(T.V, {
              string: (0, G.Xx)("#Loading"),
              size: "medium",
              position: "center",
            });
          const r = l.On.Get(),
            s = ae.U.Get().GetCurEditLanguage(),
            c = t
              .GetSections()
              .map((e, n) =>
                o.createElement(On, {
                  key: "section" + t.GetUniqueID() + "_" + e.GetUniqueID(),
                  emailDef: t,
                  section: e,
                  sectionIndex: n,
                  storeItem: a,
                }),
              );
          return o.createElement(
            "div",
            { className: Bn.EmailEditorContent },
            o.createElement(ee.ko, { fnLangHasData: t.BHasLanguageData }),
            t.BIsReadOnly() && o.createElement("h2", null, "Read Only"),
            o.createElement("h1", null, "Showing Email: ", t.GetInternalName()),
            o.createElement(
              "div",
              { className: Bn.Columns },
              o.createElement(
                "div",
                { className: Bn.LeftCol },
                o.createElement(
                  "div",
                  { className: (0, S.Z)(Bn.RightAlign, Bn.EmailSubjectCtn) },
                  o.createElement(
                    "span",
                    { className: Bn.EmailOptionTitle },
                    "Email Subject:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSubject(s),
                    size: 90,
                    maxLength: 250,
                    onChange: (e) => t.SetSubject(e.currentTarget.value, s),
                  }),
                ),
                o.createElement(
                  "div",
                  {
                    className: (0, S.Z)(Bn.EmailTemplate, Bn.DevEmailTemplate),
                  },
                  o.createElement(
                    "div",
                    {
                      className: (0, S.Z)(
                        Bn.CenterAlign,
                        Bn.DevEmail_TopHeader,
                      ),
                    },
                    o.createElement(
                      "a",
                      { href: f.De.PARTNER_BASE_URL },
                      o.createElement("img", {
                        src: Ln,
                        className: Bn.DevEmail_TopLogo,
                      }),
                    ),
                  ),
                  o.createElement(
                    "div",
                    { className: (0, S.Z)(Bn.DevEmail_Content) },
                    o.createElement(
                      "div",
                      { className: Bn.DevEmail_Headline1 },
                      (function (e) {
                        switch (e.GetType()) {
                          case M.Ys.k_Invite:
                            return "YOU'RE INVITED!";
                          case M.Ys.k_InviteReminder:
                            return "LAST CHANCE TO REGISTER";
                          case M.Ys.k_RegistrationConfirmation:
                            return "YOU'RE IN!";
                          case M.Ys.k_Update:
                            return "EVENT UPDATE";
                          case M.Ys.k_Reminder:
                            return "REMINDER!";
                          case M.Ys.k_Starting:
                            return "GET READY!";
                          case M.Ys.k_Followup:
                            return "THANKS FOR JOINING US!";
                          case M.Ys.k_PermissionRequest:
                            return "WE'D LIKE YOUR PERMISSION";
                          case M.Ys.k_MediaUsageNotification:
                            return "YOUR GAME IS ON THE SHORT LIST FOR FEATURING";
                          case M.Ys.k_GeneralCommunication:
                          case M.Ys.k_SteamAwardFinalists:
                            return null;
                          default:
                            return "unknown type: " + e.GetType();
                        }
                      })(t),
                    ),
                    o.createElement(
                      "div",
                      { className: Bn.DevEmail_Headline2 },
                      o.createElement(Zn, {
                        emailDef: t,
                        storeItem: a,
                        partnerInfo: i,
                      }),
                    ),
                    t.GetType() != M.Ys.k_GeneralCommunication &&
                      o.createElement(
                        "div",
                        { className: Bn.EventCtn },
                        o.createElement(
                          "div",
                          { className: Bn.EventTitle },
                          r.GetCurEventTitle(),
                        ),
                        Boolean(t.GetType() != M.Ys.k_PermissionRequest) &&
                          o.createElement(
                            "div",
                            { className: Bn.EventDates },
                            (0, G.$1)(r.GetEventStartTime()),
                            " - ",
                            (0, G.$1)(r.GetEventEndTime()),
                          ),
                      ),
                    o.createElement(
                      "div",
                      { className: Bn.DevEmail_Subject },
                      (0, M.mj)(t.GetType()),
                    ),
                  ),
                  c,
                  o.createElement("hr", { id: "end_of_email_sections" }),
                  o.createElement(
                    "div",
                    { className: (0, S.Z)(Bn.DevEmail_Content) },
                    Boolean(
                      t.GetType() != M.Ys.k_Invite &&
                        t.GetType() != M.Ys.k_Followup &&
                        t.GetType() != M.Ys.k_PermissionRequest &&
                        t.GetType() != M.Ys.k_GeneralCommunication &&
                        t.GetType() != M.Ys.k_SteamAwardFinalists,
                    ) &&
                      o.createElement(
                        "div",
                        { className: Bn.DevEmail_Subject },
                        "To review the participation checklist, make adjustments to your registration, or cancel entirely, you can visit the ",
                        o.createElement(
                          "a",
                          {
                            href:
                              f.De.PARTNER_BASE_URL +
                              "optin/" +
                              r.GetModel().pageid +
                              "/sale/" +
                              n,
                          },
                          "registration page for ",
                          a.GetName(),
                        ),
                        ".",
                      ),
                    o.createElement(
                      "div",
                      null,
                      o.createElement("b", null, "Have Questions?"),
                      o.createElement("br", null),
                      o.createElement("a", { href: "#" }, "Contact us"),
                      " and we'll get right back to you.",
                    ),
                    o.createElement("img", {
                      src:
                        f.De.STORE_CDN_URL +
                        "public/cdn/email/general/logo_med.png",
                      className: Bn.DevEmail_SignOff_Img,
                    }),
                    o.createElement(
                      "div",
                      { className: Bn.DevEmail_Signoff },
                      o.createElement("div", null, "Sincerely,"),
                      o.createElement("div", null, "The Steam Business Team"),
                    ),
                  ),
                ),
                o.createElement(
                  "div",
                  { className: (0, S.Z)(Bn.DevEmail_Footer_Ctn) },
                  Boolean(
                    t.GetType() != M.Ys.k_Invite &&
                      t.GetType() != M.Ys.k_GeneralCommunication &&
                      t.GetType() != M.Ys.k_SteamAwardFinalists,
                  ) &&
                    o.createElement(
                      "span",
                      { className: Bn.DevEmail_Footer_Reason },
                      "You are receiving this email because you registered ",
                      a.GetName(),
                      " for the ",
                      r.GetName(),
                      " event on Steamworks.",
                    ),
                  o.createElement(
                    "div",
                    { className: Bn.DevEmail_Footer_SubSection },
                    o.createElement("img", {
                      src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAgCAYAAAAPHGYtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA8FJREFUeNrsWltIVEEYXs28ZPebEVq+BBGZIl1ALc0LaDd9q8gi6yl66LGgh24PPddDPkVXlCDIzbByqcwoSsEsWB80NKxIpIhKKiTdvh/+iZ/D6ZxZ3KNnaT74dmbOzM6emf8652xCJBIJGPgTiWYLjHAMjHCMcAwmCUn0sXN37VuzFRNCKxgEq8DeG43Xz8dMOMBys78TwmJwNvgLnBNTyxFoBDvMXmvjILia66/AMXDEK+G0wiQvmz3XA8JBiRIO9q0HRU/MY47LDexBMR0cxg20WPoyUZRzM4z+Tod5trD5K1zD+DGN369EsQQcxfgGl7GLUGzlZg/Gd1j681DkcTOE/g+W/vkodthM3Y2x3VOSELjgAFgKfqObt2xoLXiW67vAzn9sWgopFzhTXO4Fn2n8/jGwGPwKNriM/QnWg6lgG7jZ0n8CrAHHLYqisAy8ZHP9FAnIj6l0E5cU8NZZ+sq4HAVbHOYotggmIDQ8ZoDikL8PcbMASjFDKMg0FCXcbMfYzw5TUV+dYNOUpdIuoBRRpYbkwp7zYpNRFPL1B1jsd4c5lCA+gQMs5G3gcQ/WdAvcDiazUtzl6/ngXDHGCSN+iL2JGto4iOKlEI5CAZimuVjlxx8JC1sDAWd5sKbb7LYIFTZWHtCwhEw6+wmu8vMTgqCNq1AuIiL67eINLSxbWZjQ5ABbT6xdG7mkdhtlUvUuVrj4eEKgGXdOcta2CbwnFvsUix12+K4UAAmnn336AnZ39R65NlKeHChHBicThZpWTniPNWX73q2xNtIBSz3iKceC01Gu13QRKt4MYp434LgI2mWYK82Ddcl7qmAXnBqFcFLpDCOY7We3Jl0bWcxGtiLHxfK5oYibs9BuI6K+QW2CJRbEyrWR2+oSwinleh/6whpTZHB8VNzvZ7emtPEImMtnGsJrLLbf4TuVQgHmcfZkZ1l3PHJt+axM7zStZojPNFa0+V04T8AvvMl7NRcr481h8IdonwazeMwhj4RzBlzKdHXBULQhjq1xlRDQjY/BJTWjuk9Yg5NLo0NflXAnFyz9a1lglLbmclxzQjrG2W1uM7570eZ+wxjfh+oKvvQRfBFPz+6ifdkmU+YBlw0tEoe+kE3//ShTalKkahvmuFjP3/MPJyNxg6Qox9OGnuO626uF38J/252DHoq5nFLxmy7PtR479F0BU7h+NRBnSKC/RsH81f+j6swrA32wmyXrDWLfary2nJX8jsJADwsn060dZRrEYUJgMNkxx8BYjoERjhGOgRHO/40/AgwA6Pwl5bmDALcAAAAASUVORK5CYII=",
                      width: 103,
                      height: 43,
                    }),
                    o.createElement(
                      "div",
                      null,
                      o.createElement(
                        "div",
                        { className: Bn.DevEmail_Footer_Bold },
                        o.createElement(
                          "strong",
                          null,
                          " Valve Corporation",
                          o.createElement("br", null),
                          "PO Box 1688 Bellevue, WA 98009",
                        ),
                      ),
                      o.createElement(
                        "div",
                        { className: Bn.DevEmail_Footer_Regular },
                        "All rights reserved. All trademarks are property of their respective owners in the US and other countries.",
                      ),
                      o.createElement(
                        "div",
                        null,
                        o.createElement(
                          "a",
                          {
                            className: _().FlexRowContainer,
                            href:
                              (f.De.IN_CLIENT ? "steam://openurl/" : "") +
                              "https://twitter.com/steam_games",
                            target: f.De.IN_CLIENT ? void 0 : "_blank",
                          },
                          o.createElement("img", {
                            src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA4CAYAAABJ7S5PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJGOUM2QTBGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJGOUM2OUZGNkY5MTFFOUJBQTg4OUJENjhFNUQyN0MiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkI2RThDNjdERjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkI2RThDNjdFRjZGODExRTk5N0QwOTZDNjI3Q0M0MTRDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XKq1FgAAAwJJREFUeNrsm4tRhDAQhoNjA7RAC7QQSzhLiCVgCVgClnBXAlcClAAlYAlnMm7OHeSRF4HEy8yOzp0w7Mfun90kJrfbjTwGIU8PBD/j2fYGSZJs/YwpN8Yt55bBTzmu3Fqwi8nN7xkhfrGxDYdwuhKPqGgdANO5d3r3Y8Y5ujMI4dCgAQFbM4oaPHIEt8KBMOVYBn/IdgJRGQLANiAYlFsJEYO/z9ZAFOgC5hmECwjY2bnvCqwRcyCa0UXME4iTQwhLVo3F8g8IUOipi9nGIFILTTCGAGlTTIGgS+G0IYjCA4QCdOGENGOQM4cOCGFnPOU4BLF1NHRzgjqXGlTxptQhCF/a8CfdlzSCatyohNwOIS0mIZiI5dIUxSxB1B4BDBCBRGX67AxzkB0cxGTFKf2e6j5NmhdZuw9InY82LtCcKbfhn5b1gJyaGoCSB9mG8zDpeWv9gctQw5EjCF+jlvkLvZ0WRHrfMVMk+ar0fFqx5P/TzJfijb1EtgjVKi/V8ZQ4caMAQ1z4CmH879YshdM1h9FxK+Gzd259BL72yhqhWVmGZkRZI/gH10gj/6qbGquiEqNQblFQhakPC3VEF5k+ZFoagcZ7ZGnRm6SGIHSJKEXUmsiVFeoq5rRYXI+IDEatGgiq23pFoE0YcwoCdaRFQDNKpyMNydpKtGjERo2X3BugBxfJNxXBVz4WsNMqs5do0BXLEBdpmHMQAUZFrZM/JmJ5DgDCoLuCbjprNCGuSzoFEQCMs83itekBsqNpRkMM92GtQKCzVuUBZpTBZhNJuaBaG3DOksLDyDORqaeiSW47tDYglAoqjcNkqeeZxSoSnKXGCATznCJOIDgDASlRE//ls7ONZWMQO3ehtWv90e01KDjfhFQs6YB4BuWnE2qfkmOcbWihpd52v2X05suDtdJsa8prh9KrHQslLwCUNQIVR7504UxGJ958glCqLLmGyOW53OHD9uT3ONGF7HQOQ/pvVGKDuGZoRiGoxJ7bie6RKe0+HR5EjOPxX34wvgUYAA3Q5FQ1OsEYAAAAAElFTkSuQmCC",
                            width: 33,
                            height: 28,
                          }),
                          o.createElement(
                            "div",
                            { className: Bn.DevEmail_Follow },
                            "Follow us on Twitter",
                          ),
                        ),
                      ),
                    ),
                  ),
                ),
              ),
              o.createElement(
                "div",
                { className: Bn.RightCol },
                o.createElement(
                  "div",
                  { className: Bn.Sticky },
                  o.createElement($n, { emailDef: t }),
                  o.createElement(Qn, { emailDef: t }),
                  o.createElement(ea, { emailDef: t }),
                  o.createElement(Yn, { emailDef: t }),
                  !t.BIsReadOnly() &&
                    o.createElement(
                      "div",
                      { className: Bn.AddSectionCtn },
                      o.createElement(
                        m.KM,
                        {
                          className: ue().BasicButtonSize,
                          disabled: t.BIsReadOnly(),
                          onClick: (e) =>
                            (0, g.AM)(
                              o.createElement(Hn, {
                                emailDef: t,
                                storeItem: a,
                              }),
                              (0, D.RA)(e),
                            ),
                        },
                        "Add an Email Section",
                      ),
                    ),
                ),
              ),
            ),
          );
        });
      function Qn(e) {
        const { emailDef: t } = e,
          n = l.On.Get(),
          [a, i, r] = (0, Ce.SZ)(() => [
            t.GetEmailTargeting(),
            n.GetDiscountEventID(),
            n.GetLaunchYourDemoRequired(),
          ]),
          s = (0, l.tb)();
        return s
          ? 32 == a && 0 == s.count_eligible
            ? o.createElement(
                "div",
                { className: (0, S.Z)(A.WarningStylesWithIcon) },
                "Wrong Targeting: No 'eligible' apps in optin; likely want invited targeting",
              )
            : 16 == a && 0 == s.count_invited
              ? o.createElement(
                  "div",
                  { className: (0, S.Z)(A.WarningStylesWithIcon) },
                  "Wrong Targeting: No apps marked 'invited' to optin",
                )
              : (64 != a && 128 != a && 256 != a) || 0 != s.count_featured
                ? 4 != a || i
                  ? 2 != a || r
                    ? null
                    : o.createElement(
                        "div",
                        { className: (0, S.Z)(A.WarningStylesWithIcon) },
                        "Wrong Targeting: No launch demo date specified.",
                      )
                  : o.createElement(
                      "div",
                      { className: (0, S.Z)(A.WarningStylesWithIcon) },
                      "Wrong Targeting: Missing discount event in the OptIn Def",
                    )
                : o.createElement(
                    "div",
                    { className: (0, S.Z)(A.WarningStylesWithIcon) },
                    "Wrong Targeting: No apps marked 'featured' to optin",
                  )
          : null;
      }
      const Yn = (0, $.Pi)((e) => {
        const { emailDef: t } = e,
          n = Jn(t);
        return 0 == Object.values(n).length
          ? null
          : o.createElement(
              "div",
              { className: Bn.MetaDataCtn },
              t.BIsReadOnly() && o.createElement("h2", null, "Read Only"),
              o.createElement(
                "div",
                { className: Bn.ConfTitle },
                "Email Configuration",
              ),
              o.createElement(
                "p",
                null,
                "The following metadata is required to render correctly",
              ),
              n.bNeedAssetKit &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Asset Kit URL:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetAssetKitURL() || "",
                    placeholder: "https://<url to asset kit>",
                    onChange: (e) => t.SetAssetKitURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedDemoPressPreviewDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Press Preview Demo is Ready Date?",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetDemoPressPreviewDate() || 0,
                    fnSetTimeToUpdate: t.SetDemoPreviewDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedMaxItems &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Max Events Permitted on Schedule",
                  ),
                  o.createElement("input", {
                    type: "number",
                    min: "1",
                    disabled: t.BIsReadOnly(),
                    onChange: (e) =>
                      t.SetScheduleMaxItems(
                        Number.parseInt(e.currentTarget.value),
                      ),
                    value: t.GetScheduleMaxItems() || 2,
                    className: Bn.MaxEventCount,
                  }),
                ),
              n.bNeedSalePreview &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Sale Event Preview Page (for Schedule Access):",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSalePreviewPage() || "",
                    placeholder: "https://<url to public store sale page>",
                    onChange: (e) => t.SetSalePreviewURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedNextEditionDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Festival Next Edition Date for Opt-in?",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetNextEditionDate() || 0,
                    fnSetTimeToUpdate: t.SetNextEditionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedQASessionDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Q&A Session Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetQASessionDate() || 0,
                    fnSetTimeToUpdate: t.SetQASessionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedTrailerDemoDeadlineDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription:
                      "Deadline for Demo Approved And Permission Granted",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () =>
                      t.GetTrailerDemoDeadlineDate() || 0,
                    fnSetTimeToUpdate: t.SetTrailerDemoDeadlineDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedQASessionLink &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Q&A Session URL:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetQASessionLink() || "",
                    placeholder: "https://<url to zoom>",
                    onChange: (e) => t.SetQASessionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedDemoTrailerRegLink &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Permission Registration URL:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetDemoTrailerRegLink() || "",
                    placeholder: "typically same full url as base event",
                    onChange: (e) =>
                      t.SetDemoTrailerRegLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedRecordedQASessionLink &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Recorded Q&A YouTube URL:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetRecordedQASessionLink() || "",
                    placeholder: "https://<url to YouTube>",
                    onChange: (e) =>
                      t.SetRecordedQASessionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedCancelDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Cancel Date / Opt-Out Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetCancelDate() || 0,
                    fnSetTimeToUpdate: t.SetCancelDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedTrailerLaunchDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Official Trailer Launch Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetTrailerLaunchDate() || 0,
                    fnSetTimeToUpdate: t.SetTrailerLaunchDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedLivestreamLaunchDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Official Livestream Launch Date",
                    disabled: t.BIsReadOnly(),
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetLivestreamLaunchDate() || 0,
                    fnSetTimeToUpdate: t.SetLivestreamLaunchDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedPreviewDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Press Preview Date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetPreviewDate() || 0,
                    fnSetTimeToUpdate: t.SetPreviewDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedPermissionDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription: "Permission Deadline Date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => t.GetPermissionDate() || 0,
                    fnSetTimeToUpdate: t.SetPermissionDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedPressPreviewVisibleDate &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(Pe.A, {
                    strDescription:
                      "Press Preview will be Visible to Press/Customer on/or around date",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () =>
                      t.GetPressPreviewVisibleDate() || 0,
                    fnSetTimeToUpdate: t.SetPressPreviewVisibleDate,
                    fnIsValidDateTime: () => !0,
                    bShowTimeZone: !0,
                  }),
                ),
              n.bNeedWikiDocumentation &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Event Wiki documentation:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetWikiDocURL() || "",
                    placeholder:
                      "https://<url to steamworks event wiki documentation>",
                    onChange: (e) => t.SetWikiDocURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedSurveyLink &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Event Survey link:",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSurveyLinkURL() || "",
                    placeholder: "https://<url online survey>",
                    onChange: (e) => t.SetSurveyLinkURL(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedGenericActionLink &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Action URL:",
                  ),
                  o.createElement(
                    "p",
                    null,
                    "Insert a %s into your URL anywhere you wish to replace with appID",
                  ),
                  o.createElement("input", {
                    type: "text",
                    disabled: t.BIsReadOnly(),
                    value: t.GetGenericActionLink() || "",
                    placeholder: "https://...",
                    onChange: (e) =>
                      t.SetGenericActionLink(e.currentTarget.value),
                    maxLength: 240,
                  }),
                ),
              n.bNeedSteamAwardsAdvertisingApp &&
                o.createElement(
                  "div",
                  { className: Bn.MetaDataRow },
                  o.createElement(
                    "div",
                    { className: Bn.MetaDataRowTitle },
                    "Steam Awards Advertising Appid:",
                  ),
                  o.createElement(
                    "p",
                    null,
                    "The nomination and winners for a specific year's steam awards are tied to a hardcoded appid. Please this appid and we can verify we have the correct year",
                  ),
                  o.createElement("input", {
                    type: "number",
                    disabled: t.BIsReadOnly(),
                    value: t.GetSteamAwardsAdApp() || 0,
                    onChange: (e) =>
                      t.SetSteamAwardsAdvertisingApp(
                        Number.parseInt(e.currentTarget.value),
                      ),
                  }),
                  o.createElement(
                    m.zx,
                    {
                      onClick: (e) =>
                        (0, g.AM)(
                          o.createElement(zn, {
                            appid: t.GetSteamAwardsAdApp(),
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Verify Steam Award AppID",
                  ),
                ),
            );
      });
      function Jn(e) {
        const t = {};
        return (
          (e.GetSections() || []).forEach((e) => {
            switch (e.GetType()) {
              case M.rg.k_AssetKit:
                t.bNeedAssetKit = !0;
                break;
              case M.rg.k_DemoPressPreview:
                t.bNeedDemoPressPreviewDate = !0;
                break;
              case M.rg.k_ScheduleLiveStream:
                (t.bNeedMaxItems = !0), (t.bNeedSalePreview = !0);
                break;
              case M.rg.k_CancelSection:
                t.bNeedCancelDate = !0;
                break;
              case M.rg.k_DemoNotReady:
                (t.bNeedCancelDate = !0), (t.bNeedNextEditionDate = !0);
                break;
              case M.rg.k_PressPreviewDetails:
                (t.bNeedPreviewDate = !0), (t.bNeedWikiDocumentation = !0);
                break;
              case M.rg.k_SurveyButton:
                t.bNeedSurveyLink = !0;
                break;
              case M.rg.k_CallForRegistration:
                break;
              case M.rg.k_LearnMore:
                t.bNeedWikiDocumentation = !0;
                break;
              case M.rg.k_MediaUsePermission:
                t.bNeedPermissionDate = !0;
                break;
              case M.rg.k_TrailerOrDemoPermissions:
                (t.bNeedPermissionDate = !0),
                  (t.bNeedPressPreviewVisibleDate = !0);
                break;
              case M.rg.k_NextFestQASession:
                (t.bNeedQASessionDate = !0), (t.bNeedQASessionLink = !0);
                break;
              case M.rg.k_NextFestTips:
                t.bNeedRecordedQASessionLink = !0;
                break;
              case M.rg.k_MediaPermissionReminder:
                (t.bNeedDemoTrailerRegLink = !0),
                  (t.bNeedTrailerDemoDeadlineDate = !0);
                break;
              case M.rg.k_NextFestMediaUsageIntended:
                (t.bNeedTrailerLaunchDate = !0),
                  (t.bNeedLivestreamLaunchDate = !0),
                  (t.bNeedCancelDate = !0),
                  (t.bNeedWikiDocumentation = !0);
                break;
              case M.rg.k_NextFestMediaUsageIntendedTrailer:
                (t.bNeedTrailerLaunchDate = !0), (t.bNeedCancelDate = !0);
                break;
              case M.rg.k_NextFestMediaUsageIntendedLivestream:
                (t.bNeedLivestreamLaunchDate = !0), (t.bNeedCancelDate = !0);
                break;
              case M.rg.k_NextFestTopGameWrapUp:
                break;
              case M.rg.k_GenericActionLink:
                t.bNeedGenericActionLink = !0;
                break;
              case M.rg.k_SteamAwardsCategories:
                t.bNeedSteamAwardsAdvertisingApp = !0;
            }
          }),
          t
        );
      }
      const $n = (e) => {
        const { emailDef: t } = e,
          n = t.BIsReadOnly(),
          a = o.createRef(),
          i = [
            { label: In(1), data: 1 },
            { label: In(32), data: 32 },
            { label: In(16), data: 16 },
            { label: In(64), data: 64 },
            { label: In(128), data: 128 },
            { label: In(256), data: 256 },
            { label: In(512), data: 512 },
          ];
        return o.createElement(
          "div",
          null,
          t.BIsReadOnly() && o.createElement("h2", null, "Read Only"),
          o.createElement(
            "div",
            { className: Bn.ConfTitle },
            "Email Targetting",
          ),
          o.createElement(
            "div",
            null,
            o.createElement(
              "p",
              null,
              "This defines both which opt-in games and who from the opt-in game teams are eligible to receive this email. We will fire an email per game that qualifies which may mean some users may receive more than one email, as they did the opt-in registration for more than one game",
            ),
          ),
          o.createElement(m.ry, {
            label: "Who should receive this email?",
            dropDownControlRef: a,
            disabled: n,
            strDropDownClassName: _().DropDownScroll,
            rgOptions: i,
            selectedOption: t.GetEmailTargeting(),
            onChange: (e) => {
              Boolean(t.GetServerEmailDefID())
                ? (0, g.AM)(
                    o.createElement(P.uH, {
                      strTitle: "Update Targeting",
                      strDescription:
                        "Since this email is already staged. Updating the email targeting requires changing the email configuration. The target setting will be applied immediately. Proceed with the update?",
                      onOK: () => {
                        (0, O.z)(() => {
                          t.SetEmailTargeting(e.data),
                            j.Get().UpdateOptInEmailMetaData(t);
                        });
                      },
                      onCancel: () => {
                        var e;
                        null === (e = null == a ? void 0 : a.current) ||
                          void 0 === e ||
                          e.SetSelectedOption(t.GetEmailTargeting());
                      },
                    }),
                    window,
                  )
                : t.SetEmailTargeting(e.data);
            },
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          }),
        );
      };
      function ea(e) {
        const { emailDef: t } = e,
          [n, a] = (0, Ce.SZ)(() => {
            var e;
            return [
              512 == t.GetEmailTargeting(),
              (null === (e = t.GetCustomAppTargetList()) || void 0 === e
                ? void 0
                : e.length) || 0,
            ];
          });
        return n
          ? o.createElement(
              "div",
              { className: Bn.MetaDataCtn },
              t.BIsReadOnly() && o.createElement("h2", null, "Read Only"),
              o.createElement(
                "div",
                { className: Bn.ConfTitle },
                "Custom App Target List",
              ),
              o.createElement("div", null, "Apps List Size: ", a),
              o.createElement(
                m.zx,
                {
                  onClick: (e) => {
                    (0, g.AM)(
                      o.createElement(ta, { emailDef: t }),
                      (0, D.RA)(e),
                    );
                  },
                },
                "Manage Custom App List",
              ),
            )
          : null;
      }
      function ta(e) {
        const { emailDef: t, closeModal: n } = e,
          [a, i] = o.useState(""),
          [l, r] = o.useState(""),
          [s] = (0, Ce.SZ)(() => [t.GetCustomAppTargetList()]);
        return o.createElement(
          P.uH,
          {
            strTitle: "Custom App Email Target List Manager",
            bDisableBackgroundDismiss: !0,
            onCancel: n,
            bAllowFullSize: !0,
            onOK: () => {
              a.replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const n = Number.parseInt(e);
                  n > 0 && t.AddAppToCustomList(n);
                });
              l
                .replace(/\n/g, "|")
                .split("|")
                .forEach((e) => {
                  const n = Number.parseInt(e);
                  n > 0 && t.RemoveAppToCustomList(n);
                }),
                n();
            },
          },
          o.createElement(
            "div",
            null,
            "ADDING: Enter App IDs seperated by new lines:",
          ),
          o.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => i(e.currentTarget.value),
            value: a,
            autoFocus: !0,
          }),
          o.createElement(
            "div",
            null,
            "REMOVE: Enter App IDs seperated by new lines:",
          ),
          o.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => r(e.currentTarget.value),
            value: l,
            autoFocus: !0,
          }),
          o.createElement(
            "p",
            null,
            "After hitting ok, remember to save the optin.",
          ),
          o.createElement(
            pe.ug,
            { title: `App List: ${s.length} Apps`, bStartMinimized: !0 },
            o.createElement(
              o.Fragment,
              null,
              s.map((e) =>
                o.createElement(na, {
                  key: `app_${e}`,
                  appid: e,
                  fnRemoveApp: () => t.RemoveAppToCustomList(e),
                }),
              ),
            ),
          ),
        );
      }
      function na(e) {
        const { appid: t, fnRemoveApp: n } = e,
          a = "string" == typeof t ? Number.parseInt(t) : t,
          [i] = (0, Qe.vs)(a, {});
        return o.createElement(
          "div",
          { className: Bn.appItem },
          Boolean(i)
            ? o.createElement("div", null, i.GetName(), " (", t, ")")
            : o.createElement("div", null, "Store Item Not Loading Appid: ", t),
          o.createElement(
            se.HP,
            {
              className: qn().ProgressIconError,
              onClick: n,
              toolTipContent: "Remove App From List",
            },
            o.createElement(oe.X, null),
          ),
        );
      }
      const aa = (e) => {
        const { closeModal: t, emailDef: n } = e,
          a = (0, He.tx)(),
          i = (0, o.useCallback)(() => {
            a.fnSetLoading(!0),
              j
                .Get()
                .CreateOptInEmail(n)
                .then((e) => {
                  if (1 != e)
                    a.fnSetError(!0),
                      a.fnSetStrError(
                        "Error: Failed to create the email on the steam server: Eresult: " +
                          e,
                      );
                  else {
                    const e = k().CancelToken.source();
                    l.On.Get()
                      .Save(e.token)
                      .then((e) => {
                        e
                          ? (a.fnSetError(!0),
                            a.fnSetStrError(
                              "NOTE: Email was created on the Server; saving the opt-in metadata failed. Please save again immediately or we will require to manually update the email_def_id. \n" +
                                e,
                            ))
                          : (W(l.On.Get().GetFullName()),
                            a.fnSetSuccess(!0),
                            a.fnSetStrSuccess(
                              "Create Email and Opt-In Save Complete. You can close this dialog",
                            ));
                      })
                      .catch((e) => {
                        a.fnSetError(!0),
                          a.fnSetStrError(
                            "NOTE: The email failed to be created on beta\n",
                          );
                      });
                  }
                });
          }, [a, n]);
        return a.bLoading
          ? o.createElement(He.NT, {
              state: a,
              strDialogTitle: "Create Email On Steam Server",
              closeModal: t,
            })
          : o.createElement(
              P.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Create Email On Steam Server",
                onOK: i,
              },
              o.createElement(
                "div",
                null,
                "Creating the email registers it with the Steam server which is then able to fire the email.",
              ),
            );
      };
      var ia = n(72460);
      const la = (e) => {
        const { closeModal: t, emailDef: n } = e,
          [a, i] = o.useState(void 0),
          r = (0, He.tx)();
        return r.bLoading
          ? o.createElement(He.NT, {
              state: r,
              strDialogTitle: "Send Manual OptIn Email",
              closeModal: t,
            })
          : o.createElement(
              P.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Send Manual OptIn Email Now?",
                strOKButtonText: "Send Now",
                onOK: () => {
                  r.fnSetLoading(!0),
                    j
                      .Get()
                      .SendManualEmail(n)
                      .then((e) => {
                        1 != e.eResult
                          ? (r.fnSetError(!0),
                            r.fnSetStrError(
                              "Send Error: Failed to send the email from the Steam server: Eresult: " +
                                e.eResult,
                            ))
                          : (W(l.On.Get().GetFullName()),
                            r.fnSetSuccess(!0),
                            r.fnSetElSuccess(
                              o.createElement(ra, { doneStats: e.stats || {} }),
                            ));
                      });
                },
              },
              o.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually fire the email to the recipients. Once you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function ra(e) {
        const { doneStats: t } = e;
        return o.createElement(
          "div",
          null,
          o.createElement("br", null),
          "Send Completed. You can close this dialog",
          o.createElement("br", null),
          o.createElement("br", null),
          o.createElement(
            "div",
            null,
            "Accounts Examined: ",
            (null == t ? void 0 : t.accounts_examined) || 0,
          ),
          o.createElement(
            "div",
            null,
            "Emails Sent: ",
            (null == t ? void 0 : t.accounts_emailed) || 0,
          ),
          o.createElement(
            "div",
            null,
            "Why is email sent higher than account examined?  Some users may be associated with more than one app and will receive more than one email",
          ),
          o.createElement(
            "div",
            null,
            "Emails Skipped (user opted out): ",
            (null == t ? void 0 : t.accounts_not_emailed_opted_out) || 0,
          ),
          o.createElement(
            "div",
            null,
            "Emails Failed to Send: ",
            (null == t ? void 0 : t.accounts_email_failed) || 0,
          ),
        );
      }
      var oa = n(45844),
        sa = n(49781);
      function ca(e) {
        const { emailEditModel: t, serverDef: n } = e,
          a = n.opt_in_name,
          { rgEmailSentList: i, oEmailSummary: l } = (function (e) {
            const t = (0, F.useQuery)(
                ["COptInEmailAdmin", "GetEmailDetails", e],
                () =>
                  (0, I.mG)(this, void 0, void 0, function* () {
                    return yield j.Get().FetchPartnerOptInEmailDetails(e);
                  }),
              ),
              n = (0, o.useMemo)(() => {
                var e;
                const n = new Set(),
                  a = new Set(),
                  i = new Set(),
                  l = new Set();
                null === (e = null == t ? void 0 : t.data) ||
                  void 0 === e ||
                  e.forEach((e) => {
                    n.add(e.appid),
                      1 == e.status && a.add(e.appid),
                      e.partnerid &&
                        (i.add(e.partnerid),
                        1 == e.status && l.add(e.partnerid));
                  });
                const r = Array.from(n).filter((e) => !a.has(e)),
                  o = Array.from(i).filter((e) => !l.has(e));
                return {
                  unique_appid_count: n.size,
                  appid_emailed: a.size,
                  rg_appid_not_emailed: r,
                  unique_partner_count: i.size,
                  partner_eailed: l.size,
                  rg_partner_not_emailed: o,
                };
              }, [t]);
            return { rgEmailSentList: t.data, oEmailSummary: n };
          })(t.GetServerEmailDefID()),
          [r, s] = (0, o.useState)(!1),
          c = Kt(a),
          [d, u] = (0, o.useState)(!1);
        (0, o.useEffect)(() => {
          var e;
          if (i && !r && c) {
            const t = new Set(
              null == i ? void 0 : i.map((e) => e.appid).filter(Boolean),
            );
            null === (e = c.invited_appids) ||
              void 0 === e ||
              e.forEach((e) => t.add(e));
            const n = Array.from(t);
            Ke.Z.Get()
              .QueueMultipleAppRequests(n, { include_release: !0 })
              .then(() => s(!0));
          }
        }, [i, r, c]);
        const [p, h, g, v, E, S, D, f] = (0, o.useMemo)(() => {
          let e = 0,
            t = 0,
            n = 0,
            a = 0,
            l = 0,
            r = 0,
            o = 0;
          const s = new Set();
          if (c) {
            const m = new Set(
              null == i ? void 0 : i.map((e) => e.appid).filter(Boolean),
            );
            m.forEach((i) => {
              let s = !1;
              c.eligible_appids.has(i) && ((e += 1), (s = !0)),
                c.opted_in_appids.has(i) && ((t += 1), (s = !0)),
                c.opted_out_appids.has(i) && ((n += 1), (s = !0)),
                c.invited_appids.has(i) && ((a += 1), (s = !0)),
                c.pruned_appids.has(i) && ((l += 1), (s = !0)),
                c.featured_appids.has(i) && ((r += 1), (s = !0)),
                s || (o += 1);
            }),
              c.invited_appids.forEach((e) => {
                e && !m.has(e) && s.add(e);
              });
          }
          return [e, t, n, a, l, r, o, s];
        }, [i, c]);
        if (!i || !r || !c) {
          let e = (0, G.Xx)("#Loading");
          return (
            i
              ? r
                ? c || (e = "Loading App OptIn Breakdown")
                : (e = "Loading App Details")
              : (e = "Loading Raw Email Stats"),
            o.createElement(T.V, {
              position: "center",
              size: "medium",
              string: e,
            })
          );
        }
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Total Appid:",
            o.createElement("span", null, l.unique_appid_count),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Appid Emailed:",
            o.createElement("span", null, l.appid_emailed),
          ),
          o.createElement(
            se.HP,
            {
              toolTipContent:
                "Attempted to email these apps however all users opted out of receiving communication.",
            },
            o.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Appid not Emails (?):",
              o.createElement("span", null, l.rg_appid_not_emailed.length),
            ),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Total PartnerID:",
            o.createElement("span", null, l.unique_partner_count),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "PartnerID Emailed:",
            o.createElement("span", null, l.partner_eailed),
          ),
          o.createElement(
            se.HP,
            {
              toolTipContent:
                "Attempted to email these Partenr however all users opted out of receiving communication.",
            },
            o.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "PartnerID not Emails:",
              l.rg_partner_not_emailed.length,
            ),
          ),
          o.createElement("br", null),
          o.createElement(
            "div",
            null,
            "Emailed Apps based on Latest Refresh Stats",
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Eligible Apps:",
            o.createElement("span", null, p),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Opted In App:",
            o.createElement("span", null, h),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Opted Out App:",
            o.createElement("span", null, g),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Invited App:",
            o.createElement("span", null, v),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Pruned App:",
            o.createElement("span", null, E),
          ),
          o.createElement(
            "div",
            { className: _().FlexRowWrapSpaceBetweenContainer },
            "Featured App:",
            o.createElement("span", null, S),
          ),
          o.createElement(
            se.HP,
            {
              toolTipContent:
                "These apps need investigation as they were emailed but are not in any known set of apps associated with the events. See the csv for list.",
            },
            o.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Not In Any Above List (?):",
              o.createElement("span", null, D),
            ),
          ),
          o.createElement(
            se.HP,
            {
              toolTipContent:
                "We did not email these invited apps. Either they were invited after the email OR we couldn't find a user to email",
            },
            o.createElement(
              "div",
              { className: _().FlexRowWrapSpaceBetweenContainer },
              "Invited App Not Emailed (?):",
              o.createElement("span", null, f.size),
            ),
          ),
          Boolean(f.size) &&
            o.createElement(
              o.Fragment,
              null,
              Boolean(d)
                ? o.createElement(ma, {
                    strOptInName: a,
                    setInvitedAppMissingEmail: f,
                    serverDef: n,
                  })
                : o.createElement(m.ji, {
                    label: "Expand Invited Users Missing Emails",
                    checked: d,
                    onChange: u,
                  }),
            ),
          o.createElement("br", null),
          o.createElement(
            m.KM,
            {
              onClick: () =>
                (function (e, t, n) {
                  const a = e.map((e) => {
                      const n = Ke.Z.Get().GetApp(e.appid);
                      let a;
                      switch (e.status) {
                        case 0:
                          a = "uninitialized";
                          break;
                        case 1:
                          a = "success";
                          break;
                        case 2:
                          a = "generic failed";
                          break;
                        default:
                          a = "error code: " + e.status;
                      }
                      return {
                        accountid: e.accountid,
                        appid: e.appid,
                        appName:
                          (null == n ? void 0 : n.GetName()) || "unknown",
                        bReleased: (null == n ? void 0 : n.BIsReleased()) || !1,
                        releaseDate: (null == n ? void 0 : n.BIsReleased())
                          ? (0, G.$1)(n.GetReleaseDateRTime())
                          : "",
                        timeNotified:
                          (0, G.$1)(e.rtime_notified) +
                          " " +
                          (0, Qt.Sc)(e.rtime_notified, {
                            bForce24HourClock: !1,
                          }),
                        status: a,
                        sentTime:
                          (0, G.$1)(e.rtime_notified) +
                          " " +
                          (0, Qt.Sc)(e.send_rtime, { bForce24HourClock: !1 }),
                        bSkipEmailingSinceEmailUnverified:
                          e.ignored_unverified_email,
                        bSkipEmailingAccountOptedOut: e.ignored_email_optout,
                        bEligible: t.eligible_appids.has(e.appid),
                        bOptedIn: t.opted_in_appids.has(e.appid),
                        bOptedOut: t.opted_out_appids.has(e.appid),
                        bInvited: t.invited_appids.has(e.appid),
                        bPruned: t.pruned_appids.has(e.appid),
                        bFeatured: t.featured_appids.has(e.appid),
                        bNotInAnyList: !(
                          t.eligible_appids.has(e.appid) ||
                          t.opted_in_appids.has(e.appid) ||
                          t.opted_out_appids.has(e.appid) ||
                          t.invited_appids.has(e.appid) ||
                          t.pruned_appids.has(e.appid) ||
                          t.featured_appids.has(e.appid)
                        ),
                      };
                    }),
                    i = new Set(e.map((e) => e.appid).filter(Boolean));
                  let l = t.invited_appids;
                  512 == n.GetEmailTargeting() &&
                    (l = new Set(n.GetCustomAppTargetList()));
                  null == l ||
                    l.forEach((e) => {
                      if (e && !i.has(e)) {
                        const n = Ke.Z.Get().GetApp(e);
                        a.push({
                          appid: e,
                          appName:
                            (null == n ? void 0 : n.GetName()) || "unknown",
                          bReleased:
                            (null == n ? void 0 : n.BIsReleased()) || !1,
                          releaseDate: (null == n ? void 0 : n.BIsReleased())
                            ? (0, G.$1)(n.GetReleaseDateRTime())
                            : "",
                          status: "Not Emailed",
                          bEligible: t.eligible_appids.has(e),
                          bOptedIn: t.opted_in_appids.has(e),
                          bOptedOut: t.opted_out_appids.has(e),
                          bInvited: t.invited_appids.has(e),
                          bPruned: t.pruned_appids.has(e),
                          bFeatured: t.featured_appids.has(e),
                          bNotInAnyList: !1,
                        });
                      }
                    }),
                    ln.K.WriteCSVToFile(a, "email_result_list.csv");
                })(i, c, t),
            },
            "Download CSV",
          ),
        );
      }
      function ma(e) {
        const {
            setInvitedAppMissingEmail: t,
            strOptInName: n,
            serverDef: a,
          } = e,
          {
            rgAppInvitedAfterEmail: i,
            rgAppWithoutPromotionContact: l,
            rgAppUnknownReasons: r,
            strReason: s,
          } = (function (e, t, n) {
            const a = (0, o.useMemo)(() => Array.from(t || []), [t]),
              i = (0, ze.QQ)(e, a),
              l = (0, sa.lf)(a),
              r = (0, o.useMemo)(
                () =>
                  Array.from((null == l ? void 0 : l.values()) || [])
                    .filter((e) => (null == e ? void 0 : e.length) > 0)
                    .map((e) => e[0].partner_id),
                [l],
              ),
              s = (0, oa.j)(r),
              c = (0, o.useMemo)(
                () =>
                  l && s
                    ? a.filter((e) => {
                        const t = l.get(e);
                        if ((null == t ? void 0 : t.length) > 0) {
                          const e = s.get(t[0].partner_id);
                          if (
                            (null == e ? void 0 : e.length) > 0 &&
                            Boolean(e[0])
                          )
                            return !1;
                        }
                        return !0;
                      })
                    : null,
                [l, s, a],
              ),
              m = (0, o.useMemo)(
                () =>
                  a.filter((e) => {
                    var t;
                    return (
                      (null === (t = null == i ? void 0 : i.get(e)) ||
                      void 0 === t
                        ? void 0
                        : t.time_updated) > n
                    );
                  }),
                [i, a, n],
              ),
              d = (0, o.useMemo)(
                () =>
                  m && c
                    ? a.filter(
                        (e) =>
                          -1 == m.findIndex((t) => e == t) &&
                          -1 == c.findIndex((t) => e == t),
                      )
                    : null,
                [a, m, c],
              );
            let u = null;
            return (
              (l && s && c && i && m && d) ||
                (u = l
                  ? s
                    ? c
                      ? i
                        ? m
                          ? d
                            ? (0, G.Xx)("#Loading")
                            : "Computing Unexplained Apps"
                          : "Computing App Registrations"
                        : "Fetching Opt In Registrations per App"
                      : "computing games without comm"
                    : "Loading Contact info for Partners"
                  : "Loading Partner Info For Apps"),
              {
                rgAppInvitedAfterEmail: m,
                rgAppWithoutPromotionContact: c,
                rgAppUnknownReasons: d,
                strReason: u,
              }
            );
          })(n, t, a.last_update_time);
        return s
          ? o.createElement(T.V, {
              size: "small",
              string: s,
              position: "center",
            })
          : o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "div",
                { className: _().FlexRowWrapSpaceBetweenContainer },
                "** Apps Added After Email Sent:",
                o.createElement("span", null, i.length),
              ),
              o.createElement(
                se.HP,
                {
                  toolTipContent:
                    "We can only send emails to users who either took an optin action or is a memmber of the partner which permits emails. These app has neither.",
                },
                o.createElement(
                  "div",
                  { className: _().FlexRowWrapSpaceBetweenContainer },
                  "** Apps without comm users (?):",
                  o.createElement("span", null, l.length),
                ),
              ),
              o.createElement(
                "div",
                { className: _().FlexRowWrapSpaceBetweenContainer },
                "** Unknown Reason:",
                o.createElement("span", null, r.length),
              ),
            );
      }
      const da = (e) => {
        const { closeModal: t, emailDef: n } = e,
          a = (0, He.tx)();
        return a.bLoading
          ? o.createElement(He.NT, {
              state: a,
              strDialogTitle: "Test Fire",
              closeModal: t,
            })
          : o.createElement(
              P.uH,
              {
                bAllowFullSize: !0,
                onCancel: t,
                closeModal: t,
                strTitle: "Test Email Fire to yourself?",
                strOKButtonText: "Test Email Now",
                onOK: () => {
                  a.fnSetLoading(!0);
                  let e = 220;
                  if (n.BHasSteamAwardsAdApp() && n.GetCustomAppTargetList()) {
                    const t = n.GetCustomAppTargetList();
                    e = t[Math.floor(Math.random() * t.length)];
                  }
                  j.Get()
                    .TestFireEmailToSelf(n, e)
                    .then((e) => {
                      1 != e
                        ? (a.fnSetError(!0),
                          a.fnSetStrError(
                            "Send Error: Failed to test the email from the Steam server: Eresult: " +
                              e,
                          ))
                        : (a.fnSetSuccess(!0),
                          a.fnSetStrSuccess(
                            "Test Email Completed. Check your inbox. You can close this dialog",
                          ));
                    });
                },
              },
              o.createElement(
                "div",
                null,
                "With a saved and published OptIn state, we can manually test fire this to myself, as verification of the final emails look and feel and content.\tOnce you click send, it may take a little while to process, so be patient.",
              ),
            );
      };
      function ua(e) {
        const t = l.On.Get(),
          [n, a] = (0, o.useState)(!1),
          i = t.GetEventTitle(0);
        return t.GetOptInPageID().includes("nextfest") ||
          t.GetOptInPageID().includes("next_fest")
          ? o.createElement(
              o.Fragment,
              null,
              Boolean(n) && o.createElement(T.V, null),
              o.createElement(
                m.zx,
                {
                  disabled: n,
                  onClick: (e) => {
                    a(!0);
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Invite,
                          internal_name: "Registration Invitation email",
                          sections: [],
                          subject: {
                            english: `You're Invited to ${i} Edition`,
                          },
                          targeting: 32,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestReturns),
                        t.AddSection(M.rg.k_CallForRegistration),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_RegistrationConfirmation,
                          internal_name: "You're Registered!",
                          sections: [],
                          subject: { english: `You're Registered For ${i}` },
                          targeting: 1,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestWhatNext),
                        t.AddSection(M.rg.k_NextFestTips),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_LearnMore),
                        t.AddSection(M.rg.k_DemoNotReady);
                    }
                    {
                      const e = {
                        unique_id: Ia(),
                        type: M.Ys.k_PermissionRequest,
                        internal_name: "Trailer and Demo Permissions Request",
                        sections: [],
                        subject: {
                          english: `ACTION REQUIRED: Special Request for ${i}`,
                        },
                        targeting: 64,
                      };
                      l.On.Get()
                        .AddEmailDraft(e)
                        .AddSection(M.rg.k_TrailerOrDemoPermissions);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Update,
                          internal_name: "Dev Preview",
                          sections: [],
                          subject: {
                            english: `${i} Preview Page and Upcoming Live Q&A`,
                          },
                          targeting: 1,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_ReviewCategorization),
                        t.AddSection(M.rg.k_ScheduleLiveStream),
                        t.AddSection(M.rg.k_PressPreviewDetails),
                        t.AddSection(M.rg.k_NextFestTips),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_DemoNotReady);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_PermissionRequest,
                          internal_name: "Media Permissions Reminder",
                          sections: [],
                          subject: {
                            english: `${i} Marketing Materials Permissions Reminder`,
                          },
                          targeting: 64,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_MediaPermissionReminder),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Update,
                          internal_name:
                            "Heads-up to featured apps - Livestream",
                          sections: [],
                          subject: {
                            english: `${i}: We're Planning on Featuring Your Game!`,
                          },
                          targeting: 512,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestMediaUsageIntendedLivestream),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Update,
                          internal_name: "Heads-up to featured apps - Trailer",
                          sections: [],
                          subject: {
                            english: `${i}: We're Planning on Featuring Your Game!`,
                          },
                          targeting: 512,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestMediaUsageIntendedTrailer),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Reminder,
                          internal_name: "Press Preview Reminder",
                          sections: [],
                          subject: { english: `${i} Assets and Reminders` },
                          targeting: 1,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_AssetKit),
                        t.AddSection(M.rg.k_PressPreviewDetails),
                        t.AddSection(M.rg.k_DemoReview),
                        t.AddSection(M.rg.k_DemoLaunch),
                        t.AddSection(M.rg.k_ScheduleLiveStream),
                        t.AddSection(M.rg.k_ReviewCategorization),
                        t.AddSection(M.rg.k_NextFestQASession),
                        t.AddSection(M.rg.k_NextFestTips),
                        t.AddSection(M.rg.k_CancelSection);
                    }
                    {
                      const e = {
                        unique_id: Ia(),
                        type: M.Ys.k_GeneralCommunication,
                        internal_name: "Next Fest Top Games Wrapup",
                        sections: [],
                        subject: {
                          english:
                            "You had one of the most-played demos during Steam Next Fest!",
                        },
                        targeting: 512,
                      };
                      l.On.Get()
                        .AddEmailDraft(e)
                        .AddSection(M.rg.k_NextFestTopGameWrapUp);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_GeneralCommunication,
                          internal_name: "Thanks for a great Steam Next Fest!",
                          sections: [],
                          subject: {
                            english: "Thanks for a great Steam Next Fest!",
                          },
                          targeting: 1,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_NextFestThankYou),
                        t.AddSection(M.rg.k_MeasureResultsFree);
                    }
                    a(!1);
                  },
                },
                "Next Fest: Create Templated Emails ",
                o.createElement(
                  se.HP,
                  {
                    toolTipContent:
                      "For next fest, this will automatically create all of the email templates required for operating the festival",
                  },
                  "(?) ",
                ),
              ),
            )
          : null;
      }
      function pa(e) {
        const t = l.On.Get(),
          [n, a] = (0, o.useState)(!1),
          i = t.GetEventTitle(0);
        return t.GetOptInPageID().includes("nextfest") ||
          t.GetOptInPageID().includes("next_fest")
          ? null
          : o.createElement(
              o.Fragment,
              null,
              Boolean(n) && o.createElement(T.V, null),
              o.createElement(
                m.zx,
                {
                  disabled: n,
                  onClick: (e) => {
                    a(!0);
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Invite,
                          internal_name: "Initial Registration Invite",
                          sections: [],
                          subject: {
                            english: `You're Invited to Participate in ${i}`,
                          },
                          targeting: 32,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_Custom),
                        t.AddSection(M.rg.k_CallForRegistration),
                        t.AddSection(M.rg.k_EnterDiscount),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_PermissionRequest,
                          internal_name:
                            "Secondary marketing materials request",
                          sections: [],
                          subject: {
                            english: `ACTION REQUIRED: Special Request for ${i}`,
                          },
                          targeting: 512,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_MediaUsePermission),
                        t.AddSection(M.rg.k_EnterDiscountReminder),
                        t.AddSection(M.rg.k_LearnMore);
                    }
                    {
                      const e = {
                          unique_id: Ia(),
                          type: M.Ys.k_Reminder,
                          internal_name: "Reminder Email",
                          sections: [],
                          subject: { english: `${i} Starts Next Week` },
                          targeting: 1,
                        },
                        t = l.On.Get().AddEmailDraft(e);
                      t.AddSection(M.rg.k_AssetKit),
                        t.AddSection(M.rg.k_EnterDiscountReminder),
                        t.AddSection(M.rg.k_LearnMore),
                        t.AddSection(M.rg.k_CancelSection);
                    }
                    a(!1);
                  },
                },
                "Theme Sales: Create Templated Emails ",
                o.createElement(
                  se.HP,
                  { toolTipContent: "Emails for regular theme sales" },
                  "(?) ",
                ),
              ),
            );
      }
      const _a = (0, Rn.EN)(
          (0, $.Pi)((e) => {
            const t = l.On.Get(),
              n = t.GetFullName(),
              { bLoading: a, rgEmailDefAndStats: i } = q(n);
            (0, o.useEffect)(
              () => (
                kn.Get().SetSelectionFromQueryParams(e.history),
                () => kn.Get().SetSelection(void 0, void 0, e.history)
              ),
              [n, e.history],
            );
            const r = new Map();
            let s = null;
            if (a)
              return o.createElement(T.V, {
                size: "medium",
                position: "center",
                string: (0, G.Xx)("#Loading"),
              });
            i
              ? i.forEach((e) => r.set(e.email_def_id, e))
              : (s = t.BIsOptInEnabled()
                  ? o.createElement(
                      "div",
                      { className: A.WarningStylesWithIcon },
                      "Warning: We failed to load Email Definitions and Stats from the server. This means we cannot determine which emalis have already been sent and thus we cannot fire an email in this state. However emails can be created, edited and localized.",
                    )
                  : o.createElement(
                      "div",
                      { className: A.WarningStylesWithIcon },
                      "Opt-in isn't enabled. You can create, edit and localized emalis. You canont stage or send emails on an inactive opt-in.",
                    ));
            const c = new Array(),
              d = new Array(),
              u = new Array();
            let p = null;
            return (
              (t.GetEmailDefinitions() || []).forEach((t) => {
                const n = t === kn.Get().GetSelection();
                if (t.BIsDraftEmail())
                  u.push(
                    o.createElement(
                      ba,
                      {
                        key: "draft" + t.GetUniqueID(),
                        emailEditModel: t,
                        bSelected: n,
                        history: e.history,
                      },
                      o.createElement(va, { emailEditModel: t }),
                    ),
                  );
                else {
                  const a = t.GetServerEmailDefID(),
                    i = r.get(a);
                  i
                    ? i.stats && i.stats.completed
                      ? c.push(
                          o.createElement(
                            ba,
                            {
                              key: "sent" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: n,
                              serverDef: i,
                              history: e.history,
                            },
                            o.createElement(Ea, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                      : d.push(
                          o.createElement(
                            ba,
                            {
                              key: "staged" + t.GetUniqueID(),
                              emailEditModel: t,
                              bSelected: n,
                              serverDef: i,
                              history: e.history,
                            },
                            o.createElement(Sa, {
                              emailEditModel: t,
                              serverDef: i,
                            }),
                          ),
                        )
                    : (p || console.log(r), (p = t));
                }
              }),
              p
                ? o.createElement(
                    "div",
                    null,
                    "Error: Server has a different mapping for stage/sent email: ",
                    p.GetServerEmailDefID(),
                    " - ",
                    p.GetUniqueID(),
                    " - ",
                    typeof p.GetServerEmailDefID(),
                    ". Reach out to steam-events to investigate",
                  )
                : o.createElement(
                    "div",
                    { className: ia.EmailAdmin },
                    s,
                    o.createElement("h1", null, "Email Dashboard"),
                    o.createElement(
                      "div",
                      null,
                      "This tool lets you create, send or schedule to send one or more emails to users who have opted-in to this specific event. This is useful for setting up reminders to take action or links to help them fully participate in an event.",
                    ),
                    c.length > 0 &&
                      o.createElement(
                        "div",
                        null,
                        o.createElement(
                          "h2",
                          null,
                          "Sent Emails (",
                          c.length,
                          ")",
                        ),
                        o.createElement(
                          "div",
                          { className: ia.EmailsCtn },
                          o.createElement(
                            "table",
                            null,
                            o.createElement(
                              "thead",
                              null,
                              o.createElement(
                                "tr",
                                null,
                                o.createElement("th", null, "Name"),
                                o.createElement("th", null, "Type"),
                                o.createElement(
                                  "th",
                                  null,
                                  o.createElement(
                                    se.HP,
                                    {
                                      toolTipContent:
                                        "This is the number of unique accounts encountered; this can be less than email to send/sent as an account registering multiple opt-ins, will get separate emails for each app opted in.",
                                    },
                                    "Accounts",
                                    o.createElement("br", null),
                                    "Examined (?):",
                                  ),
                                ),
                                o.createElement(
                                  "th",
                                  null,
                                  o.createElement(
                                    se.HP,
                                    {
                                      toolTipContent:
                                        "Email sent can be higher than account examined if a user registered more than one app",
                                    },
                                    "Accounts",
                                    o.createElement("br", null),
                                    "Emailed (?):",
                                  ),
                                ),
                                o.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  o.createElement("br", null),
                                  "opted out:",
                                ),
                                o.createElement(
                                  "th",
                                  null,
                                  "Accounts",
                                  o.createElement("br", null),
                                  "Failed:",
                                ),
                                o.createElement("th", null, "Clone"),
                                o.createElement("th", null, "Preview"),
                                o.createElement("th", null, "Results"),
                                o.createElement("th", null, "Details"),
                              ),
                            ),
                            o.createElement(
                              "tbody",
                              null,
                              c.length > 0
                                ? c
                                : o.createElement(
                                    "span",
                                    null,
                                    "No sent email",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    d.length > 0 &&
                      o.createElement(
                        "div",
                        null,
                        o.createElement(
                          "h2",
                          null,
                          "Staged/Scheduled Emails (",
                          d.length,
                          ")",
                        ),
                        o.createElement(
                          "div",
                          { className: ia.EmailsCtn },
                          o.createElement(
                            "table",
                            null,
                            o.createElement(
                              "thead",
                              null,
                              o.createElement(
                                "tr",
                                null,
                                o.createElement("th", null, "Name"),
                                o.createElement("th", null, "Type"),
                                o.createElement("th", null, "Type"),
                                o.createElement(
                                  "th",
                                  null,
                                  "Estimated To Mail",
                                ),
                                o.createElement(
                                  "th",
                                  null,
                                  "Estimated To Skip",
                                ),
                                o.createElement("th", null, "Send"),
                                o.createElement("th", null, "Schedule"),
                                o.createElement("th", null, "Test"),
                                o.createElement("th", null, "Preview"),
                                o.createElement("th", null, "Clone"),
                              ),
                            ),
                            o.createElement(
                              "tbody",
                              null,
                              d.length > 0
                                ? d
                                : o.createElement(
                                    "span",
                                    null,
                                    "No staged Emails",
                                  ),
                            ),
                          ),
                        ),
                      ),
                    o.createElement(
                      "div",
                      { className: ia.EmailTypesCtn },
                      o.createElement(
                        "h2",
                        null,
                        "Draft Emails (",
                        u.length,
                        ")",
                      ),
                      o.createElement(
                        "div",
                        { className: ia.EmailsCtn },
                        o.createElement(
                          "table",
                          null,
                          o.createElement(
                            "thead",
                            null,
                            o.createElement(
                              "tr",
                              null,
                              o.createElement("th", null, "Name"),
                              o.createElement("th", null, "Type"),
                              o.createElement("th", null, "Sections"),
                              o.createElement("th", null, "Targeting"),
                              o.createElement("th", null, "Stage"),
                            ),
                          ),
                          o.createElement(
                            "tbody",
                            null,
                            Boolean(u.length > 0)
                              ? u
                              : o.createElement("div", null, "No Drafts"),
                          ),
                        ),
                      ),
                      o.createElement(
                        "div",
                        { className: ia.CreationRow },
                        o.createElement(
                          m.zx,
                          {
                            className: ue().BasicButtonSize,
                            onClick: (t) =>
                              (0, g.AM)(
                                o.createElement(ha, { history: e.history }),
                                (0, D.RA)(t),
                              ),
                          },
                          "Create New Email Draft",
                        ),
                        o.createElement(ua, null),
                        o.createElement(pa, null),
                      ),
                    ),
                    o.createElement("hr", null),
                    Boolean(kn.Get().BHasSelection())
                      ? o.createElement(Kn, {
                          emailDef: kn.Get().GetSelection(),
                          appid: 220,
                        })
                      : o.createElement(
                          "div",
                          null,
                          "No email selected for edit/viewing. Create or select an existing email",
                        ),
                  )
            );
          }),
        ),
        ha = (e) => {
          const { closeModal: t } = e,
            [n, a] = o.useState(""),
            [i, r] = o.useState(M.Ys.k_RegistrationConfirmation),
            s = (0, o.useCallback)(() => {
              const a = {
                  unique_id: Ia(),
                  type: i,
                  internal_name: n,
                  sections: [],
                },
                r = l.On.Get().AddEmailDraft(a);
              kn.Get().SetSelection(r, void 0, e.history), t();
            }, [t, i, n, e.history]);
          return o.createElement(
            P.RG,
            { bAllowFullSize: !0, onCancel: t, closeModal: t },
            o.createElement(m.h4, null, "Create New Email Draft"),
            o.createElement(
              m.uT,
              null,
              o.createElement(
                "div",
                null,
                "Enter an internal name for the email. This is only for us to see and differentiate emails.",
              ),
              o.createElement("input", {
                type: "text",
                value: n,
                placeholder: "Enter Internal Name",
                onFocus: (e) => e.target.select(),
                onChange: (e) => a(e.currentTarget.value),
                maxLength: 240,
              }),
              o.createElement(ga, { curValue: i, fnOnChange: r }),
            ),
            o.createElement(
              m.$_,
              null,
              o.createElement(m.o9, {
                bOKDisabled: 0 == n.trim().length,
                onCancel: t,
                onOK: s,
              }),
            ),
          );
        },
        ga = (e) => {
          const { curValue: t, fnOnChange: n } = e,
            a = M.Zu.map((e) => ({ label: (0, M.rN)(e), data: e }));
          return o.createElement(m.ry, {
            label: "Email Type",
            strDropDownClassName: _().DropDownScroll,
            rgOptions: a,
            selectedOption: t,
            onChange: (e) => n(e.data),
            contextMenuPositionOptions: { bDisablePopTop: !0 },
          });
        },
        va = (e) => {
          const { emailEditModel: t } = e,
            n = l.On.Get();
          return o.createElement(
            o.Fragment,
            null,
            o.createElement(
              "td",
              { className: ia.EmailTitle },
              t.GetInternalName(),
            ),
            o.createElement("td", null, (0, M.rN)(t.GetType())),
            o.createElement("td", null, t.GetNumberSections().toLocaleString()),
            o.createElement(
              "td",
              { className: ia.EmailStatusTodo },
              In(t.GetEmailTargeting()),
            ),
            o.createElement(
              "td",
              null,
              o.createElement(
                m.zx,
                {
                  className: ue().BasicButtonSize,
                  disabled: j.Get().BHasEmailDefLoadFailure(n.GetFullName()),
                  onClick: (e) =>
                    (0, g.AM)(
                      o.createElement(aa, { emailDef: t }),
                      (0, D.RA)(e),
                    ),
                },
                "Stage Email For Sending",
              ),
            ),
          );
        },
        Ea = (e) => {
          var t, n, a, i;
          const { emailEditModel: l, serverDef: r } = e,
            [s, c] = (0, o.useState)(!1);
          return (
            (0, o.useEffect)(() => {
              l.SetReadOnly(!0);
            }, [l]),
            o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "td",
                { className: ia.EmailTitle },
                l.GetInternalName(),
              ),
              o.createElement(
                "td",
                { className: ia.EmailType },
                (0, M.rN)(l.GetType()),
              ),
              o.createElement(
                "td",
                null,
                o.createElement(
                  "span",
                  null,
                  (null === (t = null == r ? void 0 : r.stats) || void 0 === t
                    ? void 0
                    : t.accounts_examined) || 0,
                ),
              ),
              o.createElement(
                "td",
                null,
                o.createElement(
                  "span",
                  null,
                  (null === (n = null == r ? void 0 : r.stats) || void 0 === n
                    ? void 0
                    : n.accounts_emailed) || 0,
                ),
              ),
              o.createElement(
                "td",
                null,
                o.createElement(
                  "span",
                  null,
                  (null === (a = null == r ? void 0 : r.stats) || void 0 === a
                    ? void 0
                    : a.accounts_not_emailed_opted_out) || 0,
                ),
              ),
              o.createElement(
                "td",
                null,
                o.createElement(
                  "span",
                  null,
                  (null === (i = null == r ? void 0 : r.stats) || void 0 === i
                    ? void 0
                    : i.accounts_email_failed) || 0,
                ),
              ),
              o.createElement(
                "td",
                null,
                o.createElement(
                  m.zx,
                  {
                    className: (0, S.Z)(ue().BasicButtonSize, ia.CloneBtn),
                    onClick: () => Ca(l),
                  },
                  "Clone",
                ),
              ),
              o.createElement(
                "td",
                { className: ia.NoWrap },
                o.createElement(ya, { emailEditModel: l }),
              ),
              o.createElement(
                "td",
                { className: ia.NoWrap },
                o.createElement(An, { serverDef: r, emailEditModel: l }),
              ),
              o.createElement(
                "td",
                null,
                s
                  ? o.createElement(ca, { emailEditModel: l, serverDef: r })
                  : o.createElement(m.ji, {
                      label: "Show Details",
                      checked: s,
                      onChange: c,
                    }),
              ),
            )
          );
        };
      function Sa(e) {
        const { emailEditModel: t, serverDef: n } = e,
          [a, i] = (function (e) {
            const [t, n] = o.useState(!j.Get().BHasReachEstimateLoaded(e));
            return (
              (0, o.useEffect)(() => {
                j.Get().BHasReachEstimateLoaded(e)
                  ? n(!1)
                  : j
                      .Get()
                      .LoadEstimateEmailReach(e)
                      .finally(() => n(!1));
              }, [e]),
              [t, j.Get().GetReachEstimate(e)]
            );
          })(n.email_def_id);
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "td",
            { className: ia.EmailTitle },
            t.GetInternalName(),
          ),
          o.createElement(
            "td",
            { className: ia.EmailType },
            "Type: ",
            (0, M.rN)(t.GetType()),
          ),
          o.createElement(
            "td",
            null,
            Boolean(n.start_rtime)
              ? o.createElement(
                  "span",
                  null,
                  "Scheduled:",
                  (0, G.$1)(n.start_rtime),
                  o.createElement("span", null, " - "),
                  (0, Qt.Sc)(n.start_rtime, { bForce24HourClock: !1 }),
                )
              : "Manual Email",
          ),
          o.createElement(
            "td",
            null,
            a
              ? o.createElement(T.V, {
                  size: "small",
                  string: (0, G.Xx)("#Loading"),
                })
              : o.createElement(
                  "span",
                  null,
                  i ? i.accounts_emailed : "error loading estimate",
                ),
          ),
          o.createElement(
            "td",
            null,
            a
              ? o.createElement(T.V, {
                  size: "small",
                  string: (0, G.Xx)("#Loading"),
                })
              : o.createElement(
                  "span",
                  null,
                  i
                    ? i.accounts_not_emailed_opted_out
                    : "error loading estimate",
                ),
          ),
          o.createElement(
            "td",
            { className: ia.NoWrap },
            o.createElement(
              m.zx,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(o.createElement(la, { emailDef: t }), (0, D.RA)(e)),
              },
              "Send ACTUAL Email Now",
            ),
          ),
          o.createElement(
            "td",
            { className: ia.NoWrap },
            o.createElement(Pn, { emailEditModel: t, serverDef: n }),
          ),
          o.createElement(Da, { emailEditModel: t }),
        );
      }
      function Da(e) {
        const { emailEditModel: t } = e;
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "td",
            { className: ia.NoWrap },
            o.createElement(
              m.zx,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(o.createElement(da, { emailDef: t }), (0, D.RA)(e)),
              },
              "Test Email fired To Myself",
            ),
          ),
          o.createElement(
            "td",
            { className: ia.NoWrap },
            o.createElement(ya, { emailEditModel: t }),
          ),
          o.createElement(
            "td",
            { className: ia.NoWrap },
            o.createElement(
              m.zx,
              { className: ue().BasicButtonSize, onClick: () => Ca(t) },
              "Clone",
            ),
          ),
        );
      }
      function fa(e) {
        const t = (0, Wn.$)(e.GetSteamAwardsAdApp());
        if (e.BHasSteamAwardsAdApp()) {
          if (t.isLoading) return;
          return (0, ce.Wx)(t.data.votes, 2).map((e) => e.localization.title);
        }
        return null;
      }
      function ya(e) {
        const { emailEditModel: t } = e,
          n = fa(t);
        let a = f.De.STORE_BASE_URL + "email/PartnerAppOptIn/?";
        return (
          t.GetType() == M.Ys.k_Invite
            ? (a += "partner_name=Valve%20Games&")
            : (a += "appid=220&"),
          (a += "optouttoken=aa&settingflag=0"),
          (a += "&optinname=" + l.On.Get().GetFullName()),
          (a += "&emailtemplateid=" + t.GetUniqueID()),
          (a += "&force_text_view=0"),
          (null == n ? void 0 : n.length) > 0 &&
            (a += "&steamawardcategories=" + encodeURIComponent(n.join(","))),
          o.createElement(
            se.HP,
            {
              toolTipContent:
                "You can update the URL using ?l=<language> to test the variousl localization",
            },
            Boolean(void 0 === n)
              ? o.createElement(T.V, {
                  size: "small",
                  string: "Loading Steam Award Categories",
                })
              : o.createElement(
                  m.zx,
                  {
                    className: ue().BasicButtonSize,
                    onClick: (e) => (0, E.R6)(e, a),
                  },
                  "Web Preview",
                ),
          )
        );
      }
      const ba = (0, $.Pi)((e) => {
        const { emailEditModel: t, bSelected: n, serverDef: a } = e;
        return o.createElement(
          "tr",
          {
            onClick: () => kn.Get().SetSelection(t, a, e.history),
            className: (0, S.Z)({ [ia.TileContainer]: !0, [ia.Selected]: n }),
          },
          e.children,
        );
      });
      function Ia() {
        const e = l.On.Get();
        let t = Math.floor(1 + 1e5 * Math.random());
        for (; e.GetEmailDefinitionByID(M.up + t); )
          t = Math.floor(1 + 1e5 * Math.random());
        return M.up + t;
      }
      function Ca(e) {
        const t = Object.assign(Object.assign({}, e.GetModel()), {
          unique_id: Ia(),
          email_def_id: void 0,
          internal_name: "Clone Of: " + e.GetInternalName(),
          sections: e.GetSections().map((e) => Object.assign({}, e.GetModel())),
        });
        l.On.Get().AddEmailDraft(t);
      }
      var ka = n(84996),
        Aa = n(45070);
      function wa(e) {
        return o.createElement(
          "div",
          {
            className: _().EditPreviewButton,
            onClick: (e) => {
              (0, g.AM)(o.createElement(Pa, null), (0, D.RA)(e));
            },
          },
          "Export Localization",
        );
      }
      function Pa(e) {
        var t;
        const { closeModal: n } = e,
          a = l.On.Get().GetModel(),
          [i, r] = o.useState(!0),
          [s, c] = o.useState(new Array());
        return o.createElement(
          P.uH,
          {
            strTitle: "Export Localizations",
            bAlertDialog: !0,
            onCancel: n,
            closeModal: n,
          },
          o.createElement(
            m.Ac,
            null,
            o.createElement(
              "p",
              null,
              "Choose sections of the opt-in to export for localization",
            ),
            o.createElement(m.ji, {
              label: "Export Event Body",
              onChange: r,
              checked: i,
            }),
            Boolean(
              (null === (t = a.emails) || void 0 === t ? void 0 : t.length) > 0,
            ) &&
              o.createElement(
                "div",
                null,
                o.createElement("p", null, "Choose from the emails to export:"),
                a.emails.map((e) =>
                  o.createElement(m.ji, {
                    label: e.internal_name + " (" + e.unique_id + ")",
                    key: "ckhbox" + e.unique_id,
                    onChange: (t) => {
                      const n = JSON.parse(JSON.stringify(s));
                      t
                        ? n.push(e.unique_id)
                        : n.splice(n.indexOf(e.unique_id), 1),
                        c(n);
                    },
                    checked: s.indexOf(e.unique_id) >= 0,
                  }),
                ),
              ),
          ),
          o.createElement(
            m.$_,
            null,
            o.createElement(ka.Gp, {
              fnGetLocData: () =>
                (function (e, t, n) {
                  var a;
                  let i = new Aa.C();
                  for (let l = 0; l < 31; ++l)
                    t && ei(e, i, l),
                      null === (a = e.emails) ||
                        void 0 === a ||
                        a
                          .filter((e) => n.indexOf(e.unique_id) >= 0)
                          .forEach((e) => $a(e, i, l));
                  return i;
                })(a, i, s),
              bShowXML: !0,
              bShowCSV: !0,
              strFileNamePrefix: "optin",
              lang: ae.U.Get().GetCurEditLanguage(),
            }),
          ),
        );
      }
      function Ta(e) {
        const t = l.On.Get();
        return o.createElement(ka.Q0, {
          fnOnImportLocData: (e, n) => {
            const a = (function (e, t, n) {
              let a = new Array();
              const i = t.GetSortedTokenList(),
                r = !0;
              return (
                (0, O.z)(() => {
                  n.forEach((n) => {
                    let o = !1,
                      s = (0, ne.j_)(n);
                    i.forEach((i) => {
                      var c, m, d, u, p;
                      const _ = t.GetLocalization(i, n) || "";
                      if (
                        (i === Na &&
                          (_ ||
                            (e.event_title[s] &&
                              e.event_title[s].length > 0)) &&
                          (e.event_title || (e.event_title = {}),
                          e.event_title[s] != _ &&
                            ((e.event_title[s] = _), (o = !0))),
                        i === Ra &&
                          (_ ||
                            (e.eligibility_text[s] &&
                              e.eligibility_text[s].length > 0)) &&
                          (e.eligibility_text || (e.eligibility_text = {}),
                          e.eligibility_text[s] != _ &&
                            ((e.eligibility_text[s] = _), (o = !0))),
                        i === Ga &&
                          (_ ||
                            (e.description[s] &&
                              e.description[s].length > 0)) &&
                          (e.description || (e.description = {}),
                          e.description[s] != _ &&
                            ((e.description[s] = _), (o = !0))),
                        i === Ha &&
                          (_ ||
                            (null ===
                              (m =
                                null === (c = e.opt_in_registration_title) ||
                                void 0 === c
                                  ? void 0
                                  : c[s]) || void 0 === m
                              ? void 0
                              : m.length) > 0) &&
                          (e.opt_in_registration_title ||
                            (e.opt_in_registration_title = {}),
                          e.opt_in_registration_title[s] != _ &&
                            ((e.opt_in_registration_title[s] = _), (o = !0))),
                        i === Va &&
                          (_ ||
                            (null ===
                              (u =
                                null === (d = e.opt_in_registration_checkbox) ||
                                void 0 === d
                                  ? void 0
                                  : d[s]) || void 0 === u
                              ? void 0
                              : u.length) > 0) &&
                          (e.opt_in_registration_checkbox ||
                            (e.opt_in_registration_checkbox = {}),
                          e.opt_in_registration_checkbox[s] != _ &&
                            ((e.opt_in_registration_checkbox[s] = _),
                            (o = !0))),
                        i === La &&
                          (_ ||
                            (e.help_text[s] && e.help_text[s].length > 0)) &&
                          (e.help_text || (e.help_text = {}),
                          e.help_text[s] != _ &&
                            ((e.help_text[s] = _), (o = !0))),
                        i === Ba &&
                          (_ ||
                            (e.appeals_text[s] &&
                              e.appeals_text[s].length > 0)) &&
                          (e.appeals_text || (e.appeals_text = {}),
                          e.appeals_text[s] != _ &&
                            ((e.appeals_text[s] = _), (o = !0))),
                        i === Oa &&
                          (_ ||
                            (e.special_event_name[s] &&
                              e.special_event_name[s].length > 0)) &&
                          (e.special_event_name || (e.special_event_name = {}),
                          e.special_event_name[s] != _ &&
                            ((e.special_event_name[s] = _), (o = !0))),
                        i === Fa &&
                          (_ ||
                            (e.special_event_description[s] &&
                              e.special_event_description[s].length > 0)) &&
                          (e.special_event_description ||
                            (e.special_event_description = {}),
                          e.special_event_description[s] != _ &&
                            ((e.special_event_description[s] = _), (o = !0))),
                        null === (p = e.special_event_time_blocks) ||
                          void 0 === p ||
                          p.forEach((e, t) => {
                            var n, a;
                            i == Ua + t &&
                              (_ ||
                                (null ===
                                  (a =
                                    null === (n = e.block_reason) ||
                                    void 0 === n
                                      ? void 0
                                      : n[s]) || void 0 === a
                                  ? void 0
                                  : a.length) > 0) &&
                              (e.block_reason || (e.block_reason = {}),
                              e.block_reason[s] != _ &&
                                ((e.block_reason[s] = _), (o = !0)));
                          }),
                        i === xa &&
                          (_ ||
                            (e.artist_statement &&
                              e.artist_statement.description &&
                              e.artist_statement.description[s] &&
                              e.artist_statement.description[s].length > 0)) &&
                          (e.artist_statement
                            ? e.artist_statement.description ||
                              (e.artist_statement.description = {})
                            : (e.artist_statement = { description: {} }),
                          e.artist_statement.description[s] != _ &&
                            ((e.artist_statement.description[s] = _),
                            (o = !0))),
                        i === Ma &&
                          (_ ||
                            (e.build_store_page &&
                              e.build_store_page.description &&
                              e.build_store_page.description[s] &&
                              e.build_store_page.description[s].length > 0)) &&
                          (e.build_store_page
                            ? e.build_store_page.description ||
                              (e.build_store_page.description = {})
                            : (e.build_store_page = { description: {} }),
                          e.build_store_page.description[s] != _ &&
                            ((e.build_store_page.description[s] = _),
                            (o = !0))),
                        i.startsWith(Xa))
                      ) {
                        let t = !1;
                        if (
                          (e.dynamic_sections || (e.dynamic_sections = []),
                          e.dynamic_sections.forEach((e) => {
                            i === ja + e.unique_id &&
                              ((_ ||
                                (e.name &&
                                  e.name[s] &&
                                  e.name[s].length > 0)) &&
                                (e.name || (e.name = {}),
                                e.name[s] != _ && ((e.name[s] = _), (o = !0))),
                              (t = !0)),
                              i === qa + e.unique_id &&
                                ((_ ||
                                  (e.description &&
                                    e.description[s] &&
                                    e.description[s].length > 0)) &&
                                  (e.description || (e.description = {}),
                                  e.description[s] != _ &&
                                    ((e.description[s] = _), (o = !0))),
                                (t = !0)),
                              e.lists
                                ? e.lists.forEach((n) => {
                                    i == Wa + e.unique_id + n.unique_id &&
                                      ((_ ||
                                        (n.option_title &&
                                          n.option_title[s] &&
                                          n.option_title[s].length > 0)) &&
                                        (n.option_title ||
                                          (n.option_title = {}),
                                        n.option_title[s] != _ &&
                                          ((n.option_title[s] = _), (o = !0))),
                                      (t = !0)),
                                      n.options
                                        ? n.options.forEach((a) => {
                                            i ==
                                              za +
                                                e.unique_id +
                                                n.unique_id +
                                                a.unique_id &&
                                              ((_ ||
                                                (a.text &&
                                                  a.text[s] &&
                                                  a.text[s].length > 0)) &&
                                                (a.text || (a.text = {}),
                                                a.text[s] != _ &&
                                                  ((a.text[s] = _), (o = !0))),
                                              (t = !0)),
                                              i ==
                                                Za +
                                                  e.unique_id +
                                                  n.unique_id +
                                                  a.unique_id &&
                                                ((_ ||
                                                  (a.tooltip &&
                                                    a.tooltip[s] &&
                                                    a.tooltip[s].length > 0)) &&
                                                  (a.tooltip ||
                                                    (a.tooltip = {}),
                                                  a.tooltip[s] != _ &&
                                                    ((a.tooltip[s] = _),
                                                    (o = !0))),
                                                (t = !0));
                                          })
                                        : (n.options = []);
                                  })
                                : (e.lists = []);
                          }),
                          !t && r)
                        ) {
                          const n = i.startsWith(ja),
                            a = i.startsWith(qa),
                            r = i.startsWith(za),
                            o = i.startsWith(Za);
                          if (n || a) {
                            let a = n
                                ? i.substr(ja.length)
                                : i.substr(qa.length),
                              r = l.On.CreateDefaultDynamicSection();
                            (r.lists = []),
                              (r.unique_id = a),
                              n
                                ? ((r.name = {}), (r.name[s] = _))
                                : ((r.description = {}),
                                  (r.description[s] = _)),
                              (t = !0),
                              e.dynamic_sections.push(r);
                          } else if (i.startsWith(Wa)) {
                            let n = i.substr(Wa.length),
                              a = n.indexOf(l.cf),
                              r = n.substr(0, a),
                              o = n.substr(a),
                              c = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == r,
                              );
                            if (-1 != c) {
                              let n = {
                                unique_id: o,
                                options: [],
                                option_title: {},
                              };
                              (n.option_title[s] = _),
                                e.dynamic_sections[c].lists.push(n),
                                (t = !0);
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  r,
                              );
                          } else if (r || o) {
                            let n = r
                                ? i.substr(za.length)
                                : i.substr(Za.length),
                              a = n.indexOf(l.cf),
                              o = n.substr(0, a),
                              c = n.substr(a),
                              m = c.indexOf(l.Hf),
                              d = c.substr(0, m),
                              u = c.substr(m),
                              p = e.dynamic_sections.findIndex(
                                (e) => e.unique_id == o,
                              );
                            if (-1 != p) {
                              let n = e.dynamic_sections[p].lists.findIndex(
                                (e) => e.unique_id == d,
                              );
                              if (-1 != n) {
                                let a = { unique_id: u, text: {} };
                                r
                                  ? (a.text[s] = _)
                                  : ((a.tooltip = {}), (a.tooltip[s] = _)),
                                  e.dynamic_sections[p].lists[n].options.push(
                                    a,
                                  ),
                                  (t = !0);
                              } else
                                console.log(
                                  "Localization: Add missing: Could not find list under section " +
                                    o +
                                    ":" +
                                    d,
                                  u,
                                );
                            } else
                              console.log(
                                "Localization: Add missing: Could not find section: " +
                                  o,
                                d,
                                u,
                              );
                          }
                        }
                      }
                      i.startsWith(Ka) &&
                        (e.emails || (e.emails = []),
                        e.emails.forEach((e) => {
                          i === Qa + e.unique_id &&
                            (_ ||
                              (e.subject &&
                                e.subject[s] &&
                                e.subject[s].length > 0)) &&
                            (e.subject || (e.subject = {}),
                            e.subject[s] != _ &&
                              ((e.subject[s] = _), (o = !0))),
                            (i.startsWith(Ya + e.unique_id) ||
                              i.startsWith(Ja + e.unique_id)) &&
                              e.sections.forEach((t) => {
                                t.type == M.rg.k_Custom &&
                                  (i === Ya + e.unique_id + t.unique_id &&
                                    (_ ||
                                      (t.title &&
                                        t.title[s] &&
                                        t.title[s].length > 0)) &&
                                    (t.title || (t.title = {}),
                                    t.title[s] != _ &&
                                      ((t.title[s] = _), (o = !0))),
                                  i === Ja + e.unique_id + t.unique_id &&
                                    (_ ||
                                      (t.description &&
                                        t.description[s] &&
                                        t.description[s].length > 0)) &&
                                    (t.description || (t.description = {}),
                                    t.description[s] != _ &&
                                      ((t.description[s] = _), (o = !0))));
                              });
                        })),
                        o && -1 == a.findIndex((e) => e == n) && a.push(n);
                    });
                  });
                }),
                a
              );
            })(t.GetModel(), e, n);
            return a && t.SetDirty(!0), a;
          },
        });
      }
      const Na = "event_title",
        Ra = "eligibility_text",
        Ga = "event_description",
        La = "help_text",
        Ba = "appeals_text",
        xa = "artist_statement_desc",
        Ma = "store_page_desc",
        Oa = "special_event_name",
        Fa = "special_event_desc",
        Ua = "special_event_block_",
        Ha = "optin_reg_title",
        Va = "optin_reg_checkbox",
        Xa = "dynamic_section_",
        ja = Xa + "name_",
        qa = Xa + "desc_",
        Wa = Xa + "list_name_",
        za = Xa + "option_",
        Za = Xa + "tooltip_",
        Ka = "email_",
        Qa = Ka + "subject_",
        Ya = Ka + "title_",
        Ja = Ka + "desc_";
      function $a(e, t, n) {
        var a;
        let i = (0, ne.j_)(n);
        const l = e.subject && e.subject[i] && e.subject[i].length > 0;
        (l || 0 == n) &&
          t.SetLocalization(Qa + e.unique_id, n, l ? e.subject[i] : ""),
          null === (a = e.sections) ||
            void 0 === a ||
            a.forEach((a) => {
              if (a.type == M.rg.k_Custom) {
                const l = a.title && a.title[i] && a.title[i].length > 0;
                (l || 0 == n) &&
                  t.SetLocalization(
                    Ya + e.unique_id + a.unique_id,
                    n,
                    l ? a.title[i] : "",
                  );
                const r =
                  a.description &&
                  a.description[i] &&
                  a.description[i].length > 0;
                (r || 0 == n) &&
                  t.SetLocalization(
                    Ja + e.unique_id + a.unique_id,
                    n,
                    r ? a.description[i] : "",
                  );
              }
            });
      }
      function ei(e, t, n) {
        var a, i, l, r, o;
        let s = (0, ne.j_)(n);
        const c =
          e.event_title && e.event_title[s] && e.event_title[s].length > 0;
        (c || 0 == n) && t.SetLocalization(Na, n, c ? e.event_title[s] : "");
        const m =
          e.eligibility_text &&
          e.eligibility_text[s] &&
          e.eligibility_text[s].length > 0;
        (m || 0 == n) &&
          t.SetLocalization(Ra, n, m ? e.eligibility_text[s] : "");
        const d =
          e.description && e.description[s] && e.description[s].length > 0;
        (d || 0 == n) && t.SetLocalization(Ga, n, d ? e.description[s] : "");
        const u =
          (null ===
            (i =
              null === (a = e.opt_in_registration_title) || void 0 === a
                ? void 0
                : a[s]) || void 0 === i
            ? void 0
            : i.length) > 0;
        (u || 0 == n) &&
          t.SetLocalization(Ha, n, u ? e.opt_in_registration_title[s] : "");
        const p =
          (null ===
            (r =
              null === (l = e.opt_in_registration_checkbox) || void 0 === l
                ? void 0
                : l[s]) || void 0 === r
            ? void 0
            : r.length) > 0;
        (p || 0 == n) &&
          t.SetLocalization(Va, n, p ? e.opt_in_registration_checkbox[s] : "");
        const _ = e.help_text && e.help_text[s] && e.help_text[s].length > 0;
        (_ || 0 == n) && t.SetLocalization(La, n, _ ? e.help_text[s] : "");
        ((e.appeals_text &&
          e.appeals_text[s] &&
          e.appeals_text[s].length > 0) ||
          0 == n) &&
          t.SetLocalization(Ba, n, _ ? e.appeals_text[s] : "");
        const h =
          e.special_event_name &&
          e.special_event_name[s] &&
          e.special_event_name[s].length > 0;
        (h || 0 == n) &&
          t.SetLocalization(Oa, n, h ? e.special_event_name[s] : "");
        const g =
          e.special_event_description &&
          e.special_event_description[s] &&
          e.special_event_description[s].length > 0;
        (g || 0 == n) &&
          t.SetLocalization(Fa, n, g ? e.special_event_description[s] : ""),
          null === (o = e.special_event_time_blocks) ||
            void 0 === o ||
            o.forEach((e, a) => {
              var i, l;
              const r =
                (null ===
                  (l =
                    null === (i = e.block_reason) || void 0 === i
                      ? void 0
                      : i[s]) || void 0 === l
                  ? void 0
                  : l.length) > 0;
              (r || 0 == n) &&
                t.SetLocalization(Ua + a, n, r ? e.block_reason[s] : "");
            });
        const v =
          e.artist_statement &&
          e.artist_statement.description &&
          e.artist_statement.description[s] &&
          e.artist_statement.description[s].length > 0;
        (v || 0 == n) &&
          t.SetLocalization(xa, n, v ? e.artist_statement.description[s] : "");
        const E =
          e.build_store_page &&
          e.build_store_page.description &&
          e.build_store_page.description[s] &&
          e.build_store_page.description[s].length > 0;
        (E || 0 == n) &&
          t.SetLocalization(Ma, n, E ? e.build_store_page.description[s] : ""),
          e.dynamic_sections &&
            e.dynamic_sections.forEach((e) => {
              const a = e.name && e.name[s] && e.name[s].length > 0;
              (a || 0 == n) &&
                t.SetLocalization(ja + e.unique_id, n, a ? e.name[s] : "");
              const i =
                e.description &&
                e.description[s] &&
                e.description[s].length > 0;
              (i || 0 == n) &&
                t.SetLocalization(
                  qa + e.unique_id,
                  n,
                  i ? e.description[s] : "",
                ),
                e.lists &&
                  e.lists.forEach((a) => {
                    const i =
                      a.option_title &&
                      a.option_title[s] &&
                      a.option_title[s].length > 0;
                    (i || 0 == n) &&
                      t.SetLocalization(
                        Wa + e.unique_id + a.unique_id,
                        n,
                        i ? a.option_title[s] : "",
                      ),
                      a.options &&
                        a.options.forEach((i) => {
                          const l = i.text && i.text[s] && i.text[s].length > 0;
                          l &&
                            t.SetLocalization(
                              za + e.unique_id + a.unique_id + i.unique_id,
                              n,
                              l ? i.text[s] : "",
                            );
                          const r =
                            i.tooltip &&
                            i.tooltip[s] &&
                            i.tooltip[s].length > 0;
                          l &&
                            t.SetLocalization(
                              Za + e.unique_id + a.unique_id + i.unique_id,
                              n,
                              r ? i.tooltip[s] : "",
                            );
                        });
                  });
            });
      }
      function ti(e) {
        const t = (function (e) {
          const t = (0, F.useQuery)(
            ["getspecialeventinfo", e],
            () =>
              (0, I.mG)(this, void 0, void 0, function* () {
                return yield (function (e) {
                  var t, n;
                  return (0, I.mG)(this, void 0, void 0, function* () {
                    const a =
                        f.De.PARTNER_BASE_URL + "optin/ajaxgetspecialeventinfo",
                      i = { sessionid: f.De.SESSIONID, opt_in_name: e },
                      l = yield k().get(a, { params: i, withCredentials: !0 });
                    return 200 == (null == l ? void 0 : l.status) &&
                      1 ==
                        (null === (t = null == l ? void 0 : l.data) ||
                        void 0 === t
                          ? void 0
                          : t.success) &&
                      (null === (n = null == l ? void 0 : l.data) ||
                      void 0 === n
                        ? void 0
                        : n.results)
                      ? l.data.results
                      : (console.error(
                          "Failed to fetch FetchSpecialEventInfo: ",
                          (0, N.l)(l),
                        ),
                        null);
                  });
                })(e);
              }),
            { staleTime: 60 * zt._H.PerMinute * 1e3 },
          );
          return t.isLoading ? null : t.data;
        })(l.On.Get().GetOptInPageID());
        return t
          ? o.createElement(ni, { rgEventInfo: t })
          : o.createElement(T.V, { string: (0, G.Xx)("#Loading") });
      }
      function ni(e) {
        const { rgEventInfo: t } = e,
          n = l.On.Get(),
          a = Math.floor(Date.now() / 1e3),
          [i, r, s, c, m, d] = (0, o.useMemo)(() => {
            const e = new Map();
            t.forEach((t) => {
              t.appid &&
                (e.has(t.appid)
                  ? e.set(t.appid, e.get(t.appid) + 1)
                  : e.set(t.appid, 1));
            });
            const i = new Map();
            return (
              Array.from(e.keys()).forEach((t) => {
                e.has(t) && e.get(t) > 2 && i.set(t, e.get(t));
              }),
              [
                t.length,
                t.filter((e) => e.published).length,
                t.filter((e) => e.hidden && !e.published).length,
                t.filter((e) => !Boolean(e.appid)),
                t.filter(
                  (e) =>
                    e.start_time > a &&
                    (e.start_time < n.GetSpecialEventStartTime() ||
                      n.BIsInSpecialEventBlockedTime(e.start_time)),
                ),
                i,
              ]
            );
          }, [n, t, a]);
        return o.createElement(
          "div",
          null,
          o.createElement(
            "p",
            null,
            "A special event has been defined for this optin.  All events of this type include the opt-in page name (",
            n.GetOptInPageID(),
            ") as a annoucement tags with the event.",
            Boolean(n.GetPublicEventID())
              ? o.createElement(
                  "span",
                  null,
                  " To see all of the published and visible events you can visit the associated",
                  o.createElement(
                    "a",
                    {
                      href:
                        f.De.STORE_BASE_URL +
                        "news/sale/" +
                        n.GetPublicEventID(),
                    },
                    "sale pages new hub",
                  ),
                  ".",
                )
              : o.createElement(
                  "span",
                  null,
                  "Public Event hasn't been configured. We cannot see published events in the news until that is completed",
                ),
          ),
          o.createElement("div", null, "Total Events with Tags: ", i),
          o.createElement("div", null, "Published Events: ", r),
          o.createElement("div", null, "Draft Events: ", s),
          o.createElement("hr", null),
          o.createElement("br", null),
          o.createElement("br", null),
          o.createElement("div", null, "Valve Events: ", c.length),
          c.map((e) => o.createElement(ii, { info: e, key: e.clan_event_gid })),
          o.createElement("hr", null),
          o.createElement("br", null),
          o.createElement("br", null),
          o.createElement(
            "div",
            null,
            "Events In Blocked Out Time (needs to be moved): ",
            c.length,
          ),
          m.map((e) => o.createElement(ii, { info: e, key: e.clan_event_gid })),
          o.createElement("hr", null),
          o.createElement("div", null, "Apps with more than two events "),
          Array.from(d.keys()).map((e) =>
            o.createElement(ai, { appid: e, count: d.get(e), key: e }),
          ),
        );
      }
      function ai(e) {
        const { appid: t, count: n } = e,
          [a] = (0, Qe.vs)(t, { include_assets: !0 });
        return a
          ? o.createElement(
              "div",
              null,
              o.createElement(
                "a",
                {
                  href: `${f.De.COMMUNITY_BASE_URL}/ogg/${a.GetAppID()}/partnerevents`,
                },
                o.createElement("img", {
                  src: a.GetAssets().GetSmallCapsuleURL(),
                }),
              ),
              o.createElement("div", null, a.GetName(), " (", t, ")"),
              o.createElement("div", null, "Count: ", n),
              o.createElement("hr", null),
            )
          : o.createElement(
              "a",
              { href: `${f.De.COMMUNITY_BASE_URL}/ogg/${t}/partnerevents` },
              o.createElement("div", null, t, " = ", n),
            );
      }
      function ii(e) {
        const { info: t } = e;
        return t.appid
          ? o.createElement(li, { info: t })
          : o.createElement(ri, { info: t });
      }
      function li(e) {
        const { info: t } = e,
          [n] = (0, Qe.vs)(t.appid, {}),
          a = t.appid;
        return o.createElement(
          "div",
          null,
          "Game: ",
          (null == n ? void 0 : n.GetName()) || "",
          " (",
          a,
          "), event state time - ",
          o.createElement(h.uv, { startDateAndTime: t.start_time }),
          o.createElement(
            "a",
            {
              href:
                f.De.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
          t.hidden ? " draft mode" : "",
        );
      }
      function ri(e) {
        const { info: t } = e;
        return o.createElement(
          "div",
          null,
          "ClanID: ",
          t.clan_accountid,
          " / ",
          t.clan_event_gid,
          o.createElement(
            "a",
            {
              href:
                f.De.COMMUNITY_BASE_URL +
                "gid/" +
                t.clan_accountid +
                "/partnerevents/view/" +
                t.clan_event_gid,
            },
            "event link",
          ),
        );
      }
      var oi = n(88016);
      class si {
        GetPointShopDefs(e) {
          return this.m_mapPointShopDefs.get(e);
        }
        GetCommunityItemKV(e) {
          return this.m_mapPointShopDefToCommunityDef.get(e);
        }
        GetDefChangeList(e) {
          return (
            this.m_mapPointShopDefsChange.has(e) ||
              this.m_mapPointShopDefsChange.set(e, new Xt.pB()),
            this.m_mapPointShopDefsChange.get(e)
          );
        }
        LoadDefForOptIn(e) {
          return (0, I.mG)(this, void 0, void 0, function* () {
            return this.m_mapPointShopDefs.has(e)
              ? this.m_mapPointShopDefs.get(e)
              : this.InternalLoadDefForOptIn(e);
          });
        }
        InternalLoadDefForOptIn(e) {
          var t;
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n = Le.De.PARTNER_BASE_URL + "optin/ajaxgetpointshopiteminfo",
              a = { sessionid: Le.De.SESSIONID, opt_in_name: e };
            let i = null;
            try {
              const l = yield k().get(n, { params: a, withCredentials: !0 });
              if (
                200 == (null == l ? void 0 : l.status) &&
                1 ==
                  (null === (t = null == l ? void 0 : l.data) || void 0 === t
                    ? void 0
                    : t.success) &&
                l.data.point_shop_advertising_appid
              ) {
                const t = this.UpdateInternalModel(e, l);
                return this.GetDefChangeList(e).Dispatch(t), t;
              }
              i = (0, N.l)(l);
            } catch (e) {
              i = (0, N.l)(e);
            }
            return (
              console.error(
                "COptInLoyaltyPointShopStore.LoadDefForApp failed: " +
                  (null == i ? void 0 : i.strErrorMsg),
                i,
              ),
              null
            );
          });
        }
        FixPointShopItemForOptIn(e) {
          var t;
          return (0, I.mG)(this, void 0, void 0, function* () {
            const n =
                Le.De.PARTNER_BASE_URL + "optin/ajaxupdatepointshopiteminfo",
              a = { sessionid: Le.De.SESSIONID, opt_in_name: e };
            let i = null;
            try {
              const l = yield k().get(n, { params: a, withCredentials: !0 });
              if (
                200 == (null == l ? void 0 : l.status) &&
                1 ==
                  (null === (t = null == l ? void 0 : l.data) || void 0 === t
                    ? void 0
                    : t.success)
              )
                return yield this.InternalLoadDefForOptIn(e), !0;
              i = (0, N.l)(l);
            } catch (e) {
              i = (0, N.l)(e);
            }
            return (
              console.error(
                "COptInLoyaltyPointShopStore.FixPointShopItemForOptIn failed: " +
                  (null == i ? void 0 : i.strErrorMsg),
                i,
              ),
              null
            );
          });
        }
        UpdateInternalModel(e, t) {
          var n;
          const a = t.data.community_items_def;
          return (
            null === (n = t.data.defs) ||
              void 0 === n ||
              n.forEach((e) => {
                const t =
                  null == a
                    ? void 0
                    : a.findIndex(
                        (t) =>
                          t.appid == e.appid &&
                          t.item_type == e.community_item_type,
                      );
                -1 != t
                  ? this.m_mapPointShopDefToCommunityDef.set(
                      e.defid,
                      JSON.parse(a[t].item_key_values),
                    )
                  : console.log(
                      "COptInLoyaltyPointShopStore.LoadDefForApp failed to find community_item_type " +
                        e.community_item_type +
                        " on app " +
                        e.appid,
                    );
              }),
            this.m_mapPointShopDefs.set(e, [...t.data.defs] || []),
            t.data.defs || []
          );
        }
        static Get() {
          return si.s_Singleton || (si.s_Singleton = new si()), si.s_Singleton;
        }
        constructor() {
          (this.m_mapPointShopDefs = new Map()),
            (this.m_mapPointShopDefsChange = new Map()),
            (this.m_mapPointShopDefToCommunityDef = new Map());
        }
      }
      (0, I.gn)([Ye.ak], si.prototype, "InternalLoadDefForOptIn", null),
        (0, I.gn)([Ye.ak], si.prototype, "FixPointShopItemForOptIn", null),
        (0, I.gn)([Ye.ak], si.prototype, "UpdateInternalModel", null);
      var ci = n(40057),
        mi = n(95315),
        di = n(36194),
        ui = n(22364),
        pi = n(23528),
        _i = n.n(pi);
      function hi(e) {
        const { editModel: t } = e,
          [n, a, i] = (0, Ce.SZ)(() => [
            t.GetPointShopPriorityApps(),
            t.GetPointShopIncludedApps(),
            t.GetPublicEventURL(),
          ]);
        return o.createElement(
          "div",
          { className: we().AdminPageCtn },
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement(
              "p",
              null,
              "Every opt-in Event will have its own point shops landing page by default. Its artwork can be customized in the cluster (see the publish path) and the items that are featured for registered games can be modified here.",
            ),
            o.createElement(
              "a",
              {
                href: `${Le.De.STORE_BASE_URL}points/shop/event/${t.GetOptInPageID()}`,
              },
              "Point Shop Landing Page",
            ),
            o.createElement(
              "p",
              null,
              "The art assets for the point shop background are part of the cluster page's artwork.",
              o.createElement(
                "a",
                {
                  href: `${Le.De.PARTNER_BASE_URL}admin/store/page/${t.GetFullName()}`,
                },
                "Cluster Editor",
              ),
            ),
          ),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "Public Content Hub / Sale URL:"),
            o.createElement(
              "p",
              null,
              "Relative URL (text after store.steampowered.com/) used by the point shop to link to the store event. This is used by the point shop event specific page to point back to the sale page.",
            ),
            o.createElement(m.II, {
              type: "text",
              onChange: (e) => t.SetPublicEventURL(e.target.value),
              value: i,
              placeholder: "For Example: category/scream",
            }),
            Boolean(i) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("br", null),
                o.createElement(
                  "a",
                  { href: `${Le.De.STORE_BASE_URL}${i}`, target: "_blank" },
                  "Open Store Landing Page",
                ),
              ),
            o.createElement("h3", null, "Sale Page Link"),
            o.createElement(
              "p",
              null,
              "We need specific Sale Page linked so that we can automatically pull the background and logo. This can always be overriden by the cluster artwork that is uploaded",
            ),
            o.createElement(ui.E, { oEditablePlan: t }),
          ),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "Priority Apps"),
            o.createElement(
              "div",
              null,
              "These apps will have their items which are ALSO marked individually with the OptIn ID appear expliclty at the top of the landing page. This ensures our curated or personally created items get top billing.",
            ),
            o.createElement("br", null),
            o.createElement(Di, { editModel: t }),
            o.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(bi, {
                      rgAppIDs: n,
                      fnSetAppIDs: t.SetPointShopPriorityApps,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              "Set Priority Apps",
            ),
          ),
          o.createElement(gi, { editModel: t }),
          o.createElement(vi, { editModel: t }),
          o.createElement(
            "div",
            { className: ue().Section },
            o.createElement("h3", null, "Included Apps"),
            o.createElement(
              "div",
              null,
              "These are selected list of top or important apps whose animated assets we want to appear in the both the explicit item type lists and the list of apps carousels.",
            ),
            o.createElement("br", null),
            o.createElement(fi, { editModel: t }),
            o.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(Ci, { editModel: t }),
                    (0, D.RA)(e),
                  ),
              },
              "Automatically Build App List",
            ),
            o.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(bi, {
                      rgAppIDs: a,
                      fnSetAppIDs: t.SetPointShopIncludedApps,
                    }),
                    (0, D.RA)(e),
                  ),
              },
              "Set Included Apps",
            ),
          ),
        );
      }
      function gi(e) {
        const { editModel: t } = e,
          [n] = (0, Ce.SZ)(() => [t.GetPointShopAdvertisingAppID()]);
        return o.createElement(
          "div",
          { className: ue().Section },
          o.createElement("h3", null, "Point Shop Advertising App"),
          o.createElement(
            "p",
            null,
            "This is the advertising app which will hold the point shop items we want customers to get via claims or direct adds from the shop directly.",
          ),
          o.createElement(m.II, {
            type: "number",
            onChange: (e) =>
              t.SetPointShopAdvertisingAppID(Number.parseInt(e.target.value)),
            value: n,
            placeholder: "Advertising App ID",
          }),
          Boolean(n) &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement("br", null),
              o.createElement(
                "a",
                {
                  href: `${Le.De.PARTNER_BASE_URL}apps/communityitems/${n}`,
                  target: "_blank",
                },
                "Open the Community and Point Shop Editor",
              ),
              o.createElement(Ei, { editModel: t }),
            ),
        );
      }
      function vi(e) {
        const { editModel: t } = e,
          [n, a] = (0, Ce.SZ)(() => [
            t.GetPointShopRadialColorOverride(),
            t.GetPointShopRadialEdgeColorOverride(),
          ]);
        return o.createElement(
          "div",
          { className: (0, S.Z)(ue().Section) },
          o.createElement("h3", null, "Point Shop Background Color"),
          o.createElement(
            "p",
            null,
            "Easiest way to determine if the color needs to be altered is viewing the point after the background and logo has already been uploaded to the linked sale page. Then using the inspector to test the color to then enter it here.",
          ),
          o.createElement(m.__, null, "Radial Center Color"),
          o.createElement(
            m.zx,
            {
              className: _i().BackgroundColorBtn,
              onClick: (e) => {
                (0, mi.yV)(
                  o.createElement(di.z, {
                    color: n,
                    onChange: (e) => t.SetPointShopRadialColorOverride(e),
                  }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
              style: { backgroundColor: n },
            },
            "Update Radial Center Color",
          ),
          o.createElement(m.__, null, "Radial Edge Color"),
          o.createElement(
            m.zx,
            {
              className: _i().BackgroundColorBtn,
              onClick: (e) => {
                (0, mi.yV)(
                  o.createElement(di.z, {
                    color: a,
                    onChange: (e) => t.SetPointShopRadialEdgeColorOverride(e),
                  }),
                  e,
                  { bDisablePopTop: !0 },
                );
              },
              style: { backgroundColor: a },
            },
            "Update Radial Center Color",
          ),
        );
      }
      function Ei(e) {
        const { editModel: t } = e,
          n = (function (e) {
            const [t, n] = (0, o.useState)(() => si.Get().GetPointShopDefs(e));
            return (
              (0, o.useEffect)(() => {
                si.Get().LoadDefForOptIn(e).then(n);
              }, [e]),
              (0, Ye.Qg)(si.Get().GetDefChangeList(e), n),
              t
            );
          })(t.GetOptInPageID()),
          [a] = (0, Ce.SZ)(() => [t.GetPointShopAdvertisingAppID()]),
          { fnFixPointShopItemForOptIn: i } = {
            fnFixPointShopItemForOptIn: si.Get().FixPointShopItemForOptIn,
          };
        return n && 0 != n.length
          ? o.createElement(
              "div",
              null,
              o.createElement("div", null, "Loyalty Point Shop Items:"),
              o.createElement(
                "ol",
                null,
                n
                  .filter((e) => 6 != e.type)
                  .map((e) =>
                    o.createElement(
                      "li",
                      { key: e.defid },
                      o.createElement(Si, { def: e, editModel: t }),
                    ),
                  ),
              ),
              o.createElement(
                m.zx,
                { onClick: () => i(t.GetOptInPageID()) },
                "Fix Associations",
              ),
            )
          : o.createElement(
              "div",
              null,
              "No Point Shop Defintions in Advertising App ",
              a,
            );
      }
      function Si(e) {
        const { def: t, editModel: n } = e,
          a = ((i = t.defid), si.Get().GetCommunityItemKV(i) || {});
        var i;
        let l = "";
        return (
          (null == a ? void 0 : a.associated_optin_event) !=
            n.GetOptInPageID() && (l += "Not associated with optin,"),
          (null == a ? void 0 : a.time_available_start) !=
            n.GetEventStartTime() &&
            (l += "Item start time not matching optin,"),
          (null == a ? void 0 : a.time_free_end) != n.GetEventEndTime() &&
            (l += "Free until not matching optin end time"),
          o.createElement(
            "div",
            null,
            Boolean(0 == l.length) ? " " : " " + l,
            t.internal_description,
            " - ",
            null == a ? void 0 : a.associated_optin_event,
          )
        );
      }
      function Di(e) {
        const { editModel: t } = e,
          n = (0, Ce.SZ)(() => t.GetPointShopPriorityApps());
        return n
          ? o.createElement(
              "div",
              null,
              n.map((e) => o.createElement(yi, { key: e, appid: e })),
            )
          : o.createElement("div", null, "No Priority Apps");
      }
      function fi(e) {
        const { editModel: t } = e,
          n = (0, Ce.SZ)(() => t.GetPointShopIncludedApps());
        return n
          ? o.createElement(
              "div",
              null,
              n.map((e) => o.createElement(yi, { key: e, appid: e })),
            )
          : o.createElement("div", null, "No Included Apps");
      }
      function yi(e) {
        const { appid: t } = e,
          [n, a] = (0, Qe.vs)(t, {});
        return 2 == a
          ? o.createElement("div", null, "Appid ", t, " Not Found")
          : 1 == a
            ? o.createElement("div", null, "Appid ", t, " Loading")
            : o.createElement(
                "div",
                null,
                n.GetName(),
                " ( ",
                t,
                " )",
                o.createElement(
                  "a",
                  {
                    href: `${Le.De.STORE_BASE_URL}points/shop/app/${n.GetAppID()}`,
                    target: "_blank",
                  },
                  "Point Shop",
                ),
              );
      }
      function bi(e) {
        const { closeModal: t, rgAppIDs: n, fnSetAppIDs: a } = e,
          [i, l] = o.useState((null == n ? void 0 : n.join("\n")) || "");
        return o.createElement(
          P.uH,
          {
            strTitle: "Set App List",
            strDescription: "Provide the complete list of apps, one per line.",
            closeModal: t,
            onOK: () => {
              const e = i
                .replace(/\n/g, "|")
                .split("|")
                .filter(Boolean)
                .map((e) => Number.parseInt(e.trim()))
                .filter((e) => !isNaN(e));
              a(Array.from(new Set(e)));
            },
          },
          o.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => l(e.currentTarget.value),
            value: i,
            autoFocus: !0,
          }),
        );
      }
      function Ii(e, t) {
        return (0, I.mG)(this, void 0, void 0, function* () {
          let n = null;
          try {
            const a = U.gA.Init(oi.eQ);
            e.forEach((e) => a.Body().add_appids(e)),
              a.Body().set_language("english"),
              a.Body().set_count(1e3),
              a.Body().add_filters(1);
            const i = yield oi.pQ.QueryRewardItems(t, a);
            if (i.BSuccess() && 1 == i.GetEResult()) {
              const t = i
                  .Body()
                  .definitions()
                  .map((e) => e.appid()),
                n = new Set(t);
              return e.filter((e) => n.has(e));
            }
            n = (0, N.l)(i);
          } catch (e) {
            n = (0, N.l)(e);
          }
          return (
            console.warn(
              "BYldFilterAppIDsWithAnimatedPointShopItems service request failed with error",
              n,
              e,
            ),
            null
          );
        });
      }
      function Ci(e) {
        const { closeModal: t, editModel: n } = e,
          [a, i] = (0, o.useState)(50),
          [r, s] = (0, o.useState)(!1),
          [c, d] = (0, o.useState)(!1),
          u = (0, Ce.SZ)(() => n.GetPointShopIncludedApps()),
          p = (0, l.tb)(),
          _ = (0, ci.bY)(),
          h = (0, o.useMemo)(() => {
            if (p) {
              if (p.json_featured && c)
                return JSON.parse(p.json_featured).map((e) => e.appid);
              if (p.json_opted_in && !c)
                return JSON.parse(p.json_opted_in).map((e) => e.appid);
            }
            return [];
          }, [p, c]),
          {
            bLoading: g,
            fnGetLongTermSaleRankForApp: v,
            fnbHasSomeLongTermSaleRankForApp: E,
          } = (0, Nt.l)(h),
          S = (0, o.useMemo)(() => {
            if (!g && (null == h ? void 0 : h.length) > 0) {
              return h
                .filter(E)
                .map((e) => ({ appid: e, nRank: v(e) }))
                .sort((e, t) => e.nRank - t.nRank)
                .map((e) => e.appid);
            }
            return [];
          }, [g, v, E, h]),
          D = (0, He.tx)();
        if (D.bLoading)
          return o.createElement(He.NT, {
            state: D,
            strDialogTitle: "Build App List",
            closeModal: t,
          });
        const f = !p || !p.json_opted_in || !p.json_featured;
        return o.createElement(
          P.uH,
          {
            strTitle: "Build App List",
            strDescription: `Will scan the opted in apps to find the top ${a} apps by long term sales rank with some animated point shop asset. This depends on the stats dashboard via 'manage', so should be run after a refresh completes.`,
            onCancel: t,
            onOK: () =>
              (0, I.mG)(this, void 0, void 0, function* () {
                D.fnSetLoading(!0);
                let e = 0;
                let t = new Array();
                const i = new Set(u),
                  l = r ? S : S.filter((e) => !i.has(e));
                do {
                  D.fnSetThrobber(
                    `Processing Apps from ${e + 1} to ${e + 25} looking for ${a - t.length} more...`,
                  );
                  const n = l.slice(e, e + 25),
                    i = yield Ii(n, _);
                  if (null == i)
                    return (
                      D.fnSetStrError(
                        "Fail processing the appids, check console",
                      ),
                      void D.fnSetError(!0)
                    );
                  for (; t.length < a && i.length > 0; ) {
                    const e = i.shift();
                    t.push(e);
                  }
                  e += 25;
                } while (t.length < a && e < l.length);
                const o = t.length,
                  s = r ? new Array() : Array.from(i);
                for (; t.length > 0; ) s.push(t.shift());
                n.SetPointShopIncludedApps(s),
                  D.fnSetSuccess(!0),
                  D.fnSetStrSuccess("Completing processing, added " + o);
              }),
            bOKDisabled: f || 0 == (null == p ? void 0 : p.count_opted_in),
          },
          o.createElement(m.II, {
            type: "number",
            value: a,
            onChange: (e) => i(Number.parseInt(e.currentTarget.value)),
            label: "Top Apps with Animated Assets to find",
            tooltip: "We will scan opted in apps to find these top apps",
          }),
          o.createElement(m.ji, {
            checked: r,
            onChange: s,
            label: `Overwrite existing list of ${(null == u ? void 0 : u.length) || 0} Apps?`,
          }),
          o.createElement(m.ji, {
            checked: c,
            onChange: d,
            label: "Use Featured Apps instead of opted in Apps?",
          }),
          Boolean(0 == (null == p ? void 0 : p.count_opted_in)) &&
            o.createElement("div", null, "Nothing to do, no apps opted in"),
          Boolean(f || g) &&
            o.createElement(T.V, {
              string: "Loading",
              size: "medium",
              position: "center",
            }),
        );
      }
      const ki = (0, $.Pi)((e) => {
          const t = l.On.Get(),
            n = (e) =>
              window.sessionStorage.setItem(
                "editorCurrentTab",
                `?tab=${e.key}`,
              ),
            a =
              f.De.PARTNER_BASE_URL +
              "optin/salepreview/" +
              t.GetName() +
              "/20",
            i = (t.GetEmailDefinitions() || [])
              .filter((e) => e.BIsDraftEmail())
              .filter((e) => {
                const t = (function (e) {
                  const t = Jn(e),
                    n = Object.values(t).length,
                    a = [];
                  let i = 0;
                  return (
                    t.bNeedDemoTrailerRegLink &&
                      (e.GetDemoTrailerRegLink()
                        ? (i += 1)
                        : a.push("Missing Demo Trailer Reg Link")),
                    t.bNeedAssetKit &&
                      (e.GetAssetKitURL()
                        ? (i += 1)
                        : a.push("Missing Asset Kit")),
                    t.bNeedDemoPressPreviewDate &&
                      (e.GetDemoPressPreviewDate()
                        ? (i += 1)
                        : a.push("Missing Demo Preview Date")),
                    t.bNeedMaxItems &&
                      (e.GetScheduleMaxItems()
                        ? (i += 1)
                        : a.push("Missing Max Scheduled Events")),
                    t.bNeedSalePreview &&
                      (e.GetSalePreviewPage()
                        ? (i += 1)
                        : a.push("Missing Sale Preview Page")),
                    t.bNeedNextEditionDate &&
                      (e.GetNextEditionDate()
                        ? (i += 1)
                        : a.push("Missing Next Edition Date")),
                    t.bNeedQASessionDate &&
                      (e.GetQASessionDate()
                        ? (i += 1)
                        : a.push("Missing QA Session Date")),
                    t.bNeedQASessionLink &&
                      (e.GetQASessionLink()
                        ? (i += 1)
                        : a.push("Missing QA Session Link")),
                    t.bNeedRecordedQASessionLink &&
                      (e.GetRecordedQASessionLink()
                        ? (i += 1)
                        : a.push("Missing QA Recorded Session Link")),
                    t.bNeedCancelDate &&
                      (e.GetCancelDate()
                        ? (i += 1)
                        : a.push("Missing Cancel Date")),
                    t.bNeedPreviewDate &&
                      (e.GetPreviewDate()
                        ? (i += 1)
                        : a.push("Missing Preview Date")),
                    t.bNeedPermissionDate &&
                      (e.GetPermissionDate()
                        ? (i += 1)
                        : a.push("Missing Permissions Date")),
                    t.bNeedTrailerLaunchDate &&
                      (e.GetTrailerLaunchDate()
                        ? (i += 1)
                        : a.push("Missing Trailer Launch Date")),
                    t.bNeedLivestreamLaunchDate &&
                      (e.GetLivestreamLaunchDate()
                        ? (i += 1)
                        : a.push("Missing Livestream Launch Date")),
                    t.bNeedWikiDocumentation &&
                      (e.GetWikiDocURL()
                        ? (i += 1)
                        : a.push("Missing Wiki Doc Link")),
                    t.bNeedSurveyLink &&
                      (e.GetSurveyLinkURL()
                        ? (i += 1)
                        : a.push("Missing Survey Link")),
                    t.bNeedPressPreviewVisibleDate &&
                      (e.GetPressPreviewVisibleDate()
                        ? (i += 1)
                        : a.push("Missing Press Preview Visible Date")),
                    t.bNeedTrailerDemoDeadlineDate &&
                      (e.GetTrailerDemoDeadlineDate()
                        ? (i += 1)
                        : a.push("Missing Trailer Demo Deadline Date")),
                    t.bNeedGenericActionLink &&
                      (e.GetGenericActionLink()
                        ? (i += 1)
                        : a.push("Missing Generic Action Link")),
                    { cNeeded: n, cCompleted: i, vecMissing: a }
                  );
                })(e);
                return t.cNeeded != t.cCompleted;
              }),
            s = t.BIsReleaseGamesEligible() || t.BIsUnreleaseGamesEligible(),
            c = [
              {
                name: "Editor",
                key: "editor",
                status: s
                  ? ""
                  : o.createElement(
                      se.HP,
                      {
                        toolTipContent:
                          "Must choose release or unrelease games in the requirement section",
                      },
                      "'Incomplete (0/1)'",
                    ),
                statusType: s ? "success" : "danger",
                contents: o.createElement(
                  d.SV,
                  null,
                  o.createElement(ee.ko, { fnLangHasData: t.BHasLanguageData }),
                  o.createElement(ft, null),
                ),
                onClick: n,
              },
              {
                name: "Preview",
                key: "preview",
                status: "",
                statusType: "success",
                contents: o.createElement("iframe", {
                  width: "100%",
                  height: "1200px",
                  style: { border: "none", paddingBottom: "20px" },
                  src: a,
                }),
                onClick: n,
              },
              {
                name: "Email",
                key: "email",
                status: i.length ? "Draft Incomplete" : "",
                statusType: i.length ? "danger" : "success",
                contents: o.createElement(
                  d.SV,
                  null,
                  o.createElement(_a, null),
                ),
                onClick: n,
              },
              {
                name: "Manage",
                key: "manage",
                status: "",
                statusType: "success",
                contents: o.createElement(
                  d.SV,
                  null,
                  o.createElement(tn, { editModel: t }),
                  o.createElement(Dn, null),
                ),
                onClick: n,
              },
              {
                name: "Point Shop",
                key: "pointshop",
                status: "",
                statusType: "success",
                contents: o.createElement(
                  d.SV,
                  null,
                  o.createElement(hi, { editModel: t }),
                ),
                onClick: n,
              },
            ];
          return (
            t.BHasSpecialEventType() &&
              c.push({
                name: "Special Events",
                key: "events",
                status: "",
                statusType: "success",
                contents: o.createElement(
                  d.SV,
                  null,
                  o.createElement(ti, null),
                ),
                onClick: n,
              }),
            c.push({
              name: "Debug",
              key: "debug",
              status: "",
              statusType: "success",
              contents: o.createElement(d.SV, null, o.createElement(Ie, null)),
              onClick: n,
            }),
            o.createElement(
              d.SV,
              null,
              o.createElement(
                "div",
                null,
                o.createElement(Ai, null),
                o.createElement(
                  "div",
                  { className: ue().EditorInputPaneContents },
                  r.v.Get().BHasUnpublishedChagnes(l.On.Get().GetFullName()) &&
                    o.createElement(
                      "div",
                      {
                        className: (0, S.Z)(A.WarningStylesBackground, A.Stuck),
                      },
                      "This Opt-In has unpublished changes",
                    ),
                  o.createElement(v.n, { tabs: c }),
                  o.createElement("div", { className: _().ClearThings }),
                ),
                o.createElement(wi, null),
              ),
            )
          );
        }),
        Ai = (0, $.Pi)((e) =>
          o.createElement(
            "div",
            { className: (0, S.Z)(ue().TopBarContainer) },
            o.createElement(
              m.zx,
              { className: ue().BasicButtonSize },
              o.createElement(
                s.rU,
                { to: Dr.OptinAdminDashboard() },
                "Dashboard",
              ),
            ),
            o.createElement(wa, null),
            o.createElement(Ta, null),
            o.createElement(ee.Pi, null),
          ),
        ),
        wi = (0, $.Pi)((e) => {
          const t = l.On.Get();
          return o.createElement(
            "div",
            {
              className: (0, S.Z)(
                ue().FlexRowWrapFlexStartContainer,
                ue().BottomBar,
              ),
            },
            o.createElement(
              m.KM,
              {
                className: ue().BasicButtonSize,
                onClick: (e) =>
                  (0, g.AM)(o.createElement(Pi, null), (0, D.RA)(e)),
              },
              t.BIsDirty() ? "Save" : "Saved",
            ),
            o.createElement(
              m.zx,
              { className: ue().BasicButtonSize, onClick: fe },
              "Re-order Dynamic Sections",
            ),
          );
        }),
        Pi = (e) => {
          const { closeModal: t } = e,
            [n, a] = o.useState(!0),
            [i, r] = o.useState(new Array());
          return (
            (0, o.useEffect)(() => {
              const e = l.On.Get(),
                t = k().CancelToken.source();
              return (
                e
                  .Save(t.token)
                  .then((e) => {
                    if (e) {
                      const t = new Array();
                      t.push(e), r(t);
                    }
                  })
                  .finally(() => {
                    e.RefreshActiveStats(), a(!1);
                  }),
                () => t.cancel("OptInEditorSaveDialog unmounting")
              );
            }, []),
            o.createElement(
              P.RG,
              { bAllowFullSize: !0, onCancel: t, closeModal: t },
              o.createElement(m.h4, null, "Saving Opt-In Data"),
              o.createElement(
                m.uT,
                null,
                o.createElement(
                  "div",
                  null,
                  "We are saving the Opt-In Data, please be patient.\t",
                ),
                Boolean(i.length > 0) &&
                  o.createElement(
                    "div",
                    { className: A.ErrorStylesBackground },
                    i.map((e) =>
                      o.createElement("span", { key: "" + e.length }, e),
                    ),
                  ),
                n &&
                  o.createElement(T.V, {
                    size: "medium",
                    position: "center",
                    string: (0, G.Xx)("#Saving"),
                  }),
                Boolean(!n && 0 == i.length) &&
                  o.createElement("div", null, "Save Successful."),
              ),
              o.createElement(
                m.$_,
                null,
                o.createElement(
                  m.KM,
                  { onClick: t, disabled: n },
                  (0, G.Xx)("#Button_Close"),
                ),
              ),
            )
          );
        };
      function Ti(e) {
        const { appid: t } = e,
          [n, a] = o.useState(!0);
        o.useEffect(() => {
          const e = r.v
            .Get()
            .GetActiveOptIn()
            .map((e) => ze.qh.Get().LoadOptInRegistration(e.pageid, t));
          Promise.all(e).finally(() => a(!1));
        }, [t]);
        const [i] = (0, Qe.vs)(t, {
          include_assets: !0,
          include_basic_info: !0,
        });
        return o.createElement(
          d.SV,
          null,
          o.createElement(
            "div",
            { className: we().AdminPageCtn },
            o.createElement(
              "div",
              { className: we().PageTitle },
              "Opt-In Game Support Page: ",
              i ? i.GetName() : "Unknown",
              " (",
              t,
              ")",
              o.createElement(
                "span",
                { className: we().ValveOnlyTitle },
                "Valve Only Page",
              ),
            ),
            o.createElement("hr", null),
            o.createElement(
              "p",
              null,
              "Valve-only - go to the event registration page for this game within any upcoming or active events.",
            ),
            o.createElement(
              "p",
              null,
              "Allows you to invite the game even if otherwise not eligible.",
            ),
            o.createElement(
              "div",
              null,
              o.createElement(
                "ol",
                null,
                r.v
                  .Get()
                  .GetActiveOptIn()
                  .map((e) => {
                    if (!e.sale_optin_enabled) return null;
                    const n = ze.qh.Get().GetRegistration(t, e.pageid);
                    return o.createElement(
                      "li",
                      { key: e.pageid },
                      o.createElement(
                        "a",
                        {
                          href:
                            f.De.PARTNER_BASE_URL +
                            "optin/sale/" +
                            e.pageid +
                            "/" +
                            t,
                        },
                        e.event_title.english,
                        " ",
                        (null == n ? void 0 : n.opt_in) ? " - OptIn" : "",
                      ),
                    );
                  }),
              ),
            ),
            n &&
              o.createElement(T.V, {
                size: "medium",
                position: "center",
                string: (0, G.Xx)("#Loading"),
              }),
          ),
        );
      }
      class Ni {
        static Get() {
          return (
            Ni.s_OptInRegs ||
              ((Ni.s_OptInRegs = new Ni()),
              (window.COptInRegstationEditStore = Ni.s_OptInRegs)),
            Ni.s_OptInRegs
          );
        }
        constructor() {
          (this.m_registration = void 0), (this.m_bDirty = !1), (0, O.rC)(this);
        }
        BHasAdditionalFeaturing() {
          return this.m_registration.additional_featuring;
        }
        BHasCheckedTrailerUsage() {
          return this.m_registration.jsondata.trailer_permission;
        }
        SetCheckedTrailerUsage(e) {
          (this.m_registration.jsondata.trailer_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_trailer =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  f.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_trailer = void 0),
                (this.m_registration.jsondata.accountid_granting_trailer =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedDemoUsage() {
          return this.m_registration.jsondata.demo_permission;
        }
        SetCheckedDemorUsage(e) {
          (this.m_registration.jsondata.demo_permission = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_demo = Math.floor(
                  new Date().getTime() / 1e3,
                )),
                (this.m_registration.jsondata.accountid_granting_demo =
                  f.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_demo = void 0),
                (this.m_registration.jsondata.accountid_granting_demo =
                  void 0)),
            this.SetDirty(!0);
        }
        BHasCheckedNoPlannedDiscounts() {
          return this.m_registration.no_planned_discount;
        }
        SetCheckedNoPlannedDiscounts(e) {
          this.m_registration.no_planned_discount != e &&
            ((this.m_registration.no_planned_discount = e), this.SetDirty(!0));
        }
        BHasGameProfileIntent() {
          return this.m_registration.jsondata.game_profile_intent;
        }
        SetGameProfileIntent(e) {
          (this.m_registration.jsondata.game_profile_intent = e),
            e
              ? ((this.m_registration.jsondata.rtime_granting_profile =
                  Math.floor(new Date().getTime() / 1e3)),
                (this.m_registration.jsondata.accountid_granting_profile =
                  f.L7.accountid))
              : ((this.m_registration.jsondata.rtime_granting_profile = void 0),
                (this.m_registration.jsondata.accountid_granting_profile =
                  void 0)),
            this.SetDirty(!0);
        }
        GetModel() {
          return this.m_registration;
        }
        GetFirstSelectedItem(e, t) {
          let n = this.GetSelectedItems(e, t);
          return n && n.length > 0 && null != n[0] ? n[0] : null;
        }
        GetSelectedItems(e, t) {
          if (
            this.m_registration &&
            this.m_registration.jsondata &&
            this.m_registration.jsondata.dynamic_selection
          ) {
            let n = this.m_registration.jsondata.dynamic_selection.findIndex(
              (t) => t.section_id == e,
            );
            if (
              -1 !== n &&
              this.m_registration.jsondata.dynamic_selection[n]
                .list_selection &&
              this.m_registration.jsondata.dynamic_selection[n].list_selection
                .findIndex
            ) {
              let e = this.m_registration.jsondata.dynamic_selection[
                n
              ].list_selection.findIndex((e) => e.list_id == t);
              if (-1 !== e) {
                let t =
                  this.m_registration.jsondata.dynamic_selection[n]
                    .list_selection[e].selected_item_id;
                if (t && t.length > 0 && null != t[0]) return t;
              }
            }
          } else
            console.log(
              "COptInRegstationEditStore: failed to find selected values for:",
              e,
              t,
            );
          return [];
        }
        Reset(e) {
          (this.m_registration = JSON.parse(JSON.stringify(e))),
            (this.m_registration.jsondata &&
              "" !== this.m_registration.jsondata) ||
              (this.m_registration.jsondata = {}),
            "string" == typeof this.m_registration.jsondata &&
              (this.m_registration.jsondata = JSON.parse(
                this.m_registration.jsondata,
              )),
            (this.m_bDirty = !1);
        }
        SetDirty(e) {
          this.m_bDirty != e && (this.m_bDirty = e);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
      }
      (0, I.gn)([O.LO], Ni.prototype, "m_registration", void 0),
        (0, I.gn)([O.LO], Ni.prototype, "m_bDirty", void 0),
        (0, I.gn)([O.aD.bound], Ni.prototype, "SetCheckedTrailerUsage", null),
        (0, I.gn)([O.aD.bound], Ni.prototype, "SetCheckedDemorUsage", null),
        (0, I.gn)(
          [O.aD.bound],
          Ni.prototype,
          "SetCheckedNoPlannedDiscounts",
          null,
        ),
        (0, I.gn)([O.aD.bound], Ni.prototype, "SetGameProfileIntent", null);
      var Ri = n(93803),
        Gi = n(45651),
        Li = n(60749);
      const Bi = (0, $.Pi)((e) =>
          e.sections && 0 != e.sections.length
            ? o.createElement(
                "div",
                null,
                o.createElement(
                  d.SV,
                  null,
                  e.sections.map((e, t) =>
                    !e.valve_only || f.L7.is_support
                      ? o.createElement(xi, {
                          key: e.unique_id,
                          section: e,
                          sectionIndex: t,
                        })
                      : null,
                  ),
                ),
              )
            : null,
        ),
        xi = (0, $.Pi)((e) => {
          const { section: t, sectionIndex: n } = e,
            a = (0, ne.jM)(f.De.LANGUAGE),
            i = (0, te.Xj)(
              t.name,
              a,
              (0, G.Xx)("#OptIn_Registration_Title", n),
            ),
            l = (0, te.Xj)(t.description, a, ""),
            r = t.valve_only;
          return o.createElement(
            "div",
            {
              id: e.section.unique_id,
              className: (0, S.Z)({
                [Li.DynamicSection]: !0,
                [_().ValveOnlyBackground]: r,
              }),
            },
            o.createElement("h3", null, r && "(VO) ", i),
            o.createElement("div", null, o.createElement(Ri.d, { text: l })),
            o.createElement(Mi, { section: t, sectionIndex: n }),
          );
        }),
        Mi = (0, $.Pi)((e) => {
          const { section: t, sectionIndex: n } = e;
          if ("text_input" === t.input_style)
            return o.createElement(
              Oi,
              Object.assign({}, e, { list: t.lists[0], listIndex: 0 }),
            );
          {
            const n = Boolean(
              "radio" == t.input_style || "checkbox" == t.input_style,
            );
            return o.createElement(
              "div",
              { className: n ? Li.ListContainer : void 0 },
              t.lists.map((t, a) =>
                n
                  ? o.createElement(
                      Fi,
                      Object.assign({ key: t.unique_id }, e, {
                        list: t,
                        listIndex: a,
                      }),
                    )
                  : o.createElement(
                      Ui,
                      Object.assign({ key: t.unique_id }, e, {
                        list: t,
                        listIndex: a,
                      }),
                    ),
              ),
            );
          }
        }),
        Oi = (0, $.Pi)((e) => {
          const { section: t, list: n, listIndex: a } = e,
            i = Ni.Get().GetSelectedItems(t.unique_id, n.unique_id),
            [l, r] = (0, o.useState)(
              (null == i ? void 0 : i.length) > 0 ? i[0] : "",
            );
          return (
            (0, Ge.X)(0 == a, "expected list index to be zero"),
            o.createElement(
              "div",
              null,
              o.createElement("textarea", {
                className: Li.TextArea,
                value: l,
                onChange: (e) => r(e.currentTarget.value || ""),
              }),
              o.createElement(
                Hi,
                Object.assign({}, e, {
                  list: n,
                  listIndex: a,
                  item_unique_ids: [l],
                }),
              ),
            )
          );
        }),
        Fi = (0, $.Pi)((e) => {
          const { section: t, list: n } = e,
            [a, i] = (0, o.useState)(
              Ni.Get().GetSelectedItems(t.unique_id, n.unique_id),
            ),
            l = (0, ne.jM)(f.De.LANGUAGE),
            r = (0, te.Xj)(n.option_title, l),
            s = new Array(),
            c = Gi.Lh(t.columns, 1, 3);
          for (let e = 0; e < c; ++e)
            s.push(
              o.createElement(
                "div",
                { key: "column" + e, className: Li.Column },
                n.options
                  .filter((t, n) => n % c == e)
                  .map((e) => {
                    const n = (0, te.Xj)(e.text, l),
                      r = (0, te.Xj)(e.tooltip, l, void 0);
                    return "radio" == t.input_style
                      ? o.createElement(
                          m.EU,
                          { key: e.unique_id, value: e.unique_id },
                          o.createElement(
                            se.HP,
                            { toolTipContent: r, bDisabled: !r },
                            n,
                            " ",
                            Boolean(r) && "(?)",
                          ),
                        )
                      : o.createElement(m.ji, {
                          key: e.unique_id,
                          label: n,
                          tooltip: r,
                          checked: -1 !== a.findIndex((t) => t == e.unique_id),
                          onChange: (t) => {
                            let n = a.findIndex((t) => t == e.unique_id);
                            if (t && -1 == n) {
                              let t = JSON.parse(JSON.stringify(a));
                              t.push(e.unique_id), i(t);
                            } else if (!t && -1 != n) {
                              let e = JSON.parse(JSON.stringify(a));
                              e.splice(n, 1), i(e);
                            }
                          },
                        });
                  }),
              ),
            );
          return o.createElement(
            "div",
            null,
            Boolean(r) &&
              o.createElement("div", { className: Li.ListTitle }, r),
            o.createElement(
              m.SY,
              { value: a.length > 0 ? a[0] : null, onChange: (e) => i([e]) },
              s,
            ),
            o.createElement(Hi, Object.assign({}, e, { item_unique_ids: a })),
          );
        }),
        Ui = (0, $.Pi)((e) => {
          const { section: t, list: n } = e,
            [a, i] = (0, o.useState)(
              Ni.Get().GetSelectedItems(t.unique_id, n.unique_id),
            ),
            l = (0, ne.jM)(f.De.LANGUAGE),
            r = (0, te.Xj)(n.option_title, l),
            s = [],
            c = n.options.map((e) => {
              const t = (0, te.Xj)(e.text, l);
              let n = { value: e.unique_id, label: t };
              return -1 != a.findIndex((t) => t == e.unique_id) && s.push(n), n;
            });
          return o.createElement(
            "div",
            { className: Li.SelectContianer },
            Boolean(r) &&
              o.createElement("div", { className: Li.ListTitle }, r),
            o.createElement(ke.ZP, {
              name: "searchField",
              backspaceRemovesValue: !0,
              isSearchable: !0,
              isMulti: Boolean("multi_select" == t.input_style),
              defaultMenuIsOpen: !1,
              isClearable: !0,
              placeholder: Boolean("multi_select" == t.input_style)
                ? (0, G.Xx)("#OptIn_Registration_Select_Placeholder_Plural")
                : (0, G.Xx)("#OptIn_Registration_Select_Placeholder"),
              value: s,
              options: c,
              getOptionLabel: (e) => e.label,
              getOptionValue: (e) => e.value,
              onChange: (e, { action: t }) => {
                i(e ? e.map((e) => e.value) : []);
              },
            }),
            o.createElement(Hi, Object.assign({}, e, { item_unique_ids: a })),
          );
        }),
        Hi = (0, $.Pi)((e) => {
          const {
            section: t,
            list: n,
            sectionIndex: a,
            listIndex: i,
            item_unique_ids: l,
          } = e;
          return !l || 0 == l.length || (1 == l.length && null == l[0])
            ? o.createElement(
                o.Fragment,
                null,
                o.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][section_id]`,
                  value: t.unique_id,
                }),
                o.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][list_selection][${i}][list_id]`,
                  value: n.unique_id,
                }),
              )
            : o.createElement(
                o.Fragment,
                null,
                o.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][section_id]`,
                  value: t.unique_id,
                }),
                o.createElement("input", {
                  type: "hidden",
                  name: `dynamic_selection[${a}][list_selection][${i}][list_id]`,
                  value: n.unique_id,
                }),
                Boolean(l) &&
                  l.map((e, t) =>
                    o.createElement("input", {
                      key: "selected_" + e,
                      type: "hidden",
                      name: `dynamic_selection[${a}][list_selection][${i}][selected_item_id][${t}]`,
                      value: e,
                    }),
                  ),
              );
        });
      var Vi = n(81913),
        Xi = n(92936);
      const ji = (0, $.Pi)((e) => {
        if (!e.eventdata) return null;
        const { appid: t, eventdata: n } = e,
          a = (0, G.Xx)("#OptIn_GameListing_Title");
        let i = (function (e, t) {
          var n, a, i;
          const l = t.jsondata,
            r = Number.parseInt(e),
            s = (0, ne.jM)(f.De.LANGUAGE),
            c = [];
          let m = null,
            d = [];
          for (const e of l.sale_sections)
            if (
              "tabs" === e.section_type &&
              (null === (n = e.tabs) || void 0 === n ? void 0 : n.length)
            ) {
              m = [];
              for (const t of e.tabs)
                m.push({ id: t.unique_id, label: (0, Xi.YK)(t, s) }),
                  ((null === (a = t.capsules) || void 0 === a
                    ? void 0
                    : a.length) &&
                    !t.capsules.some((e) => e.id === r)) ||
                    d.push(t.unique_id);
            }
          let u = !1;
          for (const e of l.sale_sections)
            if ("tabs" === e.section_type && e.tabs) u = !0;
            else if ("items" === e.section_type && e.capsules) {
              let n = e.capsules.some((e) => e.id === r);
              if (
                (e.smart_section && e.enable_faceted_browsing && (n = !0), !n)
              )
                continue;
              const a = (0, Xi._U)(e, t, s, 0, 0, !0);
              if (null === m)
                c.push(o.createElement(qi, { key: a, section: a, tab: "" }));
              else {
                let t = (
                  null === (i = e.show_on_tabs) || void 0 === i
                    ? void 0
                    : i.length
                )
                  ? e.show_on_tabs
                  : m.map((e) => e.id);
                u &&
                  !e.diable_tab_id_filtering &&
                  (t = t.filter((e) => d.includes(e)));
                for (const e of t) {
                  const t = m.find((t) => t.id === e);
                  t &&
                    c.push(
                      o.createElement(qi, {
                        key: a + e,
                        section: a,
                        tab: t.label,
                      }),
                    );
                }
              }
            }
          return c;
        })(t, n);
        return i.length > 0
          ? o.createElement(
              d.SV,
              null,
              o.createElement(
                "h1",
                null,
                (0, G.Xx)("#OptIn_OptInOut_CategorizationTitle"),
              ),
              o.createElement(
                "div",
                { className: (0, S.Z)(Li.DynamicSection, Li.Categorization) },
                o.createElement("h3", null, a),
                (0, G.Xx)("#OptIn_GameListing_Detail"),
                o.createElement(
                  "div",
                  {
                    className: (0, S.Z)(Li.DynamicSection, Li.VisibilityTable),
                  },
                  o.createElement(
                    "div",
                    { className: "landingTable blueish" },
                    o.createElement(
                      "div",
                      { className: "tr heading" },
                      o.createElement("div", { className: "th" }, "Tab"),
                      o.createElement("div", { className: "th" }, "Section"),
                    ),
                    i,
                  ),
                ),
                o.createElement(
                  "div",
                  { className: Li.DynamicSection },
                  o.createElement(
                    Vi.JW,
                    {
                      eventModel: e.eventdata,
                      route: Vi.Ue.k_eStoreSalePage,
                      className: (0, S.Z)(p.Button, p.Primary),
                    },
                    (0, G.Xx)("#Sale_Link_PreviewEvent"),
                  ),
                ),
              ),
            )
          : o.createElement(
              d.SV,
              null,
              o.createElement(
                "div",
                { className: Li.DynamicSection },
                o.createElement("h3", null, a),
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_GameListing_Detail_Empty"),
                ),
              ),
            );
      });
      const qi = (e) =>
        o.createElement(
          d.SV,
          null,
          o.createElement(
            "div",
            { className: (0, S.Z)("tr", "highlightHover") },
            o.createElement("a", { className: "td" }, e.tab),
            o.createElement("a", { className: "td" }, e.section),
          ),
        );
      var Wi = n(44174);
      function zi(e) {
        const { optInDefinition: t, appid: n } = e,
          a = (0, f.ip)("optin_preview_mode", "application_config") || !1;
        return (Ni.Get().BHasAdditionalFeaturing() || a) &&
          t.additional_featuring_section_enabled &&
          (t.collect_trailer_permissions ||
            t.collect_demo_permissions ||
            t.collect_game_profile_intent)
          ? o.createElement(
              "div",
              null,
              Boolean(a) &&
                o.createElement(
                  "div",
                  { className: A.WarningStylesBackground },
                  "NOTE: Visibility, Demo, and Trailer use permissions sections below will only appear publicly for apps marked with featuring.",
                ),
              o.createElement(Zi, { optInDefinition: t, appid: n }),
            )
          : null;
      }
      function Zi(e) {
        const { optInDefinition: t, appid: n } = e,
          [a] = (0, u.Ar)("focusmedia", !1);
        return (
          (0, o.useEffect)(() => {
            a &&
              (0, g.AM)(
                o.createElement(Ki, { optInDefinition: t, appid: n }),
                window,
              );
          }, [a, t, n]),
          o.createElement(
            Qi,
            Object.assign({}, e, { bShowVisibilityDetails: !0 }),
          )
        );
      }
      function Ki(e) {
        const { optInDefinition: t, appid: n, closeModal: a } = e,
          i = (0, He.tx)();
        return i.bLoading
          ? o.createElement(He.NT, {
              state: i,
              strDialogTitle: (0, G.Xx)("#OptIn_Collect_Dialog_Title"),
              strThrobber: (0, G.Xx)("#Saving"),
              closeModal: a,
            })
          : o.createElement(
              P.uH,
              {
                strTitle: (0, G.Xx)("#OptIn_Collect_Dialog_Title"),
                strDescription: (0, G.Xx)("#OptIn_Collect_Dialog_Desc"),
                onOK: () => {
                  i.fnSetLoading(!0),
                    ze.qh
                      .Get()
                      .UpdateOptInRegistrationJson(
                        n,
                        Ni.Get().GetModel().jsondata,
                      )
                      .then((e) => {
                        e
                          ? (i.fnSetError(!0), i.fnSetStrError(e))
                          : i.fnSetSuccess(!0);
                      })
                      .catch((e) => i.fnSetError(!0));
                },
                onCancel: a,
              },
              o.createElement(Qi, {
                optInDefinition: t,
                appid: n,
                bShowVisibilityDetails: !1,
              }),
            );
      }
      function Qi(e) {
        const { optInDefinition: t, appid: n, bShowVisibilityDetails: a } = e;
        return o.createElement(
          o.Fragment,
          null,
          Boolean(a) &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "div",
                { className: "sub_category" },
                o.createElement(
                  "h3",
                  null,
                  (0, G.Xx)("#OptIn_Collect_Dialog_Title"),
                ),
              ),
              o.createElement(
                "p",
                null,
                (0, G.Xx)("#OptIn_Collect_Dialog_Desc"),
              ),
            ),
          Boolean(t.collect_trailer_permissions) &&
            o.createElement(Yi, { optInDefinition: t }),
          Boolean(t.collect_demo_permissions) &&
            o.createElement(Ji, { optInDefinition: t }),
          Boolean(t.collect_game_profile_intent) &&
            o.createElement($i, { optInDefinition: t, appid: n }),
        );
      }
      function Yi(e) {
        var t;
        const { optInDefinition: n } = e,
          a = n.event_title[f.De.LANGUAGE] || n.event_title.english,
          i = n.do_anytime.enter_discounts,
          l = null === (t = n.launch_demo) || void 0 === t ? void 0 : t.enabled,
          [r, s, c] = (0, Ce.SZ)(() => [
            Ni.Get().GetModel().jsondata.trailer_permission,
            Ni.Get().GetModel().jsondata.rtime_granting_trailer,
            Ni.Get().GetModel().jsondata.accountid_granting_trailer,
          ]);
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            { className: "sub_category" },
            o.createElement(
              "h3",
              null,
              (0, G.Xx)("#OptIn_Collect_Trailer"),
              " ",
              o.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(n.collect_demo_deadline)
                  ? o.createElement(
                      o.Fragment,
                      null,
                      "(",
                      (0, G.Xx)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, G.vX)(n.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : o.createElement(
                      o.Fragment,
                      null,
                      "(",
                      (0, G.Xx)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          o.createElement(
            "p",
            null,
            (0, G.Xx)("#OptIn_Collect_Trailer_check", a),
          ),
          o.createElement(
            "p",
            null,
            (0, G.Xx)("#OptIn_Collect_Permission_DocReminder"),
          ),
          o.createElement(
            "ul",
            null,
            Boolean(i && n.collect_demo_deadline) &&
              o.createElement(
                "li",
                null,
                (0, G.Xx)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, G.vX)(n.collect_demo_deadline),
                ),
              ),
            Boolean(l && n.collect_demo_deadline) &&
              o.createElement(
                "li",
                null,
                (0, G.Xx)(
                  "#OptIn_Collect_Trailer_deadline_1",
                  (0, G.vX)(n.collect_demo_deadline),
                ),
              ),
          ),
          o.createElement(
            "div",
            null,
            o.createElement("input", {
              type: "radio",
              id: "GatherTrailerPermission",
              onChange: () => Ni.Get().SetCheckedTrailerUsage(!0),
              checked: Boolean(r && s),
              value: "1",
              name: "trailer_permission",
            }),
            o.createElement(
              "label",
              { htmlFor: "GatherTrailerPermission" },
              (0, G.Xx)("#OptIn_Collect_Trailer_check_label"),
            ),
          ),
          o.createElement(
            "div",
            null,
            o.createElement("input", {
              type: "radio",
              id: "GatherTrailerNoPermission",
              onChange: () => Ni.Get().SetCheckedTrailerUsage(!1),
              checked: Boolean(!r && !s),
              value: "0",
              name: "trailer_permission",
            }),
            o.createElement(
              "label",
              { htmlFor: "GatherTrailerNoPermission" },
              (0, G.Xx)("#OptIn_Collect_Trailer_nocheck_label"),
            ),
          ),
          Boolean(s) &&
            o.createElement("input", {
              type: "hidden",
              value: s,
              name: "rtime_granting_trailer",
            }),
          Boolean(c) &&
            o.createElement("input", {
              type: "hidden",
              value: c,
              name: "accountid_granting_trailer",
            }),
          o.createElement("br", null),
          o.createElement("br", null),
        );
      }
      function Ji(e) {
        const { optInDefinition: t } = e,
          n = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          a = t.do_anytime.enter_discounts,
          [i, l, r] = (0, Ce.SZ)(() => [
            Ni.Get().GetModel().jsondata.demo_permission,
            Ni.Get().GetModel().jsondata.rtime_granting_demo,
            Ni.Get().GetModel().jsondata.accountid_granting_demo,
          ]);
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            { className: "sub_category" },
            o.createElement(
              "h3",
              null,
              (0, G.Xx)("#OptIn_Collect_Demo"),
              " ",
              o.createElement(
                "span",
                { className: "required_optional1" },
                Boolean(t.collect_demo_deadline)
                  ? o.createElement(
                      o.Fragment,
                      null,
                      "(",
                      (0, G.Xx)(
                        "#OptIn_Collect_SuggestedBy",
                        (0, G.vX)(t.collect_demo_deadline),
                      ),
                      ")",
                    )
                  : o.createElement(
                      o.Fragment,
                      null,
                      "(",
                      (0, G.Xx)("#OptIn_Collect_Optional"),
                      ")",
                    ),
              ),
            ),
          ),
          o.createElement("p", null, (0, G.Xx)("#OptIn_Collect_Demo_check", n)),
          o.createElement(
            "p",
            null,
            (0, G.Xx)("#OptIn_Collect_Permission_DocReminder"),
          ),
          o.createElement(
            "ul",
            null,
            Boolean(a && t.collect_demo_deadline) &&
              o.createElement(
                "li",
                null,
                (0, G.Xx)(
                  "#OptIn_Collect_Trailer_check_req_discount",
                  (0, G.vX)(t.collect_demo_deadline),
                ),
              ),
            Boolean(t.collect_demo_deadline) &&
              o.createElement(
                "li",
                null,
                (0, G.Xx)(
                  "#OptIn_Collect_Demo_deadline_1",
                  (0, G.vX)(t.collect_demo_deadline),
                ),
              ),
          ),
          o.createElement(
            "div",
            null,
            o.createElement("input", {
              type: "radio",
              id: "GatherDemoPermission",
              onChange: () => Ni.Get().SetCheckedDemorUsage(!0),
              checked: Boolean(i && l),
              value: "1",
              name: "demo_permission",
            }),
            o.createElement(
              "label",
              { htmlFor: "GatherDemoPermission" },
              (0, G.Xx)("#OptIn_Collect_Demo_check_label"),
            ),
          ),
          o.createElement(
            "div",
            null,
            o.createElement("input", {
              type: "radio",
              id: "GatherNoDemoPermission",
              onChange: () => Ni.Get().SetCheckedDemorUsage(!1),
              checked: Boolean(!i && !l),
              value: "0",
              name: "demo_permission",
            }),
            o.createElement(
              "label",
              { htmlFor: "GatherNoDemoPermission" },
              (0, G.Xx)("#OptIn_Collect_Demo_nocheck_label"),
            ),
          ),
          Boolean(l) &&
            o.createElement("input", {
              type: "hidden",
              value: l,
              name: "rtime_granting_demo",
            }),
          Boolean(r) &&
            o.createElement("input", {
              type: "hidden",
              value: r,
              name: "accountid_granting_demo",
            }),
          o.createElement("br", null),
          o.createElement("br", null),
        );
      }
      function $i(e) {
        const { optInDefinition: t, appid: n } = e,
          a = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          l = t.pageid,
          [r, s, c] = (0, Ce.SZ)(() => [
            Ni.Get().BHasGameProfileIntent(),
            Ni.Get().GetModel().jsondata.accountid_granting_profile,
            Ni.Get().GetModel().jsondata.rtime_granting_profile,
          ]);
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            { className: "sub_category" },
            o.createElement(
              "h3",
              null,
              (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent"),
              " ",
              o.createElement(
                "span",
                { className: "required_optional1" },
                "(",
                (0, G.Xx)("#OptIn_Collect_Optional"),
                ")",
              ),
            ),
          ),
          o.createElement(
            "p",
            null,
            (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_main", a),
            "  ",
            Boolean(i) &&
              o.createElement(
                "span",
                null,
                (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_requirediscount"),
              ),
          ),
          o.createElement(
            "p",
            null,
            (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_detail_1", a),
          ),
          o.createElement(
            "p",
            null,
            (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_detail_2", a),
          ),
          o.createElement(
            "ul",
            null,
            o.createElement(
              "li",
              null,
              (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_requirement"),
            ),
            o.createElement(
              "ul",
              null,
              o.createElement(
                "li",
                null,
                (0, G.Xx)(
                  "#OptIn_Collect_Game_Profile_Intent_requirement_1",
                  a,
                ),
              ),
              Boolean(i) &&
                o.createElement(
                  "li",
                  null,
                  (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_requirement_2"),
                ),
            ),
          ),
          o.createElement(
            "ul",
            null,
            o.createElement(
              "li",
              null,
              (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset"),
            ),
            o.createElement(
              "ul",
              null,
              o.createElement(
                "li",
                null,
                (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_1"),
              ),
              o.createElement(
                "ul",
                null,
                o.createElement(
                  "li",
                  null,
                  (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_1b", l),
                ),
              ),
              o.createElement(
                "li",
                null,
                (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_2"),
              ),
              o.createElement(
                "li",
                null,
                (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_3"),
              ),
              o.createElement(
                "li",
                null,
                (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_4"),
              ),
              o.createElement(
                "li",
                null,
                (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_asset_5"),
              ),
            ),
          ),
          o.createElement(
            "p",
            null,
            (0, G.yu)(
              "#OptIn_Collect_Game_Profile_Intent_learnmore",
              o.createElement("a", {
                href: "https://partner.steamgames.com/doc/marketing/pointsshopitems#gameprofile",
                target: "_blank",
              }),
            ),
            o.createElement(
              "span",
              null,
              (0, G.yu)(
                "#OptIn_Collect_Game_Profile_Intent_goto",
                o.createElement("a", {
                  href: `${f.De.PARTNER_BASE_URL}apps/communityitems/${n}`,
                  target: "_blank",
                }),
              ),
            ),
          ),
          o.createElement(
            "div",
            null,
            o.createElement("input", {
              type: "radio",
              id: "GatherGameProfileIntent",
              onChange: () => Ni.Get().SetGameProfileIntent(!0),
              checked: Boolean(r && s),
              value: "1",
              name: "game_profile_intent",
            }),
            o.createElement(
              "label",
              { htmlFor: "GatherGameProfileIntent" },
              (0, G.Xx)("#OptIn_Collect_Game_Profile_Intent_label"),
            ),
          ),
          o.createElement(
            "div",
            null,
            o.createElement("input", {
              type: "radio",
              id: "GatherGameProfileNoIntent",
              onChange: () => Ni.Get().SetGameProfileIntent(!1),
              checked: Boolean(!r && !s),
              value: "0",
              name: "game_profile_intent",
            }),
            o.createElement(
              "label",
              { htmlFor: "GatherGameProfileNoIntent" },
              (0, G.Xx)("#OptIn_Collect_Game_Profile_NoIntent_label"),
            ),
          ),
          Boolean(s) &&
            o.createElement("input", {
              type: "hidden",
              value: s,
              name: "accountid_granting_profile",
            }),
          Boolean(c) &&
            o.createElement("input", {
              type: "hidden",
              value: c,
              name: "rtime_granting_profile",
            }),
          o.createElement("br", null),
          o.createElement("br", null),
        );
      }
      function el(e) {
        const { optInDefinition: t } = e,
          n = Ni.Get(),
          a = t.event_title[f.De.LANGUAGE] || t.event_title.english,
          i = t.do_anytime.enter_discounts,
          [l, r] = (0, Ce.SZ)(() => [
            n.BHasCheckedNoPlannedDiscounts(),
            n.GetModel().appid,
          ]),
          [s] = (0, Qe.vs)(r, { include_release: !0 });
        return !i ||
          (null == s ? void 0 : s.BIsComingSoon()) ||
          (null == s ? void 0 : s.BIsFree())
          ? null
          : s
            ? o.createElement(
                "div",
                { className: "sub_category" },
                o.createElement(
                  "h3",
                  null,
                  (0, G.Xx)("#OptIn_Discount_Intent"),
                ),
                o.createElement(
                  se.HP,
                  {
                    className: (0, S.Z)(_().HelperTooltip, "HelperTooltip"),
                    toolTipContent: (0, G.Xx)(
                      "#OptIn_Discount_Intent_Desc_ttip",
                    ),
                  },
                  o.createElement(
                    "div",
                    null,
                    (0, G.Xx)("#OptIn_Discount_Intent_Desc"),
                  ),
                  o.createElement(oe.WWB, null),
                ),
                o.createElement(
                  "div",
                  {
                    className: (0, S.Z)(_().FlexRowContainer, _().RadioOption),
                  },
                  o.createElement("input", {
                    type: "radio",
                    name: "no_planned_discount",
                    id: "DiscountOptions_Yes",
                    value: "0",
                    checked: !l,
                    onChange: () => n.SetCheckedNoPlannedDiscounts(!1),
                  }),
                  o.createElement(
                    "label",
                    { htmlFor: "DiscountOptions_Yes" },
                    o.createElement(
                      "span",
                      null,
                      (0, G.Xx)(
                        "#OptIn_Discount_Intent_Desc_radio_yes",
                        s.GetName(),
                        a,
                      ),
                    ),
                  ),
                ),
                o.createElement(
                  "div",
                  {
                    className: (0, S.Z)(_().FlexRowContainer, _().RadioOption),
                  },
                  o.createElement("input", {
                    type: "radio",
                    name: "no_planned_discount",
                    id: "DiscountOptions_No",
                    value: "1",
                    checked: l,
                    onChange: () => n.SetCheckedNoPlannedDiscounts(!0),
                  }),
                  o.createElement(
                    "label",
                    { htmlFor: "DiscountOptions_No" },
                    o.createElement(
                      "span",
                      null,
                      (0, G.Xx)(
                        "#OptIn_Discount_Intent_Desc_radio_no",
                        s.GetName(),
                        a,
                      ),
                    ),
                  ),
                ),
              )
            : o.createElement(T.V, { size: "small", position: "center" });
      }
      const tl = (e) => {
          let { pageid: t, appid: n } = e;
          t.startsWith("sale_sale_") && (t = t.substring(5));
          const a = r.v.Get().GetDefinition(t),
            [i, l] = (0, o.useState)(!1),
            [s, c] = (0, o.useState)(null);
          if (
            ((0, o.useEffect)(() => {
              l(!1);
              const e = ze.qh
                .Get()
                .CreateOrGetRegistration(Number.parseInt(n), t);
              Ni.Get().Reset(e),
                (0, I.mG)(void 0, void 0, void 0, function* () {
                  if (a.public_event_id && a.public_event_clan_id)
                    try {
                      const e = Ze.K.InitFromClanID(
                          Number.parseInt(a.public_event_clan_id),
                        ),
                        t =
                          yield Wi.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                            e,
                            a.public_event_id,
                            0,
                          );
                      c(t);
                    } catch (e) {
                      const t = (0, N.l)(e);
                      console.error(
                        "LoadPartnerEvent : failed with " + t.strErrorMsg,
                        t,
                      );
                    }
                  l(!0);
                });
            }, [t, n, a.public_event_id, a.public_event_clan_id]),
            !a)
          )
            return (
              console.error("Definition is missing: " + n + " - " + t, a), null
            );
          if (!i)
            return o.createElement(T.V, {
              size: "medium",
              string: (0, G.Xx)("#Loading"),
            });
          return o.createElement(
            "div",
            null,
            o.createElement(
              "div",
              { className: "indent_section" },
              o.createElement("a", { id: "GameListing" }),
              o.createElement(ji, { appid: n, eventdata: s }),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement("h1", null, (0, G.Xx)("#OptIn_OptInOut_Title")),
              (0, G.Xx)("#OptIn_OptInOut_Desc"),
              o.createElement(Bi, { sections: a.dynamic_sections }),
              o.createElement(zi, {
                optInDefinition: a,
                appid: Number.parseInt(n),
              }),
              o.createElement(el, { optInDefinition: a }),
              Boolean(f.L7.is_support) &&
                o.createElement(
                  "div",
                  { className: _().ValveOnlyBackground },
                  o.createElement(
                    m.zx,
                    {
                      onClick: () => {
                        const e = Ni.Get().GetModel();
                        (0, g.AM)(
                          o.createElement(
                            P.uH,
                            {
                              strTitle: (0, G.Xx)("#OptIn_Debug"),
                              bAlertDialog: !0,
                            },
                            o.createElement(be.G, { data: e }),
                          ),
                          window,
                        );
                      },
                    },
                    "(VO) " + (0, G.Xx)("#OptIn_Debug"),
                  ),
                ),
            ),
          );
        },
        nl = (e) =>
          o.createElement(Rn.NL, {
            message: (e) =>
              !l.On.Get().BIsDirty() ||
              e.pathname != Dr.OptinAdminDashboard() ||
              (0, G.Xx)("#Generel_Discard_Warning"),
          });
      class al {
        GetAsConsolidatedList() {
          return {
            invited_appids: this.m_nInvitedAppIDs,
            pruned_appids: this.m_nPrunedAppIDs,
            pending_review_appids: this.m_nPendingReviewAppIDs,
            additionally_featured_appids: this.m_nAdditionalFeaturedppIDs,
          };
        }
        GetConsolidatedListCallback() {
          return this.m_listCallback;
        }
        GetStateForAppCallback(e) {
          return (
            this.m_mapReviewCallback.has(e) ||
              this.m_mapReviewCallback.set(e, new Xt.pB()),
            this.m_mapReviewCallback.get(e)
          );
        }
        GetStateForApp(e) {
          return {
            invited: this.m_nInvitedAppIDs.includes(e),
            pruned: this.m_nPrunedAppIDs.includes(e),
            additionally_featured: this.m_nAdditionalFeaturedppIDs.includes(e),
            pending_review: this.m_nPendingReviewAppIDs.includes(e),
          };
        }
        ChangeAppPruneState(e, t, n) {
          var a;
          return (0, I.mG)(this, void 0, void 0, function* () {
            let i = null;
            try {
              const l = new FormData();
              l.append("sessionid", f.De.SESSIONID),
                l.append("appids", JSON.stringify(t)),
                l.append("opt_in_name", e),
                l.append("prune", n ? "0" : "1");
              const r = f.De.PARTNER_BASE_URL + "optin/ajaxpruneapp",
                o = yield k().post(r, l, { withCredentials: !0 });
              if (
                200 == (null == o ? void 0 : o.status) &&
                1 ==
                  (null === (a = o.data) || void 0 === a ? void 0 : a.success)
              )
                return (
                  t.forEach((e) => {
                    if (this.m_nPendingReviewAppIDs.includes(e)) {
                      const t = this.m_nPendingReviewAppIDs.findIndex(
                        (t) => t == e,
                      );
                      this.m_nPendingReviewAppIDs.splice(t, 1),
                        (this.m_nPendingReviewAppIDs = [
                          ...this.m_nPendingReviewAppIDs,
                        ]);
                    }
                    if (n) {
                      if (this.m_nInvitedAppIDs.includes(e)) {
                        const t = this.m_nInvitedAppIDs.findIndex(
                          (t) => t == e,
                        );
                        this.m_nInvitedAppIDs.splice(t, 1),
                          (this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs]);
                      }
                      if (
                        ((this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs, e]),
                        this.m_nAdditionalFeaturedppIDs.includes(e))
                      ) {
                        const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                          (t) => t == e,
                        );
                        this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                          (this.m_nAdditionalFeaturedppIDs = [
                            ...this.m_nAdditionalFeaturedppIDs,
                          ]);
                      }
                    } else {
                      if (this.m_nPrunedAppIDs.includes(e)) {
                        const t = this.m_nPrunedAppIDs.findIndex((t) => t == e);
                        this.m_nPrunedAppIDs.splice(t, 1),
                          (this.m_nPrunedAppIDs = [...this.m_nPrunedAppIDs]);
                      }
                      this.m_nInvitedAppIDs = [...this.m_nInvitedAppIDs, e];
                    }
                    this.GetStateForAppCallback(e).Dispatch(
                      this.GetStateForApp(e),
                    );
                  }),
                  this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                  !0
                );
              i = (0, N.l)(o);
            } catch (e) {
              i = (0, N.l)(e);
            }
            return (
              console.error(
                "COptInAppReviewStore.ChangeAppPruneState failed: " +
                  (null == i ? void 0 : i.strErrorMsg),
                i,
              ),
              !1
            );
          });
        }
        ChangeAppAdditionalFeaturingState(e, t, n, a) {
          var i;
          return (0, I.mG)(this, void 0, void 0, function* () {
            let l = null;
            if (!a) {
              const e = t.filter((e) => this.m_nInvitedAppIDs.includes(e));
              if (e.length != t.length)
                return (
                  console.error(
                    "ChangeAppAdditionalFeaturingState: Not all app are already invited. Cannot change to featuring.",
                    t,
                    e,
                    this.m_nInvitedAppIDs,
                  ),
                  11
                );
            }
            try {
              const a = new FormData();
              a.append("sessionid", f.De.SESSIONID),
                a.append("appids", JSON.stringify(t)),
                a.append("opt_in_name", e),
                a.append("feature", n ? "1" : "0");
              const r =
                  f.De.PARTNER_BASE_URL +
                  "optin/ajaxupdateadditionalfeaturingapps",
                o = yield k().post(r, a, { withCredentials: !0 });
              if (
                200 == (null == o ? void 0 : o.status) &&
                1 ==
                  (null === (i = o.data) || void 0 === i ? void 0 : i.success)
              )
                return (
                  t.forEach((e) => {
                    if (n)
                      this.m_nAdditionalFeaturedppIDs.includes(e) ||
                        (this.m_nAdditionalFeaturedppIDs.push(e),
                        this.GetStateForAppCallback(e).Dispatch(
                          this.GetStateForApp(e),
                        ));
                    else {
                      const t = this.m_nAdditionalFeaturedppIDs.findIndex(
                        (t) => t == e,
                      );
                      this.m_nAdditionalFeaturedppIDs.splice(t, 1),
                        this.GetStateForAppCallback(e).Dispatch(
                          this.GetStateForApp(e),
                        );
                    }
                  }),
                  this.m_listCallback.Dispatch(this.GetAsConsolidatedList()),
                  1
                );
              l = (0, N.l)(o);
            } catch (e) {
              l = (0, N.l)(e);
            }
            return (
              console.error(
                "COptInAppReviewStore.ChangeAppAdditionalFeaturingState failed: " +
                  (null == l ? void 0 : l.strErrorMsg),
                l,
              ),
              2
            );
          });
        }
        static Get() {
          return (
            al.s_Singleton ||
              ((al.s_Singleton = new al()),
              ("dev" != f.De.WEB_UNIVERSE && "beta" != f.De.WEB_UNIVERSE) ||
                (window.g_OptInAppReviewStores = al.s_Singleton)),
            al.s_Singleton
          );
        }
        constructor() {
          var e, t, n, a;
          (this.m_nInvitedAppIDs = []),
            (this.m_nPrunedAppIDs = []),
            (this.m_nAdditionalFeaturedppIDs = []),
            (this.m_nPendingReviewAppIDs = []),
            (this.m_listCallback = new Xt.pB()),
            (this.m_mapReviewCallback = new Map());
          let i = JSON.parse(
            JSON.stringify(
              (0, f.kQ)("optin_invite_prune_list", "application_config"),
            ),
          );
          this.ValidateStoreDefault(i) &&
            ((this.m_nInvitedAppIDs =
              (null === (e = i.invited_appids) || void 0 === e
                ? void 0
                : e.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []),
            (this.m_nPrunedAppIDs =
              (null === (t = i.pruned_appids) || void 0 === t
                ? void 0
                : t.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []),
            (this.m_nAdditionalFeaturedppIDs =
              (null === (n = i.additionally_featured_appids) || void 0 === n
                ? void 0
                : n.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []),
            (this.m_nPendingReviewAppIDs =
              (null === (a = i.pending_review_appids) || void 0 === a
                ? void 0
                : a.map((e) =>
                    "string" == typeof e ? Number.parseInt(e) : e,
                  )) || []));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            t &&
            "object" == typeof t &&
            (Array.isArray(t.invited_appids) || Array.isArray(t.pruned_appids))
          );
        }
      }
      function il() {
        return { fnChangeAppPruneState: al.Get().ChangeAppPruneState };
      }
      (0, I.gn)([Fe.a], al.prototype, "ChangeAppPruneState", null),
        (0, I.gn)(
          [Fe.a],
          al.prototype,
          "ChangeAppAdditionalFeaturingState",
          null,
        );
      var ll = n(9781),
        rl = n(74031),
        ol = n(85305),
        sl = n(47242),
        cl = n(35181);
      const ml = {
        include_basic_info: !0,
        include_assets: !0,
        include_tag_count: 10,
        include_release: !0,
      };
      function dl(e) {
        const {
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: n,
            rgNotToPruneList: a,
            pageid: i,
          } = e,
          [l, r] = o.useState(!0),
          s = (0, pn.T)("OptInAppReviewFilter");
        o.useEffect(() => {
          Ke.Z.Get()
            .QueueMultipleAppRequests(
              (null == t ? void 0 : t.slice(0, 100)) || [],
              ml,
            )
            .then(() => {
              Ke.Z.Get()
                .QueueMultipleAppRequests(
                  (null == t ? void 0 : t.slice(100)) || [],
                  ml,
                )
                .then(() => {
                  r(!1);
                });
            });
        }, [s.token.reason, i, t]);
        const [c, d] = o.useState(new Set()),
          [u, p] = o.useState(""),
          [_, h] = o.useState(0),
          [g, v] = o.useState(!1),
          [E, S] = o.useState(0);
        return (
          o.useEffect(() => {
            const e = (null == u ? void 0 : u.trim().length) > 2,
              i = null == u ? void 0 : u.toLocaleLowerCase(),
              l = Array.from(c),
              r = new Set(a || []);
            if (t.length > 0 && (c.size > 0 || e || _ || E)) {
              const a = t
                .filter((t) => {
                  var n, a, l, r, o;
                  if (e) {
                    const e = Ke.Z.Get().GetApp(t);
                    return (
                      (null === (n = null == e ? void 0 : e.GetName()) ||
                      void 0 === n
                        ? void 0
                        : n.toLocaleLowerCase().indexOf(i)) >= 0 ||
                      (null ===
                        (a = null == e ? void 0 : e.GetDeveloperNames()) ||
                      void 0 === a
                        ? void 0
                        : a.some(
                            (e) => e.toLocaleLowerCase().indexOf(i) >= 0,
                          )) ||
                      (null ===
                        (l = null == e ? void 0 : e.GetPublisherNames()) ||
                      void 0 === l
                        ? void 0
                        : l.some(
                            (e) => e.toLocaleLowerCase().indexOf(i) >= 0,
                          )) ||
                      (null ===
                        (r = null == e ? void 0 : e.GetFranchiseNames()) ||
                      void 0 === r
                        ? void 0
                        : r.some(
                            (e) => e.toLocaleLowerCase().indexOf(i) >= 0,
                          )) ||
                      (null ===
                        (o = null == e ? void 0 : e.GetShortDescription()) ||
                      void 0 === o
                        ? void 0
                        : o.toLocaleLowerCase().indexOf(i)) >= 0
                    );
                  }
                  return !0;
                })
                .filter((e) => {
                  if (l.length > 0) {
                    const t = Ke.Z.Get().GetApp(e);
                    return l.every((e) =>
                      null == t ? void 0 : t.GetTagIDs().includes(e),
                    );
                  }
                  return !0;
                })
                .filter((e) => {
                  if (_ > 0) {
                    const t = Ke.Z.Get().GetApp(e);
                    return (
                      t &&
                      ((null == t ? void 0 : t.BIsComingSoon()) ||
                        (null == t ? void 0 : t.GetOriginalReleaseDateRTime()) >
                          _)
                    );
                  }
                  return !0;
                })
                .filter((e) => !(g && r.size > 0) || !r.has(e));
              s.token.reason || n(a);
            }
          }, [g, s.token.reason, n, E, _, a, t, c, u]),
          o.createElement(
            pe.ug,
            { title: "Filter Options", bStartMinimized: !0 },
            Boolean(l)
              ? o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(
                    m.__,
                    null,
                    (0, G.Xx)("#EventCalendar_UniversalSearch"),
                  ),
                  o.createElement(T.V, {
                    size: "small",
                    string: `Loading ${(null == t ? void 0 : t.length) || 0} Apps`,
                  }),
                )
              : o.createElement(
                  o.Fragment,
                  null,
                  o.createElement(m.II, {
                    type: "text",
                    label: (0, G.Xx)("#EventCalendar_UniversalSearch"),
                    placeholder: "search by app name, description",
                    value: u,
                    onChange: (e) => {
                      p(e.target.value), S(1);
                    },
                  }),
                  o.createElement(ul, {
                    setFilterTagIDs: c,
                    fnUpdateSetFilterTagIDs: (e) => {
                      d(e), S(1);
                    },
                    rgAppIDs: t,
                    bLoading: l,
                  }),
                  o.createElement(Pe.A, {
                    strDescription: "Filter to games Released After:",
                    strDescToolTip:
                      "Allow us to review upcoming games and games that have released (or released into Early Access) after a point. This is useful when re-running a previously pruned event in a new year.",
                    nEarliestTime: 0,
                    fnGetTimeToUpdate: () => _,
                    fnSetTimeToUpdate: (e) => {
                      h(e), S(1);
                    },
                  }),
                  Boolean((null == a ? void 0 : a.length) > 0) &&
                    o.createElement(m.ji, {
                      checked: g,
                      onChange: (e) => {
                        v(e), S(1);
                      },
                      tooltip:
                        "This is a filter we only want to use in pruning that is done after we have notified partners about their inclusion. So if we communicated with a partner about the event, we don't want to be able to filter them out during a second round of pruning",
                      label: "Filter out previously emailed apps from pruning",
                    }),
                ),
          )
        );
      }
      function ul(e) {
        const {
            setFilterTagIDs: t,
            fnUpdateSetFilterTagIDs: n,
            rgAppIDs: a,
            bLoading: i,
          } = e,
          { data: l } = (0, rl.NH)(),
          r = o.useMemo(
            () =>
              i
                ? []
                : (function (e) {
                    const t = new Map();
                    return (
                      e.forEach((e) => {
                        const n = Ke.Z.Get().GetApp(e);
                        null == n ||
                          n.GetTagIDs().forEach((e) => {
                            t.has(e)
                              ? (t.get(e).count += 1)
                              : t.set(e, { tagid: e, count: 1 });
                          });
                      }),
                      Array.from(t.values())
                    );
                  })(a).sort((e, t) => (e.count < t.count ? 1 : -1)),
            [a, i],
          ),
          s = o.useMemo(
            () =>
              r.map((e) => {
                var t;
                return {
                  label:
                    ((null === (t = null == l ? void 0 : l.get(e.tagid)) ||
                    void 0 === t
                      ? void 0
                      : t.name) || "tagid: " + e.tagid) +
                    " (count: " +
                    e.count +
                    ")",
                  value: e.tagid,
                };
              }),
            [l, r],
          ),
          c = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          };
        return o.createElement(
          "div",
          { className: cl.TagFilterBar },
          o.createElement(m.__, null, "Filter by Tag:"),
          o.createElement(ke.ZP, {
            isSearchable: !0,
            isLoading: i,
            isMulti: !0,
            isClearable: !0,
            value: s.filter((e) => t.has(e.value)),
            options: s,
            styles: c,
            onChange: (e) => {
              const t = new Set();
              null == e || e.forEach((e) => t.add(e.value)), n(t);
            },
          }),
        );
      }
      var pl = n(82756),
        _l = n(26918),
        hl = n(25232);
      function gl(e) {
        const { rgAppealReviewReg: t, pageid: n } = e,
          a = o.useMemo(
            () =>
              t.sort(
                (e, t) =>
                  e.jsondata.rtime_appeal_created -
                  t.jsondata.rtime_appeal_created,
              ),
            [t],
          );
        return o.createElement(
          "div",
          null,
          o.createElement(El, { bShowPruningCriteria: !0 }),
          Boolean(a.length > 0)
            ? o.createElement(
                o.Fragment,
                null,
                a.map((e, t) =>
                  o.createElement(Sl, {
                    key: "appeal" + e.appid,
                    pageid: n,
                    registration: e,
                    index: t,
                  }),
                ),
              )
            : o.createElement(
                "span",
                null,
                (0, G.Xx)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      const vl = "app_review_elig_crit";
      function El(e) {
        const { bShowPruningCriteria: t } = e,
          n = (0, pl.kQ)("optin_eligibility_criteria", "application_config"),
          [a, i] = (0, _l._)(vl, !1);
        return t && (null == n ? void 0 : n.length) > 1
          ? o.createElement(
              pe.mY,
              {
                title: "Pruning Eligibility Criteria",
                getMinimized: () => a,
                toggleMinimized: () => i(!a),
                className: hl.CollapseableTitle,
              },
              o.createElement(Ri.d, { text: n }),
            )
          : null;
      }
      function Sl(e) {
        return o.createElement(
          sl.Y,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          o.createElement(
            Dl,
            Object.assign({}, e, { appid: e.registration.appid }),
          ),
        );
      }
      function Dl(e) {
        const { appid: t, pageid: n, index: a } = e,
          i = (0, ze._l)(t, n),
          [l, r] = (0, Qe.vs)(t, ml),
          s = o.useMemo(() => ({ type: "game", id: t }), [t]);
        if (!i)
          return o.createElement("div", null, "Error: Missing registration");
        switch (r) {
          case 1:
            return o.createElement(
              "div",
              null,
              o.createElement(T.V, {
                position: "center",
                size: "small",
                string: (0, G.Xx)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return o.createElement(
              "div",
              null,
              (0, G.Xx)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return o.createElement(
          "div",
          { className: (0, S.Z)(cl.Row) },
          o.createElement(
            ol.ll,
            { item: s },
            o.createElement("img", {
              className: cl.CapsuleImg,
              src: l.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          o.createElement(
            "div",
            { className: (0, S.Z)(cl.Column) },
            o.createElement(
              "div",
              { className: cl.TopSection },
              o.createElement(
                "div",
                { className: cl.GameInfo },
                o.createElement(
                  "a",
                  { href: l.GetStorePageURL() },
                  o.createElement("div", { className: cl.Title }, l.GetName()),
                ),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_AppReview_Developers",
                    l.GetDeveloperNames().join(","),
                  ),
                ),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_AppReview_Publishers",
                    l.GetPublisherNames().join(","),
                  ),
                ),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    l.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    l.GetFormattedSteamReleaseDate(),
                  ),
                ),
                o.createElement(
                  "div",
                  { className: cl.Desc },
                  l.GetShortDescription(),
                ),
              ),
              o.createElement(
                "div",
                { className: cl.ActionsCtn },
                Boolean(1 == i.appeal_state)
                  ? o.createElement("div", null, "Marked Approved")
                  : o.createElement(
                      m.zx,
                      {
                        onClick: (e) =>
                          (0, g.AM)(
                            o.createElement(fl, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !0,
                            }),
                            (0, D.RA)(e),
                          ),
                      },
                      (0, G.Xx)("#OptIn_AppReview_Appeal_Accept"),
                    ),
                Boolean(2 == i.appeal_state)
                  ? o.createElement("div", null, "Marked Denied")
                  : o.createElement(
                      m.zx,
                      {
                        onClick: (e) =>
                          (0, g.AM)(
                            o.createElement(fl, {
                              appid: t,
                              registration: i,
                              bAcceptAppeal: !1,
                            }),
                            (0, D.RA)(e),
                          ),
                      },
                      (0, G.Xx)("#OptIn_AppReview_Appeal_Deny"),
                    ),
                Boolean(Le.L7.is_support) &&
                  o.createElement(
                    m.zx,
                    {
                      onClick: (e) =>
                        (0, g.AM)(
                          o.createElement(
                            P.uH,
                            {
                              strTitle: (0, G.Xx)("#OptIn_Debug"),
                              bAlertDialog: !0,
                            },
                            o.createElement(be.G, { data: i }),
                          ),
                          (0, D.RA)(e),
                        ),
                    },
                    "(VO) " + (0, G.Xx)("#OptIn_Debug"),
                  ),
              ),
            ),
            o.createElement(
              "div",
              { className: cl.GameInfo },
              o.createElement(Pl, { storeItem: l }),
              o.createElement(
                "div",
                { className: cl.AppealWordsCtn },
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)("#OptIn_AppReview_Appeal_text"),
                ),
                o.createElement("p", null, i.jsondata.appeal_message),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)("#OptIn_AppReview_Appeal_createtime"),
                  " ",
                  (0, G.$1)(i.jsondata.rtime_appeal_created),
                ),
              ),
            ),
          ),
          o.createElement(
            "div",
            { className: cl.RowNumber },
            (a + 1).toLocaleString(),
          ),
        );
      }
      function fl(e) {
        const {
            appid: t,
            registration: n,
            bAcceptAppeal: a,
            closeModal: i,
          } = e,
          [l] = (0, Qe.vs)(t, ml),
          { fnUpdateAppealState: r } = (0, ze.du)(),
          s = (0, He.tx)();
        return s.bLoading
          ? o.createElement(He.NT, {
              state: s,
              strDialogTitle: (0, G.Xx)("#SalePage_Quiz_SubmitResponse"),
              closeModal: i,
            })
          : o.createElement(P.uH, {
              strTitle: a
                ? (0, G.Xx)("#OptIn_AppReview_Appeal_Accept")
                : (0, G.Xx)("#OptIn_AppReview_Appeal_Deny"),
              strDescription: (0, G.Xx)(
                "#OptIn_AppReview_Appeal_DialogVerify",
                (null == l ? void 0 : l.GetName()) || "" + t,
              ),
              onCancel: i,
              onOK: () =>
                (0, I.mG)(this, void 0, void 0, function* () {
                  s.fnSetLoading(!0);
                  (yield r(t, n, a))
                    ? s.fnSetSuccess(!0)
                    : (s.fnSetError(!0),
                      s.fnSetStrError(
                        "Check console or network tab for details.",
                      ));
                }),
            });
      }
      function yl(e) {
        return o.createElement(
          "div",
          null,
          o.createElement(
            m.zx,
            {
              onClick: (t) =>
                (0, g.AM)(
                  o.createElement(bl, Object.assign({}, e, { bInvite: !0 })),
                  (0, D.RA)(t),
                ),
            },
            (0, G.Xx)("#OptIn_AppReview_InviteAll"),
          ),
          o.createElement(
            m.zx,
            {
              onClick: (t) =>
                (0, g.AM)(
                  o.createElement(bl, Object.assign({}, e, { bInvite: !1 })),
                  (0, D.RA)(t),
                ),
            },
            (0, G.Xx)("#OptIn_AppReview_PruneAll"),
          ),
        );
      }
      function bl(e) {
        const { closeModal: t, rgAppIDs: n, strOptInName: a, bInvite: i } = e,
          { fnChangeAppPruneState: l } = il(),
          [r, s] = (0, o.useState)(void 0),
          [c, m] = (0, o.useState)(void 0),
          [d, u] = (0, o.useState)(void 0),
          p = (0, o.useCallback)(
            () =>
              (0, I.mG)(this, void 0, void 0, function* () {
                m(!0),
                  l(a, n, !i)
                    .then((e) => {
                      e || s((0, G.Xx)("#OptIn_AppReview_ErrorBatch"));
                    })
                    .finally(() => u(!0));
              }),
            [i, l, n, a],
          );
        return o.createElement(
          P.uH,
          {
            strTitle: (0, G.Xx)(
              i
                ? "#OptIn_AppReview_BatchInvite_Title"
                : "$OptIn_AppReview_BatchPrune_Title",
            ),
            strDescription: (0, G.Xx)("#OptIn_AppReview_Batch_Description"),
            bDisableBackgroundDismiss: !0,
            onCancel: t,
            bOKDisabled: c,
            onOK: p,
            strOKButtonText: (0, G.Xx)("#Update"),
          },
          Boolean(c && !d) &&
            o.createElement(T.V, {
              string: (0, G.Xx)("#Saving"),
              size: "medium",
            }),
          Boolean(r) &&
            o.createElement("div", { className: A.ErrorStylesBackground }, r),
          Boolean(d && !r) &&
            o.createElement(
              "div",
              null,
              (0, G.Xx)("#OptIn_AppReview_Batch_Success"),
            ),
        );
      }
      function Il(e) {
        const { pageid: t } = e,
          n = (0, f.kQ)("optin_title", "application_config"),
          {
            rgInvitedAppIDs: a,
            rgPrunedAppIDs: i,
            rgPendingReviewAppIDs: l,
          } = (function () {
            const [e, t] = o.useState(al.Get().GetAsConsolidatedList());
            return (
              (0, Ye.Qg)(al.Get().GetConsolidatedListCallback(), t),
              {
                rgInvitedAppIDs: e.invited_appids,
                rgPrunedAppIDs: e.pruned_appids,
                rgPendingReviewAppIDs: e.pending_review_appids,
              }
            );
          })(),
          { rgPendingReviewRegistrations: r, bIsInError: s } = (0, ze.nw)(t),
          { rgAppToNotPrune: c, bIsLoadError: m } = (function (e) {
            const t = (0, F.useQuery)({
              queryKey: ["usePartnerOptInEmailedApps", e],
              queryFn: () =>
                (function (e) {
                  var t;
                  return (0, I.mG)(this, void 0, void 0, function* () {
                    const n = { sessionid: f.De.SESSIONID, opt_in_name: e },
                      a =
                        f.De.PARTNER_BASE_URL +
                        "optin/ajaxgetapplisttonotprune",
                      i = yield k().get(a, { params: n, withCredentials: !0 });
                    return (
                      (null === (t = null == i ? void 0 : i.data) ||
                      void 0 === t
                        ? void 0
                        : t.appids) || []
                    );
                  });
                })(e),
              retry: !1,
            });
            return {
              rgAppToNotPrune: t.isLoading ? null : t.data,
              bIsLoadError: t.isError,
            };
          })(t);
        o.useEffect(() => {
          (0, f.kQ)("optin_webapi_token", "application_config")
            ? (0, ll.a)(!0)
            : console.error("OptInAppReviewLanding missing API token");
        }, []);
        const u = o.useMemo(() => {
            if (r) {
              const e = new Map();
              return r.forEach((t) => e.set(t.appid, t)), e;
            }
            return null;
          }, [r]),
          p = o.useMemo(
            () =>
              u
                ? l.filter((e) => {
                    if (!u.has(e)) return !0;
                    const t = u.get(e);
                    return Boolean(
                      !t.jsondata || !t.jsondata.accountid_appealing,
                    );
                  })
                : null,
            [u, l],
          ),
          _ = o.useMemo(
            () =>
              null == r
                ? void 0
                : r.filter((e) => {
                    var t;
                    return null === (t = e.jsondata) || void 0 === t
                      ? void 0
                      : t.accountid_appealing;
                  }),
            [r],
          );
        if (s || m)
          return (
            console.log(`OptInAppReviewLanding Review: ${s} NotPrune: ${m}`),
            o.createElement(
              "div",
              null,
              "Failed to loading pending review data.  User likely does not have sufficient permissions.",
            )
          );
        if (!(c && (l || a || i) && r && p))
          return o.createElement(T.V, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const h = (e) =>
            window.sessionStorage.setItem("appreviewtab", `?tab=${e.key}`),
          g = [
            {
              name: (0, G.Xx)(
                "#OptIn_AppReview_PendingReviewApps",
                (null == p ? void 0 : p.length) || 0,
              ),
              key: "review",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Cl, {
                  key: "reviewapp",
                  rgOrderedAppIDs: p,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !0,
                  bShowPruningCriteria: !0,
                }),
              ),
              onClick: h,
            },
            {
              name: (0, G.Xx)(
                "#OptIn_AppReview_PendingAppealReview",
                (null == _ ? void 0 : _.length) || 0,
              ),
              key: "appeal",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(gl, {
                  key: "appealmap",
                  rgAppealReviewReg: _,
                  pageid: t,
                }),
              ),
              onClick: h,
            },
            {
              name: (0, G.Xx)(
                "#OptIn_AppReview_InvitedApps",
                (null == a ? void 0 : a.length) || 0,
              ),
              key: "invited",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Cl, {
                  key: "invitedapps",
                  rgOrderedAppIDs: a,
                  pageid: t,
                  bPruned: !1,
                  bPendingReview: !1,
                  rgNotToPruneList: c,
                }),
              ),
              onClick: h,
            },
            {
              name: (0, G.Xx)(
                "#OptIn_AppReview_PrunedApps",
                (null == i ? void 0 : i.length) || 0,
              ),
              key: "pruned",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(Cl, {
                  key: "prunedapps",
                  rgOrderedAppIDs: i,
                  pageid: t,
                  bPruned: !0,
                  bPendingReview: !1,
                }),
              ),
              onClick: h,
            },
          ];
        return o.createElement(
          "div",
          { className: we().AdminPageCtn },
          o.createElement(
            "div",
            { className: we().PageTitle },
            (0, G.Xx)("#OptIn_AppReview", n),
          ),
          o.createElement(
            "div",
            { className: we().PageSubTitle },
            "Use the 'Prune' option to remove eligibility for that game. Pruned titles will not be eligible, invited, or receive any communication about this event.",
          ),
          o.createElement(v.n, { tabs: g }),
        );
      }
      function Cl(e) {
        const {
            rgOrderedAppIDs: t,
            pageid: n,
            bPruned: a,
            rgNotToPruneList: i,
            bPendingReview: l,
            bShowPruningCriteria: r,
          } = e,
          [s, c] = o.useState(null),
          m = null != s ? s : t;
        return o.createElement(
          "div",
          null,
          Boolean(l) && o.createElement(yl, { strOptInName: n, rgAppIDs: m }),
          o.createElement(El, { bShowPruningCriteria: r }),
          o.createElement(dl, {
            pageid: n,
            rgOrderedAppIDs: t,
            fnSetFilteredAppID: c,
            rgNotToPruneList: i,
          }),
          (null == m ? void 0 : m.length) > 0
            ? o.createElement(
                o.Fragment,
                null,
                m.map((e, t) =>
                  o.createElement(kl, {
                    key: (a ? "prune" : "invited") + e,
                    pageid: n,
                    appid: e,
                    bInvited: !a && !l,
                    bPendingReview: l,
                    index: t,
                  }),
                ),
              )
            : o.createElement(
                "span",
                null,
                (0, G.Xx)("#OptIn_AppReview_EmptyList"),
              ),
        );
      }
      function kl(e) {
        return o.createElement(
          sl.Y,
          { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
          o.createElement(Al, Object.assign({}, e)),
        );
      }
      function Al(e) {
        const {
            appid: t,
            bInvited: n,
            pageid: a,
            index: i,
            bPendingReview: l,
          } = e,
          [r, s] = (0, Qe.vs)(t, ml),
          { fnChangeAppPruneState: c } = il(),
          d = o.useMemo(() => ({ type: "game", id: t }), [t]);
        switch (s) {
          case 1:
            return o.createElement(
              "div",
              null,
              o.createElement(T.V, {
                position: "center",
                size: "small",
                string: (0, G.Xx)("#OptIn_AppReview_LoadingApp", t),
              }),
            );
          case 2:
            return o.createElement(
              "div",
              null,
              (0, G.Xx)("#OptIn_AppReview_FailedToLoadApp", t),
            );
        }
        return o.createElement(
          "div",
          { className: (0, S.Z)(cl.Row, n ? cl.Invited : cl.Pruned) },
          o.createElement(
            ol.ll,
            { item: d },
            o.createElement("img", {
              className: cl.CapsuleImg,
              src: r.GetAssets().GetMainCapsuleURL(),
            }),
          ),
          o.createElement(
            "div",
            { className: (0, S.Z)(cl.Column) },
            o.createElement(
              "div",
              { className: cl.TopSection },
              o.createElement(
                "div",
                { className: cl.GameInfo },
                o.createElement(
                  "a",
                  { href: r.GetStorePageURL() },
                  o.createElement("div", { className: cl.Title }, r.GetName()),
                ),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_AppReview_Developers",
                    r.GetDeveloperNames().join(","),
                  ),
                ),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    "#OptIn_AppReview_Publishers",
                    r.GetPublisherNames().join(","),
                  ),
                ),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)(
                    r.BIsComingSoon()
                      ? "#OptIn_AppReview_Comingsooon"
                      : "#OptIn_AppReview_Release",
                    r.GetFormattedSteamReleaseDate(),
                  ),
                ),
              ),
              o.createElement(
                "div",
                { className: cl.ActionsCtn },
                o.createElement(
                  m.zx,
                  { onClick: () => c(a, [t], n || l) },
                  (0, G.Xx)(
                    n || l
                      ? "#OptIn_AppReview_Prune"
                      : "#OptIn_AppReview_Unprune",
                  ),
                ),
                Boolean(l) &&
                  o.createElement(
                    m.zx,
                    { onClick: () => c(a, [t], !1) },
                    (0, G.Xx)("#OptIn_AppReview_Invite"),
                  ),
                Boolean(f.L7.is_support && n) &&
                  o.createElement(wl, { appid: t, pageid: a }),
              ),
            ),
            o.createElement(
              "div",
              { className: cl.GameInfo },
              o.createElement(
                "div",
                { className: cl.Desc },
                r.GetShortDescription(),
              ),
              o.createElement(Pl, { storeItem: r }),
            ),
          ),
          o.createElement(
            "div",
            { className: cl.RowNumber },
            (i + 1).toLocaleString(),
          ),
        );
      }
      function wl(e) {
        const { appid: t, pageid: n } = e,
          a = (function (e) {
            const [t, n] = (0, o.useState)(al.Get().GetStateForApp(e));
            return (0, Ye.Qg)(al.Get().GetStateForAppCallback(e), n), t;
          })(t),
          { fnChangeAppAdditionalFeaturingState: i } = {
            fnChangeAppAdditionalFeaturingState:
              al.Get().ChangeAppAdditionalFeaturingState,
          };
        return o.createElement(
          "div",
          { className: we().ValveOnlyBackground },
          o.createElement(
            m.zx,
            {
              onClick: () => {
                i(n, [t], !a.additionally_featured)
                  .then((e) => {
                    1 != e &&
                      (0, g.AM)(
                        o.createElement(P.JX, {
                          strDescription:
                            "Check the console for error messages",
                        }),
                        window,
                      );
                  })
                  .catch(() =>
                    (0, g.AM)(
                      o.createElement(P.JX, {
                        strDescription: "Check the console for error messages",
                      }),
                      window,
                    ),
                  );
              },
            },
            (0, G.Xx)(
              a.additionally_featured
                ? " Remove App Featuring"
                : " Add App Featuring",
            ),
          ),
        );
      }
      function Pl(e) {
        const { storeItem: t } = e,
          n = o.useMemo(
            () => (null == t ? void 0 : t.GetTags().map((e) => e.tagid)),
            [t],
          ),
          a = (0, rl.Eq)(n);
        return o.createElement(
          "div",
          { className: cl.StoreTags },
          (0, G.kQ)(
            "#OptIn_AppReview_Tags",
            o.createElement(
              o.Fragment,
              null,
              a.map((e) =>
                o.createElement("span", { key: "tag" + e.tagid }, e.name),
              ),
            ),
          ),
        );
      }
      var Tl = n(79397),
        Nl = n.n(Tl),
        Rl = n(3897),
        Gl = n.n(Rl);
      function Ll(e) {
        const {
            storeItem: t,
            closeModal: n,
            optInDef: a,
            optInRegistration: i,
          } = e,
          [l, r] = (0, o.useState)(""),
          { fnUpdateOptInRegistrationJson: s } = (0, ze.dS)(),
          c = (0, te.Xj)(a.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
          m = (0, He.tx)();
        return m.bLoading
          ? o.createElement(He.NT, {
              state: m,
              strDialogTitle: (0, G.Xx)(
                "#OptIn_Appeals_Control_Title",
                t.GetName(),
              ),
              closeModal: n,
            })
          : o.createElement(
              P.uH,
              {
                strTitle: (0, G.Xx)(
                  "#OptIn_Appeals_Control_Title",
                  t.GetName(),
                ),
                strOKButtonText: (0, G.Xx)("#OptIn_Appeals_Dialog_Submit"),
                bDisableBackgroundDismiss: !0,
                onCancel: n,
                onOK: () =>
                  (0, I.mG)(this, void 0, void 0, function* () {
                    m.fnSetLoading(!0);
                    try {
                      const e = JSON.parse(
                        JSON.stringify(
                          "" !== i.jsondata && i.jsondata ? i.jsondata : {},
                        ),
                      );
                      (e.accountid_appealing = Le.L7.accountid),
                        (e.rtime_appeal_created = Math.floor(Date.now() / 1e3)),
                        (e.appeal_message = l),
                        (e.opt_in_name = a.pageid);
                      null == (yield s(t.GetAppID(), e, !0))
                        ? (m.fnSetSuccess(!0),
                          m.fnSetStrSuccess(
                            (0, G.Xx)("#OptIn_Appeals_Control_Submitted"),
                          ))
                        : (m.fnSetError(!0),
                          m.fnSetStrError(
                            (0, G.Xx)("#OptIn_Appeals_Dialog_Failed"),
                          ));
                    } catch (e) {
                      const t = (0, N.l)(e);
                      console.error(
                        "OptInAppealsCreateDialog error " + t.strErrorMsg,
                        t,
                        e,
                      ),
                        m.fnSetError(!0),
                        m.fnSetStrError(
                          (0, G.Xx)("#OptIn_Appeals_Dialog_Failed"),
                        );
                    }
                  }),
              },
              o.createElement(
                "div",
                { className: Gl().AppealsEntryForm },
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Dialog_Desc"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.yu)(
                    "#OptIn_Appeals_Dialog_Desc2",
                    o.createElement("a", { href: t.GetStorePageURL() }),
                    o.createElement("a", {
                      href: `${Le.De.PARTNER_BASE_URL}taxonomy/tagwizard/${t.GetAppID()}`,
                    }),
                  ),
                ),
                o.createElement(
                  "h3",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Dialog_InputTitle"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Dialog_InputDesc"),
                ),
                o.createElement("textarea", {
                  value: l,
                  className: Gl().AppealTextInput,
                  onChange: (e) => {
                    r(e.currentTarget.value);
                  },
                  ref: (e) => e && e.focus(),
                }),
                o.createElement(
                  "h3",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Control_ReviewProcessTitle"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Control_Submitted_Desc", c),
                ),
              ),
            );
      }
      function Bl(e) {
        const {
            optInDef: t,
            optInRegistration: n,
            storeItem: a,
            closeModal: i,
            bReject: l,
          } = e,
          { fnUpdateOptInRegistrationJson: r } = (0, ze.dS)(),
          s = (0, He.tx)();
        return s.bLoading
          ? o.createElement(He.NT, {
              state: s,
              strDialogTitle: (0, G.Xx)(
                l ? "Rejecting Appeal Data" : "Clearing Appeal Data",
                a.GetName(),
              ),
              closeModal: i,
            })
          : o.createElement(P.uH, {
              strTitle: l ? "Reject Appear" : "Clear Appeal data?",
              strDescription: "Are you sure?",
              bDisableBackgroundDismiss: !0,
              onCancel: i,
              onOK: () =>
                (0, I.mG)(this, void 0, void 0, function* () {
                  s.fnSetLoading(!0);
                  try {
                    const e = JSON.parse(
                      JSON.stringify(
                        "" !== n.jsondata && n.jsondata ? n.jsondata : {},
                      ),
                    );
                    (e.accountid_appealing = void 0),
                      (e.rtime_appeal_created = void 0),
                      (e.appeal_message = void 0),
                      (e.opt_in_name = t.pageid),
                      (e.appeal_rejected = void 0),
                      (e.reject_accountid = void 0);
                    null == (yield r(a.GetAppID(), e, !1))
                      ? (s.fnSetSuccess(!0),
                        s.fnSetStrSuccess(
                          (0, G.Xx)("#OptIn_Appeals_Control_Submitted"),
                        ))
                      : (s.fnSetError(!0),
                        s.fnSetStrError(
                          (0, G.Xx)("#OptIn_Appeals_Dialog_Failed"),
                        ));
                  } catch (e) {
                    const t = (0, N.l)(e);
                    console.error(
                      "ClearAppealDialog error " + t.strErrorMsg,
                      t,
                      e,
                    ),
                      s.fnSetError(!0),
                      s.fnSetStrError(
                        (0, G.Xx)("#OptIn_Appeals_Dialog_Failed"),
                      );
                  }
                }),
            });
      }
      function xl(e) {
        const { optInDef: t } = e,
          n = (0, xe.f)(t);
        return o.createElement(
          "div",
          { className: we().RightCol },
          o.createElement(
            "div",
            { className: we().ColHeader },
            Boolean(n) &&
              o.createElement("div", {
                className: we().ColHeaderImg,
                style: { backgroundImage: `url( '${n}' )` },
              }),
          ),
          o.createElement(
            "div",
            { className: we().SectionCtn },
            o.createElement(Ml, Object.assign({}, e)),
            Boolean(Le.L7.is_support) &&
              o.createElement(Ol, Object.assign({}, e)),
          ),
        );
      }
      function Ml(e) {
        const { optInDef: t } = e;
        return o.createElement(ql, { optInDef: t });
      }
      function Ol(e) {
        const { optInDef: t, optInRegistration: n } = e,
          { fnUpdateAppToInvitation: a } = We();
        return o.createElement(
          o.Fragment,
          null,
          o.createElement("br", null),
          o.createElement("br", null),
          o.createElement(
            "div",
            { className: _().ValveOnlyBackground },
            o.createElement(
              "ul",
              null,
              o.createElement(
                "li",
                null,
                o.createElement(
                  "a",
                  {
                    href: `${Le.De.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                  },
                  "Edit OptIn Definition",
                ),
              ),
              o.createElement(
                "li",
                null,
                o.createElement(
                  "a",
                  {
                    href: `${Le.De.PARTNER_BASE_URL}optin/appreview/${t.pageid}?tab=appeal`,
                  },
                  "Go to Appeals Review Page",
                ),
              ),
            ),
            o.createElement("br", null),
            o.createElement(
              m.zx,
              {
                onClick: (t) =>
                  (0, g.AM)(
                    o.createElement(Fl, Object.assign({}, e)),
                    (0, D.RA)(t),
                  ),
              },
              "(VO) Invite App to Participate",
            ),
            o.createElement("br", null),
            o.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(
                      P.uH,
                      { strTitle: (0, G.Xx)("#OptIn_Debug"), bAlertDialog: !0 },
                      o.createElement(be.G, { data: n }),
                    ),
                    (0, D.RA)(e),
                  ),
              },
              "(VO) " + (0, G.Xx)("#OptIn_Debug"),
            ),
            o.createElement(
              m.zx,
              {
                onClick: (e) =>
                  (0, g.AM)(
                    o.createElement(
                      P.uH,
                      {
                        strTitle: (0, G.Xx)("#OptIn_Def_Debug"),
                        bAlertDialog: !0,
                      },
                      o.createElement(be.G, { data: t }),
                    ),
                    (0, D.RA)(e),
                  ),
              },
              "(VO) " + (0, G.Xx)("#OptIn_Def_Debug"),
            ),
            Boolean(n.jsondata.accountid_appealing) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  m.zx,
                  {
                    onClick: (t) =>
                      (0, g.AM)(
                        o.createElement(Bl, Object.assign({ bReject: !1 }, e)),
                        (0, D.RA)(t),
                      ),
                  },
                  "Clear Appeal Data",
                ),
                o.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(fl, {
                          appid: n.appid,
                          registration: n,
                          bAcceptAppeal: !0,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Accept Appeal and Email Requested",
                ),
                o.createElement(
                  m.zx,
                  {
                    onClick: (e) =>
                      (0, g.AM)(
                        o.createElement(fl, {
                          appid: n.appid,
                          registration: n,
                          bAcceptAppeal: !1,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "REJECT Appeal and Email Requested",
                ),
              ),
          ),
        );
      }
      function Fl(e) {
        var t;
        const { optInDef: n, optInRegistration: a, closeModal: i } = e,
          { fnUpdateAppToInvitation: l } = We(),
          r = (0, He.tx)();
        return r.bLoading
          ? o.createElement(He.NT, {
              state: r,
              strDialogTitle: "Inviting App to Participate",
              closeModal: i,
            })
          : o.createElement(
              P.uH,
              {
                strTitle: "Invite App to Participate",
                onCancel: i,
                onOK: () => {
                  r.fnSetLoading(!0),
                    l(n.pageid, [a.appid], !0, !1, !1)
                      .then((e) => {
                        1 == e
                          ? r.fnSetElSuccess(
                              o.createElement(
                                "div",
                                null,
                                o.createElement(
                                  "span",
                                  null,
                                  "Success. Please reload the page to verify.",
                                ),
                                o.createElement("br", null),
                                o.createElement(
                                  "a",
                                  {
                                    href: `${Le.De.PARTNER_BASE_URL}optin/sale/${n.pageid}/${a.appid}`,
                                  },
                                  "Or go to registration Page.",
                                ),
                              ),
                            )
                          : r.fnSetStrError("Failed with error code: " + e);
                      })
                      .catch(() =>
                        r.fnSetStrError(
                          "failed with exception, check console ouput.",
                        ),
                      );
                },
              },
              o.createElement(
                "div",
                null,
                "Confirm we want to invite this appear to register for ",
                null === (t = n.event_title) || void 0 === t
                  ? void 0
                  : t.english,
                "? They will need to perform the registration after you invite completes",
              ),
            );
      }
      function Ul(e) {
        const { appid: t, pageid: n } = e,
          [a] = (0, Qe.vs)(t, { include_release: !0, include_assets: !0 }),
          i = (0, f.kQ)("eligible_due_optin_def", "application_config"),
          l = (0, r.r)(n),
          s = (0, ze.Rz)(t, n);
        if (!l)
          return o.createElement(
            "div",
            null,
            (0, G.Xx)("#OptIn_Appeals_DoesNotExist", n),
          );
        const c = (0, te.Xj)(l.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
          m = Math.floor(Date.now() / 1e3);
        return l.event_end_date < m
          ? o.createElement("div", null, (0, G.Xx)("#OptIn_Appeals_IsOver"))
          : a
            ? s.invited || s.opt_in || s.time_opted_out || i
              ? o.createElement(
                  "div",
                  null,
                  o.createElement(
                    "div",
                    null,
                    (0, G.Xx)(
                      "#OptIn_Appeals_AlreadyPartOfEvent",
                      a.GetName(),
                      c,
                    ),
                  ),
                  o.createElement(
                    "a",
                    { href: `${Le.De.PARTNER_BASE_URL}optin/sale/${n}/${t}` },
                    (0, G.Xx)("#OptIn_Appeals_RegistrationPage"),
                  ),
                )
              : o.createElement(
                  "div",
                  { className: we().AdminPageCtn },
                  o.createElement(
                    "div",
                    { className: we().PageTitle },
                    a.GetName(),
                    " (",
                    t,
                    ")",
                    o.createElement(
                      "span",
                      null,
                      (0, G.Xx)("#OptIn_Appeals_Title", c),
                    ),
                  ),
                  o.createElement("hr", null),
                  o.createElement(Hl, {
                    optInDef: l,
                    optInRegistration: s,
                    storeItem: a,
                  }),
                )
            : o.createElement(T.V, {
                position: "center",
                string: (0, G.Xx)("#Loading"),
              });
      }
      function Hl(e) {
        var t;
        const { optInDef: n, optInRegistration: a, storeItem: i } = e,
          l = (0, te.Xj)(n.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
          r = (0, xe.f)(n),
          s = Boolean(
            null === (t = a.jsondata) || void 0 === t
              ? void 0
              : t.rtime_appeal_created,
          ),
          c = Boolean(2 === a.appeal_state);
        let m = "#OptIn_Appeals_Title_Pruned";
        return (
          (a.accountid_appeal && 1 != a.appeal_state && 2 != a.appeal_state) ||
          (s && !c)
            ? (m = "#OptIn_Appeals_Title_AppealProcess")
            : (!a.pending_review && a.pruned) ||
              (m = "#OptIn_Appeals_Title_NotReviewed"),
          o.createElement(
            "div",
            { className: we().ColumnCtn },
            o.createElement(
              "div",
              { className: we().LeftCol },
              o.createElement(
                "div",
                { className: we().ColHeader },
                Boolean(r)
                  ? o.createElement("div", {
                      className: we().ColHeaderImg,
                      style: { backgroundImage: `url( '${r}' )` },
                    })
                  : Boolean(l) && o.createElement("div", null, l),
              ),
              o.createElement(
                "div",
                { className: (0, S.Z)(we().SectionCtn, Nl().AppealSummaryCtn) },
                o.createElement("img", {
                  className: Nl().CapsuleImg,
                  src: null == i ? void 0 : i.GetAssets().GetHeaderURL(),
                }),
                o.createElement(
                  "div",
                  { className: Nl().AppealTitle },
                  (0, G.Xx)(m),
                ),
              ),
              !s && o.createElement(Vl, Object.assign({}, e)),
              o.createElement(Xl, Object.assign({}, e)),
            ),
            o.createElement(xl, Object.assign({}, e)),
          )
        );
      }
      function Vl(e) {
        var t;
        const { optInDef: n, storeItem: a, optInRegistration: i } = e;
        Boolean(
          null === (t = i.jsondata) || void 0 === t
            ? void 0
            : t.rtime_appeal_created,
        );
        let l = "#OptIn_Appeals_ReviewLine";
        (!i.pending_review && i.pruned) ||
          (l = "#OptIn_Appears_NotReviewed_ReviewLine");
        const r = (0, te.Xj)(n.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
          s = (0, te.Xj)(n.appeals_text, (0, ne.jM)(Le.De.LANGUAGE), null);
        return o.createElement(
          "div",
          { className: we().SectionCtn },
          o.createElement("h1", null, (0, G.Xx)(l, a.GetName())),
          o.createElement("p", null, (0, G.Xx)("#OptIn_Appeals_ReviewLine_1")),
          o.createElement("p", null, (0, G.Xx)("#OptIn_Appeals_ReviewLine_1a")),
          o.createElement(
            "ul",
            { className: "bullets" },
            o.createElement(
              "li",
              null,
              (0, G.yu)(
                "#OptIn_Appeals_ReviewLine_2",
                o.createElement("a", {
                  href: `${Le.De.PARTNER_BASE_URL}taxonomy/tagwizard/${a.GetAppID()}`,
                }),
                o.createElement("b", null),
              ),
            ),
            o.createElement(
              "li",
              null,
              (0, G.yu)(
                "#OptIn_Appeals_ReviewLine_3",
                o.createElement("b", null),
              ),
            ),
          ),
          o.createElement("br", null),
          Boolean(s) &&
            o.createElement(
              o.Fragment,
              null,
              o.createElement(
                "h1",
                null,
                (0, G.Xx)("#OptIn_Appeals_EligibilityTitle", r),
              ),
              o.createElement(Ri.d, { text: s }),
            ),
        );
      }
      function Xl(e) {
        var t;
        const { optInDef: n, optInRegistration: a, storeItem: i } = e;
        let l = !1;
        if (
          (null === (t = n.release_date_eligibility) || void 0 === t
            ? void 0
            : t.include_unreleased_games) &&
          n.release_date_eligibility.release_after_date
        )
          if (i.BIsComingSoon()) {
            const e = (0, f.kQ)("rt_steam_release_date", "application_config");
            if (e < n.release_date_eligibility.release_after_date) {
              if (e > Math.floor(Date.now() / 1e3))
                return o.createElement(
                  "div",
                  { className: we().SectionCtn },
                  o.createElement(
                    "h1",
                    null,
                    (0, G.Xx)("#OptIn_Appeals_NotPossible_Title"),
                  ),
                  o.createElement(
                    "div",
                    { className: we().warning },
                    o.createElement(
                      "p",
                      null,
                      (0, G.Xx)(
                        "#OptIn_Appeals_NotPossible_Desc1",
                        (0, G.$1)(
                          n.release_date_eligibility.release_after_date,
                        ),
                      ),
                      " ",
                      (0, G.Xx)("#OptIn_Appeals_NotPossible_Desc2"),
                    ),
                    o.createElement(
                      "p",
                      null,
                      (0, G.yu)(
                        "#OptIn_Appeals_NotPossible_Desc3",
                        o.createElement("a", {
                          href:
                            Le.De.PARTNER_BASE_URL + "doc/store/release_dates",
                        }),
                      ),
                    ),
                  ),
                );
              l = !0;
            }
          } else if (
            !n.release_date_eligibility.include_released_games &&
            i.BIsReleased()
          )
            return o.createElement(
              "div",
              { className: we().SectionCtn },
              o.createElement(
                "h1",
                null,
                (0, G.Xx)("#OptIn_Appeals_NotPossible_Title"),
              ),
              o.createElement(
                "div",
                { className: we().warning },
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_NotPossible_Desc4"),
                ),
              ),
            );
        return o.createElement(
          jl,
          Object.assign({}, e, { bShowReleaseDatePassed: l }),
        );
      }
      function jl(e) {
        var t;
        const {
            optInDef: n,
            optInRegistration: a,
            storeItem: i,
            bShowReleaseDatePassed: l,
          } = e,
          r = Boolean(
            null === (t = a.jsondata) || void 0 === t
              ? void 0
              : t.rtime_appeal_created,
          ),
          s = Boolean(2 === a.appeal_state),
          c = (0, te.Xj)(n.event_title, (0, ne.jM)(Le.De.LANGUAGE));
        let d = "#OptIn_Appeals_Control_Title",
          u = "#OptIn_Appeals_Control_Desc";
        return (
          2 == a.appeal_state
            ? ((d = "#OptIn_Appeals_Control_Rejected_Title"),
              (u = "#OptIn_Appeals_Control_Rejected_Desc"))
            : (!a.pending_review && a.pruned) ||
              (d = "#OptIn_Appeals_Control_NotReviewed_Title"),
          o.createElement(
            "div",
            { className: we().SectionCtn },
            !r &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("h1", null, (0, G.Xx)(d, i.GetName())),
                o.createElement("p", null, (0, G.Xx)(u, i.GetName())),
              ),
            Boolean(l) &&
              o.createElement(
                "div",
                { className: we().warning },
                o.createElement(
                  "h3",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Possible_WarningTitle"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Possible_warning"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.yu)(
                    "#OptIn_Appeals_NotPossible_Desc3",
                    o.createElement("a", {
                      href: Le.De.PARTNER_BASE_URL + "doc/store/release_dates",
                    }),
                  ),
                ),
              ),
            Boolean(!r) &&
              o.createElement(
                "div",
                { className: Nl().ButtonCtn },
                o.createElement(
                  m.KM,
                  {
                    onClick: (t) =>
                      (0, g.AM)(
                        o.createElement(Ll, Object.assign({}, e)),
                        (0, D.RA)(t),
                      ),
                  },
                  (0, G.Xx)("#OptIn_Appeals_Control_Button"),
                ),
              ),
            Boolean(r && !s) &&
              o.createElement(
                "div",
                { className: (0, S.Z)(Nl().AppealResults, Nl().Submitted) },
                o.createElement(
                  "h2",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Control_Submitted_Title"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Control_Submitted_Desc", c),
                ),
              ),
            Boolean(s) &&
              o.createElement(
                "div",
                { className: (0, S.Z)(Nl().AppealResults, Nl().Declined) },
                o.createElement(
                  "h2",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Control_Declined"),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_Control_Declined_Desc1", c),
                ),
                o.createElement(
                  "p",
                  null,
                  (0, G.yu)(
                    "#OptIn_Appeals_Control_Declined_Desc2",
                    o.createElement("a", {
                      href: "https://partner.steamgames.com/doc/marketing/upcoming_events",
                    }),
                  ),
                ),
              ),
          )
        );
      }
      function ql(e) {
        const { optInDef: t } = e,
          n = (0, te.Xj)(t.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
          a = t.public_doc_wiki_url,
          i = (0, te.Xj)(t.help_text, (0, ne.jM)(Le.De.LANGUAGE), null);
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            { className: we().TitleSmall },
            (0, G.Xx)("#DiscountDashboard_HelpAreaText"),
          ),
          Boolean(a) &&
            o.createElement(
              "div",
              null,
              (0, G.kQ)(
                "#OptIn_Appeals_HelpDoc",
                o.createElement(
                  "a",
                  { href: a },
                  (0, G.Xx)("#OptIn_Appeals_HelpDoc_link", n),
                ),
              ),
            ),
          Boolean(i)
            ? o.createElement("div", null, o.createElement(Ri.d, { text: i }))
            : o.createElement(
                "p",
                null,
                (0, G.yu)(
                  "#OptIn_Appeals_HelpDoc_General",
                  o.createElement("a", {
                    href: "https://partner.steamgames.com/doc/marketing/upcoming_events/themed_sales",
                  }),
                ),
              ),
          o.createElement(
            "div",
            { className: we().TitleSmall },
            (0, G.Xx)("#OptIn_Appeals_HelpDoc_NeedHelp"),
          ),
          o.createElement(
            "a",
            {
              href:
                Le.De.HELP_BASE_URL +
                "en/wizard/HelpWithPublishing?issueid=933",
            },
            (0, G.Xx)("#PricingDashboard_ContactUsButton"),
          ),
        );
      }
      function Wl(e) {
        const t = e;
        return (
          t &&
          Array.isArray(t) &&
          t.length > 0 &&
          "number" == typeof t[0].appid &&
          "string" == typeof t[0].app_name
        );
      }
      function zl() {
        const [e, t] = (0, o.useState)(null);
        return (
          (0, o.useEffect)(() => {
            const e = (0, f.ip)("optin_registered", "application_config");
            Wl(e) &&
              ("dev" === f.De.WEB_UNIVERSE &&
                console.log(
                  "useOptInRegistrationForDashboardNotPruned has " + e.length,
                ),
              t(
                e
                  .map((e) =>
                    e.jsondata && "" !== e.jsondata
                      ? Object.assign(Object.assign({}, e), {
                          jsondata: JSON.parse(e.jsondata),
                        })
                      : Object.assign(Object.assign({}, e), { jsondata: {} }),
                  )
                  .filter((e) => {
                    var t;
                    return null === (t = e.jsondata) || void 0 === t
                      ? void 0
                      : t.opt_in;
                  }),
              ));
          }, []),
          e
        );
      }
      var Zl = n(86437),
        Kl = n(47986);
      function Ql(e) {
        const { pageid: t } = e,
          n = (0, r.r)(t),
          a = (0, o.useMemo)(
            () => (0, f.kQ)("partner_id", "application_config"),
            [],
          ),
          [i] = (0, Gn.DV)(a);
        if (!n)
          return o.createElement(
            "div",
            null,
            (0, G.Xx)("#OptIn_Appeals_DoesNotExist", t),
          );
        const l = (0, te.Xj)(n.event_title, (0, ne.jM)(Le.De.LANGUAGE));
        return o.createElement(
          "div",
          { className: we().AdminPageCtn },
          o.createElement(
            "div",
            { className: we().PageTitle },
            (0, G.Xx)("#OptIn_Title", l),
          ),
          o.createElement(
            "div",
            null,
            (0, G.Xx)("#OptIn_DashBoard", i.name || "", a),
          ),
          o.createElement("hr", null),
          o.createElement(Yl, { optInDef: n }),
        );
      }
      function Yl(e) {
        const { optInDef: t } = e,
          n = Math.floor(Date.now() / 1e3);
        return t.event_end_date < n
          ? o.createElement("div", null, (0, G.Xx)("#OptIn_Appeals_IsOver"))
          : o.createElement(
              "div",
              { className: we().ColumnCtn },
              o.createElement(
                "div",
                { className: we().LeftCol },
                t.event_end_date < n
                  ? o.createElement("div", null, (0, G.Xx)("#OptIn_IsOver"))
                  : o.createElement(
                      o.Fragment,
                      null,
                      o.createElement(er, { optInDef: t }),
                      o.createElement(tr, { optInDef: t }),
                      o.createElement(nr, { optInDef: t }),
                      o.createElement(ir, { optInDef: t }),
                    ),
              ),
              o.createElement(
                "div",
                { className: we().RightCol },
                o.createElement(Jl, { optInDef: t }),
                o.createElement($l, { optInDef: t }),
                o.createElement(rr, { optInDef: t }),
              ),
            );
      }
      function Jl(e) {
        const { optInDef: t } = e,
          n =
            ((0, te.Xj)(t.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
            (0, xe.f)(t));
        return o.createElement(
          "div",
          { className: we().ColHeader },
          Boolean(n) &&
            o.createElement("div", {
              className: we().ColHeaderImg,
              style: { backgroundImage: `url( '${n}' )` },
            }),
          o.createElement(
            "div",
            { className: we().SmallText },
            (0, G.Xx)("#DiscountDashboard_DetailView_StartTimeLabel"),
            " ",
            o.createElement("span", null, (0, Qt.$1)(t.event_start_date), " "),
          ),
          o.createElement(
            "div",
            { className: we().SmallText },
            (0, G.Xx)("#DiscountDashboard_DetailView_EndTimeLabel"),
            " ",
            o.createElement("span", null, (0, Qt.$1)(t.event_end_date), " "),
          ),
        );
      }
      function $l(e) {
        var t, n;
        const { optInDef: a } = e;
        return (
          null === (t = a.do_anytime) || void 0 === t
            ? void 0
            : t.discount_event_id
        )
          ? o.createElement(
              "div",
              { className: we().SectionCtn },
              o.createElement(
                "div",
                { className: we().TitleSmall },
                (0, G.Xx)("#OptIn_EnterDiscount"),
              ),
              o.createElement(
                "p",
                null,
                o.createElement(
                  "a",
                  {
                    href: `${Le.De.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${null === (n = a.do_anytime) || void 0 === n ? void 0 : n.discount_event_id}`,
                  },
                  (0, G.Xx)("#OptIn_EnterDiscount_Button"),
                ),
              ),
            )
          : null;
      }
      function er(e) {
        var t;
        const { optInDef: n } = e,
          a = (0, te.Xj)(n.event_title, (0, ne.jM)(Le.De.LANGUAGE)),
          i = (0, xe.f)(n),
          l = (0, te.Xj)(n.description, (0, ne.jM)(Le.De.LANGUAGE), null),
          r = (0, te.Xj)(n.eligibility_text, (0, ne.jM)(Le.De.LANGUAGE), null);
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            { className: we().ColHeader },
            Boolean(i)
              ? o.createElement("div", {
                  className: we().ColHeaderImg,
                  style: { backgroundImage: `url( '${i}' )` },
                })
              : Boolean(a) && o.createElement("div", null, a),
          ),
          o.createElement(
            "div",
            { className: we().SectionCtn },
            Boolean(n.optin_deadline_date) &&
              o.createElement(
                "h1",
                null,
                (0, G.Xx)("#OptIn_Submission_Deadline"),
                " ",
                (0, Qt.$1)(n.optin_deadline_date),
              ),
            Boolean(l) && o.createElement(Ri.d, { text: l }),
            Boolean(r) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "h3",
                  null,
                  (0, G.Xx)("#OptIn_Appeals_EligibilityTitle"),
                ),
                o.createElement(Ri.d, { text: r }),
                o.createElement("h3", null, (0, G.Xx)("#OptIn_OptInOut_Title")),
                o.createElement(
                  "div",
                  null,
                  (0, G.Xx)("#OptIn_RegInstruction"),
                  Boolean(
                    null === (t = null == n ? void 0 : n.do_anytime) ||
                      void 0 === t
                      ? void 0
                      : t.discount_event_id,
                  ) &&
                    (0, G.Xx)(
                      "#OptIn_DiscountParticipation",
                      (0, Qt.$1)(n.event_start_date),
                    ),
                ),
              ),
          ),
        );
      }
      function tr(e) {
        const { optInDef: t } = e,
          n = zl();
        return n && 0 != n.length
          ? o.createElement(
              "div",
              { className: we().SectionCtn },
              o.createElement("h1", null, (0, G.Xx)("#OptIn_Registered_Games")),
              o.createElement(
                "table",
                { className: ue().EligibleGamesTable },
                o.createElement(
                  "thead",
                  null,
                  o.createElement(
                    "tr",
                    null,
                    o.createElement(
                      "th",
                      null,
                      (0, G.Xx)("#OptIn_Table_Col_Game"),
                    ),
                    o.createElement(
                      "th",
                      null,
                      (0, G.Xx)("#OptIn_Table_Col_AppID"),
                    ),
                    o.createElement("th", null),
                  ),
                ),
                o.createElement(
                  "tbody",
                  null,
                  n.map((e) =>
                    o.createElement(ar, {
                      key: "registered_" + e.appid,
                      bReview: !0,
                      appid: e.appid,
                      appName: e.app_name,
                      optInDef: t,
                    }),
                  ),
                ),
              ),
            )
          : null;
      }
      function nr(e) {
        const { optInDef: t } = e,
          n = (function () {
            const [e, t] = (0, o.useState)(null);
            return (
              (0, o.useEffect)(() => {
                const e = (0, f.ip)(
                  "optin_opportunities",
                  "application_config",
                );
                Wl(e) &&
                  ("dev" === f.De.WEB_UNIVERSE &&
                    console.log(
                      "useOptInOpportunitiesForDashboard has " + e.length,
                    ),
                  t(
                    e.map((e) =>
                      e.jsondata && "" !== e.jsondata
                        ? Object.assign(Object.assign({}, e), {
                            jsondata: JSON.parse(e.jsondata),
                          })
                        : Object.assign(Object.assign({}, e), { jsondata: {} }),
                    ),
                  ));
              }, []),
              e
            );
          })(),
          a = zl();
        return (!n || 0 == n.length) && (null == a ? void 0 : a.length) > 0
          ? null
          : o.createElement(
              "div",
              { className: we().SectionCtn },
              o.createElement("h1", null, (0, G.Xx)("#OptIn_Eligible_Games")),
              Boolean(!n || 0 == n.length)
                ? o.createElement(
                    "div",
                    { className: ue().NoEligibleCtn },
                    (0, G.Xx)("#OptIn_NoEligible_Games_Found"),
                  )
                : o.createElement(
                    "table",
                    { className: ue().EligibleGamesTable },
                    o.createElement(
                      "thead",
                      null,
                      o.createElement(
                        "tr",
                        null,
                        o.createElement(
                          "th",
                          null,
                          (0, G.Xx)("#OptIn_Table_Col_Game"),
                        ),
                        o.createElement(
                          "th",
                          null,
                          (0, G.Xx)("#OptIn_Table_Col_AppID"),
                        ),
                        o.createElement("th", null),
                      ),
                    ),
                    o.createElement(
                      "tbody",
                      null,
                      n.map((e) =>
                        o.createElement(ar, {
                          key: "opportunity_" + e.appid,
                          appid: e.appid,
                          appName: e.app_name,
                          optInDef: t,
                        }),
                      ),
                    ),
                  ),
            );
      }
      function ar(e) {
        const { appid: t, appName: n, optInDef: a, bReview: i } = e;
        return o.createElement(
          "tr",
          null,
          o.createElement("td", null, n),
          o.createElement("td", null, t),
          o.createElement(
            "td",
            null,
            o.createElement(
              m.KM,
              {
                onClick: (e) =>
                  (0, E.b8)(
                    e,
                    `${Le.De.PARTNER_BASE_URL}optin/sale/${a.pageid}/${t}`,
                  ),
              },
              (0, G.Xx)(i ? "#OptIn_ReviewReg" : "#OptIn_OptIn"),
            ),
          ),
        );
      }
      function ir(e) {
        const { optInDef: t } = e,
          [n, a] = (0, o.useState)(null),
          [i] = (0, Qe.jk)((0, Zl.u$)(n), (0, Zl.D3)(n), {
            include_assets: !0,
          }),
          l =
            (null == n ? void 0 : n.appid) &&
            0 == (null == i ? void 0 : i.GetAppType());
        return o.createElement(
          "div",
          { className: we().SectionCtn },
          o.createElement("h1", null, (0, G.Xx)("#OptIn_EligibleMissed_Title")),
          o.createElement("p", null, (0, G.Xx)("#OptIn_NoEligible_Desc1")),
          o.createElement(
            "ul",
            { className: "bullets" },
            o.createElement("li", null, (0, G.Xx)("#OptIn_NoEligible_Point1")),
            o.createElement("li", null, (0, G.Xx)("#OptIn_NoEligible_Point2")),
          ),
          o.createElement("p", null, (0, G.Xx)("#OptIn_NoEligible_Desc1_NF")),
          o.createElement(
            "div",
            { className: Tl.AppealsEntryPointCtn },
            o.createElement(
              "h3",
              null,
              (0, G.Xx)("#OptIn_EligibleMissed_GetStarted"),
            ),
            o.createElement("p", null, (0, G.Xx)("#OptIn_NoEligible_Desc2")),
            o.createElement(Kl.u, {
              itemType: 0,
              strLabel: (0, G.Xx)("#OptIn_SearchGame"),
              autoFocus: !1,
              fnSetItemID: (e) => {
                (n && n.appid == e) || a({ appid: e });
              },
            }),
            o.createElement(
              "div",
              { className: Tl.AppealSelectedApp },
              o.createElement(lr, { oFeaturedItem: n, oStoreItem: i }),
              o.createElement(
                m.KM,
                {
                  disabled: !l,
                  onClick: (e) =>
                    (0, E.b8)(
                      e,
                      `${Le.De.PARTNER_BASE_URL}optin/appeal/${t.pageid}/${null == n ? void 0 : n.appid}`,
                    ),
                },
                (0, G.Xx)(
                  l
                    ? "#OptIn_Appeals_Begin_Button"
                    : "#OptIn_SelectGameToAppeal",
                  null == i ? void 0 : i.GetName(),
                ),
              ),
            ),
          ),
        );
      }
      function lr(e) {
        const { oFeaturedItem: t, oStoreItem: n } = e;
        return t && !n
          ? o.createElement(
              "div",
              null,
              (0, G.Xx)("#OptIn_LoadingAppDetails", t.appid),
            )
          : n
            ? o.createElement(
                "div",
                { className: Tl.SelectedApp },
                o.createElement("img", { src: n.GetAssets().GetHeaderURL() }),
                o.createElement(
                  "div",
                  null,
                  n.GetName(),
                  " ",
                  "(",
                  t.appid,
                  ")",
                ),
                Boolean(0 != n.GetAppType()) &&
                  o.createElement(
                    "div",
                    null,
                    (0, G.Xx)("#OptIn_Dashbroad_NotSupportType"),
                  ),
              )
            : null;
      }
      function rr(e) {
        const { optInDef: t } = e;
        return o.createElement(
          "div",
          { className: we().SectionCtn },
          o.createElement(ql, { optInDef: t }),
          Boolean(Le.L7.is_support) &&
            o.createElement(
              "div",
              { className: _().ValveOnlyBackground },
              o.createElement(
                "a",
                {
                  href: `${Le.De.PARTNER_BASE_URL}optin/admin/edit/${t.pageid}`,
                },
                "Edit OptIn Definition",
              ),
            ),
        );
      }
      var or = n(86984),
        sr = n(22896),
        cr = n(73799),
        mr = n.n(cr),
        dr = n(79270);
      const ur = o.createContext({
        loadOptInAppealsSummaryStats: (e, t) =>
          (0, I.mG)(void 0, void 0, void 0, function* () {
            return yield (function (e) {
              _r ||
                (_r = new (mr())(
                  (t) =>
                    (0, I.mG)(this, void 0, void 0, function* () {
                      const n = U.gA.Init(V.Hj);
                      n.Body().set_opt_in_names([...t]);
                      const a = yield V.u2.GetOptInAppealsSummaryStats(e, n);
                      if (!a.BSuccess())
                        throw `Failed to call GetOptInAppealsSummaryStats with details: ${a.GetErrorMessage()}`;
                      const i = new Map();
                      return (
                        a
                          .Body()
                          .summary()
                          .forEach((e) => {
                            const t = e.toObject();
                            i.set(t.opt_in_name, t);
                          }),
                        t.map((e) => i.get(e))
                      );
                    }),
                  { maxBatchSize: 100 },
                ));
              return _r;
            })(t).load(e);
          }),
      });
      function pr(e, t, n) {
        return {
          queryKey: ["OptInAppealsSummaryStats", n],
          queryFn: () => e.loadOptInAppealsSummaryStats(n, t),
          enabled: !!n,
        };
      }
      let _r;
      function hr(e) {
        var t, n;
        (0, o.useEffect)(() => {
          r.v.Get();
        }, []);
        const [a, i] = (0, u.Ar)("tab", "active"),
          l = (e) => i(e.key),
          s = [
            {
              name: `App Review (${(null === (t = r.v.Get().GetAppReviewOptIn()) || void 0 === t ? void 0 : t.length) || 0})`,
              key: "appreview",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(gr, { list: r.v.Get().GetAppReviewOptIn() }),
              ),
              onClick: l,
            },
            {
              name: `Appeals Review (${(null === (n = r.v.Get().GetAppealReviewOptIn()) || void 0 === n ? void 0 : n.length) || 0})`,
              key: "appealss",
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(gr, {
                  list: r.v.Get().GetAppealReviewOptIn(),
                  bAppeals: !0,
                }),
              ),
              onClick: l,
            },
          ];
        return o.createElement(
          d.SV,
          null,
          o.createElement(
            "div",
            { className: x().DashboardCtn },
            o.createElement(
              "h1",
              null,
              "Opt-In App Review and Appeals Review Dashboard",
            ),
            o.createElement("hr", null),
            o.createElement(
              "p",
              null,
              "OptIn in App Review have not been announced to partner and we are reviewing apps for inclusion",
            ),
            o.createElement(
              "p",
              null,
              "OptIn in Appeal Review are publically announced allowing Steamworks partners to appear our original decisions to not include a game in a Steam theme fest.",
            ),
            o.createElement(v.n, { tabs: s, startingTab: a }),
          ),
        );
      }
      function gr(e) {
        const { list: t, bReverseOrder: n, bAppeals: a } = e,
          [i, l] = (0, u.Ar)("query", ""),
          r = (0, o.useMemo)(() => {
            const e = i.trim();
            return t
              .sort((e, t) =>
                n
                  ? e.sale_optin_enabled == t.sale_optin_enabled
                    ? t.event_start_date - e.event_start_date
                    : -1
                  : e.sale_optin_enabled == t.sale_optin_enabled
                    ? e.event_start_date - t.event_start_date
                    : e.sale_optin_enabled
                      ? -1
                      : 1,
              )
              .filter((t) => {
                var n, a, i, l;
                return (
                  0 == e.length ||
                  t.pageid.toLocaleLowerCase().includes(e) ||
                  (null ===
                    (a =
                      null === (n = t.opt_in_registration_title) || void 0 === n
                        ? void 0
                        : n.english) || void 0 === a
                    ? void 0
                    : a.toLocaleLowerCase().includes(e)) ||
                  (null ===
                    (l =
                      null === (i = t.event_title) || void 0 === i
                        ? void 0
                        : i.english) || void 0 === l
                    ? void 0
                    : l.toLocaleLowerCase().includes(e))
                );
              });
          }, [n, t, i]);
        return o.createElement(
          "div",
          null,
          o.createElement(m.II, {
            type: "string",
            value: i,
            onChange: (e) => l(e.currentTarget.value.toLocaleLowerCase()),
            label: "Filter",
            tooltip:
              "Filters the list to be those that contain the letters you typed exactly (case insenstive) on the page id or name",
            placeholder: "type here...",
          }),
          r.map((e) =>
            o.createElement(vr, { key: e.pageid, def: e, bAppeals: a }),
          ),
        );
      }
      function vr(e) {
        var t;
        const { def: n, bAppeals: a } = e,
          i =
            (null === (t = n.event_title) || void 0 === t
              ? void 0
              : t.english) || "No Name Assigned";
        return o.createElement(
          "div",
          {
            key: n.pageid,
            className: (0, S.Z)(
              x().OptInAdminRow,
              b().TileContainer,
              Boolean(a) ? x().OptinEnabled : "",
            ),
          },
          o.createElement(
            "div",
            { className: b().EventNameCtn },
            o.createElement(
              "div",
              { className: b().EventName },
              Boolean(i) && i,
              " ",
              o.createElement("span", null, "(", n.pageid, ")"),
            ),
            o.createElement(
              "div",
              { className: b().DatesCtn },
              o.createElement(
                "span",
                { className: b().DateAndTime },
                o.createElement(h.H6, {
                  dateAndTime: n.event_start_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
              "",
              o.createElement(
                "span",
                { className: b().DateAndTime },
                "To ",
                o.createElement(h.H6, {
                  dateAndTime: n.event_end_date,
                  bSingleLine: !0,
                  bOnlyDate: !0,
                }),
              ),
            ),
          ),
          o.createElement(
            "div",
            { className: b().EventDetailsCtn },
            o.createElement(
              "div",
              { className: x().StatsCtn },
              a
                ? o.createElement(Er, { def: n })
                : o.createElement(
                    "div",
                    { className: b().FeaturedApps },
                    o.createElement("div", { className: b().BigNumber }, "??"),
                    o.createElement(
                      "span",
                      {
                        "data-tooltip-text":
                          "Number of apps requiring app review",
                        className: _().HelperTooltip,
                      },
                      "Outstanding App Review (?)",
                    ),
                  ),
            ),
            o.createElement(
              "div",
              { className: (0, S.Z)(x().Button, x().ButtonCtn) },
              o.createElement(
                "a",
                {
                  href: `${f.De.PARTNER_BASE_URL}optin/appreview/${n.pageid}?tab=${a ? "review" : "appeal"}`,
                },
                "Open Review Tool",
              ),
            ),
          ),
        );
      }
      function Er(e) {
        const { def: t } = e,
          n = (function (e) {
            const t = (0, dr.i)(),
              n = o.useContext(ur);
            return (0, F.useQuery)(pr(n, t, e));
          })(t.pageid);
        return !n || n.isLoading
          ? o.createElement(T.V, {
              size: "medium",
              string: (0, G.Xx)("#Loading"),
            })
          : n.isError || n.isLoadingError
            ? o.createElement("div", null, "Failed to load appeals summary")
            : o.createElement(
                o.Fragment,
                null,
                o.createElement(
                  "div",
                  { className: b().FeaturedApps },
                  o.createElement(
                    "div",
                    { className: b().BigNumber },
                    n.data.open_appeals,
                  ),
                  o.createElement(
                    "span",
                    {
                      "data-tooltip-text":
                        "Number of appeals that are open requiring review",
                      className: _().HelperTooltip,
                    },
                    "Open Appeals to Review (?)",
                  ),
                ),
                o.createElement(
                  "div",
                  { className: b().FeaturedApps },
                  o.createElement(
                    "div",
                    { className: b().BigNumber },
                    n.data.accepted_appeals,
                  ),
                  o.createElement(
                    "span",
                    {
                      "data-tooltip-text": "Numbers appeals we accepted",
                      className: _().HelperTooltip,
                    },
                    "Accepted Appeals (?)",
                  ),
                ),
                o.createElement(
                  "div",
                  { className: b().FeaturedApps },
                  o.createElement(
                    "div",
                    { className: b().BigNumber },
                    n.data.reject_appeals,
                  ),
                  o.createElement(
                    "span",
                    {
                      "data-tooltip-text": "Numbers appeals we rejected",
                      className: _().HelperTooltip,
                    },
                    "Rejected Appeals (?)",
                  ),
                ),
              );
      }
      var Sr = n(58166);
      const Dr = {
          OptinAdminDashboard: () => "/admin/",
          OptinAdminEdit: (e) => `/admin/edit/${e}`,
          OptinAdminAnalysis: (e) => `/admin/analysis/${e}`,
          OptinAdminDemoAnalysis: (e) => `/admin/demo_analysis/${e}`,
          OptinAdminSupport: (e) => `/admin/support/${e}`,
          OptInPartnerDashboard: (e) => `/sale*/${e}`,
          OptInApp: (e, t) => `/sale*/${e}/${t}`,
          OptInAppAppeal: (e, t) => `/appeal/${e}/${t}`,
          OptInAppReview: (e) => `/appreview/${e}`,
          OptInAppReviewDashboard: () => "/appreview_dashboard",
        },
        fr = "sale_";
      function yr(e) {
        return (null == e ? void 0 : e.startsWith(fr)) ? e : fr + e;
      }
      function br(e) {
        return (0, ll.N)()
          ? o.createElement(
              s.VK,
              { basename: (0, a.l)() + "optin/" },
              o.createElement(nl, null),
              o.createElement(
                Rn.rs,
                null,
                o.createElement(Rn.AW, {
                  exact: !0,
                  path: a.Z.DiagData(),
                  render: (e) =>
                    o.createElement(
                      be.m,
                      Object.assign({}, e, {
                        strConfigID: "application_config",
                      }),
                    ),
                }),
                o.createElement(Rn.AW, {
                  exact: !0,
                  path: Dr.OptinAdminDashboard(),
                  component: Q,
                }),
                o.createElement(Rn.AW, {
                  exact: !0,
                  path: Dr.OptinAdminEdit(":pageid"),
                  render: (e) =>
                    o.createElement(
                      sr.F,
                      { pageid: e.match.params.pageid },
                      o.createElement(ki, null),
                    ),
                }),
                o.createElement(Rn.AW, {
                  exact: !0,
                  path: Dr.OptinAdminAnalysis(":pageid"),
                  render: (e) =>
                    o.createElement(
                      sr.F,
                      { pageid: e.match.params.pageid },
                      o.createElement(or.RG, null),
                    ),
                }),
                o.createElement(Rn.AW, {
                  exact: !0,
                  path: Dr.OptinAdminDemoAnalysis(":pageid"),
                  render: (e) =>
                    o.createElement(
                      sr.i,
                      { pageid: e.match.params.pageid },
                      o.createElement(Sr.k, { bShowOnlySummary: !1 }),
                    ),
                }),
                o.createElement(Rn.AW, {
                  exact: !0,
                  path: Dr.OptinAdminSupport(":appid"),
                  render: (e) =>
                    o.createElement(Ti, {
                      appid: Number.parseInt(e.match.params.appid),
                    }),
                }),
                o.createElement(Rn.AW, {
                  path: Dr.OptInApp(":partialpageid", ":appid"),
                  render: (e) =>
                    o.createElement(tl, {
                      appid: e.match.params.appid,
                      pageid: yr(e.match.params.partialpageid),
                    }),
                }),
                o.createElement(Rn.AW, {
                  path: Dr.OptInAppReviewDashboard(),
                  component: hr,
                }),
                o.createElement(Rn.AW, {
                  path: Dr.OptInAppReview(":pageid"),
                  render: (e) =>
                    o.createElement(Il, { pageid: e.match.params.pageid }),
                }),
                o.createElement(Rn.AW, {
                  path: Dr.OptInAppAppeal(":partialpageid", ":appid"),
                  render: (e) =>
                    o.createElement(Ul, {
                      appid: Number.parseInt(e.match.params.appid),
                      pageid: yr(e.match.params.partialpageid),
                    }),
                }),
                o.createElement(Rn.AW, {
                  path: Dr.OptInPartnerDashboard(":partialpageid"),
                  render: (e) =>
                    o.createElement(Ql, {
                      pageid: yr(e.match.params.partialpageid),
                    }),
                }),
                o.createElement(Rn.AW, { component: i.R }),
              ),
            )
          : null;
      }
    },
    40298: (e, t, n) => {
      "use strict";
      n.d(t, { k: () => G, j: () => x });
      var a = n(43344),
        i = n.n(a),
        l = n(1698),
        r = n(51485),
        o = n(36342),
        s = n(30750),
        c = n(47427),
        m = n(1485),
        d = n(31846),
        u = n(18133),
        p = n.n(u),
        _ = n(82624),
        h = n(36876),
        g = n(77178),
        v = n(90069),
        E = n(46882),
        S = n(50423),
        D = n(68553),
        f = n(26475),
        y = n(86437),
        b = n(83743),
        I = n(65255),
        C = n(87380);
      function k(e) {
        var t;
        const { oEditablePlan: n } = e,
          a = n.GetFeaturedItemType(),
          i = n.GetFeaturedItemID(),
          o = n.GetID(),
          s = (0, y.t9)(i, a),
          d = (0, r.Dv)(),
          u = Math.floor(Date.now() / 1e3),
          _ =
            (null !== (t = null == d ? void 0 : d.GetDueDate()) && void 0 !== t
              ? t
              : n.GetStartDate() - l.hZ) <= u,
          h = (0, C.A0)(n.GetID());
        return c.createElement(
          "div",
          null,
          c.createElement("h2", null, "Send to partner"),
          c.createElement(
            "div",
            { className: p().SendOptionsRow },
            c.createElement(
              "div",
              { className: p().EmailButtonsCtn },
              c.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                c.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Partner email",
                ),
                c.createElement(
                  m.zx,
                  {
                    disabled: _,
                    onClick: (e) =>
                      (0, v.AM)(
                        c.createElement(A, { oEditablePlan: n }),
                        (0, S.RA)(e),
                      ),
                  },
                  "Send Email Request",
                ),
                _ &&
                  c.createElement(
                    "div",
                    { className: p().Warning },
                    "Warning: due date is not in the future",
                  ),
              ),
              c.createElement(
                "div",
                { className: "DialogInputLabelGroup" },
                c.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "Contacts",
                ),
                c.createElement(D.Z, {
                  nPartnerID: n.GetPartnerID(),
                  storeItemFilter: s,
                }),
              ),
            ),
            c.createElement(
              "div",
              null,
              c.createElement(m.II, {
                type: "text",
                label: "You can share this link with the Partner:",
                tooltip:
                  "Any member of the partner can view or upload assets using that link. Only needs to be member of the partner.",
                value: `${I.De.PARTNER_BASE_URL}promotion/assetportal/request/${o}`,
                bShowCopyAction: !0,
                onChange: () => {},
              }),
              c.createElement(m.II, {
                type: "text",
                label:
                  "For users WITHOUT a partner account, you can share this URL:",
                tooltip:
                  "This lets ANYONE with this URL to see existing assets and upload additional assets to this plan. They do not need to be logged in.",
                value: `${I.De.PARTNER_BASE_URL}promotion/assetportal/externalrequest/${o}?inputaccesskey=${h.oPlanContainer.input_access_key}`,
                bShowCopyAction: !0,
                onChange: () => {},
              }),
            ),
          ),
          c.createElement(w, { oEditablePlan: n }),
          c.createElement(T, null),
        );
      }
      function A(e) {
        var t;
        const { oEditablePlan: n, closeModal: a } = e,
          { fnCreatePromoInvite: i } = (0, h.LL)(),
          o = (0, b.tx)(),
          s = (0, r.Dv)(),
          m =
            null !== (t = null == s ? void 0 : s.GetDueDate()) && void 0 !== t
              ? t
              : n.GetStartDate() - l.hZ;
        return o.bLoading
          ? c.createElement(b.NT, {
              state: o,
              strDialogTitle: "Send Email To Partner",
              closeModal: a,
            })
          : c.createElement(g.uH, {
              strTitle: "Send Email To Partner",
              strDescription:
                "This will send an assets and discount event request to the partner",
              onCancel: a,
              onOK: function () {
                const e = {
                  type: 4,
                  oInviteItem: (0, y.Xm)(n.GetStoreItemKey()),
                  rtExpireTime: m,
                  nPartnerID: n.GetPartnerID(),
                  strPromotionPlanID: n.GetID(),
                };
                o.fnSetLoading(!0),
                  i(e)
                    .then((e) => {
                      1 == e
                        ? (o.fnSetStrSuccess(
                            "Asset request sent! We sent an email to the users with communication permissions and publish app permission for the selected game. You can close this dialog.",
                          ),
                          o.fnSetSuccess(!0))
                        : 13 == e
                          ? (o.fnSetError(!0),
                            o.fnSetStrError(
                              "Unable to send asset request. The partner does not have a user set to receive communications.",
                            ))
                          : 8 == e
                            ? (o.fnSetError(!0),
                              o.fnSetStrError(
                                "Unable to send asset request. A parameter is invalid.",
                              ))
                            : (o.fnSetError(!0),
                              o.fnSetStrError(
                                "Failed to send asset request - eResult: " + e,
                              ));
                    })
                    .catch((e) => {
                      o.fnSetError(!0),
                        o.fnSetStrError(
                          "Failed to create invitation - check console/network logs",
                        );
                    });
              },
            });
      }
      function w(e) {
        const { oEditablePlan: t } = e,
          n = (0, h.bu)(t.GetID());
        return c.createElement(
          "div",
          null,
          c.createElement("h2", null, "Email History"),
          c.createElement(
            "div",
            { className: p().EmailHistory },
            Boolean(null == n) && c.createElement(E.V, { size: "medium" }),
            Boolean(null != n && 0 == n.length) &&
              c.createElement("div", null, "No previous emails sent"),
            null == n
              ? void 0
              : n.map((e) =>
                  c.createElement(P, { key: "eh_" + e.inviteid, email: e }),
                ),
          ),
        );
      }
      function P(e) {
        const { email: t } = e;
        return c.createElement("div", null, (0, d.$1)(t.rtinvitetime));
      }
      function T(e) {
        const t = (0, r.Dv)();
        return c.createElement(
          "div",
          { className: p().AltAssetCtn },
          c.createElement("h2", null, "Alt asset location"),
          c.createElement(
            "p",
            null,
            "If the partner sent us assets some other way, add the URL below so the promo plan can move to the next step.",
          ),
          c.createElement(f.UR, {
            name: "Dropbox or Google Drive Link",
            index: 0,
            placeHolder:
              "Any link to a location such as Dropbox or Box or Google Drive that the partner has prepared and uploaded their art for the promotion.",
            id: t.GetArtInputLink(),
            fnSetID: t.SetInputArtworkLink,
            fnGetURL: (e) => e,
          }),
        );
      }
      var N = n(37485),
        R = n.n(N);
      function G(e) {
        const t = (0, o.Gn)(),
          [n, a, i, l, r] = (0, s.SZ)(() => [
            t.GetID(),
            t.GetPartnerRequireArtworkReview(),
            t.GetStoreItemKey(),
            t.GetPartnerID(),
            t.GetOriginalPartnerID(),
          ]);
        return c.createElement(
          "div",
          null,
          c.createElement(
            "div",
            { className: p().PartnerSettingCtn },
            c.createElement(_.x, {
              storeItemKey: i,
              nPartnerID: l,
              nOriginalPartnerID: r,
              fnUpdatePartnerID: t.SetPartnerID,
              showPartnerInitialSetWarning: !0,
            }),
            c.createElement(m.ji, {
              label:
                "Requires partner approval of final art assets we created (uncommon)",
              tooltip:
                "Only tick this if absolutely necessary. Limit this setting this to only those partners that are required to get external review by IP holders.",
              checked: a,
              onChange: (e) => t.SetPartnerRequireArtworkReview(e),
            }),
          ),
          c.createElement(
            "div",
            { className: p().SetupRow },
            c.createElement(L, null),
            c.createElement(
              "div",
              null,
              c.createElement(B, null),
              c.createElement(M, null),
            ),
          ),
          c.createElement("br", null),
          c.createElement(k, { oEditablePlan: t }),
        );
      }
      function L(e) {
        const { bReviewApprovals: t } = e;
        return c.createElement(
          "div",
          { className: p().AssetNeedsColumn },
          c.createElement("h3", null, "Required Assets"),
          l.Vd.filter((e) => !l._S.includes(e)).map((e) =>
            c.createElement(
              "div",
              { key: e, className: p().AssetTypeRow },
              c.createElement(x, {
                bReviewApprovals: t,
                type: e,
                index: "marketingmessage_art_2" === e ? 1 : void 0,
              }),
            ),
          ),
        );
      }
      function B(e) {
        const t = (0, o.Gn)(),
          n = (0, r.Dv)(),
          [a, u] = (0, c.useState)(Boolean(n.GetDueDate())),
          [_, h] = (0, s.SZ)(() => [t.GetStartDate(), n.GetDueDate()]);
        return a
          ? c.createElement(
              c.Fragment,
              null,
              c.createElement("h3", null, "DUE DATE"),
              c.createElement(
                "div",
                { style: { paddingBottom: "10px" } },
                "Recommended due date is a week before the event starts. This won't prevent them from providing art after this point, but clarifies our expectations of the partner",
              ),
              c.createElement(i(), {
                timeFormat: !1,
                onChange: (e) => {
                  e.unix && n.SetDueDate(e.unix());
                },
                isValidDate: (e) =>
                  e.unix() < R().unix(_).hour(0).seconds(0).minute(0).unix(),
                value: h ? new Date(1e3 * h) : void 0,
              }),
              c.createElement(
                "p",
                null,
                "( Promotion Starts: ",
                (0, d.$1)(_),
                " )",
              ),
            )
          : c.createElement(
              c.Fragment,
              null,
              c.createElement("h3", null, "Due Date: "),
              c.createElement(
                "h2",
                null,
                (0, d.$1)(_ - l.hZ),
                c.createElement(
                  "div",
                  { className: p().DateCustomizeCtn },
                  c.createElement(
                    "span",
                    null,
                    c.createElement(m.ji, {
                      label: "Customize",
                      onClick: () => u(!0),
                      checked: !1,
                    }),
                  ),
                ),
              ),
            );
      }
      function x(e) {
        const {
            type: t,
            index: n,
            bReviewApprovals: a,
            bLocalizationRequest: i,
          } = e,
          d = (0, o.Gn)(),
          u = (0, r.Dv)(),
          _ = (0, s.SZ)(() => d.BHasPromotionFeaturingForArtRequirement(t, n)),
          h = (0, s.SZ)(() =>
            a
              ? u.BIsArtTypeReviewRequested(t)
              : i
                ? d.BHasArtworkLocalizationRequest(t)
                : u.BIsArtTypeRequested(t),
          ),
          [g, v] = (0, s.SZ)(() => [
            d.BHasTakeoverIDs(),
            d.BHasSteamChinaTakeoverID(),
          ]);
        return _
          ? c.createElement(m.ji, {
              label: (0, l.gl)(t),
              checked: h,
              onChange: (e) => {
                a
                  ? (u.ToggleArtReviewRequest(t, e),
                    u.SetContentHubTakeover(
                      e && "takeover_art" == t && !g && !v,
                    ))
                  : i
                    ? d.ToggleArtworkLocalizationRequest(t, e)
                    : (u.ToggleArtRequest(t, e),
                      u.SetContentHubTakeover(
                        e && "takeover_art" == t && !g && !v,
                      ));
              },
            })
          : c.createElement(
              "div",
              { className: p().TypeNotLinked },
              "No linked ",
              c.createElement("b", null, (0, l.gl)(t)),
            );
      }
      function M(e) {
        const t = (0, r.Dv)();
        return c.createElement(
          "div",
          { className: p().InstructionCtn },
          c.createElement("h3", null, "Special Instruction for the Dev?"),
          c.createElement("textarea", {
            className: "DialogTextInputBase",
            value: t.GetValveNote() || "",
            onChange: (e) => {
              var n;
              return t.SetValveNote(
                (null === (n = null == e ? void 0 : e.currentTarget) ||
                void 0 === n
                  ? void 0
                  : n.value) || "",
              );
            },
          }),
          c.createElement(
            "p",
            null,
            "These instructions show up down below in big letters for the partner to see",
          ),
        );
      }
    },
    92195: (e, t, n) => {
      "use strict";
      n.d(t, { Jr: () => k, Q: () => w, Sn: () => I });
      var a = n(85556),
        i = n(52077),
        l = n(93727),
        r = n(43204),
        o = n(44107),
        s = n(87380),
        c = n(47427),
        m = n(86437),
        d = n(80886),
        u = n(77681),
        p = n.n(u),
        _ = n(1485),
        h = n(83743),
        g = n(77178),
        v = n(90069),
        E = n(46882),
        S = n(16649),
        D = n(13129),
        f = n(50423),
        y = n(17098),
        b = n(60688);
      function I(e) {
        const t = (0, r.fL)();
        return c.createElement(
          "div",
          { className: b.EditCtn },
          c.createElement(
            "div",
            { className: p().PageTitle },
            "Marketing Message - Partner Asset Request",
          ),
          c.createElement("hr", null),
          Boolean(t.BHasPlanAssetRequestGID())
            ? c.createElement(y.F, { bShowLinkToPromotionPlan: !0 })
            : c.createElement(C, { oEditableMessage: t }),
        );
      }
      function C(e) {
        const { oEditableMessage: t } = e;
        return c.createElement(
          "div",
          {
            className: (0, D.Z)(p().DefaultSectionCtn, p().ValveOnlyBackground),
          },
          c.createElement(
            "p",
            null,
            "Most marketing messages asset requests are handled by the overall promotion plans (think weekend deal etc...) as that would encompass all of the asset types in a single request (marketing message, spotlight etc...).",
          ),
          c.createElement(
            "p",
            null,
            "However, if this is a marketing message outside normal promotion boundarys (one off such as 'now available'), then you create an asset request here. NOTE: Under the covers this will a simple asset request only promotion plan.",
          ),
          c.createElement(
            _.zx,
            {
              onClick: (e) =>
                (0, v.AM)(
                  c.createElement(A, { oEditableMessage: t }),
                  (0, f.RA)(e),
                ),
            },
            "Create Asset Request",
          ),
        );
      }
      function k(e, t, n, i, l) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = t.GetStoreItemID();
          let r = null;
          try {
            const e = {
                requested_store_item_type: (0, m.D3)(a),
                requested_store_item_id: (0, m.u$)(a),
                requested_type: "assetrequest",
                requested_promotion_name: t.GetName(),
                enable_input: !0,
                art_requests: ["marketingmessage_art"],
                input_artwork_url: "",
              },
              o = yield n({
                type: "assetrequest",
                strName: t.GetName(),
                rtStartDate: t.GetStartRTime(),
                rtEndDate: t.GetEndRTime(),
                storeItemID: (0, m.u$)(a),
                storeItemType: (0, m.D3)(a),
                strMarketingMessageID: t.GetGID(),
                inputPipelineModel: e,
                nPartnerID: l,
              });
            if (o) {
              t.SetPlanAssetRequestGID(o);
              (yield i(t))
                ? t.SaveSuccessClearDirty()
                : (r = {
                    strErrorMsg:
                      "Plan created... but failed to save marketing message",
                  });
            } else r = { strErrorMsg: "Failed to create promotion plan." };
          } catch (e) {
            r = (0, S.l)(e);
          }
          return (
            r
              ? (e.fnSetError(!0),
                e.fnSetStrError(r.strErrorMsg),
                console.error(
                  "CreateAssetRequestForMarketingMessage fail to create and associate plan: " +
                    r.strErrorMsg,
                  r,
                ))
              : (e.fnSetSuccess(!0),
                e.fnSetStrSuccess("Asset Request Unlocked")),
            !r
          );
        });
      }
      function A(e) {
        const { oEditableMessage: t, closeModal: n } = e,
          { fnAddNewPlan: i } = (0, s.$H)(),
          { fnUpdateMarketingMessage: l } = (0, o.jI)(),
          r = (0, h.tx)();
        return r.bLoading
          ? c.createElement(h.NT, {
              state: r,
              strDialogTitle: "Creating Asset Request",
              closeModal: n,
            })
          : c.createElement(g.uH, {
              strTitle: "Create Asset Request?",
              strDescription:
                "By clicking confirm, this will unlock the asset request for this marketing message only. It will create an assert request only promotion plan for the rest of operations and artwork workflow.",
              onCancel: n,
              onOK: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  r.fnSetLoading(!0), yield k(r, t, i, l);
                }),
            });
      }
      function w(e) {
        const t = (0, i.Rx)();
        return c.createElement(
          "div",
          { className: b.EditCtn },
          c.createElement(
            "div",
            { className: p().PageTitle },
            "Daily Deal - Partner Asset Request",
          ),
          c.createElement("hr", null),
          Boolean(t.BHasPromotionPlanAssetRequest())
            ? c.createElement(y.F, { bShowLinkToPromotionPlan: !0 })
            : c.createElement(P, { oEditableDailyDeal: t }),
        );
      }
      function P(e) {
        const { oEditableDailyDeal: t } = e;
        return c.createElement(
          "div",
          {
            className: (0, D.Z)(p().DefaultSectionCtn, p().ValveOnlyBackground),
          },
          c.createElement(
            "p",
            null,
            "Daily deal do not usually require asset request. They are usually self contain because of their existing store item capsule (app capsule, package capsule and bundle capsules).",
          ),
          c.createElement(
            "p",
            null,
            "However, if this is a daily deal is specifically for a sale page, then we need to request art for the advertising app's capsule and the sale event capsule and sale page background.",
          ),
          c.createElement(
            _.zx,
            {
              onClick: (e) =>
                (0, v.AM)(
                  c.createElement(T, { oEditableDailyDeal: t }),
                  (0, f.RA)(e),
                ),
            },
            "Create Asset Request",
          ),
        );
      }
      function T(e) {
        const { oEditableDailyDeal: t, closeModal: n } = e,
          { fnAddNewPlan: i } = (0, s.$H)(),
          r = t.GetStoreItemKey(),
          [o, u] = (0, d.jk)(r.id, (0, m.GV)(r.item_type), {}),
          { fnSaveDailyDeal: p } = (0, l.oQ)(),
          _ = (0, h.tx)();
        return _.bLoading
          ? c.createElement(h.NT, {
              state: _,
              strDialogTitle: "Creating Asset Request",
              closeModal: n,
            })
          : c.createElement(
              g.uH,
              {
                strTitle: "Create Asset Request?",
                strDescription:
                  "By clicking confirm, this will unlock the asset request for this daily dea only. It will create an assert request only promotion plan for the rest of operations and artwork workflow.",
                onCancel: n,
                bOKDisabled: !o,
                onOK: () =>
                  (0, a.mG)(this, void 0, void 0, function* () {
                    _.fnSetLoading(!0);
                    const e = t.GetStoreItemKey();
                    let n = null;
                    try {
                      const a = "Daily Deal - " + o.GetName(),
                        l = {
                          requested_store_item_type: (0, m.GV)(e.item_type),
                          requested_store_item_id: e.id,
                          requested_type: "assetrequest",
                          requested_promotion_name: a,
                          enable_input: !0,
                          art_requests: ["sale_header"],
                          input_artwork_url: "",
                        },
                        r = yield i({
                          type: "assetrequest",
                          strName: a,
                          rtStartDate: t.GetStartDateRTime(),
                          rtEndDate: t.GetEndDateRTime(),
                          strDiscountEventID: t.GetDiscountEventID(),
                          storeItemID: e.id,
                          storeItemType: (0, m.GV)(e.item_type),
                          strDailyDealID: t.GetDealID(),
                          inputPipelineModel: l,
                        });
                      if (r) {
                        t.SetPromotionPlanAssetRequestID(r);
                        (yield p(t.GetModel())) ||
                          (n = {
                            strErrorMsg:
                              "Plan created... but failed to save daily deal",
                          });
                      } else
                        n = { strErrorMsg: "Failed to create promotion plan." };
                    } catch (e) {
                      n = (0, S.l)(e);
                    }
                    n
                      ? (_.fnSetError(!0),
                        _.fnSetStrError(n.strErrorMsg),
                        console.error(
                          "CreateAssetRequestForMarketingMessage fail to create and associate plan: " +
                            n.strErrorMsg,
                          n,
                        ))
                      : (_.fnSetSuccess(!0),
                        _.fnSetStrSuccess("Asset Request Unlocked"));
                  }),
              },
              !o &&
                c.createElement(E.V, {
                  string: "Loading Store Item",
                  size: "medium",
                  position: "center",
                }),
            );
      }
    },
    17912: (e, t, n) => {
      "use strict";
      n.d(t, { oA: () => pe, v9: () => se, Vc: () => le });
      var a = n(51485),
        i = n(30750),
        l = n(47427),
        r = n(77681),
        o = n.n(r),
        s = n(18133),
        c = n.n(s),
        m = n(1485),
        d = n(83743),
        u = n(77178),
        p = n(90069),
        _ = n(59728),
        h = n(50423),
        g = n(31846),
        v = n(65255);
      function E(e, t, n) {
        return `${v.De.BASE_URL_SHARED_CDN}store_item_assets/assetportal/preview//${e}/${t}/${n}`;
      }
      var S = n(56164),
        D = n(38071),
        f = n(98330),
        y = n(9466),
        b = n(62210),
        I = n(71472);
      function C(e) {
        const { promoAssetType: t, planID: n } = e,
          i = (0, l.useMemo)(() => [t], [t]),
          r = (0, a.Dv)(),
          o = (0, l.useMemo)(
            () => [D.IN.k_ESteamRealmGlobal, D.IN.k_ESteamRealmChina],
            [],
          ),
          [s] = (0, I.Ar)("inputaccesskey", null),
          m = (0, l.useCallback)(
            (e, n, a, i, l) => {
              (0, b.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              ),
                r.SetPreviewArt(a, t, e + (0, f.U)(i));
            },
            [r, t],
          );
        let d = "#AssetRequest_General_Upload",
          u = "#AssetRequest_General_Upload_def";
        switch (t) {
          case "marketingmessage_art":
          case "marketingmessage_art_2":
            u = "#AssetRequest_General_Upload_defgif";
            break;
          case "takeover_art":
            d = "#AssetRequest_General_Upload_takeover";
            break;
          case "takeover_mobile_art":
            d = "#AssetRequest_General_Upload_takeover_mobile";
            break;
          case "takeunder_art":
            d = "#AssetRequest_General_Upload_takeunder";
            break;
          case "takeunder_mobile_art":
            d = "#AssetRequest_General_Upload_takeunder_mobile";
            break;
          case "sale_header":
            d = "#AssetRequest_General_Upload_saleheader";
            break;
          case "sale_logo":
            d = "#AssetRequest_General_Upload_sale_logo";
            break;
          case "capsule":
            d = "#AssetRequest_General_Upload_event_capsule";
            break;
          case "product_banner":
            d = "#AssetRequest_General_Upload_productbanner";
            break;
          case "product_mobile_banner":
            d = "#AssetRequest_General_Upload_productbanner_mobile";
            break;
          case "localized_title_image":
            d = "#AssetRequest_General_Upload_localized_title_image";
        }
        let p = `${v.De.PARTNER_BASE_URL}promotion/assetportal/ajaxuploadpreviewasset/${n}`;
        return (
          s &&
            (p = `${v.De.PARTNER_BASE_URL}promotion/assetportal/ajaxuploadpreviewassetexternal/${n}?inputaccesskey=${s}`),
          l.createElement(
            "div",
            { className: c().UploadPreviewCtn },
            l.createElement(
              "h2",
              null,
              (0, g.Xx)(d),
              " ",
              l.createElement(
                "span",
                null,
                (0, g.Xx)("#AssetRequest_General_Upload_req"),
              ),
            ),
            l.createElement("div", null, (0, g.Xx)(u), " "),
            l.createElement(y.j, {
              rgSupportArtwork: i,
              rgRealmList: o,
              strUploadAjaxURL: p,
              fnOnUploadSuccess: m,
            }),
          )
        );
      }
      function k(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)(),
          [r, o, s, m] = (0, i.SZ)(() => [
            n.BIsMarketingMessageArtRequest(),
            n.BHasPreviewArtOfType("marketingmessage_art"),
            n.BHasPreviewArtOfType("marketingmessage_art_2"),
            n.BIsMarketingMessageArtRequest_2(),
          ]);
        if (!r) return null;
        let d = o ? 1 : 0;
        s && (d += 1);
        let u = m ? 2 : 1;
        return l.createElement(
          "div",
          { className: c().AssetSection },
          l.createElement(
            S.ug,
            {
              className: c().TitleBar,
              title: (0, g.Xx)("#AssetRequest_MM_Title", `${d}/${u}`),
            },
            l.createElement(
              "div",
              { className: c().SectionCtn },
              l.createElement(
                "div",
                { className: c().AssetSpecs },
                l.createElement(pe, {
                  strTemplateURL:
                    "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                  strDocURL:
                    "https://partner.steamgames.com/doc/store/assets/promos",
                  strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                }),
                l.createElement(
                  "div",
                  null,
                  (0, g.Xx)("#AssetRequest_General_Size", 570, 600),
                ),
                l.createElement("br", null),
                l.createElement(
                  "div",
                  null,
                  (0, g.Xx)("#AssetRequest_MM_Usage"),
                ),
                l.createElement("br", null),
                l.createElement(
                  "ul",
                  null,
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Design"),
                  ),
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Design1"),
                  ),
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Hint"),
                  ),
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_MM_Animation"),
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: c().AssetUploadPreviewCtn },
                l.createElement(
                  "div",
                  { className: c().AssetUploadPreview },
                  l.createElement(C, {
                    planID: t.id,
                    promoAssetType: "marketingmessage_art",
                  }),
                  l.createElement(A, {
                    planIdentify: t,
                    promoAssetType: "marketingmessage_art",
                  }),
                ),
                Boolean(m) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement("br", null),
                    l.createElement("br", null),
                    l.createElement(
                      "div",
                      { className: c().AssetUploadPreview },
                      l.createElement(C, {
                        planID: t.id,
                        promoAssetType: "marketingmessage_art_2",
                      }),
                      l.createElement(A, {
                        planIdentify: t,
                        promoAssetType: "marketingmessage_art_2",
                      }),
                    ),
                  ),
              ),
            ),
          ),
          l.createElement("br", null),
        );
      }
      function A(e) {
        const { planIdentify: t, promoAssetType: n } = e,
          i = (0, a.Dv)().GetPreviewArtOfType(n);
        return l.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          l.createElement("img", {
            src: (null == i ? void 0 : i.filename)
              ? E(t.id, i.lang, i.filename)
              : void 0,
          }),
        );
      }
      var w = n(1698),
        P = n(80886),
        T = n(71741),
        N = n.n(T),
        R = n(38201),
        G = n(62613),
        L = n(46882),
        B = n(13129),
        x = n(60688),
        M = n(36342),
        O = n(82624);
      function F(e) {
        const { planIdentify: t, bShowDetails: n } = e,
          r = (0, a.Dv)(),
          [s, c] = (0, i.SZ)(() => [
            r.GetArtRequests() || [],
            r.GetDueDate() || t.start_date - w.hZ,
          ]);
        return l.createElement(
          "div",
          { className: (0, B.Z)(o().RightCol, o().NoSticky) },
          l.createElement(
            "div",
            { className: o().SectionCtn },
            l.createElement(
              m.__,
              null,
              (0, g.Xx)("#AssetRequest_Type_default"),
            ),
            l.createElement(V, Object.assign({}, e)),
          ),
          Boolean(n) &&
            l.createElement(
              "div",
              { className: o().SectionCtn },
              l.createElement(
                "div",
                null,
                (0, g.Xx)("#AssetRequest_Require_Title"),
              ),
              l.createElement(
                "div",
                null,
                s
                  .filter((e) => "marketingmessage_art_2" != e)
                  .map((e) =>
                    l.createElement(j, {
                      key: e,
                      name: (0, g.Xx)("#AssetRequest_ArtType_" + e),
                      dueDate: c,
                      iconType: "PSD",
                    }),
                  ),
                l.createElement(j, {
                  name: (0, g.Xx)("#AssetRequest_ArtType_fonts"),
                  dueDate: c,
                  iconType: "Font",
                }),
              ),
            ),
          Boolean(n) && l.createElement(U, { planIdentify: t }),
        );
      }
      function U(e) {
        return v.L7.is_support
          ? l.createElement(H, Object.assign({}, e))
          : null;
      }
      function H(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)(),
          r = (0, M.Gn)(),
          s = (0, i.SZ)(() => (null == r ? void 0 : r.GetPartnerID()));
        return l.createElement(
          "div",
          { className: o().SectionCtn },
          l.createElement(
            "div",
            { className: N().ValveOnlyBackground },
            l.createElement("div", null, "Support Only:"),
            l.createElement(
              "a",
              {
                href: `${v.De.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
              },
              "Promotion Plan Link",
            ),
            l.createElement(O.t, {
              nPartnerID: t.permitted_partner_id || s,
              showPartnerUnsetWarning: !0,
            }),
            Boolean(n.GetSubmittingAccount()) &&
              l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  m.__,
                  null,
                  "Submitting Account:",
                  l.createElement(
                    _.HP,
                    {
                      toolTipContent:
                        "This is the last account which was used to hit submit on this form.",
                    },
                    "(?)",
                  ),
                ),
                l.createElement(
                  "div",
                  { className: x.OwnerCtn },
                  l.createElement(
                    "div",
                    null,
                    l.createElement(R.N, {
                      accountID: n.GetSubmittingAccount(),
                    }),
                  ),
                ),
              ),
          ),
        );
      }
      function V(e) {
        const { planIdentify: t } = e;
        let n = (0, g.Xx)("#AssetRequest_Type_default"),
          a = (0, g.Xx)("#AssetRequest_MoreInfo_default"),
          i = "https://partner.steamgames.com/doc/store/assets/promos";
        switch (t.type) {
          case "midweek":
            (n = (0, g.Xx)("#AssetRequest_Type_" + t.type)),
              (a = (0, g.Xx)("#AssetRequest_MoreInfo_" + t.type)),
              (i = "https://partner.steamgames.com/doc/store/promo/midweek");
            break;
          case "weekenddeal":
            (n = (0, g.Xx)("#AssetRequest_Type_" + t.type)),
              (a = (0, g.Xx)("#AssetRequest_MoreInfo_" + t.type)),
              (i = "https://partner.steamgames.com/doc/store/promo/weekend");
        }
        return l.createElement(
          "div",
          { className: c().PromoDetailsCtn },
          l.createElement(X, { planIdentify: t }),
          l.createElement(
            "div",
            { className: c().PromoText },
            l.createElement("h2", null, n),
            l.createElement("div", null, (0, g.$1)(t.start_date)),
            l.createElement("div", null, (0, g.$1)(t.end_date)),
            l.createElement("br", null),
            l.createElement("a", { href: i }, a),
          ),
        );
      }
      function X(e) {
        const { planIdentify: t } = e,
          [n] = (0, P.jk)(t.store_item_id, t.store_item_type, {
            include_assets: !0,
          });
        return t.store_item_id
          ? l.createElement(
              l.Fragment,
              null,
              Boolean(n)
                ? l.createElement(
                    "div",
                    { className: c().FeaturedApp },
                    l.createElement(
                      _.HP,
                      { toolTipContent: n.GetName() },
                      l.createElement(
                        "a",
                        { href: n.GetStorePageURL() },
                        l.createElement("img", {
                          src:
                            null == n ? void 0 : n.GetAssets().GetHeaderURL(),
                        }),
                      ),
                    ),
                  )
                : l.createElement(L.V, { size: "medium" }),
            )
          : null;
      }
      function j(e) {
        const { name: t, iconType: n, dueDate: a } = e;
        return l.createElement(
          "div",
          { className: c().ArtTaskCtn },
          l.createElement(
            "div",
            { className: c().Icon },
            "PSD" == n
              ? l.createElement(G.YUK, null)
              : l.createElement(G.Zxw, null),
          ),
          l.createElement("div", { className: c().Asset }, t),
          l.createElement(
            "div",
            { className: c().Deadline },
            (0, g.Xx)("#AssetRequest_Deadline"),
            " ",
            l.createElement("span", null, (0, g.$1)(a)),
          ),
        );
      }
      var q = n(11619);
      function W(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)(),
          [r, o] = (0, i.SZ)(() => [
            n.BIsSpotlightArtRequest(),
            n.BHasPreviewArtOfType("spotlight_art"),
          ]);
        return r
          ? l.createElement(
              "div",
              { className: c().AssetSection },
              l.createElement(
                S.ug,
                {
                  className: c().TitleBar,
                  title: (0, g.Xx)(
                    "#AssetRequest_Spotlight_Title",
                    o ? "1/1" : "0/1",
                  ),
                },
                l.createElement(
                  "div",
                  { className: c().SectionCtn },
                  l.createElement(
                    "div",
                    { className: c().AssetSpecs },
                    l.createElement(pe, {
                      strTemplateURL:
                        "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                      strDocURL:
                        "https://partner.steamgames.com/doc/store/assets/promos",
                      strTemplateName: (0, g.Xx)(
                        "#AssetRequest_General_DropBox",
                      ),
                    }),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 306, 260),
                    ),
                    l.createElement("br", null),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_Spotlight_Usage"),
                    ),
                    l.createElement("br", null),
                    l.createElement(
                      "ul",
                      null,
                      l.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design"),
                      ),
                      l.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design2"),
                      ),
                      l.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design3"),
                      ),
                      l.createElement(
                        "li",
                        null,
                        (0, g.Xx)("#AssetRequest_Spotlight_Design4"),
                      ),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreviewCtn },
                    l.createElement(
                      "div",
                      { className: c().AssetUploadPreview },
                      l.createElement(C, {
                        planID: t.id,
                        promoAssetType: "spotlight_art",
                      }),
                      l.createElement(z, { planIdentify: t }),
                    ),
                  ),
                ),
              ),
              l.createElement("br", null),
            )
          : null;
      }
      function z(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)().GetPreviewArtOfType("spotlight_art");
        return l.createElement(
          "div",
          { className: c().SpotlightPreviewCtn },
          l.createElement("img", {
            src: (null == n ? void 0 : n.filename)
              ? E(t.id, n.lang, n.filename)
              : void 0,
          }),
          l.createElement(
            "div",
            { className: c().Content },
            l.createElement(
              "div",
              { className: c().Title },
              (0, g.Xx)("#AssetRequest_Type_" + t.type),
            ),
            l.createElement(
              "div",
              { className: c().Subtitle },
              (0, g.Xx)("#AssetRequest_Spotlight_End", (0, g.$1)(t.end_date)),
            ),
            l.createElement(q.Vh, {
              bIsPrePurchase: !1,
              bSingleLineMode: !1,
              nDiscountPercentage: 50,
              nBaseDiscountPercentage: null,
              strBestPurchasePriceFormatted: "$14.99",
              strBestPurchaseOriginalPriceFormatted: "$30.00",
              bHideDiscountPercentForCompliance: !1,
              bShowNewFlag: !1,
            }),
          ),
        );
      }
      var Z = n(37563),
        K = n(82756),
        Q = n(7073),
        Y = n(81033),
        J = n(95666);
      function $(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)(),
          [r, o, s, m] = (0, i.SZ)(() => [
            n.BIsTakeoverArtRequest(),
            n.BIsContentHubTakeoverArtRequest(),
            n.BHasPreviewArtOfType("takeover_art"),
            n.BHasPreviewArtOfType("takeover_mobile_art"),
          ]);
        if (!r) return null;
        let d = s ? 1 : 0;
        return (
          m && (d += 1),
          l.createElement(
            "div",
            { className: c().AssetSection },
            l.createElement(
              S.ug,
              {
                className: c().TitleBar,
                title: (0, g.Xx)(
                  o
                    ? "#AssetRequest_Hub_TakeOver_Title"
                    : "#AssetRequest_TakeOver_Title",
                  `${d}/2`,
                ),
              },
              l.createElement(
                "div",
                { className: c().SectionCtn },
                l.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  l.createElement(pe, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                  }),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_General_Size", 1850, 450),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_Mobile_Size", 500, 350),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_TakeOver_Usage"),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "ul",
                    null,
                    l.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_TakeOver_Design"),
                    ),
                    l.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeover_Hint"),
                    ),
                    l.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeover_Animation"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeover_art",
                    }),
                    l.createElement(ee, {
                      planIdentify: t,
                      promoAssetType: "takeover_art",
                    }),
                  ),
                  l.createElement("br", null),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeover_mobile_art",
                    }),
                    l.createElement(ee, {
                      planIdentify: t,
                      promoAssetType: "takeover_mobile_art",
                    }),
                  ),
                ),
              ),
            ),
            l.createElement("br", null),
          )
        );
      }
      function ee(e) {
        const { planIdentify: t, promoAssetType: n } = e,
          i = (0, a.Dv)().GetPreviewArtOfType(n);
        return l.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          l.createElement("img", {
            src: (null == i ? void 0 : i.filename)
              ? E(t.id, i.lang, i.filename)
              : void 0,
          }),
        );
      }
      function te(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)(),
          [r, o, s] = (0, i.SZ)(() => [
            n.BIsTakeunderArtRequest(),
            n.BHasPreviewArtOfType("takeunder_art"),
            n.BHasPreviewArtOfType("takeunder_mobile_art"),
          ]);
        if (!r) return null;
        let m = o ? 1 : 0;
        return (
          s && (m += 1),
          l.createElement(
            "div",
            { className: c().AssetSection },
            l.createElement(
              S.ug,
              {
                className: c().TitleBar,
                title: (0, g.Xx)("#AssetRequest_Takeunder_Title", `${m}/2`),
              },
              l.createElement(
                "div",
                { className: c().SectionCtn },
                l.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  l.createElement(pe, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                  }),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_General_Size", 940, 150),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_Mobile_Size", 500, 160),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_Takeunder_Usage"),
                  ),
                  l.createElement("br", null),
                  l.createElement(
                    "ul",
                    null,
                    l.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeunder_Design"),
                    ),
                    l.createElement(
                      "li",
                      null,
                      (0, g.Xx)("#AssetRequest_Takeunder_Hint"),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeunder_art",
                    }),
                    l.createElement(ne, {
                      planIdentify: t,
                      promoAssetType: "takeunder_art",
                    }),
                  ),
                  l.createElement("br", null),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "takeunder_mobile_art",
                    }),
                    l.createElement(ne, {
                      planIdentify: t,
                      promoAssetType: "takeunder_mobile_art",
                    }),
                  ),
                ),
              ),
            ),
            l.createElement("br", null),
          )
        );
      }
      function ne(e) {
        const { planIdentify: t, promoAssetType: n } = e,
          i = (0, a.Dv)().GetPreviewArtOfType(n);
        return l.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          l.createElement("img", {
            src: (null == i ? void 0 : i.filename)
              ? E(t.id, i.lang, i.filename)
              : void 0,
          }),
        );
      }
      function ae(e) {
        const { planIdentify: t } = e,
          n = (0, a.Dv)(),
          [r, o, s, m, d, u] = (0, i.SZ)(() => [
            n.BIsSalePageArtRequest(),
            n.BHasPreviewArtOfType("sale_header"),
            n.BHasPreviewArtOfType("sale_logo"),
            n.BHasPreviewArtOfType("capsule"),
            n.BHasPreviewArtOfType("product_banner"),
            n.BHasPreviewArtOfType("product_mobile_banner"),
            n.BHasPreviewArtOfType("localized_title_image"),
          ]);
        if (!r) return null;
        let p = o ? 1 : 0;
        return (
          s && (p += 1),
          m && (p += 1),
          d && (p += 1),
          l.createElement(
            "div",
            { className: c().AssetSection },
            l.createElement(
              S.ug,
              {
                className: c().TitleBar,
                title: (0, g.Xx)("#AssetRequest_SalePage_Title", `${p}/4`),
              },
              l.createElement(
                "div",
                { className: c().SectionCtn },
                l.createElement(
                  "div",
                  { className: c().AssetSpecs },
                  l.createElement(pe, {
                    strTemplateURL:
                      "https://www.dropbox.com/scl/fo/mhf604o6bdbcfr1scq7bx/h?rlkey=9bk0ggiwuvs4o1jdnej4xsy0c&dl=0",
                    strDocURL:
                      "https://partner.steamgames.com/doc/store/assets/promos",
                    strTemplateName: (0, g.Xx)("#AssetRequest_General_DropBox"),
                  }),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_SalePage_Description"),
                  ),
                  l.createElement(
                    "div",
                    null,
                    (0, g.Xx)("#AssetRequest_SalePage_Background_Hint"),
                  ),
                  l.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    l.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_Background_Title"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size_Min", 1200, 600),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Background_Usage"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Background_Design"),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    l.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_Logo_Title"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size_Min", 940, 460),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Logo_Usage"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Logo_Design"),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    l.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_Cover_Title"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 800, 450),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Cover_Usage"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_Cover_Design"),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    l.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)("#AssetRequest_SalePage_StoreBanner_Title"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 1100, 160),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_StoreBanner_Usage"),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_SalePage_StoreBanner_Design"),
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: c().AssetTypeCtn },
                    l.createElement(
                      "div",
                      { className: c().AssetTitle },
                      (0, g.Xx)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Title",
                      ),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_General_Size", 500, 160),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Usage",
                      ),
                    ),
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)(
                        "#AssetRequest_SalePage_StoreBannerMobile_Design",
                      ),
                    ),
                  ),
                ),
                l.createElement(
                  "div",
                  { className: c().AssetUploadPreviewCtn },
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "sale_header",
                    }),
                    l.createElement(ie, {
                      planIdentify: t,
                      promoAssetType: "sale_header",
                    }),
                  ),
                  l.createElement("br", null),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "sale_logo",
                    }),
                    l.createElement(ie, {
                      planIdentify: t,
                      promoAssetType: "sale_logo",
                    }),
                  ),
                  l.createElement("br", null),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "capsule",
                    }),
                    l.createElement(ie, {
                      planIdentify: t,
                      promoAssetType: "capsule",
                    }),
                  ),
                  l.createElement("br", null),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "product_banner",
                    }),
                    l.createElement(ie, {
                      planIdentify: t,
                      promoAssetType: "product_banner",
                    }),
                  ),
                  l.createElement("br", null),
                  l.createElement("br", null),
                  l.createElement(
                    "div",
                    { className: c().AssetUploadPreview },
                    l.createElement(C, {
                      planID: t.id,
                      promoAssetType: "product_mobile_banner",
                    }),
                    l.createElement(ie, {
                      planIdentify: t,
                      promoAssetType: "product_mobile_banner",
                    }),
                  ),
                ),
              ),
            ),
            l.createElement("br", null),
          )
        );
      }
      function ie(e) {
        const { planIdentify: t, promoAssetType: n } = e,
          i = (0, a.Dv)().GetPreviewArtOfType(n);
        return l.createElement(
          "div",
          { className: c().AssetRequestPreviewCtn },
          l.createElement("img", {
            src: (null == i ? void 0 : i.filename)
              ? E(t.id, i.lang, i.filename)
              : void 0,
          }),
        );
      }
      function le(e) {
        const { planIdentify: t, bAdminView: n } = e,
          r = (0, a.Dv)(),
          [s, d, u] = (0, i.SZ)(() => [
            r.GetModel().requested_promotion_name || "",
            Boolean(r.GetModel().submitting_accountid),
            Boolean(r.GetModel().asset_request_discount_event_id_clone),
          ]),
          [p, _] = (0, l.useState)(() => n || !d);
        return l.createElement(
          "div",
          { className: o().EditCtn },
          l.createElement(
            "div",
            { className: o().PageTitle },
            (0, g.Xx)("#AssetRequest_Title"),
            l.createElement("span", null, s),
          ),
          l.createElement("hr", null),
          Boolean(d) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(oe, null),
              l.createElement("br", null),
              l.createElement("br", null),
            ),
          l.createElement(
            "div",
            { className: o().ColumnCtn },
            l.createElement(
              "div",
              { className: o().LeftCol },
              d &&
                u &&
                !n &&
                l.createElement(
                  l.Fragment,
                  null,
                  l.createElement(re, {
                    oInput: r,
                    partnerID: t.permitted_partner_id,
                  }),
                  l.createElement("br", null),
                  l.createElement("br", null),
                ),
              Boolean(p)
                ? l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(ce, null),
                    l.createElement(de, {
                      planIdentify: t,
                      fnSetShowDetails: _,
                    }),
                  )
                : l.createElement(
                    "div",
                    { className: c().ReviewSubmissionDetailsCtn },
                    l.createElement(
                      "div",
                      null,
                      (0, g.Xx)("#AssetRequest_Complete_SeeAll_Title"),
                    ),
                    l.createElement(
                      m.zx,
                      { onClick: () => _(!0) },
                      (0, g.Xx)("#AssetRequest_Complete_SeeAll_Button"),
                    ),
                  ),
            ),
            l.createElement(F, { planIdentify: t, bShowDetails: p }),
          ),
          Boolean(p) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement("br", null),
              l.createElement($, { planIdentify: t }),
              l.createElement(te, { planIdentify: t }),
              l.createElement(W, { planIdentify: t }),
              l.createElement(k, { planIdentify: t }),
              l.createElement(ae, { planIdentify: t }),
            ),
        );
      }
      function re(e) {
        const { oInput: t, partnerID: n } = e,
          a = (0, Q.hd)(t.GetDiscountEventID()),
          i = (0, Y.vc)(t.GetDiscountEventID()),
          r = `${Z.De.PARTNER_BASE_URL}promotion/discounts/dashboard/${n}?de=${t.GetDiscountEventID()}`;
        return l.createElement(
          "div",
          { className: (0, B.Z)(o().SectionCtn, o().Bright) },
          l.createElement(
            "h2",
            null,
            (0, g.Xx)("#AssetRequest_Complete_NextSteps"),
          ),
          l.createElement(
            "div",
            { className: c().DiscountReminderCtn },
            l.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Compelte_Reminder"),
            ),
            l.createElement(
              m.KM,
              { onClick: () => window.location.assign(r) },
              (0, g.Xx)("#AssetRequest_Compelte_DiscountTool"),
            ),
          ),
          l.createElement(J.KP, { rgPackagesDiscounts: a, oDiscountEvent: i }),
        );
      }
      function oe(e) {
        return l.createElement(
          "div",
          { className: c().AssetRequestDoneCtn },
          l.createElement("div", { className: c().CheckMark }, ""),
          l.createElement(
            "div",
            { className: c().Body },
            l.createElement(
              "h2",
              null,
              (0, g.Xx)("#AssetRequest_Complete_Title"),
            ),
            l.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Complete_Desc"),
            ),
          ),
        );
      }
      function se(e) {
        const [t] = (0, l.useState)(() =>
            (0, K.kQ)("promotion_plan_identity", "application_config"),
          ),
          n = Math.floor(Date.now() / 1e3);
        return l.createElement(
          "div",
          { className: o().AdminPageCtn },
          Boolean(n > t.end_date) &&
            l.createElement(
              "div",
              null,
              "Warning: Promotion is over. No further access is granted.",
            ),
          l.createElement(le, { planIdentify: t, bAdminView: !1 }),
        );
      }
      function ce(e) {
        const t = (0, a.Dv)();
        return l.createElement(
          "div",
          { className: (0, B.Z)(o().SectionCtn, o().Bright) },
          l.createElement("h2", null, (0, g.Xx)("#AssetRequest_Intro_Title")),
          l.createElement(
            "div",
            { className: o().SectionIntroRequirements },
            l.createElement(
              "ul",
              null,
              l.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_1"),
              ),
              l.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_2"),
                l.createElement(
                  "ul",
                  null,
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_Requirements_2a"),
                  ),
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_Requirements_2b"),
                  ),
                  l.createElement(
                    "li",
                    null,
                    (0, g.Xx)("#AssetRequest_Requirements_2c"),
                  ),
                ),
              ),
              l.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_3"),
              ),
              l.createElement(
                "li",
                null,
                (0, g.Xx)("#AssetRequest_Requirements_4"),
              ),
              l.createElement(
                "li",
                null,
                (0, g.yu)(
                  "#AssetRequest_Requirements_5",
                  l.createElement("a", {
                    target: "_blank",
                    href: `${Z.De.PARTNER_BASE_URL}doc/store/assets/promos`,
                  }),
                ),
              ),
            ),
          ),
          Boolean(t.BHasValveNote()) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement("br", null),
              l.createElement(m.__, null, (0, g.Xx)("#AssetRequest_Intro_Msg")),
              l.createElement(
                "div",
                { className: c().CustomMessage },
                t.GetValveNote(),
              ),
            ),
        );
      }
      function me(e) {
        const { bCompleted: t, bRequired: n, title: a, children: i } = e;
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            null,
            l.createElement(
              "div",
              { className: c().ChecklistTitleCtn },
              t
                ? l.createElement("span", { className: c().Completed }, " ")
                : n
                  ? l.createElement(
                      "span",
                      { className: c().RequiredToggle },
                      " ",
                    )
                  : l.createElement(
                      "span",
                      { className: c().OptionalToggle },
                      " ",
                    ),
              l.createElement("span", { className: c().ChecklistTitle }, a),
              l.createElement(
                "span",
                {
                  className: (0, B.Z)({
                    [c().Required]: n,
                    [c().Optional]: !n,
                  }),
                },
                "",
                (0, g.Xx)(
                  n
                    ? "#AssetRequest_General_Upload_req"
                    : "#AssetRequest_General_Upload_opt",
                ),
              ),
            ),
            l.createElement("div", { className: c().ChecklistDescription }, i),
          ),
        );
      }
      function de(e) {
        const { fnSetShowDetails: t } = e,
          n = (0, a.Dv)(),
          [r, s, d, u, v, E, S, D, f, y, b, I, C, k, A, w, P, T, N, R] = (0,
          i.SZ)(() => [
            n.BIsSpotlightArtRequest(),
            n.BIsMarketingMessageArtRequest(),
            n.BIsMarketingMessageArtRequest_2(),
            n.BHasPreviewArtOfType("spotlight_art"),
            n.BHasPreviewArtOfType("marketingmessage_art"),
            n.BHasPreviewArtOfType("marketingmessage_art_2"),
            n.BHasPartnerNote(),
            n.GetPartnerNote(),
            n.GetArtInputLink(),
            n.BIsDirty(),
            n.GetAssetRequestContactInfo(),
            n.BIsTakeoverArtRequest(),
            n.BHasPreviewArtOfType("takeover_art") &&
              n.BHasPreviewArtOfType("takeover_mobile_art"),
            n.BIsTakeunderArtRequest(),
            n.BHasPreviewArtOfType("takeunder_art") &&
              n.BHasPreviewArtOfType("takeunder_mobile_art"),
            n.BIsSalePageArtRequest(),
            n.BHasPreviewArtOfType("sale_header") &&
              n.BHasPreviewArtOfType("sale_logo") &&
              n.BHasPreviewArtOfType("capsule") &&
              n.BHasPreviewArtOfType("product_banner") &&
              n.BHasPreviewArtOfType("product_mobile_banner") &&
              n.BHasPreviewArtOfType("localized_title_image"),
            n.GetSubmittingAccount(),
            n.BIsEventHeaderImageRequest(),
            n.BHasPreviewArtOfType("localized_title_image"),
          ]),
          G = (null == f ? void 0 : f.trim().length) > 0,
          L =
            G &&
            b.trim().length > 0 &&
            (!r || u) &&
            (!s || v) &&
            (!d || E) &&
            (!N || R);
        return l.createElement(
          "div",
          { className: o().SectionCtn },
          l.createElement("h2", null, (0, g.Xx)("#AssetRequest_CheckList")),
          Boolean(I) &&
            l.createElement(
              me,
              {
                bCompleted: C,
                title: (0, g.Xx)("#AssetRequest_Check_Takeover"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_Takeover_desc"),
            ),
          Boolean(k) &&
            l.createElement(
              me,
              {
                bCompleted: A,
                title: (0, g.Xx)("#AssetRequest_Check_Takeunder"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_Takeunder_desc"),
            ),
          Boolean(w) &&
            l.createElement(
              me,
              {
                bCompleted: P,
                title: (0, g.Xx)("#AssetRequest_Check_SalePage"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_SalePage_desc"),
            ),
          Boolean(r) &&
            l.createElement(
              me,
              {
                bCompleted: u,
                title: (0, g.Xx)("#AssetRequest_Check_Spotlight"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_desc"),
            ),
          Boolean(s) &&
            l.createElement(
              me,
              {
                bCompleted: v,
                title: (0, g.Xx)("#AssetRequest_Check_MM"),
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_desc"),
            ),
          Boolean(d) &&
            l.createElement(
              me,
              {
                bCompleted: E,
                title: (0, g.Xx)("#AssetRequest_Check_MM") + " #2",
                bRequired: !0,
              },
              (0, g.Xx)("#AssetRequest_Check_desc"),
            ),
          l.createElement(ue, null),
          l.createElement(
            me,
            {
              bCompleted: S,
              title: (0, g.Xx)("#AssetRequest_Check_ContactInfo"),
              bRequired: !0,
            },
            l.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Check_ContactInfo_desc"),
            ),
            l.createElement(
              "div",
              { className: c().InstructionsTextInput },
              l.createElement("textarea", {
                className: "DialogTextInputBase",
                placeholder: (0, g.Xx)(
                  "#AssetRequest_Check_ContactInfo_placeholder",
                ),
                value: b || "",
                onChange: (e) => {
                  var t;
                  return n.SetAssetRequestContactInfo(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "",
                  );
                },
              }),
            ),
          ),
          l.createElement(
            me,
            {
              bCompleted: S,
              title: (0, g.Xx)("#AssetRequest_Check_Special"),
              bRequired: !1,
            },
            l.createElement(
              "div",
              null,
              (0, g.Xx)("#AssetRequest_Check_Special_desc"),
            ),
            l.createElement(
              "div",
              { className: c().InstructionsTextInput },
              l.createElement("textarea", {
                className: "DialogTextInputBase",
                placeholder: (0, g.Xx)(
                  "#AssetRequest_Check_Special_placeholder",
                ),
                value: D || "",
                onChange: (e) => {
                  var t;
                  return n.SetPartnerNote(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "",
                  );
                },
              }),
            ),
          ),
          l.createElement("hr", null),
          l.createElement(
            _.HP,
            {
              toolTipContent: G
                ? void 0
                : (0, g.Xx)("#AssetRequest_InvalidLink"),
            },
            l.createElement(
              m.KM,
              {
                disabled: !L,
                className: c().SubmitButton,
                onClick: (e) =>
                  (0, p.AM)(
                    l.createElement(_e, { strURL: f, fnSetShowDetails: t }),
                    (0, h.RA)(e),
                  ),
              },
              (0, g.Xx)(
                T
                  ? "#AssetRequest_Submitted_Button"
                  : "#AssetRequest_Submit_Button",
              ),
            ),
          ),
        );
      }
      function ue(e) {
        const t = (0, a.Dv)(),
          [n] = (0, i.SZ)(() => [t.GetArtInputLink()]);
        return l.createElement(
          me,
          {
            bCompleted:
              (null == n ? void 0 : n.length) > 0 && m.II.validateUrl(n),
            title: (0, g.Xx)("#AssetRequest_Link_Title"),
            bRequired: !0,
          },
          l.createElement("div", null, (0, g.Xx)("#AssetRequest_Link_Desc")),
          l.createElement("div", null, (0, g.Xx)("#AssetRequest_Link_Step3")),
          l.createElement("br", null),
          l.createElement(m.II, {
            type: "text",
            label: (0, g.Xx)("#AssetRequest_Link_Title"),
            placeholder: (0, g.Xx)("#AssetRequest_Link_Placeholder"),
            value: n || "",
            mustBeURL: !0,
            onChange: (e) => t.SetInputArtworkLink(e.currentTarget.value),
          }),
        );
      }
      function pe(e) {
        const { strTemplateURL: t, strDocURL: n, strTemplateName: a } = e;
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "h2",
            null,
            (0, g.Xx)("#AssetRequest_General_SpecTitle"),
          ),
          l.createElement(
            "div",
            { className: c().LinkRow },
            l.createElement(
              "a",
              { href: t, target: "_blank" },
              (0, g.Xx)("#AssetRequest_General_Download", a),
            ),
            " ",
            "|",
            " ",
            l.createElement(
              "a",
              { href: n },
              (0, g.Xx)("#AssetRequest_General_SeeDocs"),
            ),
          ),
        );
      }
      function _e(e) {
        const { closeModal: t, strURL: n, fnSetShowDetails: i } = e,
          { fnUpdatePipelineInputAsPartner: r } = ((0, a.Dv)(), (0, a.pY)()),
          [o] = (0, I.Ar)("inputaccesskey", void 0),
          s = (0, d.tx)();
        return s.bLoading
          ? l.createElement(d.NT, {
              state: s,
              strDialogTitle: (0, g.Xx)("#AssetRequest_Submit_Title"),
              closeModal: t,
            })
          : l.createElement(
              u.uH,
              {
                strTitle: (0, g.Xx)("#AssetRequest_Submit_Title"),
                onCancel: t,
                onOK: () => {
                  s.fnSetLoading(!0),
                    r(o)
                      .then((e) => {
                        e
                          ? (s.fnSetSuccess(!0),
                            s.fnSetStrSuccess(
                              (0, g.Xx)("#AssetRequest_Submitted"),
                            ),
                            i(!1))
                          : (s.fnSetError(!0),
                            s.fnSetStrError(
                              (0, g.Xx)("#Error_ErrorCommunicatingWithNetwork"),
                            ));
                      })
                      .catch(() => {
                        s.fnSetError(!0),
                          s.fnSetStrError(
                            (0, g.Xx)("#Error_ErrorCommunicatingWithNetwork"),
                          );
                      });
                },
              },
              l.createElement(
                "div",
                null,
                (0, g.Xx)("#AssetRequest_SubmitLink"),
              ),
            );
      }
    },
    17098: (e, t, n) => {
      "use strict";
      n.d(t, { F: () => g });
      var a = n(1698),
        i = n(51485),
        l = n(36342),
        r = n(47427),
        o = n(77681),
        s = n.n(o),
        c = n(1485),
        m = n(13129),
        d = n(65255),
        u = n(40298),
        p = n(17912),
        _ = n(45180);
      const h = [
        "takeover_webm_mobile_art",
        "takeover_mp4_mobile_art",
        "takeover_webm_art",
        "takeover_mp4_art",
      ];
      function g(e) {
        const { bShowLinkToPromotionPlan: t } = e,
          n = (0, l.Gn)(),
          o = (0, i.Dv)(),
          [g, v] = (0, r.useState)(o.BIsEnabled());
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            {
              className: (0, m.Z)(
                s().DefaultSectionCtn,
                s().ValveOnlyBackground,
              ),
            },
            r.createElement(
              "h2",
              { className: s().ValveOnlyTitle },
              "Valve Only",
            ),
            Boolean(g)
              ? r.createElement(u.k, { bReviewApprovals: !1 })
              : r.createElement(c.ji, {
                  label: "Enable requesting featuring assets from partner?",
                  checked: g,
                  onChange: (e) => {
                    o.SetRequestedArt(
                      a.Vd.filter((e) => !h.includes(e)).filter((e) =>
                        n.BHasPromotionFeaturingForArtRequirement(
                          e,
                          "marketingmessage_art_2" === e ? 1 : void 0,
                        ),
                      ),
                    ),
                      (o.GetModel().requested_promotion_name = n.GetName()),
                      n.BHasDiscountEventID() &&
                        (o.GetModel().asset_request_discount_event_id_clone =
                          n.GetDiscountEventID()),
                      o.SetRequestEnabled(!0),
                      v(e);
                  },
                }),
          ),
          Boolean(t) &&
            r.createElement(
              "a",
              {
                href: `${d.De.PARTNER_BASE_URL}promotion/planning/edit/${o.GetPlanID()}`,
              },
              "Open Containing Promotion Plan",
            ),
          Boolean(g) &&
            r.createElement(p.Vc, {
              planIdentify: n.GetModel(),
              bAdminView: !0,
            }),
          r.createElement(
            "div",
            {
              className: (0, m.Z)(
                s().DefaultSectionCtn,
                s().ValveOnlyBackground,
                s().ActionBar,
              ),
            },
            r.createElement(_.u, { oEditablePlan: n }),
          ),
        );
      }
    },
    22412: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => s });
      var a = n(47427),
        i = n(31846),
        l = n(12251),
        r = n(46984),
        o = n(82701);
      function s(e) {
        const t =
            !e.rtStartDate ||
            !e.rtEndDate ||
            (0, r.U8)(
              new Date(1e3 * e.rtStartDate),
              new Date(1e3 * e.rtEndDate),
            ),
          n =
            e.rtStartDate &&
            e.rtEndDate &&
            (0, r.U8)(new Date(1e3 * e.rtStartDate), new Date()),
          s = !t && !n;
        if (e.rtStartDate && e.rtEndDate)
          return a.createElement(
            "div",
            { className: e.className },
            (0, l.o2)(e.rtStartDate, e.rtEndDate),
          );
        {
          const t = e.rtStartDate ? (0, i.$1)(e.rtStartDate, s) : "unset",
            n = e.rtEndDate ? (0, i.$1)(e.rtEndDate, s) : "unset";
          return a.createElement(
            "div",
            { className: e.className },
            a.createElement(
              "span",
              { className: e.rtStartDate ? "" : o.Unset },
              t,
            ),
            " -",
            a.createElement(
              "span",
              { className: e.rtEndDate ? "" : o.Unset },
              n,
            ),
          );
        }
      }
    },
    28922: (e, t, n) => {
      "use strict";
      function a(e, t, n) {
        if ("midweek" == e || "weekenddeal" == e) {
          const a = new Date(1e3 * t).getDay(),
            i = new Date(1e3 * n).getDay();
          return (
            t < n &&
            (("midweek" == e && 1 == a && 4 == i) ||
              ("weekenddeal" == e && 4 == a && 1 == i))
          );
        }
        return t < n;
      }
      function i(e, t, n) {
        if (2 == e) {
          const e = new Date(1e3 * t).getDay(),
            a = new Date(1e3 * n).getDay();
          return t < n && 4 == e && 1 == a;
        }
        if (11 == e) {
          const e = new Date(1e3 * t).getDay(),
            a = new Date(1e3 * n).getDay();
          return t < n && 1 == e && 4 == a;
        }
        return t < n;
      }
      function l(e) {
        const t = e ? new Date(1e3 * e) : new Date();
        return (
          t.setHours(10),
          t.setMinutes(0),
          t.setSeconds(0),
          Math.floor(t.getTime() / 1e3)
        );
      }
      function r(e, t) {
        if (t) return t;
        let n = e ? new Date(1e3 * e) : new Date();
        return (
          n.setDate(n.getDate() + 1),
          n.setHours(10),
          n.setMinutes(0),
          n.setSeconds(0),
          Math.floor(n.getTime() / 1e3)
        );
      }
      n.d(t, { ap: () => l, h9: () => r, hQ: () => a, yt: () => i });
    },
    46836: (e, t, n) => {
      "use strict";
      n.d(t, { Ai: () => k, ST: () => w, eS: () => A, zG: () => I });
      var a = n(85556),
        i = n(36876),
        l = n(47427),
        r = n(80886),
        o = n(1485),
        s = n(77178),
        c = n(46882),
        m = n(31846),
        d = n(45651),
        u = n(69368),
        p = n(61178),
        _ = n(37563),
        h = n(81033),
        g = n(1698),
        v = n(16649),
        E = n(24040),
        S = n(93727),
        D = n(50900),
        f = n(46984),
        y = n(59350),
        b = n(86437);
      function I(e) {
        const {
            rtDay: t,
            closeModal: n,
            strInviteID: a,
            nMaxDiscountDays: r,
            nextDiscount: o,
          } = e,
          c = (0, i.Nt)(a);
        return c
          ? l.createElement(P, {
              rtDay: t,
              closeModal: n,
              invite: c,
              nMaxDiscountDays: r,
              nextDiscount: o,
            })
          : l.createElement(s.JX, {
              strDescription: (0, m.Xx)("#DailyDeals_NoInvitation"),
              closeModal: n,
            });
      }
      function C(e) {
        const t = "America/Los_Angeles",
          n = {
            weekday: "short",
            timeZoneName: "longGeneric",
            hour: "numeric",
          };
        let a,
          i = (0, m.$1)(e, n);
        return (
          t != Intl.DateTimeFormat().resolvedOptions().timeZone &&
            (a = (0, m.$1)(
              e,
              Object.assign(Object.assign({}, n), { timeZone: t }),
            )),
          { strLocal: i, strPacific: a }
        );
      }
      function k(e) {
        const { rtime: t, locTokenLocalTime: n } = e,
          { strLocal: a, strPacific: i } = C(t);
        let r = a;
        return (
          n && (r = (0, m.Xx)(n, r)),
          l.createElement(
            l.Fragment,
            null,
            l.createElement("div", null, r),
            !!i && l.createElement("div", null, i),
          )
        );
      }
      function A(e) {
        const { strLocal: t, strPacific: n } = C(e);
        let a = t;
        return n && (a += " (" + n + ")"), a;
      }
      function w(e) {
        let t = "";
        return (
          (t =
            1 == e
              ? (0, m.Xx)("#DailyDeals_AcceptInvite_Success")
              : 15 == e
                ? (0, m.Xx)("#DailyDeals_AcceptInvite_Error_AccessDenied")
                : 42 == e
                  ? (0, m.Xx)("#DailyDeals_AcceptInvite_Error_NotAvailable")
                  : (0, m.Xx)("#DailyDeals_AcceptInvite_Error")),
          t
        );
      }
      function P(e) {
        const {
            rtDay: t,
            closeModal: n,
            invite: c,
            nMaxDiscountDays: d,
            nextDiscount: I,
          } = e,
          [C, k] = l.useState(new Array()),
          [A, P] = l.useState(S.NB),
          [N, R] = l.useState({
            appid: c.appid,
            bundleid: c.bundleid,
            packageid: c.packageid,
          }),
          G = { appid: c.appid, bundleid: c.bundleid, packageid: c.packageid },
          [L, B] = l.useMemo(
            () => [N ? (0, b.u$)(N) : 0, N ? (0, b.D3)(N) : -1],
            [N],
          ),
          [x] = (0, r.jk)(L, B, y.$N),
          { fnAcceptInvitation: M } = (0, i.fZ)(),
          [O, F] = l.useState(""),
          U = (e) => {
            const t = w(e.errorCode);
            ("dev" != _.De.WEB_UNIVERSE && "beta" != _.De.WEB_UNIVERSE) ||
            1 == e.errorCode
              ? F(t)
              : F(
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement("div", null, t),
                    l.createElement(
                      "div",
                      { style: { color: "red" } },
                      "(VO) error details:" +
                        e.errorCode +
                        ", " +
                        e.strErrorMsg,
                    ),
                  ),
                );
          },
          H = l.useCallback(
            () =>
              (0, a.mG)(this, void 0, void 0, function* () {
                const e = (0, D.Xq)(x),
                  n =
                    0 == x.GetStoreItemType()
                      ? [x.GetAppID()]
                      : x.GetIncludedAppIDs(),
                  a = (0, h.Q)(e, e, g.FF.get("dailydeal"), [], n);
                yield M(c.inviteid, t, A, a, !1)
                  .then((e) => {
                    U(e);
                  })
                  .catch((e) => {
                    U((0, v.l)(e));
                  });
              }),
            [x, M, c.inviteid, A, t],
          ),
          V = l.useCallback(() => {
            n(),
              window.location.assign(
                `${_.De.PARTNER_BASE_URL}promotion${E.PromotionRoutes.DailyDealDashboard()}`,
              );
          }, [n]),
          X = A < S.NB || A > d,
          j = "America/Los_Angeles",
          q = {
            weekday: "short",
            timeZoneName: "longGeneric",
            hour: "numeric",
          },
          W = j != Intl.DateTimeFormat().resolvedOptions().timeZone,
          z = I
            ? Math.floor((I.rtDiscountStart - t + f._H.PerHour) / f._H.PerDay)
            : void 0;
        return l.createElement(
          s.RG,
          { onCancel: n },
          l.createElement(
            o.h4,
            null,
            " ",
            (0, m.Xx)("#DailyDeals_CreateFromInvite"),
            " ",
          ),
          l.createElement(
            o.uT,
            null,
            O
              ? l.createElement("div", { className: p.CreationDialogueBody }, O)
              : l.createElement(
                  "div",
                  null,
                  l.createElement(
                    "div",
                    { className: p.Accept_StartDate },
                    W &&
                      l.createElement(
                        "div",
                        null,
                        (0, m.$1)(
                          t,
                          Object.assign(Object.assign({}, q), { timeZone: j }),
                        ),
                      ),
                    l.createElement("div", null, (0, m.$1)(t, q)),
                  ),
                  l.createElement(u.Ce, {
                    id: (0, b.u$)(G),
                    itemType: (0, b.D3)(G),
                  }),
                  l.createElement(T, {
                    nDiscountDays: A,
                    fnSetDiscountDays: P,
                    rgDiscountPackages: C,
                    fnSetDiscountPackages: k,
                    nStoreItemID: L,
                    eStoreItemType: B,
                    nMaxDiscountDays: d,
                    nDaysUntilNextDiscount: z,
                  }),
                  Boolean(c.appid) &&
                    l.createElement(u.CC, {
                      nAppID: c.appid,
                      oFeaturedItem: N,
                      fnSetFeaturedItem: R,
                    }),
                ),
          ),
          l.createElement(
            o.$_,
            null,
            O
              ? l.createElement(
                  o.zx,
                  { onClick: V },
                  (0, m.Xx)("#Button_Close"),
                )
              : l.createElement(o.o9, {
                  strOKText: (0, m.Xx)("#Button_Save"),
                  strCancelText: (0, m.Xx)("#Button_Cancel"),
                  onOK: H,
                  bOKDisabled: X,
                  onCancel: n,
                }),
          ),
        );
      }
      function T(e) {
        const {
            nDiscountDays: t,
            fnSetDiscountDays: n,
            rgDiscountPackages: a,
            fnSetDiscountPackages: i,
            nStoreItemID: s,
            eStoreItemType: u,
            nMaxDiscountDays: _,
            nDaysUntilNextDiscount: h,
          } = e,
          [g] = (0, r.jk)(s, u, y.$N);
        if (!g)
          return l.createElement(c.V, {
            size: "small",
            position: "center",
            string: (0, m.Xx)("#Loading"),
          });
        const v = null != _ ? _ : S.Ef,
          E =
            v < S.Ef && h > 0
              ? l.createElement(
                  "div",
                  { className: p.DiscountLimited },
                  (0, m.Xx)("#DailyDeals_New_DailiyDeal_DurationLimited", h, v),
                )
              : null;
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            { className: "DialogLabel" },
            (0, m.Xx)("#DailyDeals_New_DailyDeal"),
          ),
          l.createElement(
            "div",
            { className: p.DiscountCtn },
            l.createElement(
              "div",
              null,
              E,
              l.createElement(
                "div",
                null,
                v == S.NB
                  ? (0, m.Xx)("#DailyDeals_New_DailyDeal_Length_Min")
                  : (0, m.Xx)("#DailyDeals_New_DailyDeal_Length", S.NB, v),
              ),
              l.createElement(
                "div",
                { className: p.DiscountInputCtn },
                l.createElement(o.II, {
                  type: "number",
                  min: S.NB,
                  max: v,
                  value: t,
                  onChange: (e) => {
                    var t;
                    return n(
                      (0, d.kE)(
                        null === (t = null == e ? void 0 : e.currentTarget) ||
                          void 0 === t
                          ? void 0
                          : t.value,
                      )
                        ? Number.parseInt(e.currentTarget.value)
                        : 0,
                    );
                  },
                }),
              ),
            ),
          ),
          Boolean(g) &&
            l.createElement(N, {
              rgDiscountPackages: a,
              fnSetDiscountPackages: i,
              oAppInfo: g,
            }),
        );
      }
      function N(e) {
        var t;
        const {
            rgDiscountPackages: n,
            fnSetDiscountPackages: a,
            oAppInfo: i,
          } = e,
          r =
            null === (t = i.GetAllPurchaseOptions()) || void 0 === t
              ? void 0
              : t.filter((e) => Boolean(e.packageid));
        return !r || (null == r ? void 0 : r.length) <= 1
          ? null
          : l.createElement(
              "div",
              { className: p.PackageSelectCtn },
              l.createElement(
                "div",
                { className: "DialogLabel" },
                (0, m.Xx)("#DailyDeals_New_DiscountSelect"),
              ),
              r.map((e) =>
                l.createElement(o.ji, {
                  key: "package" + e.packageid,
                  label: e.purchase_option_name + " (" + e.packageid + ")",
                  checked: n.includes(e.packageid),
                  onChange: (t) => {
                    if (t) a([...n, e.packageid]);
                    else {
                      const t = n.indexOf(e.packageid);
                      if (t) {
                        const e = n.slice(t, 1);
                        a(e);
                      }
                    }
                  },
                }),
              ),
            );
      }
    },
    69368: (e, t, n) => {
      "use strict";
      n.d(t, { CC: () => R, Ce: () => P, WR: () => w, uF: () => L });
      var a = n(81033),
        i = n(93727),
        l = n(48674),
        r = n(47427),
        o = n(86437),
        s = n(80886),
        c = n(1485),
        m = n(83743),
        d = n(77178),
        u = n(46882),
        p = n(16649),
        _ = n(31846),
        h = n(45651),
        g = n(37563),
        v = n(61178),
        E = n(66692),
        S = n(95666),
        D = n(49972),
        f = n(72297),
        y = n(62613),
        b = n(59728),
        I = n(90960),
        C = n(50900),
        k = n(36876),
        A = n(46984);
      function w(e) {
        const { rtDay: t, closeModal: n } = e,
          [l, u] = r.useState(0),
          [h, v] = r.useState(void 0),
          [S] = (0, s.jk)((0, o.u$)(h), (0, o.D3)(h), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          }),
          [f, y] = r.useState(""),
          { fnAddDailyDeal: b } = (0, i.TQ)(),
          { fnCreateDiscountEvent: I } = (0, a.z8)(),
          [k, A] = r.useState(!0),
          w = 0 == f.length || f.startsWith(g.De.STORE_BASE_URL),
          T = (0, m.tx)(),
          N = (0, r.useCallback)(
            (e, t, a, i) => {
              b(e, t, a, i).then((e) => {
                e ? n() : T.fnSetStrError((0, _.Xx)("#DailyDeals_New_Error"));
              });
            },
            [n, T, b],
          );
        return T.bLoading
          ? r.createElement(m.NT, {
              state: T,
              strDialogTitle: (0, _.Xx)("#DailyDeals_CreateNew", (0, _.$1)(t)),
              closeModal: n,
            })
          : r.createElement(
              d.uH,
              {
                strTitle: (0, _.Xx)("#DailyDeals_CreateNew", (0, _.$1)(t)),
                bDisableBackgroundDismiss: !0,
                onOK: () => {
                  const e = new Date(1e3 * t),
                    n = new Date(e);
                  n.setDate(n.getDate() + 7);
                  const a = Math.floor(n.getTime() / 1e3),
                    i = (0, C.Xq)(S);
                  T.fnSetLoading(!0),
                    k && 0 != l
                      ? I(
                          t,
                          a,
                          i,
                          i,
                          "#discount_desc_preset_daily",
                          [l],
                          h.appid
                            ? [h.appid]
                            : null == S
                              ? void 0
                              : S.GetIncludedAppIDs(),
                        )
                          .then((e) => N(h, t, f, e.id))
                          .catch((e) => {
                            T.fnSetStrError(
                              "Discount Event Creation Failed: " +
                                (0, p.l)(e).strErrorMsg,
                            );
                          })
                      : N(h, t, f, null);
                },
                onCancel: n,
                bOKDisabled:
                  !Boolean(h) || !Boolean(l) || !h || !w || T.bLoading,
              },
              r.createElement(
                "div",
                { className: "DailyDealEditor" },
                r.createElement(E.Ko, {
                  oChoice: h,
                  fnSetChoice: (e) => {
                    v(e), u(0);
                  },
                }),
                Boolean(h) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(L, {
                      storeItemId: (0, o.u$)(h),
                      itemType: (0, o.D3)(h),
                    }),
                    r.createElement(P, {
                      id: (0, o.u$)(h),
                      itemType: (0, o.D3)(h),
                    }),
                  ),
                Boolean(h) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(c.ji, {
                      label: "Create discount event",
                      checked: k && 0 != l,
                      onChange: A,
                      disabled: 0 == l,
                      tooltip:
                        "Uncheck the box to skip creating the discount event. You can create a discount event separately and associate with the daily deal. The discount event being present will let us find the package discount associated with the daily deal.",
                    }),
                    r.createElement(D.a, {
                      nStoreItemID: (0, o.u$)(h),
                      eStoreItemType: (0, o.D3)(h),
                      nPartnerID: l,
                      setPartnerID: u,
                    }),
                  ),
                r.createElement(c.II, {
                  type: "text",
                  label: (0, _.Xx)("#DailyDeals_New_LinkTo_Title"),
                  tooltip: "URL must started with " + g.De.STORE_BASE_URL,
                  placeholder: (0, _.Xx)("#DailyDeals_New_LinkTo_Placeholder"),
                  onChange: (e) => {
                    var t;
                    return y(
                      (null === (t = null == e ? void 0 : e.currentTarget) ||
                      void 0 === t
                        ? void 0
                        : t.value) || "",
                    );
                  },
                }),
              ),
            );
      }
      function P(e) {
        const { id: t, itemType: n } = e,
          [a, i] = (0, s.jk)(t, n, {
            include_assets: !0,
            include_all_purchase_options: !0,
          });
        let l = g.De.PARTNER_BASE_URL + "apps/landing/" + t;
        switch (n) {
          case 1:
            l = g.De.PARTNER_BASE_URL + "store/packagelanding/" + t;
            break;
          case 2:
            l = g.De.PARTNER_BASE_URL + "bundles/view/" + t;
        }
        const o = Boolean(14 === (null == a ? void 0 : a.GetAppType()));
        return r.createElement(
          "div",
          { className: v.DealCapCtn },
          r.createElement(
            "a",
            {
              href: null == a ? void 0 : a.GetStorePageURL(),
              target: "_blank",
            },
            r.createElement("img", {
              className: v.DealCapImg,
              src: null == a ? void 0 : a.GetAssets().GetHeaderURL(),
            }),
          ),
          r.createElement(
            "div",
            { className: v.DealNameCtn },
            r.createElement(
              "div",
              { className: v.DealName },
              r.createElement(
                "a",
                { href: l, target: "_blank" },
                o &&
                  r.createElement(
                    b.HP,
                    { toolTipContent: "Advertising App" },
                    r.createElement(y.wVt, { style: { width: "20px" } }),
                  ),
                (null == a ? void 0 : a.GetName()) || t,
              ),
            ),
            o
              ? r.createElement(N, { oStoreItem: a })
              : r.createElement(T, {
                  oStoreItem: a,
                  eLoadState: i,
                  itemType: n,
                }),
          ),
        );
      }
      function T(e) {
        var t, n;
        const { oStoreItem: a, eLoadState: i, itemType: l } = e,
          o = (0, I.eD)(null == a ? void 0 : a.GetAppID());
        if (2 == i) {
          let e = (0, _.Xx)("#DailyDeals_App_NotAvailable");
          switch (l) {
            case 2:
              e = (0, _.Xx)("#DailyDeals_Bundle_NotAvailable");
              break;
            case 1:
              e = (0, _.Xx)("#DailyDeals_Package_NotAvailable");
          }
          return r.createElement("div", null, e);
        }
        let s = "?? ";
        return (
          (0, h.kE)(
            null === (t = null == a ? void 0 : a.GetBestPurchaseOption()) ||
              void 0 === t
              ? void 0
              : t.final_price_in_cents,
          )
            ? (s = (
                Number.parseInt(
                  a.GetBestPurchaseOption().final_price_in_cents,
                ) / 100
              ).toFixed(2))
            : o && (s = (o / 100).toFixed(2)),
          r.createElement(
            r.Fragment,
            null,
            r.createElement(S.Ll, { oAppInfo: a }),
            r.createElement(
              "div",
              { className: v.CurrentPrice },
              (0, _.Xx)("#DailyDeals_New_CurrentPrice", s),
            ),
            Boolean(
              null === (n = null == a ? void 0 : a.GetBestPurchaseOption()) ||
                void 0 === n
                ? void 0
                : n.discount_pct,
            ) &&
              r.createElement(
                "div",
                { className: v.DiscountLiveWarning },
                (0, _.Xx)(
                  "#DailyDeals_New_WarningExistingDiscount",
                  a.GetBestPurchaseOption().discount_pct,
                ),
              ),
          )
        );
      }
      function N(e) {
        const { oStoreItem: t } = e,
          n = t.GetStorePageURLOverride();
        return n && 0 != n.trim().length
          ? c.II.validateUrl(n)
            ? r.createElement(
                "div",
                null,
                "Override URL: ",
                r.createElement("a", { href: n, target: "_blank" }, n),
              )
            : r.createElement(
                "div",
                { className: f.WarningStylesWithIcon },
                "Warning: linked provided invalid: ",
                n,
              )
          : r.createElement(
              "div",
              { className: f.WarningStylesWithIcon },
              "Warning: No override URL provided",
            );
      }
      function R(e) {
        var t;
        const { nAppID: n, oFeaturedItem: a, fnSetFeaturedItem: i } = e,
          [m, d] = (0, s.vs)(n, { include_all_purchase_options: !0 });
        if (2 === d) return null;
        if (!m)
          return r.createElement(u.V, {
            size: "small",
            position: "center",
            string: (0, _.Xx)("#Loading"),
          });
        const p =
          null == m
            ? void 0
            : m
                .GetAllPurchaseOptions()
                .filter((e) => Boolean(e.packageid || e.bundleid));
        if ((null == p ? void 0 : p.length) > 1) {
          const e = new Array(),
            s = (0, o.y)({ appid: n });
          return (
            e.push(
              r.createElement(
                c.EU,
                { value: s, key: s },
                r.createElement(
                  "div",
                  { className: l.AvatarImageCtn },
                  r.createElement("img", {
                    src:
                      null === (t = null == m ? void 0 : m.GetAssets()) ||
                      void 0 === t
                        ? void 0
                        : t.GetHeaderURL(),
                    className: l.AvatarImage,
                    alt: (0, _.Xx)("#DailyDeals_HeaderArtMissing", n),
                  }),
                ),
                (0, _.Xx)(
                  "#DailyDeals_Featured_App",
                  m.GetName() + " (" + m.GetID() + ")",
                ),
              ),
            ),
            p
              .filter((e) => !e.is_commercial_license)
              .forEach((t) => {
                e.push(
                  r.createElement(G, {
                    key: "key_" + t.packageid + "_" + t.bundleid,
                    purchaseOption: t,
                  }),
                );
              }),
            r.createElement(
              "div",
              { className: v.FeatureSelectCtn },
              r.createElement(
                "div",
                { className: "DialogLabel" },
                (0, _.Xx)("#DailyDeals_Featured_title"),
              ),
              r.createElement(
                "div",
                null,
                (0, _.Xx)("#DailyDeals_Featured_Desc"),
              ),
              r.createElement(
                c.SY,
                { value: (0, o.y)(a), onChange: (e) => i((0, o.hQ)(e)) },
                e,
              ),
            )
          );
        }
        return null;
      }
      function G(e) {
        var t;
        const { purchaseOption: n } = e,
          a = (0, o.y)(n),
          i = n.packageid
            ? "#DailyDeals_Featured_Package"
            : "#DailyDeals_Featured_Bundle",
          m = (0, o.Bl)(void 0, n.packageid, n.bundleid),
          [d] = (0, s.jk)(m.id, (0, o.GV)(m.item_type), { include_assets: !0 });
        return r.createElement(
          c.EU,
          { key: a, value: a },
          Boolean(d) &&
            r.createElement(
              "div",
              { className: l.AvatarImageCtn },
              r.createElement("img", {
                src:
                  null === (t = null == d ? void 0 : d.GetAssets()) ||
                  void 0 === t
                    ? void 0
                    : t.GetHeaderURL(),
                className: l.AvatarImage,
                alt: (0, _.Xx)(
                  "bundle" == m.item_type
                    ? "#DailyDeals_BundleHeaderArtMissing"
                    : "#DailyDeals_PackageHeaderArtMissing",
                  m.id,
                ),
              }),
            ),
          r.createElement(
            "div",
            { className: v.GameName },
            (0, _.Xx)(
              i,
              n.purchase_option_name + " (" + (n.packageid || n.bundleid) + ")",
            ),
          ),
        );
      }
      function L(e) {
        const { storeItemId: t, itemType: n } = e,
          a = (0, k.Bd)(1),
          l = (0, i.Mg)();
        if (
          a.find((e) => {
            const a = (0, o.u$)(e),
              i = (0, o.iV)(e);
            return a == t && i == n;
          })
        )
          return r.createElement(
            "p",
            { className: f.WarningStylesWithIcon },
            "Invite for this store item already exists",
          );
        const s = Date.now() / 1e3 - 3 * A._H.PerMonth,
          c = l.find(
            (e) =>
              e.store_item_id == t &&
              (0, C.Kd)(e.store_item_type) == n &&
              e.rtime32_start_time > s,
          );
        return c
          ? r.createElement(
              "p",
              { className: f.WarningStylesWithIcon },
              "A Daily Deal already exists for this store item on ",
              (0, _.$1)(c.rtime32_start_time),
            )
          : null;
      }
    },
    66692: (e, t, n) => {
      "use strict";
      n.d(t, { Ko: () => b, cP: () => D, r5: () => f });
      var a = n(85556),
        i = n(99125),
        l = n(52077),
        r = n(93727),
        o = n(47427),
        s = n(15690),
        c = n(86437),
        m = n(1485),
        d = n(83743),
        u = n(10162),
        p = n(77178),
        _ = n(23665),
        h = n(31846),
        g = n(50900),
        v = n(47986),
        E = n(69368),
        S = n(46882);
      function D(e) {
        const { dealid: t, closeModal: n } = e,
          i = (0, r.Wp)(t),
          { fnSaveDailyDeal: c } = (0, r.oQ)(),
          m = o.useMemo(() => (0, g.$)(i), [i]);
        return o.createElement(f, {
          oFeaturedItem: m,
          closeModal: n,
          onConfirmFeatureItem: (e) =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var t;
              const n = (0, g.GB)(e),
                a = s.Z.Get().GetStoreItem(
                  n.store_item_id,
                  (0, g.Kd)(n.store_item_type),
                ),
                r = Object.assign(
                  Object.assign(Object.assign({}, i), {
                    store_item_name:
                      null !== (t = null == a ? void 0 : a.GetName()) &&
                      void 0 !== t
                        ? t
                        : "",
                  }),
                  n,
                );
              try {
                const e = yield c(r);
                if (e) return l.KF.Get().InitDailyDealToEdit(r, !0), e;
              } catch (e) {}
              return !1;
            }),
        });
      }
      function f(e) {
        const {
            oFeaturedItem: t,
            onConfirmFeatureItem: n,
            closeModal: l,
            bExcludeBundle: r,
            strTitleOverride: s,
            bIncludeHidden: m,
          } = e,
          [u, _] = o.useState(t),
          h = (0, i.fL)(u),
          g = (0, d.tx)();
        if (g.bLoading)
          return o.createElement(d.NT, {
            state: g,
            strDialogTitle: s || "Update Featuring",
            closeModal: l,
          });
        const v = (0, c.Bl)(
          null == u ? void 0 : u.appid,
          null == u ? void 0 : u.packageid,
          null == u ? void 0 : u.bundleid,
        );
        return o.createElement(
          p.uH,
          {
            strTitle: s || "Update Featuring",
            bDisableBackgroundDismiss: !0,
            strOKButtonText: "Confirm and Save",
            onCancel: l,
            bOKDisabled:
              !u ||
              g.bLoading ||
              JSON.stringify(u) == JSON.stringify(t) ||
              !h.data,
            onOK: () =>
              (0, a.mG)(this, void 0, void 0, function* () {
                g.fnSetLoading(!0);
                try {
                  (yield n(u)) ? g.fnSetSuccess(!0) : g.fnSetError(!0);
                } catch (e) {
                  g.fnSetError(!0);
                }
              }),
          },
          o.createElement(b, {
            oChoice: u,
            fnSetChoice: _,
            bExcludeBundle: r,
            bIncludeHidden: m,
          }),
          o.createElement(E.Ce, { id: v.id, itemType: (0, c.GV)(v.item_type) }),
          Boolean(null == u ? void 0 : u.appid) &&
            o.createElement(E.CC, {
              nAppID: u.appid,
              oFeaturedItem: u,
              fnSetFeaturedItem: _,
            }),
          o.createElement(y, { oFeaturedItem: u }),
        );
      }
      function y(e) {
        var t, n;
        const { oFeaturedItem: a } = e,
          l = (0, i.fL)(a);
        if (!l || !a || !l.data) return null;
        if (l.isLoading)
          return o.createElement(S.V, {
            size: "small",
            string: "Loading Country Restrictions",
          });
        const r = l.data;
        if (!r.no_restrictions) {
          if (
            (null === (t = r.allowed_countries) || void 0 === t
              ? void 0
              : t.length) > 0
          )
            return o.createElement(
              "div",
              null,
              "Country Allow List: ",
              r.allowed_countries.join(","),
            );
          if (
            (null === (n = r.restricted_countries) || void 0 === n
              ? void 0
              : n.length) > 0
          )
            return o.createElement(
              "div",
              null,
              "Country Restriction List: ",
              r.restricted_countries.join(","),
            );
        }
        return null;
      }
      function b(e) {
        const {
            oChoice: t,
            fnSetChoice: n,
            bExcludeApp: a,
            bExcludePackage: i,
            bExcludeBundle: l,
            bIncludeHidden: r,
          } = e,
          s = [];
        return (
          a ||
            s.push({
              name: "App",
              key: "app",
              contents: o.createElement(
                u.SV,
                null,
                o.createElement(v.u, {
                  strLabel: (0, h.Xx)("#DailyDeals_New_SelectGame"),
                  itemType: 0,
                  fnSetItemID: (e) => {
                    (null == t ? void 0 : t.appid) != e && n({ appid: e });
                  },
                }),
              ),
            }),
          i ||
            s.push({
              name: "Package",
              key: "package",
              contents: o.createElement(
                u.SV,
                null,
                o.createElement(v.u, {
                  strLabel: (0, h.Xx)("#DailyDeals_New_SelectPackage"),
                  itemType: 1,
                  fnSetItemID: (e) => {
                    (null == t ? void 0 : t.packageid) != e &&
                      n({ packageid: e });
                  },
                }),
              ),
            }),
          l ||
            s.push({
              name: "Bundle",
              key: "bundle",
              contents: o.createElement(
                u.SV,
                null,
                o.createElement(v.u, {
                  strLabel: (0, h.Xx)("#DailyDeals_New_SelectBundle"),
                  itemType: 2,
                  fnSetItemID: (e) => {
                    (null == t ? void 0 : t.bundleid) != e &&
                      n({ bundleid: e });
                  },
                }),
              ),
            }),
          r &&
            s.push({
              name: "Unpublished Items",
              key: "unpublished",
              contents: o.createElement(
                u.SV,
                null,
                o.createElement(I, { oChoice: t, fnSetChoice: n }),
              ),
            }),
          o.createElement(_.n, {
            tabs: s,
            bDisableRouting: !0,
            startingTab: "app",
          })
        );
      }
      function I(e) {
        const { oChoice: t, fnSetChoice: n } = e,
          a = (0, c.u$)(t),
          [i, l] = o.useState((0, c.D3)(t, 0));
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(m.II, {
            type: "number",
            value: a,
            label: "Enter Store Item ID #",
            onChange: (e) => {
              const t = Number.parseInt(e.currentTarget.value);
              if (null == t || Number.isNaN(t) || 0 === t) n(void 0);
              else
                switch (i) {
                  case 2:
                    n({ bundleid: t });
                    break;
                  case 1:
                    n({ packageid: t });
                    break;
                  default:
                    n({ appid: t });
                }
            },
          }),
          o.createElement(m.ry, {
            label: "Store Item Type",
            rgOptions: [
              { label: "Apps (all kinds)", data: 0 },
              { label: "Bundle", data: 2 },
              { label: "Package", data: 1 },
            ],
            onChange: (e) => l(e.data),
            contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
            selectedOption: i,
          }),
        );
      }
    },
    95666: (e, t, n) => {
      "use strict";
      n.d(t, {
        B9: () => k,
        KP: () => f,
        Ll: () => C,
        SG: () => D,
        bG: () => I,
      });
      var a = n(81033),
        i = n(7073),
        l = n(90960),
        r = n(47427),
        o = n(80886),
        s = n(1485),
        c = n(10162),
        m = n(85305),
        d = n(72297),
        u = n.n(d),
        p = n(13129),
        _ = n(31846),
        h = n(65255),
        g = n(34748),
        v = n(15282),
        E = n(14790),
        S = n(93727);
      function D(e) {
        var t, n;
        const { oDailyDeal: l } = e;
        let o = (0, i.hd)(
          null === (t = l.discount_event_id) || void 0 === t
            ? void 0
            : t.toString(),
        );
        const s = (0, a.vc)(
            null === (n = l.discount_event_id) || void 0 === n
              ? void 0
              : n.toString(),
          ),
          d = (0, E.ns)(),
          {
            nDiscountPercentHigh: u,
            nDiscountPercentLow: _,
            dtDiscountStart: v,
            dtDiscountEnd: D,
            rgDiscounts: y,
          } = r.useMemo(() => (0, S.lI)(l, d), [l, d]);
        let b,
          I,
          C = "?? %",
          k = null,
          A = null;
        if (s && (null == o ? void 0 : o.length) > 0) {
          const e = l.rtime32_start_time + 86400;
          o.forEach((t) => {
            t.rtStartDate <= l.rtime32_start_time &&
              t.rtEndDate >= e &&
              ((null == b || b > t.nDiscountPct) && (b = t.nDiscountPct),
              (null == I || I < t.nDiscountPct) && (I = t.nDiscountPct));
          });
        }
        var w, P;
        return (
          y.length > 0 &&
            ((null == b || b > _) && (b = _),
            (null == I || I < u) && (I = u),
            y.forEach((e) => {
              null == o.find((t) => t.nDiscountID == e.nDiscountID) &&
                (o = o.concat(e));
            })),
          null != b &&
            null != I &&
            (C = (w = b) == (P = I) ? w + "%" : w + "% - " + P + "%"),
          (k = r.createElement(f, {
            rgPackagesDiscounts: o,
            oDiscountEvent: s,
            nDiscountStart: v,
            nDiscountEnd: D,
          })),
          (null == s ? void 0 : s.id) &&
            (A = `${h.De.PARTNER_BASE_URL}admin/editdiscountevent/${null == s ? void 0 : s.id}`),
          r.createElement(
            c.SV,
            null,
            r.createElement(
              m.tl,
              {
                hoverProps: { direction: "left", style: { minWidth: "350px" } },
                hoverContent: k,
                className: g.HoverCtn,
                strClickUrl: h.L7.is_support ? A : void 0,
              },
              r.createElement(
                "div",
                {
                  className: (0, p.Z)(
                    g.Pct,
                    "?? %" == C ? g.MissingDiscount : "",
                  ),
                },
                C,
              ),
            ),
          )
        );
      }
      function f(e) {
        var t, n;
        const {
            rgPackagesDiscounts: a,
            oDiscountEvent: i,
            nBundleID: l,
            nDiscountStart: s,
            nDiscountEnd: c,
          } = e,
          m =
            null !== (t = null == a ? void 0 : a.length) && void 0 !== t
              ? t
              : 0,
          d = null == a ? void 0 : a.slice(0, Math.min(m, 10));
        return (
          (0, o.dY)((null == d ? void 0 : d.map((e) => e.packageID)) || [], {}),
          r.createElement(
            "div",
            { className: g.HoverObject },
            r.createElement(
              "div",
              { className: "DialogLabel" },
              i
                ? (0, _.Xx)("#DailyDeals_DiscountEvent")
                : (0, _.Xx)("#DailyDeals_DiscountInfo"),
            ),
            r.createElement(
              "div",
              { className: g.HoverDetailsCtn },
              Boolean(i) &&
                r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: g.DiscountDates },
                    (0, _.$1)(i.start_date),
                    " - ",
                    (0, _.$1)(i.end_date),
                  ),
                ),
              !Boolean(i) &&
                Boolean(s) &&
                Boolean(c) &&
                r.createElement(
                  "div",
                  { className: g.DiscountDates },
                  (0, _.$1)(s),
                  " - ",
                  (0, _.$1)(c),
                ),
            ),
            Boolean(i) &&
              !(null === (n = i.appids) || void 0 === n ? void 0 : n.length) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: u().WarningIconLayout },
                  (0, _.Xx)("#DailyDeals_DiscountEvent_Incomplete"),
                ),
              ),
            r.createElement(
              "div",
              { className: g.DiscountedPackageList },
              Boolean(!d || 0 == d.length) &&
                r.createElement(
                  "div",
                  null,
                  (0, _.Xx)("#DailyDeals_NoDiscountsEntered"),
                ),
              null == d
                ? void 0
                : d.map((e) =>
                    r.createElement(b, {
                      key: "dis_" + e.nDiscountID + "_" + e.nDiscountID,
                      oDiscount: e,
                    }),
                  ),
              Boolean(m > 10) &&
                r.createElement(
                  "div",
                  null,
                  (0, _.Xx)("#DailyDeals_MorePackages", m - 10),
                ),
            ),
            h.L7.is_support &&
              Boolean(l) &&
              r.createElement(y, { oDiscountEvent: i, bundleid: l }),
          )
        );
      }
      function y(e) {
        const { oDiscountEvent: t, bundleid: n } = e,
          [i] = (0, o.yo)(n, { include_basic_info: !0 }),
          { fnUpdateDiscountEventAppAndPublisherList: l } = (0, a.Lr)();
        return i
          ? r.createElement(
              s.zx,
              {
                onClick: (e) => {
                  l(t.id, t.publisherids || [], i.GetIncludedAppIDs());
                },
              },
              "Update Discount Event's permitted AppIDs from Bundle Definition",
            )
          : null;
      }
      function b(e) {
        const { oDiscount: t } = e,
          [n] = (0, o.ie)(t.packageID, {});
        return n
          ? r.createElement(
              "div",
              { className: g.DiscountedPackage },
              n.GetName(),
              "( ",
              t.packageID,
              " ) @ ",
              r.createElement("div", null, t.nDiscountPct, "%"),
            )
          : r.createElement(
              "div",
              { className: g.DiscountedPackage },
              "( ",
              t.packageID,
              " ) @ ",
              r.createElement("div", null, t.nDiscountPct, "%"),
            );
      }
      function I(e) {
        const { strDiscountEventID: t, nBundleID: n } = e,
          l = (0, i.hd)(t),
          o = (0, a.vc)(t);
        return r.createElement(f, {
          rgPackagesDiscounts: l,
          oDiscountEvent: o,
          nBundleID: n,
        });
      }
      function C(e) {
        const { oAppInfo: t } = e,
          n = (0, l.q_)(null == t ? void 0 : t.GetAppID());
        return t && (null == n ? void 0 : n.length) > 0
          ? r.createElement(
              v.V,
              { rgPackagesToLoad: n, size: "small" },
              r.createElement(k, { rgPackageIDs: n }),
            )
          : r.createElement(
              "div",
              null,
              (0, _.Xx)("#DailyDeals_New_NoLastDiscount"),
            );
      }
      function k(e) {
        const {
            rgPackageIDs: t,
            bHidePackage: n,
            bShowDiscountEventName: a,
          } = e,
          { mostRecentDiscount: l, bLoading: o } = (0, i.k1)(t);
        if (o) return null;
        if (!l)
          return r.createElement(
            "div",
            null,
            (0, _.Xx)("#DailyDeals_New_NoLastDiscount"),
          );
        const s = (0, _.vX)(l.rtStartDate),
          c = Date.now() / 1e3,
          m = c - 7884864,
          d =
            l.rtEndDate > c
              ? r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: g.Inline },
                    (0, _.kQ)(
                      "#DailyDeals_New_LastDiscount_Ends",
                      r.createElement(
                        "span",
                        { className: g.ActiveDiscount },
                        (0, _.vX)(l.rtEndDate),
                      ),
                    ),
                  ),
                  n ? "" : r.createElement("br", null),
                )
              : r.createElement(
                  r.Fragment,
                  null,
                  n ? "" : r.createElement("br", null),
                );
        return r.createElement(
          "div",
          { className: g.LastDiscount },
          (0, _.kQ)(
            n
              ? "#DailyDeals_New_LastDiscount_SansPackage"
              : "#DailyDeals_New_LastDiscount",
            r.createElement(
              "span",
              { className: l.rtStartDate > m ? g.RecentDiscount : "" },
              s,
            ),
            l.nDiscountPct,
            n
              ? ""
              : r.createElement(
                  "a",
                  {
                    href: `${h.De.PARTNER_BASE_URL}packages/discounts/${l.packageID}`,
                  },
                  l.packageID,
                ),
            d,
          ),
          Boolean(a && (null == l ? void 0 : l.discountEventID)) &&
            r.createElement(A, { strDiscountEventID: l.discountEventID }),
        );
      }
      function A(e) {
        const { strDiscountEventID: t } = e,
          n = (0, a.vc)(t);
        return n ? r.createElement("div", null, n.name) : null;
      }
    },
    15282: (e, t, n) => {
      "use strict";
      n.d(t, { V: () => d, j: () => m });
      var a = n(80751),
        i = n.n(a),
        l = n(7073),
        r = n(47427),
        o = n(46882),
        s = n(31846),
        c = n(37563);
      function m(e) {
        const { bSkipLoadingPackages: t } = e,
          n = (0, c.kQ)("package_discount_to_batchload", "application_config");
        return t
          ? r.createElement(r.Fragment, null, e.children)
          : r.createElement(
              d,
              { rgPackagesToLoad: n, size: "medium" },
              e.children,
            );
      }
      function d(e) {
        const { rgPackagesToLoad: t } = e,
          n = (0, l.yI)(),
          [a, c] = r.useState((null == t ? void 0 : t.length) > 0);
        return (
          r.useEffect(() => {
            const e = i().CancelToken.source();
            return (
              (null == t ? void 0 : t.length) > 0
                ? n(t).then(() => {
                    e.token.reason || c(!1);
                  })
                : c(!1),
              () => e.cancel("unmounting WithPackagesDiscountLoaded")
            );
          }, [n, t]),
          a
            ? r.createElement(o.V, {
                position: "center",
                string: (0, s.Xx)("#DailyDeals_LoadingPackageDiscounts"),
                size: e.size,
              })
            : r.createElement(r.Fragment, null, e.children)
        );
      }
    },
    90831: (e, t, n) => {
      "use strict";
      n.d(t, { V: () => b, d: () => I });
      var a = n(85556),
        i = n(1698),
        l = n(81033),
        r = n(30750),
        o = n(47427),
        s = n(15459),
        c = n(15690),
        m = n(86437),
        d = n(80886),
        u = n(1485),
        p = n(83743),
        _ = n(77178),
        h = n(90069),
        g = n(46882),
        v = n(16649),
        E = n(50423),
        S = n(46984),
        D = n(49972),
        f = n(26475),
        y = n(60688);
      function b(e) {
        const { oEditablePlan: t } = e,
          n = (0, r.SZ)(() => t.GetStoreItemKey()),
          [a] = (0, d.jk)(null == n ? void 0 : n.id, (0, m.YF)(n), {
            include_platforms: !0,
          });
        return o.createElement(
          "div",
          { className: y.LinkCtn },
          o.createElement(f.j_, {
            name: "Discount Event ID",
            placeHolder: "/admin/editdiscountevent/<grab this ID>",
            id: t.GetDiscountEventID(),
            fnSetID: t.SetDiscountEventID,
            fnGetURL: i.tA.GetDiscountEditURL,
          }),
          o.createElement(
            "div",
            { className: y.ButtonRow },
            Boolean(a)
              ? o.createElement(
                  u.zx,
                  {
                    onClick: (e) => {
                      (0, h.AM)(
                        o.createElement(C, { oEditablePlan: t, oStoreItem: a }),
                        (0, E.RA)(e),
                      );
                    },
                  },
                  "Create new",
                )
              : o.createElement(
                  "p",
                  null,
                  "Link an individual app in order to easily create a discount event from here. Otherwise, go to discount event editor to create manually.",
                ),
            o.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, h.AM)(
                    o.createElement(k, { oEditablePlan: t }),
                    (0, E.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function I(e, t, n, a) {
        var l;
        const r = new Date(1e3 * t);
        return `${i.j.get(e)} - ${String(r.getUTCMonth() + 1).padStart(2, "0")}/${String(r.getUTCDate()).padStart(2, "0")}/${String(r.getUTCFullYear()).padStart(2, "0")} - ${null !== (l = null == n ? void 0 : n.GetName()) && void 0 !== l ? l : (0, m.y)(a)}`;
      }
      function C(e) {
        const { oEditablePlan: t, closeModal: n, oStoreItem: r } = e,
          s = t.GetType(),
          c = t.GetFeaturedItemID(),
          d = t.GetFeaturedItemType(),
          [h, g] = (0, o.useState)(
            I(
              s,
              t.GetStartDate(),
              r,
              (0, m.Bo)(r.GetID(), r.GetStoreItemType()),
            ),
          ),
          E = (0, o.useMemo)(() => {
            const e = [];
            return (
              Array.from(i.FF.values()).forEach((t) => {
                e.indexOf(t) && e.push(t);
              }),
              e.map((e) => ({ label: e, data: e }))
            );
          }, []),
          [f, b] = (0, o.useState)(i.FF.get(s)),
          [C, k] = (0, o.useState)(t.BHasDiscountEventID()),
          [A, w] = (0, o.useState)(0),
          { fnCreateDiscountEvent: P } = (0, l.z8)(),
          T = (0, p.tx)();
        return T.bLoading
          ? o.createElement(p.NT, {
              state: T,
              strDialogTitle: "Create New Discount Event",
              closeModal: n,
            })
          : C
            ? o.createElement(_.uH, {
                strTitle: "Create Discount Event?",
                strDescription: `You already have Discount Event with ID ${t.GetDiscountEventID()} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: n,
                onOK: () => k(!1),
                strOKButtonText: "Create Discount Event Anyways",
              })
            : o.createElement(
                _.uH,
                {
                  strTitle: "Create New Discount Event",
                  strDescription:
                    "Create and link a discount event from date range and featured item from the existing plan? ",
                  onCancel: n,
                  bOKDisabled:
                    0 == h.trim().length ||
                    0 == (null == f ? void 0 : f.trim().length) ||
                    (!t.BHasAssociatedSaleEvent() && !r) ||
                    T.bLoading,
                  bAllowFullSize: !0,
                  className: y.ModalMax,
                  onOK: () =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      T.fnSetLoading(!0);
                      const e = t.GetStartDate(),
                        n = t.GetType();
                      let a = t.GetEndDate();
                      if (i.Ii.has(n)) {
                        a = e + i.Ii.get(n).nDaysDiscountEvent * S._H.PerDay;
                      }
                      yield P(
                        e,
                        a,
                        h,
                        h,
                        f,
                        0 == A ? null : [A],
                        0 == d
                          ? [c]
                          : null == r
                            ? void 0
                            : r.GetIncludedAppIDs(),
                      )
                        .then((e) => {
                          e
                            ? (t.SetDiscountEventID(e.id),
                              T.fnSetStrSuccess(
                                "Create Discount Event Successful. Remember to Save the Promotion Plan.",
                              ))
                            : T.fnSetStrError(
                                "Create Discount Event failed. Check console output",
                              );
                        })
                        .catch((e) => {
                          const t =
                            "Discount Event Creation Failed: " +
                            (0, v.l)(e).strErrorMsg +
                            ". ";
                          console.log(
                            "discount event create failed",
                            (0, v.l)(e),
                            e,
                          ),
                            T.fnSetStrError(t);
                        });
                    }),
                },
                o.createElement("br", null),
                o.createElement("br", null),
                o.createElement(u.II, {
                  value: h,
                  onChange: (e) => g(e.currentTarget.value),
                  label: "Internal Name",
                }),
                o.createElement(u.ry, {
                  label: "Discount Event Label",
                  rgOptions: E,
                  selectedOption: f,
                  onChange: (e) => b(e.data),
                }),
                o.createElement(D.a, {
                  nStoreItemID: c,
                  eStoreItemType: d,
                  nPartnerID: A,
                  setPartnerID: w,
                }),
              );
      }
      function k(e) {
        const { oEditablePlan: t, closeModal: n } = e,
          { rgDiscountEvents: a, eResult: i } = (0, l.BS)(),
          [r, m] = (0, o.useState)(null);
        (0, o.useEffect)(() => {
          if (a) {
            const e = new Set();
            a.forEach((t) => {
              var n;
              return null === (n = t.appids) || void 0 === n
                ? void 0
                : n.forEach((t) => e.add(t));
            }),
              c.Z.Get().QueueMultipleAppRequests(Array.from(e), {});
          }
        }, [a]);
        const d = (0, o.useMemo)(
          () =>
            (a || []).map((e) => ({
              label: e.name,
              value: e.id,
              discountEvent: e,
            })),
          [a],
        );
        return a
          ? o.createElement(
              _.uH,
              {
                strTitle: "Select an Upcoming Discount Event",
                strDescription:
                  "This only surfaces active or upcoming Discount Event. This doesn't have access to archived discount events.",
                onCancel: n,
                closeModal: n,
                onOK: () => {
                  t.SetDiscountEventID(r);
                },
                bOKDisabled: Boolean(!r),
              },
              o.createElement(
                "div",
                { className: y.DiscountEventChooser },
                o.createElement(u.__, null, "Choose Discount Event:"),
                o.createElement(s.ZP, {
                  options: d,
                  value: d.find((e) => e.value === r),
                  onChange: (e) => m((null == e ? void 0 : e.value) || null),
                  isSearchable: !0,
                  isMulti: !1,
                  isClearable: !0,
                  filterOption: (e, t) => {
                    var n, a;
                    if (!Boolean(t)) return !0;
                    const i = t.toLowerCase(),
                      l = e.data.discountEvent;
                    return (
                      e.label.toLowerCase().search(i) >= 0 ||
                      (null === (n = l.opt_in_name) || void 0 === n
                        ? void 0
                        : n.toLowerCase().search(i)) >= 0 ||
                      (null === (a = l.appids) || void 0 === a
                        ? void 0
                        : a.some((e) => {
                            const t = c.Z.Get().GetApp(e);
                            return (
                              (null == t
                                ? void 0
                                : t.GetName().toLowerCase().search(i)) >= 0
                            );
                          }))
                    );
                  },
                }),
              ),
            )
          : o.createElement(
              _.uH,
              { strTitle: "Loading Discount Events" },
              o.createElement(g.V, { string: "Loading", size: "medium" }),
            );
      }
    },
    87814: (e, t, n) => {
      "use strict";
      n.d(t, { QG: () => mt, bQ: () => it, Fv: () => st });
      var a = n(4618),
        i = n(1698),
        l = n(36342),
        r = n(30750),
        o = n(47427),
        s = n(77681),
        c = n.n(s),
        m = n(1485),
        d = n(10162),
        u = n(71472),
        p = n(71741),
        _ = n.n(p),
        h = n(90069),
        g = n(23665),
        v = n(13129),
        E = n(50423),
        S = n(31846),
        D = n(12251),
        f = n(18133),
        y = n.n(f),
        b = n(40298),
        I = n(85556),
        C = n(80751),
        k = n.n(C),
        A = n(65255),
        w = n(82756);
      const P = 4985300096;
      function T(e) {
        const t = new Date(1e3 * e);
        return `${t.getFullYear()}-${String(t.getUTCMonth() + 1).padStart(2, "0")}-${String(t.getUTCDate()).padStart(2, "0")}`;
      }
      function N(e) {
        const t = new Date(1e3 * e);
        return `${String(t.getUTCHours()).padStart(2, "0")}:${String(t.getUTCMinutes()).padStart(2, "0")}:00`;
      }
      var R = n(51915),
        G = n(83743),
        L = n(46984),
        B = n(83190),
        x = n(92012),
        M = n(64936),
        O = n(37047);
      const F = 1 * L._H.PerDay;
      function U(e) {
        const { closeModal: t, oEditablePlan: n, bSteamChinaOnly: a } = e,
          i = (0, M.zD)(),
          l = (function () {
            const [e] = (0, o.useState)(() =>
              (0, w.kQ)("mondays_webapi_token", "application_config"),
            );
            return (0, o.useCallback)(
              (t) =>
                (0, I.mG)(this, void 0, void 0, function* () {
                  var n, a, i, l, r, o;
                  const s = {
                      date4: { date: T(t.rtDueDate), time: N(t.rtDueDate) },
                      priority: {
                        label: t.bHighPriority ? "ASAP " : "Medium",
                      },
                      link: { url: t.strFilesURL, text: t.strFilesURL },
                      link8: {
                        url: `${A.De.PARTNER_BASE_URL}promotion/assetportal/localization/${t.planid}`,
                        text: `${A.De.PARTNER_BASE_URL}promotion/assetportal/localization/${t.planid}`,
                      },
                      date8: { date: T(t.rtLiveDate), time: N(t.rtLiveDate) },
                      numbers: "" + t.nNumAssets,
                      long_text: t.strDescription,
                      text: t.strRequestorName,
                      link1: {
                        url: t.strInternalURL || "",
                        text: t.strInternalURL || "",
                      },
                    },
                    c = {
                      myItemName: t.strEventName,
                      columnVals: JSON.stringify(s),
                    },
                    m = `mutation ($myItemName: String!, $columnVals: JSON!) { create_item (board_id:${P}, item_name:$myItemName, column_values:$columnVals) { id } }`,
                    d = yield k().post(
                      "https://api.monday.com/v2/",
                      JSON.stringify({
                        query: m,
                        variables: JSON.stringify(c),
                      }),
                      {
                        headers: {
                          Authorization: e,
                          "Content-Type": "application/json",
                        },
                      },
                    );
                  return (
                    "dev" == A.De.WEB_UNIVERSE && console.log("adil", d),
                    d &&
                    200 == d.status &&
                    (null ===
                      (i =
                        null ===
                          (a =
                            null === (n = d.data) || void 0 === n
                              ? void 0
                              : n.data) || void 0 === a
                          ? void 0
                          : a.create_item) || void 0 === i
                      ? void 0
                      : i.id)
                      ? null ===
                          (o =
                            null ===
                              (r =
                                null === (l = d.data) || void 0 === l
                                  ? void 0
                                  : l.data) || void 0 === r
                              ? void 0
                              : r.create_item) || void 0 === o
                        ? void 0
                        : o.id
                      : null
                  );
                }),
              [e],
            );
          })(),
          s = (0, R.IE)(A.L7.accountid),
          [c, d, u, p, _, h, g] = (0, r.SZ)(() => [
            n.GetID(),
            n.GetName(),
            n.GetStartDate(),
            n.GetEndDate(),
            n.GetArtworkLocalizationDropboxLink(),
            n.GetAssociatedAssetURLForHTML(),
            n.GetNumArtworkLocalizationRequired(),
          ]),
          [v, E] = (0, o.useState)(() => u - F),
          [f, y] = (0, o.useState)(() => v < i),
          [b, C] = (0, o.useState)(() =>
            a
              ? "Translate to Simplified Chinese Only"
              : "Translate to all supported language.",
          ),
          L = (0, G.tx)();
        return L.bLoading
          ? o.createElement(G.NT, {
              state: L,
              strDialogTitle: "Creating Localization Request...",
              closeModal: t,
            })
          : o.createElement(
              B.P,
              {
                strTitle: "Create Localization Request",
                strDescription:
                  "Create a localization request after you have uploaded the assets to dropbox. Note that the event starts on " +
                  (0, S.$1)(u) +
                  " @ " +
                  (0, D.Sc)(u),
                onCancel: t,
                onOK: () =>
                  (0, I.mG)(this, void 0, void 0, function* () {
                    var e;
                    L.fnSetLoading(!0);
                    const t = {
                        planid: c,
                        strEventName: d,
                        rtDueDate: v,
                        rtLiveDate: u,
                        nNumAssets: g,
                        strDescription: b || "",
                        strRequestorName:
                          (null === (e = null == s ? void 0 : s.data) ||
                          void 0 === e
                            ? void 0
                            : e.m_strPlayerName) || "" + A.L7.accountid,
                        bHighPriority: f,
                        strFilesURL: _,
                        strInternalURL: h,
                      },
                      a = yield l(t);
                    a
                      ? (n.SetArtworkLocalizationRequestTime(
                          Math.floor(Date.now() / 1e3),
                          a,
                        ),
                        L.fnSetSuccess(!0))
                      : (L.fnSetError(!0),
                        L.fnSetStrError(
                          "Chech console for errors and/or try again shortly",
                        ));
                  }),
              },
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement(x.A, {
                strDescription: "Choose Due Date",
                nEarliestTime: i,
                nLatestTime: p,
                fnGetTimeToUpdate: () => v,
                fnSetTimeToUpdate: E,
                bShowTimeZone: !0,
                strAlsoShowTimeZone: O.$,
              }),
              o.createElement("br", null),
              o.createElement(m.ji, {
                checked: f,
                onChange: y,
                label: "High Priority?",
              }),
              o.createElement("br", null),
              o.createElement("br", null),
              o.createElement(m.II, {
                type: "url",
                label: "DropBox Link",
                value: _,
                onChange: (e) =>
                  n.SetArtworkLocalizationDropboxLink(e.currentTarget.value),
              }),
              o.createElement(m.__, null, "Notes for Localization"),
              o.createElement("textarea", {
                rows: 10,
                cols: 80,
                value: b,
                onChange: (e) => C(e.currentTarget.value),
              }),
            );
      }
      var H = n(43527),
        V = n(50382),
        X = n(45180),
        j = n(38071),
        q = n(28995),
        W = n(25127),
        z = n(20417);
      class Z {
        InitSaleAssetsToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new q.Es(e)),
            this.m_model
          );
        }
        GetSaleAssetsToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            Z.s_Singleton ||
              ((Z.s_Singleton = new Z()),
              "dev" == A.De.WEB_UNIVERSE &&
                (window.g_SaleAssetEditStore = Z.s_Singleton)),
            Z.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      var K = n(27174),
        Q = n(62698),
        Y = n(98330),
        J = n(44174),
        $ = n(9466),
        ee = n(8897),
        te = n(46882),
        ne = n(62210),
        ae = n(77178),
        ie = n(60688);
      function le(e) {
        const { bIsDirty: t, fnOnRevert: n, fnOnSave: a, bSaveDisabled: i } = e;
        return o.createElement(
          "div",
          { className: (0, v.Z)(c().SectionCtn, c().ActionBar) },
          o.createElement(
            "div",
            { className: ie.ButtonRow },
            o.createElement(
              m.KM,
              {
                disabled: i,
                onClick: (e) =>
                  (0, h.AM)(o.createElement(re, { fnOnSave: a }), (0, E.RA)(e)),
              },
              (0, S.Xx)(t ? "#Button_Save" : "#Button_Saved"),
            ),
            o.createElement("div", { className: ie.ButtonRowSpacer }),
            o.createElement(
              m.zx,
              {
                disabled: !t,
                onClick: (e) =>
                  (0, h.AM)(
                    o.createElement(ae.uH, {
                      strTitle: (0, S.Xx)("#Dialog_AreYouSure"),
                      strDescription: (0, S.Xx)("#DailyDeals_UnsavedChanges"),
                      onOK: n,
                    }),
                    (0, E.RA)(e),
                  ),
              },
              (0, S.Xx)("#Button_Revert"),
            ),
          ),
        );
      }
      function re(e) {
        const { fnOnSave: t, closeModal: n } = e,
          [a, i] = o.useState(!0),
          [l, r] = o.useState(!1);
        return (
          o.useEffect(() => {
            t()
              .then((e) => {
                r(e);
              })
              .catch((e) => r(!1))
              .finally(() => i(!1));
          }, [t]),
          o.createElement(
            ae.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: n },
            Boolean(a)
              ? o.createElement(te.V, {
                  size: "medium",
                  position: "center",
                  string: (0, S.Xx)("#Saving"),
                })
              : Boolean(l)
                ? o.createElement("div", null, "Save successful")
                : o.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function oe(e) {
        const {
            gidClanEvent: t,
            rgArtworkToDisplay: n,
            promotionPlanID: a,
          } = e,
          i = (function () {
            const e = (0, z.NW)(),
              [t, n] = o.useState(() => Z.Get().GetSaleAssetsToEdit());
            return (
              (0, z.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
                n(t), e();
              }),
              t
            );
          })();
        return o.createElement(
          "div",
          null,
          o.createElement(
            "div",
            { className: ie.EditCtn },
            o.createElement(
              "div",
              { className: c().PageTitle },
              "Sale Page - Asset Management",
            ),
            o.createElement("hr", null),
            o.createElement(
              "div",
              { className: c().ColumnCtn },
              o.createElement(
                "div",
                { className: c().LeftCol },
                o.createElement(se, {
                  oSaleAssetEdit: i,
                  rgArtworkToDisplay: n,
                }),
              ),
              o.createElement(de, {
                oSaleAssetEdit: i,
                rgArtworkToDisplay: n,
                promotionPlanID: a,
              }),
            ),
          ),
          o.createElement("br", null),
        );
      }
      function se(e) {
        const { oSaleAssetEdit: t, rgArtworkToDisplay: n } = e,
          a = (0, o.useMemo)(() => {
            const e = [
              "capsule",
              "sale_header",
              "sale_logo",
              "product_banner",
              "product_mobile_banner",
              "localized_title_image",
            ];
            return n ? n.filter((t) => e.includes(t)) : e;
          }, [n]),
          i = (0, o.useMemo)(
            () => [j.IN.k_ESteamRealmGlobal, j.IN.k_ESteamRealmChina],
            [],
          ),
          l = (0, o.useCallback)(
            (e, n, a, i, l, r, o) => {
              (0, ne.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              );
              let s = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  q.DU.forEach((e) => {
                    const t = K.h1[(0, q.if)(e)];
                    r == t.width && (s = e);
                  }),
                    s || (s = "localized_sale_header");
              }
              s && t.SetImage(s, a, e + (0, Y.U)(i));
            },
            [t],
          );
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement("h2", { className: "inline" }, "Sale Page Assets"),
            o.createElement("hr", null),
            o.createElement($.j, {
              rgSupportArtwork: a,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${A.De.PARTNER_BASE_URL}promotion/sales/ajaxuploadasset/${t.GetClanAccountID()}`,
              fnOnUploadSuccess: l,
            }),
            o.createElement(
              d.SV,
              null,
              o.createElement("br", null),
              q.DU.filter((e) => !n || me(n, e)).map((e) => {
                const n = K.h1[(0, q.if)(e)];
                return o.createElement(
                  "div",
                  { key: e },
                  o.createElement("h3", null, (0, q.Fm)(e)),
                  o.createElement(
                    "div",
                    null,
                    o.createElement(
                      "span",
                      null,
                      n.width,
                      "px by ",
                      n.height,
                      "px",
                    ),
                    " (.jpg,.png,.gif)",
                  ),
                  o.createElement(ce, { oSaleAssetEdit: t, assetType: e }),
                );
              }),
            ),
          ),
          o.createElement(pe, { oSaleAssetEdit: t }),
        );
      }
      function ce(e) {
        const { oSaleAssetEdit: t, assetType: n } = e,
          [a, i, l] = (0, r.SZ)(() => [
            t.GetAssetsObject(n),
            t.GetGID(),
            t.GetPromoModifyTime(),
          ]),
          s = a
            .filter(Boolean)
            .map((e, t) => t)
            .sort(),
          m = (0, o.useCallback)(
            (e) => {
              var n;
              return 31 != e &&
                e >= 0 &&
                (null === (n = a[e]) || void 0 === n ? void 0 : n.length) > 0
                ? Q.aN.GenerateArtworkURLFromHashAndExtensions(
                    t.GetClanSteamID(),
                    a[e],
                  )
                : null;
            },
            [a, t],
          );
        return o.createElement(
          "div",
          { className: c().MarketingMessage },
          o.createElement(ee.V, {
            rgAssetLangs: s,
            fnGetAssetUrl: m,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(n, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(n),
          }),
        );
      }
      function me(e, t) {
        switch (t) {
          case "localized_capsule_image":
            return e.includes("capsule");
          case "localized_sale_header":
            return e.includes("sale_header");
          case "localized_sale_logo":
            return e.includes("sale_logo");
          case "localized_sale_product_banner":
            return e.includes("product_banner");
          case "localized_sale_product_mobile_banner":
            return e.includes("product_mobile_banner");
          case "localized_title_image":
            return e.includes("localized_title_image");
        }
        return !1;
      }
      function de(e) {
        const {
          oSaleAssetEdit: t,
          rgArtworkToDisplay: n,
          promotionPlanID: a,
        } = e;
        return o.createElement(
          "div",
          { className: c().RightCol },
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(m.__, null, "Asset Progress"),
            q.DU.filter((e) => !n || me(n, e)).map((e) =>
              o.createElement(
                "div",
                { key: "as_count_" + e },
                (0, q.Fm)(e),
                " ",
                t.GetAssetsObject(e).filter(Boolean).length,
                " / ",
                W._,
              ),
            ),
          ),
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(
              "a",
              {
                href: `${A.De.COMMUNITY_BASE_URL}gid/${t.GetClanSteamID().ConvertTo64BitString()}/partnerevents/edit/${t.GetGID()}?tab=sale`,
                target: "_blank",
              },
              "Open Sale Page Editor",
            ),
            Boolean(a) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("br", null),
                o.createElement(
                  "a",
                  {
                    href: `${A.De.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function ue(e) {
        const { clanAccountID: t, gidClanEvent: n, children: a } = e,
          i = (0, J.Jn)(t, n),
          [l, r] = o.useState(!1);
        return (
          o.useEffect(() => {
            var e;
            i &&
              ((i.GID ==
                (null === (e = Z.Get().GetSaleAssetsToEdit()) || void 0 === e
                  ? void 0
                  : e.GetGID()) &&
                l) ||
                (!(function (e, t = !1) {
                  Z.Get().InitSaleAssetsToEdit(e, t);
                })(i),
                r(!0)));
          }, [l, i]),
          l
            ? o.createElement(o.Fragment, null, a)
            : o.createElement(te.V, {
                size: "medium",
                position: "center",
                string: (0, S.Xx)("#Loading"),
              })
        );
      }
      function pe(e) {
        const { oSaleAssetEdit: t } = e,
          { fnSaveSaleAssets: n } = (0, J.zn)(),
          [a, i, l, s] = (0, r.SZ)(() => [
            t.BIsDirty(),
            t.GetGID(),
            t.GetClanAccountID(),
            t.GetAssetModel(),
          ]);
        return o.createElement(le, {
          bIsDirty: a,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: !1,
          fnOnSave: () =>
            (0, I.mG)(this, void 0, void 0, function* () {
              const e = yield n(l, i, s);
              return e && t.Reset(J.j1.GetClanEventModel(i)), e;
            }),
        });
      }
      var _e = n(77936),
        he = n(54842),
        ge = n(45492),
        ve = n(16997),
        Ee = n(2026),
        Se = n(65650);
      class De {
        constructor(e) {
          (this.m_oSpotlight = null),
            (this.m_originalSpotlight = null),
            (this.m_bDirty = !1),
            (this.m_callback = new ge.pB()),
            (0, he.rC)(this),
            this.Reset(e);
        }
        Reset(e) {
          (this.m_oSpotlight = JSON.parse(JSON.stringify(e))),
            (this.m_originalSpotlight = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oSpotlight;
        }
        GetName() {
          return this.m_oSpotlight.name;
        }
        GetType() {
          return this.m_oSpotlight.type;
        }
        GetCreator() {
          return this.m_oSpotlight.creator;
        }
        GetAssociationID() {
          return this.m_oSpotlight.association;
        }
        GetAssociationType() {
          return this.m_oSpotlight.association_type;
        }
        GetStartDate() {
          var e;
          return (
            (null === (e = this.m_oSpotlight.visibility) || void 0 === e
              ? void 0
              : e.startdate) || 0
          );
        }
        GetEndDate() {
          var e;
          return (
            (null === (e = this.m_oSpotlight.visibility) || void 0 === e
              ? void 0
              : e.enddate) || 0
          );
        }
        BIsVisible() {
          var e;
          return null === (e = this.m_oSpotlight.visibility) || void 0 === e
            ? void 0
            : e.visible;
        }
        GetTitle() {
          return this.m_oSpotlight.title;
        }
        GetAssetCount() {
          return (0, Ee.rP)(this.m_oSpotlight.image);
        }
        GetAssetUpdateTime() {
          return this.m_oSpotlight.asset_mtime;
        }
        GetImage(e) {
          return this.GetKVLang(this.m_oSpotlight.image, e);
        }
        GetCurImage() {
          return this.GetKVLang(
            this.m_oSpotlight.image,
            Se.U.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject() {
          return this.m_oSpotlight.image;
        }
        BHasHubTarget(e) {
          var t;
          return (
            !(
              !this.m_oSpotlight.location ||
              !this.m_oSpotlight.location.hubTargets
            ) &&
            (null === (t = this.m_oSpotlight.location.hubTargets) ||
            void 0 === t
              ? void 0
              : t.includes(e))
          );
        }
        GetHubTargets() {
          return this.m_oSpotlight.location &&
            this.m_oSpotlight.location.hubTargets
            ? this.m_oSpotlight.location.hubTargets
            : [];
        }
        GetID() {
          return this.m_oSpotlight.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e) {
          this.SetImage(Se.U.Get().GetCurEditLanguage(), e), this.Dispatch();
        }
        SetImage(e, t) {
          this.m_oSpotlight.image || (this.m_oSpotlight.image = {}),
            this.SetKVLang(this.m_oSpotlight.image, e, t),
            this.Dispatch();
        }
        ClearAllAssetObjects() {
          (this.m_oSpotlight.image = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e) {
          var t;
          const n = (0, _e.j_)(e);
          (null === (t = this.m_oSpotlight.image) || void 0 === t
            ? void 0
            : t[n]) && (delete this.m_oSpotlight.image[n], this.Dispatch());
        }
        SetKVLang(e, t, n) {
          (0, Ee.eJ)(e, t, n) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Ee.Y8)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oSpotlight = JSON.parse(
            JSON.stringify(this.m_originalSpotlight),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, I.gn)([he.LO], De.prototype, "m_bDirty", void 0),
        (0, I.gn)([ve.a], De.prototype, "SetCurImage", null),
        (0, I.gn)([he.aD.bound], De.prototype, "SetImage", null),
        (0, I.gn)([ve.a], De.prototype, "ClearAllAssetObjects", null),
        (0, I.gn)([ve.a], De.prototype, "DeleteAssetObjectLang", null),
        (0, I.gn)([ve.a], De.prototype, "RevertChanges", null);
      class fe {
        InitDailyDealToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new De(e)),
            this.m_model
          );
        }
        GetSpotlightToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            fe.s_Singleton ||
              ((fe.s_Singleton = new fe()),
              "dev" == A.De.WEB_UNIVERSE &&
                (window.g_SpotlightEditStore = fe.s_Singleton)),
            fe.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      var ye = n(14839),
        be = n(72297);
      function Ie(e) {
        const { promotionPlanID: t } = e,
          n = (function () {
            const e = (0, z.NW)(),
              [t, n] = o.useState(() => fe.Get().GetSpotlightToEdit());
            return (
              (0, z.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
                n(t), e();
              }),
              t
            );
          })();
        return o.createElement(
          "div",
          { className: ie.EditCtn },
          o.createElement(
            "div",
            { className: c().PageTitle },
            "Spotlight - Asset Management",
          ),
          o.createElement("hr", null),
          o.createElement(
            "div",
            { className: c().ColumnCtn },
            o.createElement(
              "div",
              { className: c().LeftCol },
              o.createElement(Ce, { oEditableSpotlight: n }),
            ),
            o.createElement(Ae, { oEditableSpotlight: n, promotionPlanID: t }),
          ),
          o.createElement("br", null),
        );
      }
      function Ce(e) {
        const { oEditableSpotlight: t } = e,
          n = (0, o.useMemo)(() => ["spotlight_art", "old_spotlight_art"], []),
          a = (0, o.useMemo)(() => [j.IN.k_ESteamRealmGlobal], []),
          i = (0, o.useCallback)(
            (e, n, a, i, l, r, o) => {
              switch (
                ((0, ne.X)(
                  null != a && a >= 0 && a < 31,
                  "Unexpected value for elang: " + a,
                ),
                i)
              ) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  t.SetImage(a, n);
                  break;
                default:
                  console.log(
                    "MarketingMessageAssetDisplayLanding unexpected mimetype: " +
                      i,
                  );
              }
            },
            [t],
          );
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement("h2", { className: "inline" }, "SPOTLIGHT ASSETS"),
            o.createElement("hr", null),
            Boolean("dev" == A.De.WEB_UNIVERSE) &&
              o.createElement(
                "div",
                { className: be.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            o.createElement($.j, {
              rgSupportArtwork: n,
              rgRealmList: a,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${A.De.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=spotlights`,
              fnOnUploadSuccess: i,
            }),
            o.createElement(
              d.SV,
              null,
              o.createElement("br", null),
              o.createElement("h3", null, "Static Assets Only"),
              o.createElement(
                "div",
                null,
                o.createElement("span", null, "306px x 260px"),
                " (.jpg,.png,.gif)",
              ),
              o.createElement(ke, { oEditableSpotlight: t }),
            ),
          ),
          o.createElement(we, { oEditableSpotlight: t }),
        );
      }
      function ke(e) {
        const { oEditableSpotlight: t } = e,
          [n, a, i] = (0, r.SZ)(() => [
            t.GetAssetsObject(),
            t.GetID(),
            t.GetAssetUpdateTime(),
          ]),
          l = Object.keys(n || {})
            .sort()
            .map((e) => (0, _e.jM)(e)),
          s = (0, o.useCallback)(
            (e) => {
              const t = (0, _e.j_)(e);
              return n && n[t]
                ? (function (e, t, n, a) {
                    if (!a) return null;
                    const i = n ? "?t=" + n : "",
                      l = (0, _e.j_)(t);
                    return `${A.De.MEDIA_CDN_URL}steam/spotlights/${e}/${a[l]}${i}`;
                  })(a, e, i, n)
                : null;
            },
            [a, i, n],
          );
        return o.createElement(
          "div",
          { className: c().MarketingMessage },
          o.createElement(ee.V, {
            rgAssetLangs: l,
            fnGetAssetUrl: s,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(),
          }),
        );
      }
      function Ae(e) {
        const { oEditableSpotlight: t, promotionPlanID: n } = e,
          a = (0, r.SZ)(() => {
            let e = 0;
            const n = t.GetAssetsObject();
            for (let t = 0; t < 31; ++t) n && n[(0, _e.j_)(t)] && (e += 1);
            return e;
          });
        return o.createElement(
          "div",
          { className: c().RightCol },
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(m.__, null, "Asset Progress"),
            o.createElement("div", null, a, " / 29"),
          ),
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(
              "a",
              {
                href: `${A.De.PARTNER_BASE_URL}promotion/spotlight/edit/${t.GetID()}`,
                target: "_blank",
              },
              "Open Spotlight Editor",
            ),
            Boolean(n) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("br", null),
                o.createElement(
                  "a",
                  {
                    href: `${A.De.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function we(e) {
        const { oEditableSpotlight: t } = e,
          { fnSaveClusterAssets: n } = (0, ye.NW)(),
          [i, l, s, c] = (0, r.SZ)(() => [
            t.BIsDirty(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
          ]);
        return o.createElement(le, {
          bIsDirty: i,
          bSaveDisabled: 0 == c,
          fnOnRevert: () => t.RevertChanges(),
          fnOnSave: () =>
            (0, I.mG)(this, void 0, void 0, function* () {
              const e = yield n(a.R6.k_ConfigPage_Spotlight, s);
              return (
                e && t.Reset((0, ye.Gj)(a.R6.k_ConfigPage_Spotlight, l)), e
              );
            }),
        });
      }
      var Pe = n(41710),
        Te = n(28017);
      function Ne(e) {
        const { gid: t, children: n } = e,
          a = (0, Pe.dh)(t),
          [i, l] = o.useState(!1);
        return (
          o.useLayoutEffect(() => {
            var e;
            a &&
              (((null === (e = fe.Get().GetSpotlightToEdit()) || void 0 === e
                ? void 0
                : e.GetID()) == a.id &&
                i) ||
                (!(function (e, t = !1) {
                  fe.Get().InitDailyDealToEdit(e, t);
                })(a),
                l(!0)));
          }, [a, i, t]),
          a
            ? i
              ? o.createElement(o.Fragment, null, n)
              : o.createElement(te.V, {
                  size: "medium",
                  position: "center",
                  string: (0, S.Xx)("#Loading"),
                })
            : o.createElement(
                "div",
                null,
                o.createElement("div", null, "Spotlight does not exist."),
                o.createElement(
                  Te.rU,
                  { to: "/spotlight/dashboard/" },
                  "Return to Spotlight Dashboard.",
                ),
              )
        );
      }
      var Re = n(20020),
        Ge = n(65311);
      class Le {
        constructor(e, t) {
          (this.m_oTakeover = null),
            (this.m_originalTakeover = null),
            (this.m_type = null),
            (this.m_bDirty = !1),
            (this.m_callback = new ge.pB()),
            (0, he.rC)(this),
            this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_oTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_originalTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_type = t),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oTakeover;
        }
        GetName() {
          return this.m_oTakeover.name;
        }
        GetType() {
          return this.m_type;
        }
        GetTypeString() {
          return (0, a.D9)(this.m_type);
        }
        GetCreator() {
          return this.m_oTakeover.creator;
        }
        GetAssociationID() {
          return this.m_oTakeover.association;
        }
        GetAssociationType() {
          return this.m_oTakeover.association_type;
        }
        GetStartDate() {
          var e;
          return (
            (null === (e = this.m_oTakeover.visibility) || void 0 === e
              ? void 0
              : e.startdate) || 0
          );
        }
        GetEndDate() {
          var e;
          return (
            (null === (e = this.m_oTakeover.visibility) || void 0 === e
              ? void 0
              : e.enddate) || 0
          );
        }
        BIsVisible() {
          var e;
          return null === (e = this.m_oTakeover.visibility) || void 0 === e
            ? void 0
            : e.visible;
        }
        GetPromoModifyTime() {
          return this.m_oTakeover.promo_mtime;
        }
        GetAssetCount() {
          let e = 0;
          return (
            Ge.y.forEach((t) => (e += (0, Ee.rP)(this.GetAssetsObject(t)))), e
          );
        }
        GetAssetParams() {
          let e = {};
          return (
            this.m_oTakeover.page_bg_offset &&
              (e.page_bg_offset = this.m_oTakeover.page_bg_offset),
            this.m_oTakeover.page_bg_offset_mobile &&
              (e.page_bg_offset_mobile =
                this.m_oTakeover.page_bg_offset_mobile),
            this.m_oTakeover.defcon1_image_height &&
              (e.defcon1_image_height = this.m_oTakeover.defcon1_image_height),
            this.m_oTakeover.content_hub_image_height &&
              (e.content_hub_image_height =
                this.m_oTakeover.content_hub_image_height),
            this.m_oTakeover.defcon1_china_image_height &&
              (e.defcon1_china_image_height =
                this.m_oTakeover.defcon1_china_image_height),
            this.m_oTakeover.page_bg_color_left &&
              (e.page_bg_color_left = this.m_oTakeover.page_bg_color_left),
            this.m_oTakeover.page_bg_color_right &&
              (e.page_bg_color_right = this.m_oTakeover.page_bg_color_right),
            e
          );
        }
        GetAssetUpdateTime() {
          return this.m_oTakeover.promo_mtime;
        }
        GetImage(e, t) {
          return this.GetKVLang(this.m_oTakeover[e], t);
        }
        GetCurImage(e) {
          return this.GetKVLang(
            this.m_oTakeover[e],
            Se.U.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject(e) {
          return this.m_oTakeover[e] || {};
        }
        GetLayout() {
          return this.m_oTakeover.layout;
        }
        GetBackgroundOffset() {
          return this.m_oTakeover.page_bg_offset || 0;
        }
        GetBackgroundMobileOffset() {
          return this.m_oTakeover.page_bg_offset_mobile || 0;
        }
        GetBackgroundImageHeight() {
          return "defcon1" == this.GetLayout()
            ? this.m_oTakeover.defcon1_image_height || 0
            : "defcon1_china" == this.GetLayout()
              ? this.m_oTakeover.defcon1_china_image_height || 0
              : ("content_hub" == this.GetLayout() &&
                  this.m_oTakeover.content_hub_image_height) ||
                0;
        }
        GetColorLeft() {
          return this.m_oTakeover.page_bg_color_left || "";
        }
        GetColorRight() {
          return this.m_oTakeover.page_bg_color_right || "";
        }
        GetID() {
          return this.m_oTakeover.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, Se.U.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, n) {
          this.m_oTakeover[e] || (this.m_oTakeover[e] = {}),
            this.SetKVLang(this.m_oTakeover[e], t, n),
            this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oTakeover[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          var n;
          const a = (0, _e.j_)(t);
          (null === (n = this.m_oTakeover[e]) || void 0 === n
            ? void 0
            : n[a]) && (delete this.m_oTakeover[e][a], this.Dispatch());
        }
        SetBackgroundOffset(e) {
          this.m_oTakeover.page_bg_offset != e &&
            ((this.m_oTakeover.page_bg_offset = e), this.Dispatch());
        }
        SetBackgroundMobileOffset(e) {
          this.m_oTakeover.page_bg_offset_mobile != e &&
            ((this.m_oTakeover.page_bg_offset_mobile = e), this.Dispatch());
        }
        SetBackgroundImageHeight(e) {
          "defcon1" == this.GetLayout()
            ? this.m_oTakeover.defcon1_image_height != e &&
              ((this.m_oTakeover.defcon1_image_height = e), this.Dispatch())
            : "defcon1_china" == this.GetLayout()
              ? this.m_oTakeover.defcon1_china_image_height != e &&
                ((this.m_oTakeover.defcon1_china_image_height = e),
                this.Dispatch())
              : "content_hub" == this.GetLayout() &&
                this.m_oTakeover.content_hub_image_height != e &&
                ((this.m_oTakeover.content_hub_image_height = e),
                this.Dispatch());
        }
        SetColorLeft(e) {
          this.m_oTakeover.page_bg_color_left != e &&
            ((this.m_oTakeover.page_bg_color_left = e), this.Dispatch());
        }
        SetColorRight(e) {
          this.m_oTakeover.page_bg_color_right != e &&
            ((this.m_oTakeover.page_bg_color_right = e), this.Dispatch());
        }
        SetKVLang(e, t, n) {
          (0, Ee.eJ)(e, t, n) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Ee.Y8)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oTakeover = JSON.parse(
            JSON.stringify(this.m_originalTakeover),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, I.gn)([he.LO], Le.prototype, "m_bDirty", void 0),
        (0, I.gn)([ve.a], Le.prototype, "SetCurImage", null),
        (0, I.gn)([he.aD.bound], Le.prototype, "SetImage", null),
        (0, I.gn)([ve.a], Le.prototype, "ClearAllAssetObjects", null),
        (0, I.gn)([ve.a], Le.prototype, "DeleteAssetObjectLang", null),
        (0, I.gn)([ve.a], Le.prototype, "SetBackgroundOffset", null),
        (0, I.gn)([ve.a], Le.prototype, "SetBackgroundMobileOffset", null),
        (0, I.gn)([ve.a], Le.prototype, "SetBackgroundImageHeight", null),
        (0, I.gn)([ve.a], Le.prototype, "SetColorLeft", null),
        (0, I.gn)([ve.a], Le.prototype, "SetColorRight", null),
        (0, I.gn)([ve.a], Le.prototype, "RevertChanges", null);
      class Be {
        InitTakeoverToEdit(e, t, n = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(t, e),
                n && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new Le(t, e)),
            this.m_model
          );
        }
        GetTakeoverToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            Be.s_Singleton ||
              ((Be.s_Singleton = new Be()),
              "dev" == A.De.WEB_UNIVERSE &&
                (window.g_TakeoverEditStore = Be.s_Singleton)),
            Be.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      function xe() {
        const e = (0, z.NW)(),
          [t, n] = o.useState(() => Be.Get().GetTakeoverToEdit());
        return (
          (0, z.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          t
        );
      }
      function Me(e) {
        const {
            bShowInternalControls: t,
            rgArtworkToDisplay: n,
            promotionPlanID: a,
          } = e,
          i = xe();
        return o.createElement(
          "div",
          { className: ie.EditCtn },
          o.createElement(
            "div",
            { className: c().PageTitle },
            i.GetTypeString(),
            " - Asset Management",
          ),
          o.createElement("hr", null),
          o.createElement(
            "div",
            { className: c().ColumnCtn },
            o.createElement(
              "div",
              { className: c().LeftCol },
              t && o.createElement(Oe, null),
              o.createElement(Ue, {
                oEditableTakeover: i,
                rgArtworkToDisplay: n,
              }),
            ),
            o.createElement(Ve, {
              oEditableTakeover: i,
              rgArtworkToDisplay: n,
              promotionPlanID: a,
            }),
          ),
        );
      }
      function Oe(e) {
        const t = xe(),
          [n, a, i, l, s] = (0, r.SZ)(() => [
            t.GetBackgroundOffset(),
            t.GetBackgroundMobileOffset(),
            t.GetBackgroundImageHeight(),
            t.GetColorLeft(),
            t.GetColorRight(),
          ]);
        return o.createElement(
          "div",
          { className: c().SectionCtn },
          o.createElement("h2", { className: "inline" }, "Asset Controls"),
          o.createElement("hr", null),
          o.createElement(
            "p",
            null,
            "Adjust the page background image settings",
          ),
          o.createElement(m.II, {
            type: "number",
            value: n,
            onChange: (e) =>
              t.SetBackgroundOffset(Number.parseInt(e.currentTarget.value)),
            label: "Pixel Offset",
            tooltip:
              "This value is how far away from the store header area to push content down (to let the background image be seen). The store header will cover the top 67px of the image. Default is 385",
            placeholder: "385",
          }),
          o.createElement(m.II, {
            type: "number",
            value: a,
            onChange: (e) =>
              t.SetBackgroundMobileOffset(
                Number.parseInt(e.currentTarget.value),
              ),
            label: "Mobile Pixel Offset",
            tooltip:
              "This value is how far away from the store header area on mobile to push content down (to let the background image be seen). This will likely be the mobile bg image assets height. Default is 350",
            placeholder: "350",
          }),
          o.createElement(m.II, {
            type: "number",
            value: i,
            onChange: (e) =>
              t.SetBackgroundImageHeight(
                Number.parseInt(e.currentTarget.value),
              ),
            label: "Image Height",
            tooltip: "in Pixels",
            placeholder: "450",
          }),
          o.createElement(
            "p",
            null,
            "Set the background RGB color that extends past the width of the image. A valid format would look like '0,0,0' (without the quotes) for black. Set each to the same value to use one solid background color.",
          ),
          o.createElement(m.II, {
            type: "text",
            value: l,
            onChange: (e) => t.SetColorLeft(e.currentTarget.value),
            label: "Left Background Color",
            placeholder: "255,255,255",
          }),
          o.createElement(m.II, {
            type: "text",
            value: s,
            onChange: (e) => t.SetColorRight(e.currentTarget.value),
            label: "Right Background Color",
            placeholder: "255,255,255",
          }),
        );
      }
      function Fe(e, t) {
        if (!t) return !0;
        switch (e) {
          case "page_bg":
            return t.includes("takeover_art");
          case "page_bg_mobile":
            return t.includes("takeover_mobile_art");
          case "mp4_page_bg":
            return t.includes("takeover_mp4_art");
          case "webm_page_bg":
          case "webm_page_bg_mobile":
            return t.includes("takeover_webm_mobile_art");
          case "mp4_page_bg_mobile":
            return t.includes("takeover_mp4_mobile_art");
        }
        return !1;
      }
      function Ue(e) {
        const { oEditableTakeover: t, rgArtworkToDisplay: n } = e,
          a = (0, o.useMemo)(() => {
            const e = [
              "takeover_art",
              "takeover_webm_art",
              "takeover_mp4_art",
              "takeover_mobile_art",
              "takeover_webm_mobile_art",
              "takeover_mp4_mobile_art",
            ];
            return n ? n.filter((t) => e.includes(t)) : e;
          }, [n]),
          i = (0, o.useMemo)(
            () => [j.IN.k_ESteamRealmGlobal, j.IN.k_ESteamRealmChina],
            [],
          ),
          l = (0, o.useCallback)(
            (e, n, a, i, l, r, o) => {
              (0, Re.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              );
              let s = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  s =
                    r == K.h1.takeover_art.width ? "page_bg" : "page_bg_mobile";
                  break;
                case "video/mp4":
                  s =
                    r == K.h1.takeover_mp4_art.width
                      ? "mp4_page_bg"
                      : "webm_page_bg_mobile";
                  break;
                case "video/webm":
                  s =
                    r == K.h1.takeover_webm_art.width
                      ? "webm_page_bg"
                      : "mp4_page_bg_mobile";
                  break;
                default:
                  console.log(
                    "TakeoverAssetDisplayLanding unexpected mimetype: " + i,
                  );
              }
              s && t.SetImage(s, a, n);
            },
            [t],
          );
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(
              "h2",
              { className: "inline" },
              "Takeover Assets (",
              t.GetTypeString(),
              ")",
            ),
            o.createElement("hr", null),
            Boolean("dev" == A.De.WEB_UNIVERSE) &&
              o.createElement(
                "div",
                { className: be.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            o.createElement($.j, {
              rgSupportArtwork: a,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${A.De.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=${t.GetTypeString()}`,
              fnOnUploadSuccess: l,
            }),
            o.createElement(
              d.SV,
              null,
              o.createElement("br", null),
              Fe("page_bg", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Static Background Asset"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "1850px by 450px"),
                    " (.jpg,.png,.gif)",
                  ),
                  o.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "page_bg",
                  }),
                ),
              Fe("page_bg_mobile", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Static Mobile Asset"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "500px by 350px"),
                    " (.jpg,.png,.gif)",
                  ),
                  o.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "page_bg_mobile",
                  }),
                ),
              Fe("webm_page_bg", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Animated Background Webm"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "1850px by 450px"),
                    " (.webm)",
                  ),
                  o.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "webm_page_bg",
                  }),
                ),
              Fe("mp4_page_bg", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Animated Background Mp4"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "1850px by 450px"),
                    " (.mp4)",
                  ),
                  o.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "mp4_page_bg",
                  }),
                ),
              Fe("webm_page_bg_mobile", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Animated Mobile Webm"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "500px by 350px"),
                    " (.webm)",
                  ),
                  o.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "webm_page_bg_mobile",
                  }),
                ),
              Fe("mp4_page_bg_mobile", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Animated Mobile Mp4"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "500px by 350px"),
                    " (.mp4)",
                  ),
                  o.createElement(He, {
                    oEditableTakeover: t,
                    assetType: "mp4_page_bg_mobile",
                  }),
                ),
            ),
          ),
          o.createElement(Xe, { oEditableTakeover: t }),
        );
      }
      function He(e) {
        const { oEditableTakeover: t, assetType: n } = e,
          [i, l, s, m] = (0, r.SZ)(() => [
            t.GetAssetsObject(n),
            t.GetID(),
            t.GetPromoModifyTime(),
            t.GetType(),
          ]),
          d = Object.keys(i)
            .sort()
            .map((e) => (0, _e.jM)(e)),
          u = (0, o.useCallback)(
            (e) => {
              const t = (0, _e.j_)(e);
              return i[t]
                ? (function (e, t, n, i, l) {
                    if (!l) return null;
                    const r = i ? "?t=" + i : "",
                      o = (0, _e.j_)(n);
                    return `${A.De.MEDIA_CDN_URL}steam/clusters/${(0, a.D9)(e)}/${t}/${l[o]}${r}`;
                  })(m, l, e, s, i)
                : null;
            },
            [l, s, i, m],
          );
        return o.createElement(
          "div",
          { className: c().MarketingMessage },
          o.createElement(ee.V, {
            rgAssetLangs: d,
            fnGetAssetUrl: u,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(n, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(n),
          }),
        );
      }
      function Ve(e) {
        const {
            oEditableTakeover: t,
            rgArtworkToDisplay: n,
            promotionPlanID: a,
          } = e,
          i = (0, r.SZ)(() => {
            const e = new Map();
            return (
              Ge.y.forEach((n) => {
                let a = 0;
                const i = t.GetAssetsObject(n);
                for (let e = 0; e < 31; ++e) i && i[(0, _e.j_)(e)] && (a += 1);
                e.set(n, a);
              }),
              e
            );
          });
        return o.createElement(
          "div",
          { className: c().RightCol },
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(m.__, null, "Asset Progress"),
            Ge.y
              .filter((e) => i.has(e) && Fe(e, n))
              .map((e) =>
                o.createElement(
                  "div",
                  { key: "as_" + e },
                  (0, Ge.P)(e),
                  ": ",
                  i.get(e),
                  " / 29",
                ),
              ),
          ),
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(
              "a",
              {
                href: `${A.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${t.GetTypeString()}/${t.GetID()}`,
                target: "_blank",
              },
              "Open Takeover Editor",
            ),
            Boolean(a) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("br", null),
                o.createElement(
                  "a",
                  {
                    href: `${A.De.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function Xe(e) {
        const { oEditableTakeover: t } = e,
          { fnSaveClusterAssets: n } = (0, ye.NW)(),
          [a, i, l, s, c, m] = (0, r.SZ)(() => [
            t.BIsDirty(),
            t.GetType(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
            t.GetAssetParams(),
          ]);
        return o.createElement(le, {
          bIsDirty: a,
          fnOnRevert: () => t.RevertChanges(),
          bSaveDisabled: 0 == c,
          fnOnSave: () =>
            (0, I.mG)(this, void 0, void 0, function* () {
              const e = yield n(i, s, m);
              return e && t.Reset((0, ye.Gj)(i, l), i), e;
            }),
        });
      }
      function je(e) {
        const { id: t, type: n, children: i } = e,
          l = (0, ye.NU)(n, t),
          [r, s] = o.useState(!1);
        return (
          o.useLayoutEffect(() => {
            var e;
            l &&
              (((null === (e = Be.Get().GetTakeoverToEdit()) || void 0 === e
                ? void 0
                : e.GetID()) == l.id &&
                r) ||
                (!(function (e, t, n = !1) {
                  Be.Get().InitTakeoverToEdit(e, t, n);
                })(n, l),
                s(!0)));
          }, [l, r, t, n]),
          l
            ? r
              ? o.createElement(o.Fragment, null, i)
              : o.createElement(te.V, {
                  size: "medium",
                  position: "center",
                  string: (0, S.Xx)("#Loading"),
                })
            : o.createElement(
                "div",
                null,
                o.createElement("div", null, "Takeover does not exist."),
                o.createElement(
                  Te.rU,
                  {
                    to: `${A.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${(0, a.D9)(n)}`,
                  },
                  "Return to Takeover Dashboard.",
                ),
              )
        );
      }
      var qe = n(28306);
      class We {
        constructor(e) {
          (this.m_oTakeunder = null),
            (this.m_originalTakeover = null),
            (this.m_type = a.R6.k_ConfigPage_Takeunder),
            (this.m_bDirty = !1),
            (this.m_callback = new ge.pB()),
            (0, he.rC)(this),
            this.Reset(e);
        }
        Reset(e) {
          (this.m_oTakeunder = JSON.parse(JSON.stringify(e))),
            (this.m_originalTakeover = JSON.parse(JSON.stringify(e))),
            (this.m_type = a.R6.k_ConfigPage_Takeunder),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oTakeunder;
        }
        GetName() {
          return this.m_oTakeunder.name;
        }
        GetType() {
          return this.m_type;
        }
        GetTypeString() {
          return (0, a.D9)(this.m_type);
        }
        GetCreator() {
          return this.m_oTakeunder.creator;
        }
        GetAssociationID() {
          return this.m_oTakeunder.association;
        }
        GetAssociationType() {
          return this.m_oTakeunder.association_type;
        }
        GetStartDate() {
          var e;
          return (
            (null === (e = this.m_oTakeunder.visibility) || void 0 === e
              ? void 0
              : e.startdate) || 0
          );
        }
        GetEndDate() {
          var e;
          return (
            (null === (e = this.m_oTakeunder.visibility) || void 0 === e
              ? void 0
              : e.enddate) || 0
          );
        }
        BIsVisible() {
          var e;
          return null === (e = this.m_oTakeunder.visibility) || void 0 === e
            ? void 0
            : e.visible;
        }
        GetPromoModifyTime() {
          return this.m_oTakeunder.promo_mtime;
        }
        GetAssetCount() {
          let e = 0;
          return (
            qe.y.forEach((t) => (e += (0, Ee.rP)(this.GetAssetsObject(t)))), e
          );
        }
        GetAssetUpdateTime() {
          return this.m_oTakeunder.promo_mtime;
        }
        GetImage(e, t) {
          return this.GetKVLang(this.m_oTakeunder[e], t);
        }
        GetCurImage(e) {
          return this.GetKVLang(
            this.m_oTakeunder[e],
            Se.U.Get().GetCurEditLanguage(),
          );
        }
        GetAssetsObject(e) {
          return this.m_oTakeunder[e] || {};
        }
        GetID() {
          return this.m_oTakeunder.id;
        }
        SetDirty(e) {
          this.m_bDirty = e;
        }
        SetCurImage(e, t) {
          this.SetImage(e, Se.U.Get().GetCurEditLanguage(), t), this.Dispatch();
        }
        SetImage(e, t, n) {
          this.m_oTakeunder[e] || (this.m_oTakeunder[e] = {}),
            this.SetKVLang(this.m_oTakeunder[e], t, n),
            this.Dispatch();
        }
        ClearAllAssetObjects(e) {
          (this.m_oTakeunder[e] = {}), this.Dispatch();
        }
        DeleteAssetObjectLang(e, t) {
          var n;
          const a = (0, _e.j_)(t);
          (null === (n = this.m_oTakeunder[e]) || void 0 === n
            ? void 0
            : n[a]) && (delete this.m_oTakeunder[e][a], this.Dispatch());
        }
        SetKVLang(e, t, n) {
          (0, Ee.eJ)(e, t, n) && this.SetDirty(!0);
        }
        GetKVLang(e, t) {
          return (0, Ee.Y8)(e, t);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
        RevertChanges() {
          (this.m_oTakeunder = JSON.parse(
            JSON.stringify(this.m_originalTakeover),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
      }
      (0, I.gn)([he.LO], We.prototype, "m_bDirty", void 0),
        (0, I.gn)([ve.a], We.prototype, "SetCurImage", null),
        (0, I.gn)([he.aD.bound], We.prototype, "SetImage", null),
        (0, I.gn)([ve.a], We.prototype, "ClearAllAssetObjects", null),
        (0, I.gn)([ve.a], We.prototype, "DeleteAssetObjectLang", null),
        (0, I.gn)([ve.a], We.prototype, "RevertChanges", null);
      class ze {
        InitTakeunderToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new We(e)),
            this.m_model
          );
        }
        GetTakeunderToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            ze.s_Singleton ||
              ((ze.s_Singleton = new ze()),
              "dev" == A.De.WEB_UNIVERSE &&
                (window.g_takeunderEditStore = ze.s_Singleton)),
            ze.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      function Ze(e) {
        const { rgArtworkToDisplay: t, promotionPlanID: n } = e,
          a = (function () {
            const e = (0, z.NW)(),
              [t, n] = o.useState(() => ze.Get().GetTakeunderToEdit());
            return (
              (0, z.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
                n(t), e();
              }),
              t
            );
          })();
        return o.createElement(
          "div",
          { className: ie.EditCtn },
          o.createElement(
            "div",
            { className: c().PageTitle },
            "Front Page Takeunder - Asset Management",
          ),
          o.createElement("hr", null),
          o.createElement(
            "div",
            { className: c().ColumnCtn },
            o.createElement(
              "div",
              { className: c().LeftCol },
              o.createElement(Qe, {
                oEditableTakeunder: a,
                rgArtworkToDisplay: t,
              }),
            ),
            o.createElement(Je, {
              oEditableTakeunder: a,
              rgArtworkToDisplay: t,
              promotionPlanID: n,
            }),
          ),
        );
      }
      function Ke(e, t) {
        if (!t) return !0;
        switch (e) {
          case "takeunder_desktop":
            return t.includes("takeunder_art");
          case "takeunder_mobile":
            return t.includes("takeunder_mobile_art");
        }
        return !1;
      }
      function Qe(e) {
        const { oEditableTakeunder: t, rgArtworkToDisplay: n } = e,
          a = (0, o.useMemo)(() => {
            const e = ["takeunder_art", "takeunder_mobile_art"];
            return n ? n.filter((t) => e.includes(t)) : e;
          }, [n]),
          i = (0, o.useMemo)(() => [j.IN.k_ESteamRealmGlobal], []),
          l = (0, o.useCallback)(
            (e, n, a, i, l, r, o) => {
              (0, Re.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              );
              let s = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  s =
                    r == K.h1.takeunder_art.width
                      ? "takeunder_desktop"
                      : "takeunder_mobile";
                  break;
                default:
                  console.log(
                    "TakeunderAssetDisplayLanding unexpected mimetype: " + i,
                  );
              }
              s && t.SetImage(s, a, n);
            },
            [t],
          );
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(
              "h2",
              { className: "inline" },
              "Frontpage Takeunder Assets",
            ),
            o.createElement("hr", null),
            Boolean("dev" == A.De.WEB_UNIVERSE) &&
              o.createElement(
                "div",
                { className: be.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            o.createElement($.j, {
              rgSupportArtwork: a,
              rgRealmList: i,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${A.De.PARTNER_BASE_URL}cluster/ajaxuploadasset?clusterid=${t.GetID()}&clustertype=${t.GetTypeString()}`,
              fnOnUploadSuccess: l,
            }),
            o.createElement(
              d.SV,
              null,
              o.createElement("br", null),
              Ke("takeunder_desktop", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Takeunder Banner Asset"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "940 by 150px"),
                    " (.jpg,.png,.gif)",
                  ),
                  o.createElement(Ye, {
                    oEditableTakeunder: t,
                    assetType: "takeunder_desktop",
                  }),
                ),
              Ke("takeunder_mobile", n) &&
                o.createElement(
                  o.Fragment,
                  null,
                  o.createElement("h3", null, "Takeunder Banner Mobile Asset"),
                  o.createElement(
                    "div",
                    null,
                    o.createElement("span", null, "500px by 160"),
                    " (.jpg,.png,.gif)",
                  ),
                  o.createElement(Ye, {
                    oEditableTakeunder: t,
                    assetType: "takeunder_mobile",
                  }),
                ),
            ),
          ),
          o.createElement($e, { oEditableTakeunder: t }),
        );
      }
      function Ye(e) {
        const { oEditableTakeunder: t, assetType: n } = e,
          [i, l, s, m] = (0, r.SZ)(() => [
            t.GetAssetsObject(n),
            t.GetID(),
            t.GetPromoModifyTime(),
            t.GetType(),
          ]),
          d = Object.keys(i)
            .sort()
            .map((e) => (0, _e.jM)(e)),
          u = (0, o.useCallback)(
            (e) => {
              const t = (0, _e.j_)(e);
              return i[t]
                ? (function (e, t, n, i, l) {
                    if (!l) return null;
                    const r = i ? "?t=" + i : "",
                      o = (0, _e.j_)(n);
                    return `${A.De.MEDIA_CDN_URL}steam/clusters/${(0, a.D9)(e)}/${t}/${l[o]}${r}`;
                  })(m, l, e, s, i)
                : null;
            },
            [l, s, i, m],
          );
        return o.createElement(
          "div",
          { className: c().MarketingMessage },
          o.createElement(ee.V, {
            rgAssetLangs: d,
            fnGetAssetUrl: u,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(n, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(n),
          }),
        );
      }
      function Je(e) {
        const {
            oEditableTakeunder: t,
            rgArtworkToDisplay: n,
            promotionPlanID: a,
          } = e,
          i = (0, r.SZ)(() => {
            const e = new Map();
            return (
              qe.y.forEach((n) => {
                let a = 0;
                const i = t.GetAssetsObject(n);
                for (let e = 0; e < 31; ++e) i && i[(0, _e.j_)(e)] && (a += 1);
                e.set(n, a);
              }),
              e
            );
          });
        return o.createElement(
          "div",
          { className: c().RightCol },
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(m.__, null, "Asset Progress"),
            qe.y
              .filter((e) => i.has(e) && Ke(e, n))
              .map((e) =>
                o.createElement(
                  "div",
                  { key: "as_" + e },
                  (0, qe.a)(e),
                  ": ",
                  i.get(e),
                  " / 29",
                ),
              ),
          ),
          o.createElement(
            "div",
            { className: c().SectionCtn },
            o.createElement(
              "a",
              {
                href: `${A.De.PARTNER_BASE_URL}admin/store/pageclusteredit/${t.GetTypeString()}/${t.GetID()}`,
                target: "_blank",
              },
              "Open Takeunder Editor",
            ),
            Boolean(a) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("br", null),
                o.createElement(
                  "a",
                  {
                    href: `${A.De.PARTNER_BASE_URL}promotion/planning/edit/${a}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function $e(e) {
        const { oEditableTakeunder: t } = e,
          { fnSaveClusterAssets: n } = (0, ye.NW)(),
          [i, l, s, c] = (0, r.SZ)(() => [
            t.BIsDirty(),
            t.GetID(),
            t.GetModel(),
            t.GetAssetCount(),
          ]);
        return o.createElement(le, {
          bIsDirty: i,
          bSaveDisabled: 0 == c,
          fnOnRevert: () => t.RevertChanges(),
          fnOnSave: () =>
            (0, I.mG)(this, void 0, void 0, function* () {
              const e = yield n(a.R6.k_ConfigPage_Takeunder, s);
              return (
                e && t.Reset((0, ye.Gj)(a.R6.k_ConfigPage_Takeunder, l)), e
              );
            }),
        });
      }
      function et(e) {
        const { id: t, children: n } = e,
          i = (0, ye.NU)(a.R6.k_ConfigPage_Takeunder, t),
          [l, r] = o.useState(!1);
        return (
          o.useLayoutEffect(() => {
            var e;
            i &&
              (((null === (e = ze.Get().GetTakeunderToEdit()) || void 0 === e
                ? void 0
                : e.GetID()) == i.id &&
                l) ||
                (!(function (e, t = !1) {
                  ze.Get().InitTakeunderToEdit(e, t);
                })(i),
                r(!0)));
          }, [i, l, t]),
          i
            ? l
              ? o.createElement(o.Fragment, null, n)
              : o.createElement(te.V, {
                  size: "medium",
                  position: "center",
                  string: (0, S.Xx)("#Loading"),
                })
            : o.createElement(
                "div",
                null,
                o.createElement("div", null, "Takeunder does not exist."),
                o.createElement(
                  Te.rU,
                  {
                    to: `${A.De.PARTNER_BASE_URL}admin/store/pageclusteredit/takeunder}`,
                  },
                  "Return to Takeunder Dashboard.",
                ),
              )
        );
      }
      var tt = n(33278),
        nt = n(56164);
      function at(e) {
        const { rtTime: t } = e;
        return o.createElement(
          "span",
          null,
          (0, S.$1)(t),
          " as ",
          (0, D.Sc)(t),
        );
      }
      function it(e) {
        const t = (0, l.Gn)(),
          [n, a, i] = (0, r.SZ)(() => [
            t.GetArtworkLocalizationDropboxLink(),
            t.GetArtworkLocalizationTaskID(),
            t.GetArtworkLocalizationRequests(),
          ]);
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(
            "div",
            {
              className: (0, v.Z)(
                c().DefaultSectionCtn,
                c().ValveOnlyBackground,
              ),
            },
            o.createElement(
              "h2",
              { className: c().ValveOnlyTitle },
              "Valve Only",
            ),
            o.createElement(
              "p",
              null,
              "This page is for communicating with BluePrint localization team for assets they require localization work.",
            ),
            o.createElement(m.II, {
              type: "url",
              label: "DropBox Link",
              value: n,
              onChange: (e) =>
                t.SetArtworkLocalizationDropboxLink(e.currentTarget.value),
            }),
            o.createElement(
              nt.ug,
              { title: "Required Assets", bStartMinimized: Boolean(a) },
              o.createElement(ot, null),
            ),
            Boolean(!a) ? o.createElement(lt, null) : o.createElement(rt, null),
          ),
          o.createElement(dt, {
            bShowInternalControls: !1,
            bDisableRouting: !0,
            rgArtworkToDisplay: i,
          }),
          o.createElement(
            "div",
            {
              className: (0, v.Z)(
                c().DefaultSectionCtn,
                c().ValveOnlyBackground,
                c().ActionBar,
              ),
            },
            o.createElement(X.u, { oEditablePlan: t }),
          ),
        );
      }
      function lt(e) {
        const t = (0, l.Gn)(),
          [n, a] = (0, r.SZ)(() => [
            t.BHasArtworkLocalizationSteamChinaOnly(),
            t.GetNumArtworkLocalizationRequired(),
          ]);
        return o.createElement(
          "div",
          null,
          o.createElement("h3", null, "Required Languages"),
          o.createElement(m.ji, {
            label: "Only Steam China Localization",
            tooltip:
              "If checked, we only want English and Simplified Chinese. Otherwise, we want all of the languages Steam supports",
            checked: n,
            onChange: (e) => t.SetArtworkLocalizationSteamChinaOnly(e),
          }),
          o.createElement(
            m.zx,
            {
              disabled: 0 == a,
              onClick: (e) =>
                (0, h.AM)(
                  o.createElement(U, { oEditablePlan: t, bSteamChinaOnly: n }),
                  (0, E.RA)(e),
                ),
            },
            "Create Monday Localization Request",
          ),
          o.createElement("br", null),
        );
      }
      function rt(e) {
        const t = (0, l.Gn)(),
          [n, a, i] = (0, r.SZ)(() => [
            t.GetArtworkLocationUploadAssetURL(),
            t.GetArtworkLocalizationRequestTime(),
            t.GetArtworkLocalizationTaskID(),
          ]);
        return o.createElement(
          "div",
          null,
          o.createElement("br", null),
          o.createElement("h3", null, "Localization Request has been created"),
          o.createElement(
            "div",
            null,
            "Localization Request Initiated at ",
            o.createElement(at, { rtTime: a }),
            ".",
            o.createElement(
              "a",
              {
                href: `https://valve-loc.monday.com/boards/4985300096/pulses/${i}`,
              },
              "Open Task",
            ),
          ),
          o.createElement(
            "a",
            { href: n, target: "_blank" },
            "Page Localization Team will see for Asset Upload",
          ),
        );
      }
      function ot(e) {
        return o.createElement(
          "div",
          { className: y().AssetNeedsColumn },
          o.createElement("h3", null, "Required Assets"),
          o.createElement(
            "p",
            null,
            "Choose the assets below which require localization support. Once that is complete, make ther request to initialize the localization process via their tracking tools",
          ),
          i.Vd.map((e) =>
            o.createElement(
              "div",
              { key: e, className: y().AssetTypeRow },
              o.createElement(b.j, {
                type: e,
                bLocalizationRequest: !0,
                index: "marketingmessage_art_2" === e ? 1 : void 0,
              }),
            ),
          ),
        );
      }
      function st(e) {
        const { planid: t } = e;
        return o.createElement(
          tt.aX,
          { planid: t, bCanBeMissing: !1 },
          o.createElement(ct, null),
        );
      }
      function ct(e) {
        const t = (0, l.Gn)(),
          n = (0, r.SZ)(() => t.GetArtworkLocalizationRequests());
        return o.createElement(dt, {
          strHeaderName: t.GetName(),
          bShowInternalControls: !1,
          rgArtworkToDisplay: n,
        });
      }
      function mt(e) {
        return o.createElement(
          "div",
          { className: (0, v.Z)(c().DefaultSectionCtn) },
          o.createElement("h2", null, "Asset Upload"),
          o.createElement(
            "p",
            null,
            "This is the single place where we can upload and review all of the assets required by this promotion plan without having to visit any other promotion tools.",
          ),
          o.createElement(
            "p",
            null,
            "Note: Please remember to save the uploaded files per page as they have their own save logic.",
          ),
          o.createElement("br", null),
          o.createElement("br", null),
          o.createElement(dt, {
            bShowInternalControls: !0,
            bDisableRouting: !0,
          }),
        );
      }
      function dt(e) {
        const {
            bShowInternalControls: t,
            rgArtworkToDisplay: n,
            bDisableRouting: r,
            strHeaderName: s,
          } = e,
          [c, m] = (0, u.Ar)("loc_tab", "current"),
          p = (e) => m(e.key),
          h = (0, l.Gn)(),
          v = new Array(),
          E = new Array();
        return (
          !h.BHasMarketingMessages(0) ||
            (n && !n.includes("marketingmessage_art")) ||
            v.push({
              artworkType: "marketingmessage_art",
              id: h.GetMarketingMessageID(0),
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          !h.BHasMarketingMessages(1) ||
            (n && !n.includes("marketingmessage_art_2")) ||
            v.push({
              artworkType: "marketingmessage_art_2",
              id: h.GetMarketingMessageID(1),
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          !h.BHasSpotlightIDs(0) ||
            (n && !n.includes("spotlight_art")) ||
            v.push({
              artworkType: "spotlight_art",
              id: h.GetSpotlightIDs(0),
              promotionPlanID: h.GetID(),
            }),
          h.BHasTakeoverIDs(0) &&
            (!n ||
              n.includes("takeover_art") ||
              n.includes("takeover_mobile_art")) &&
            v.push({
              artworkType: "takeover_art",
              id: h.GetTakeoverID(0),
              type: a.R6.k_ConfigPage_Takeover,
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          h.BHasSteamChinaTakeoverID(0) &&
            (!n ||
              n.includes("takeover_art") ||
              n.includes("takeover_mobile_art")) &&
            v.push({
              artworkType: "takeover_art",
              id: h.GetSteamChinaTakeoverID(0),
              type: a.R6.k_ConfigPage_TakeoverSteamChina,
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          h.BHasContentHubTakeoverIDs(0) &&
            (!n ||
              n.includes("takeover_art") ||
              n.includes("takeover_mobile_art")) &&
            v.push({
              artworkType: "takeover_art",
              id: h.GetContentHubTakeoverID(0),
              type: h.GetContentHubTakeoverType(0),
              bShowInternalControls: t,
              promotionPlanID: h.GetID(),
            }),
          h.BHasTakeunderIDs(0) &&
            (!n ||
              n.includes("takeunder_art") ||
              n.includes("takeunder_mobile_art")) &&
            v.push({
              artworkType: "takeunder_art",
              id: h.GetTakeunderID(0),
              type: a.R6.k_ConfigPage_Takeunder,
              promotionPlanID: h.GetID(),
            }),
          h.BHasAssociatedSaleEvent() &&
            (!n ||
              n.includes("sale_header") ||
              n.includes("sale_logo") ||
              n.includes("capsule")) &&
            v.push({
              artworkType: "sale_header",
              clanAccountID: h.GetSaleClanAccountID(),
              gidClanEvent: h.GetSaleClanEventGID(),
              promotionPlanID: h.GetID(),
            }),
          v.forEach((e) => {
            E.push({
              name: (0, i.gl)(e.artworkType),
              key: (e.type ? (0, a.D9)(e.type) + "_" : "") + e.artworkType,
              status: o.createElement(
                ut,
                Object.assign({}, e, { rgArtworkToDisplay: n }),
              ),
              contents: o.createElement(
                d.SV,
                null,
                o.createElement(
                  pt,
                  Object.assign({}, e, { rgArtworkToDisplay: n }),
                ),
              ),
              onClick: p,
            });
          }),
          o.createElement(
            "div",
            null,
            Boolean(s) &&
              o.createElement(
                o.Fragment,
                null,
                o.createElement("h1", null, s),
                o.createElement("hr", null),
              ),
            o.createElement(g.n, { tabs: E, bDisableRouting: r }),
            o.createElement("div", { className: _().ClearThings }),
          )
        );
      }
      function ut(e) {
        return o.createElement("div", null, "status todo");
      }
      function pt(e) {
        const {
          artworkType: t,
          id: n,
          type: a,
          clanAccountID: i,
          gidClanEvent: l,
          bShowInternalControls: r,
          rgArtworkToDisplay: s,
          promotionPlanID: c,
        } = e;
        switch (t) {
          case "marketingmessage_art":
          case "marketingmessage_art_2":
            return o.createElement(
              V.R,
              { gid: n },
              o.createElement(H.H, {
                bAssetUploadOnly: !r,
                promotionPlanID: c,
              }),
            );
          case "spotlight_art":
            return o.createElement(
              Ne,
              { gid: n },
              o.createElement(Ie, { promotionPlanID: c }),
            );
          case "takeover_art":
          case "takeover_mobile_art":
          case "takeover_webm_art":
          case "takeover_mp4_art":
          case "takeover_webm_mobile_art":
          case "takeover_mp4_mobile_art":
            return o.createElement(
              je,
              { id: n, type: a },
              o.createElement(Me, {
                bShowInternalControls: r,
                rgArtworkToDisplay: s,
                promotionPlanID: c,
              }),
            );
          case "takeunder_art":
          case "takeunder_mobile_art":
            return o.createElement(
              et,
              { id: n },
              o.createElement(Ze, {
                rgArtworkToDisplay: s,
                promotionPlanID: c,
              }),
            );
          case "sale_header":
          case "sale_logo":
          case "capsule":
          case "product_banner":
          case "product_mobile_banner":
          case "localized_title_image":
            return o.createElement(
              ue,
              { clanAccountID: i, gidClanEvent: l },
              o.createElement(oe, {
                gidClanEvent: l,
                rgArtworkToDisplay: s,
                promotionPlanID: c,
              }),
            );
          default:
            return o.createElement("div", null, "Not Built yet.");
        }
      }
    },
    58606: (e, t, n) => {
      "use strict";
      n.d(t, { C: () => m, x: () => d });
      var a = n(13913),
        i = n(47427),
        l = n(77681),
        r = n.n(l),
        o = n(1485),
        s = n(5094),
        c = n(65255);
      function m(e) {
        const { oEditableMessage: t, promotionPlanID: n } = e;
        return i.createElement(
          "div",
          { className: r().RightCol },
          i.createElement(
            "div",
            { className: r().SectionCtn },
            i.createElement(o.__, null, "Asset Progress"),
            i.createElement(d, { oEditableMessage: t }),
          ),
          i.createElement(
            "div",
            { className: r().SectionCtn },
            i.createElement(
              "a",
              {
                href: `${c.De.PARTNER_BASE_URL}promotion/marketingmessages/edit/${t.GetGID()}`,
                target: "_blank",
              },
              "Open Marketing Message Editor",
            ),
            Boolean(n) &&
              i.createElement(
                i.Fragment,
                null,
                i.createElement("br", null),
                i.createElement(
                  "a",
                  {
                    href: `${c.De.PARTNER_BASE_URL}promotion/planning/edit/${n}`,
                    target: "_blank",
                  },
                  "Open Promotion Plan Editor",
                ),
              ),
          ),
        );
      }
      function d(e) {
        const { oEditableMessage: t } = e,
          {
            bMinimumAssetsSetup: n,
            nAssetSetup: l,
            nCompleteAssetRequired: r,
            bMatchingVideoAssets: o,
            strCustomTemplateType: c,
            nPosterCount: m,
            nSubtitleCount: d,
          } = (0, a.AD)(t.GetGID());
        return i.createElement(
          i.Fragment,
          null,
          i.createElement(s.x, { bDone: n, name: `Assets (${l}/${r})` }),
          !c &&
            void 0 !== o &&
            i.createElement(s.x, {
              bDone: o,
              name: "Animated Assets (webm + mp4)",
              tooltip:
                "Animated assets require matching mp4, webm and images for every langauage where there is an mp4 or webm supplied.  Must at lesat provide 1 animated asset for this setting.",
            }),
          "featured_video" === c &&
            i.createElement(
              i.Fragment,
              null,
              i.createElement(s.x, {
                bDone: o,
                name: "Featured Video",
                tooltip: "Requries both .webm and .mp4 for featuring to work",
              }),
              i.createElement(s.x, {
                bDone: m > 0,
                name: `Poster Assets (${m}/${r})`,
              }),
              i.createElement(s.x, {
                bDone: d > 0,
                name: `Subtitles (${d}/${r})`,
              }),
            ),
        );
      }
    },
    43527: (e, t, n) => {
      "use strict";
      n.d(t, { H: () => P });
      var a = n(43204),
        i = n(30750),
        l = n(47427),
        r = n(38071),
        o = n(77936),
        s = n(27174),
        c = n(98330),
        m = n(77681),
        d = n.n(m),
        u = n(9466),
        p = n(8897),
        _ = n(1485),
        h = n(10162),
        g = n(72297),
        v = n(71741),
        E = n.n(v),
        S = n(77671),
        D = n(77178),
        f = n(90069),
        y = n(62210),
        b = n(13129),
        I = n(50423),
        C = n(65255),
        k = n(58606),
        A = n(65612),
        w = n(60688);
      function P(e) {
        const { bAssetUploadOnly: t, promotionPlanID: n } = e,
          i = (0, a.fL)();
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            { className: w.EditCtn },
            l.createElement(
              "div",
              { className: d().PageTitle },
              "Marketing Message - Asset Management",
            ),
            l.createElement("hr", null),
            l.createElement(
              "div",
              { className: d().ColumnCtn },
              l.createElement(
                "div",
                { className: d().LeftCol },
                Boolean(!t) && l.createElement(T, { oEditableMessage: i }),
                l.createElement(L, { oEditableMessage: i }),
              ),
              l.createElement(k.C, {
                oEditableMessage: i,
                bAssetUploadOnly: t,
                promotionPlanID: n,
              }),
            ),
            l.createElement("br", null),
          ),
        );
      }
      function T(e) {
        const t = (0, a.fL)(),
          [n] = (0, i.SZ)(() => [t.GetInternalAssetURL()]);
        return l.createElement(
          "div",
          { className: d().SectionCtn },
          l.createElement(_.__, null, "Internal Assets Location"),
          l.createElement(_.II, {
            type: "text",
            value: n,
            placeholder: "enter fileserver location",
            onChange: (e) => t.SetInternalAssetURL(e.currentTarget.value),
            tooltip:
              "Valve Only: Lets us refer to a folder on \\fileserver for communicating where we are keeping the assets for the event or a similar part event",
          }),
          l.createElement("br", null),
          l.createElement("br", null),
          l.createElement(N, { oEditableMessage: t }),
          l.createElement(R, { oEditableMessage: t }),
        );
      }
      function N(e) {
        const t = (0, a.fL)(),
          [n, i] = (0, l.useState)(
            (function (e) {
              if (e.BHasAnimatedAssets()) return "mm_animated_image";
              if ("featured_video" === e.GetCustomTemplate())
                return "mm_featured_video";
              return "mm_image";
            })(t),
          ),
          r = (0, l.useMemo)(
            () => [
              {
                label: "Static Image",
                data: "mm_image",
                tooltip: "Limit to .jpg and .png without animations",
              },
              {
                label: "Animated Image (webm + mp4)",
                data: "mm_animated_image",
                tooltip:
                  "Requires .webm and .mp4 for animated background; support static image fallback for low bandwidth users",
              },
              {
                label: "Featured Video",
                data: "mm_featured_video",
                tooltip:
                  "Primary focus in an embedded video as part of the IM.  Regular image is the background and only top 300px is not covered by the video.",
              },
            ],
            [],
          );
        return l.createElement(_.ry, {
          label: "Maketing Message Display",
          strClassName: (0, b.Z)(E().DropDownScroll),
          rgOptions: r,
          selectedOption: n,
          onChange: (e) => {
            switch (e.data) {
              case "mm_image":
                t.SetAnimatedAssetsEnabled(!1), t.ClearCustomTemplate();
                break;
              case "mm_animated_image":
                t.SetAnimatedAssetsEnabled(!0), t.ClearCustomTemplate();
                break;
              case "mm_featured_video":
                t.SetAnimatedAssetsEnabled(!1),
                  t.SetCustomTemplate("featured_video");
            }
            i(e.data);
          },
        });
      }
      function R(e) {
        const { oEditableMessage: t } = e,
          [n, a, r] = (0, i.SZ)(() => [
            t.GetCustomTemplate(),
            t.GetFeaturedVideoMP4Url() || "",
            t.GetFeaturedVideoWebMUrl() || "",
          ]);
        return "featured_video" != n
          ? null
          : l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "p",
                null,
                "We need both a .webm and .mp4 of the featured video. They need to be uploaded to CDN.",
                l.createElement(
                  "a",
                  {
                    href: "https://confluence.valve.org/pages/viewpage.action?pageId=131008106",
                  },
                  "Here is how",
                ),
                ". Also here are a ",
                l.createElement(
                  "a",
                  {
                    href: "https://confluence.valve.org/display/STEAM/Marketing+Message+Template%3A+Featured+Video",
                  },
                  "few instructions about this type",
                ),
                ".",
              ),
              l.createElement(_.II, {
                type: "url",
                label: "MP4 (1920x1080)",
                value: a,
                onChange: (e) =>
                  t.SetFeaturedVideoMP4Url(e.currentTarget.value),
              }),
              l.createElement(G, {
                strURL: a,
                mimetype: "video/mp4",
                extension: ".mp4",
              }),
              l.createElement(_.II, {
                type: "url",
                label: "WebM (1920x1080)",
                value: r,
                onChange: (e) =>
                  t.SetFeaturedVideoWebMUrl(e.currentTarget.value),
              }),
              l.createElement(G, {
                strURL: r,
                mimetype: "video/webm",
                extension: ".webm",
              }),
            );
      }
      function G(e) {
        const { strURL: t, extension: n, mimetype: i } = e;
        if (!t || 0 == t.trim().length) return null;
        const r = !(0, a.V4)(t, n);
        return l.createElement(
          "div",
          null,
          r
            ? l.createElement(
                "div",
                { className: g.ErrorStylesWithIcon },
                "Error: URL format is wrong or missing extensions (",
                n,
                ")",
              )
            : l.createElement(
                _.zx,
                {
                  onClick: (e) =>
                    (0, f.AM)(
                      l.createElement(
                        D.uH,
                        { strTitle: "Preview " + n, bAllowFullSize: !0 },
                        l.createElement(
                          "video",
                          { controls: !0, muted: !0, height: "270" },
                          l.createElement("source", { src: t, type: i }),
                        ),
                      ),
                      (0, I.RA)(e),
                    ),
                },
                "Preview",
              ),
        );
      }
      function L(e) {
        const { oEditableMessage: t } = e,
          [n, a, o, m] = (0, i.SZ)(() => [
            t.GetRealm(),
            t.GetAssetsObject("ll_image"),
            t.BHasAnimatedAssets(),
            "featured_video" === t.GetCustomTemplate(),
          ]),
          p = Boolean(0 != n),
          _ = (0, l.useMemo)(() => {
            const e = ["localized_marketing_message"];
            return (
              o
                ? (e.push("localized_marketingmessage_mp4"),
                  e.push("localized_marketingmessage_webm"),
                  (0, y.X)(
                    !m,
                    "Animated Image and Featured video are mutually exclusive.",
                  ))
                : m &&
                  (e.push("localized_marketingmessage_background"),
                  e.push("localized_marketingmessage_poster"),
                  e.push("localized_subtitles")),
              e
            );
          }, [o, m]),
          v = (0, l.useMemo)(
            () => [r.IN.k_ESteamRealmGlobal, r.IN.k_ESteamRealmChina],
            [],
          ),
          E = (0, l.useCallback)(
            (e, n, a, i, l, r, o) => {
              (0, y.X)(
                null != a && a >= 0 && a < 31,
                "Unexpected value for elang: " + a,
              );
              let m = null;
              switch (i) {
                case "image/gif":
                case "image/jpeg":
                case "image/png":
                  m =
                    r == s.h1.localized_marketingmessage_poster.width
                      ? "poster"
                      : "localized_marketingmessage_background" === l
                        ? "background"
                        : "ll_image";
                  break;
                case "video/mp4":
                  m = "mp4";
                  break;
                case "video/webm":
                  m = "webm";
                  break;
                case "text/srt":
                case "text/vtt":
                  m = "subtitles";
                  break;
                default:
                  console.log(
                    "MarketingMessageAssetDisplayLanding unexpected mimetype: " +
                      i,
                  );
              }
              m && t.SetTemplateAssetImagePath(e + (0, c.U)(i), m, a);
            },
            [t],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: d().SectionCtn },
            l.createElement(
              "h2",
              { className: "inline" },
              "MARKETING MESSAGE ASSETS",
            ),
            l.createElement("hr", null),
            Boolean(p && (!a || !a.sc_schinese)) &&
              l.createElement(
                "div",
                { className: g.WarningStylesWithIcon },
                l.createElement(
                  "div",
                  null,
                  "Marketing Message will appear in Steam China, we require a Steam China Simplified Chinese Asset. Please ensure the sc_schinese asset handles these two cases:",
                ),
                l.createElement(
                  "ol",
                  null,
                  l.createElement(
                    "li",
                    null,
                    "If we mention Steam, in Steam China has a specific name: ",
                    l.createElement("img", {
                      src:
                        C.De.STORE_CDN_URL +
                        "public/shared/images/header/logo_steamchina.svg?t=962016",
                      height: "40",
                    }),
                  ),
                  l.createElement(
                    "li",
                    null,
                    "If there is a time in the artwork, then it must localized to China Standard Time",
                  ),
                ),
              ),
            Boolean("dev" == C.De.WEB_UNIVERSE) &&
              l.createElement(
                "div",
                { className: g.WarningStylesWithIcon },
                "Remember: To be able to upload assets in DEV you need to be VPN'ed into the RACK.",
              ),
            l.createElement(u.j, {
              rgSupportArtwork: _,
              rgRealmList: v,
              strOverrideDragAndDropText:
                "Drag any asset here to upload (max 5MB)",
              strUploadAjaxURL: `${C.De.PARTNER_BASE_URL}promotion/marketingmessages/ajaxuploadasset/${t.GetGID()}`,
              fnOnUploadSuccess: E,
            }),
            l.createElement(
              h.SV,
              null,
              l.createElement("br", null),
              l.createElement("h3", null, "Static Assets Only"),
              l.createElement(
                "div",
                null,
                l.createElement("span", null, "570px by 600px"),
                " (.jpg,.png,.gif)",
              ),
              l.createElement(M, {
                oEditableMessage: t,
                assetType: "ll_image",
              }),
              l.createElement(B, { oEditableMessage: t }),
              l.createElement(x, { oEditableMessage: t }),
            ),
          ),
          l.createElement(A.p, { oEditableMessage: t }),
        );
      }
      function B(e) {
        const { oEditableMessage: t } = e,
          [n] = (0, i.SZ)(() => [t.BHasAnimatedAssets()]);
        return n
          ? l.createElement(
              "div",
              null,
              l.createElement("br", null),
              l.createElement("h3", null, "Animated Assets"),
              l.createElement(
                "div",
                null,
                "Animated Assets require both matching .webm/.mp4 files. Will fallback to static assets if animated asset is missing or client is setup for low-bandwidth mode.",
              ),
              l.createElement("br", null),
              l.createElement(_.__, null, "WebM"),
              l.createElement(
                "div",
                null,
                ".Webm 570px by 600px (required for Steam Client)",
              ),
              l.createElement(M, { oEditableMessage: t, assetType: "webm" }),
              l.createElement("br", null),
              l.createElement(_.__, null, "MP4"),
              l.createElement(
                "div",
                null,
                ".Mp4 570px by 600px (required for iOS)",
              ),
              l.createElement(M, { oEditableMessage: t, assetType: "mp4" }),
            )
          : null;
      }
      function x(e) {
        const { oEditableMessage: t } = e,
          [n] = (0, i.SZ)(() => [t.GetCustomTemplate()]);
        return "featured_video" != n
          ? null
          : l.createElement(
              "div",
              null,
              l.createElement("br", null),
              l.createElement(
                "h3",
                null,
                "Feature Video Template Specific Assets",
              ),
              l.createElement("br", null),
              l.createElement(_.__, null, "Background Image"),
              l.createElement(
                "div",
                null,
                l.createElement("span", null, "570px by 600px"),
                " (Video sits on top of this asset; .png/.jpg) ",
              ),
              l.createElement(M, {
                oEditableMessage: t,
                assetType: "background",
              }),
              l.createElement("br", null),
              l.createElement(_.__, null, "Poster Image"),
              l.createElement(
                "div",
                null,
                l.createElement("span", null, "528px by 297px"),
                " (localized video poster image; shown on top of video prior to play; .png/.jpg)",
              ),
              l.createElement(M, { oEditableMessage: t, assetType: "poster" }),
              l.createElement("br", null),
              l.createElement(_.__, null, "Subtitles"),
              l.createElement(
                "div",
                null,
                ".vtt/.srt format (include extension or mapping will fail)",
              ),
              l.createElement(M, {
                oEditableMessage: t,
                assetType: "subtitles",
              }),
            );
      }
      function M(e) {
        const { oEditableMessage: t, assetType: n } = e,
          [a, r, s] = (0, i.SZ)(() => [
            t.GetAssetsObject(n),
            t.GetGID(),
            t.GetAssetsModifyTime(),
          ]),
          c = Object.keys(a)
            .sort()
            .map((e) => (0, o.jM)(e)),
          m = (0, l.useCallback)(
            (e) => {
              const t = (0, o.j_)(e);
              return a[t] ? (0, S.i)(r, e, s, a[t]) : null;
            },
            [r, s, a],
          );
        return l.createElement(
          "div",
          { className: d().MarketingMessage },
          l.createElement(p.V, {
            rgAssetLangs: c,
            fnGetAssetUrl: m,
            fnDeletAssetLang: (e) => t.DeleteAssetObjectLang(n, e),
            fnDeleteAllAssets: () => t.ClearAllAssetObjects(n),
          }),
        );
      }
    },
    79173: (e, t, n) => {
      "use strict";
      n.d(t, { AF: () => x, aR: () => L, vN: () => B });
      var a = n(85556),
        i = n(256),
        l = n(44107),
        r = n(58515),
        o = n.n(r),
        s = n(47427),
        c = n(86437),
        m = n(80886),
        d = n(1485),
        u = n(83743),
        p = n(72297),
        _ = n(71741),
        h = n.n(_),
        g = n(92012),
        v = n(77178),
        E = n(62613),
        S = n(59728),
        D = n(13129),
        f = n(37563),
        y = n(28922),
        b = n(69368),
        I = n(66692),
        C = n(32088),
        k = n(31455),
        A = n(84676),
        w = n(24040),
        P = n(82624),
        T = n(92195),
        N = n(17160),
        R = n(87380);
      const G = [11, 9, 12, 11, 2];
      function L(e) {
        const {
            rtInitialDate: t,
            closeModal: n,
            rtInitialEndDate: i,
            initialType: r,
            bAllowPromotionPlanCreate: _,
          } = e,
          [h, g] = s.useState(r || 1),
          [D, C] = s.useState(""),
          [A, L] = s.useState((0, y.ap)(t)),
          [M, O] = s.useState((0, y.h9)(t, i)),
          [F, U] = s.useState(_),
          [H, V] = s.useState(null),
          [X, j] = s.useState(null),
          q = (0, s.useMemo)(() => (0, c.B_)(X), [X]),
          [W] = (0, m.jk)((0, c.u$)(X), (0, c.D3)(X), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          });
        (0, s.useEffect)(() => {
          _ && U(X && !G.includes(h));
        }, [h, _, X]);
        const { fnCreateMarketingMessage: z } = (0, l.oT)(),
          Z = (0, u.tx)(),
          { fnAddNewPlan: K } = (0, R.$H)(),
          { fnUpdateMarketingMessage: Q } = (0, l.jI)();
        if (Z.bLoading)
          return s.createElement(u.NT, {
            state: Z,
            strDialogTitle: "Creating Marketing Message",
            closeModal: n,
          });
        const Y =
          ((null == X ? void 0 : X.appid) ||
            (null == X ? void 0 : X.bundleid) ||
            (null == X ? void 0 : X.packageid)) &&
          !f.L7.is_support;
        return s.createElement(
          v.uH,
          {
            strTitle: "Create Marketing Message",
            onCancel: n,
            bAllowFullSize: !0,
            bDisableBackgroundDismiss: !0,
            bOKDisabled:
              0 === D.trim().length ||
              Z.bLoading ||
              !(0, y.yt)(h, A, M) ||
              (Y && !W) ||
              (F && !H),
            onOK: () =>
              (0, a.mG)(this, void 0, void 0, function* () {
                Z.fnSetLoading(!0);
                const e = (0, k.v)(D, h, A, M, "#msg_action_details", W);
                try {
                  const t = yield z(e, !0);
                  if (t) {
                    let e = !0;
                    if (F) {
                      const n = new N.bZ((0, l._5)(t));
                      e = yield (0, T.Jr)(Z, n, K, Q, H);
                    }
                    return void (
                      e &&
                      Z.fnSetElSuccess(
                        s.createElement(
                          "div",
                          null,
                          s.createElement(
                            "div",
                            null,
                            "Successfully Created Marketing Message",
                          ),
                          s.createElement("br", null),
                          s.createElement(
                            "a",
                            {
                              href:
                                f.De.PARTNER_BASE_URL +
                                "/promotion" +
                                w.PromotionRoutes.MarketingMessageEditor(t),
                            },
                            "Edit Marketing Message",
                          ),
                        ),
                      )
                    );
                  }
                } catch (e) {}
                Z.fnSetStrError(
                  "Failed to create Marketing Message. Check console",
                );
              }),
          },
          s.createElement(d.__, null, "Choose Marketing Message Type:"),
          s.createElement(B, { type: h, setType: g }),
          s.createElement(d.II, {
            type: "text",
            label: "Internal Name",
            tooltip:
              "Internal name used for us to identify the promotion, not visible outside of this tool",
            value: D,
            onChange: (e) => {
              var t;
              return C(
                (null === (t = null == e ? void 0 : e.currentTarget) ||
                void 0 === t
                  ? void 0
                  : t.value) || "",
              );
            },
          }),
          s.createElement(d.__, null, "Marketing Message Type:"),
          s.createElement(B, { type: h, setType: g }),
          s.createElement(x, {
            type: h,
            rtStartTime: A,
            setStartTime: L,
            rtEndTime: M,
            setEndTime: O,
          }),
          s.createElement(
            d.__,
            null,
            "Optional Featuring Target:",
            Boolean(X) &&
              s.createElement(
                S.HP,
                {
                  className: o().ProgressIconError,
                  onClick: () => j(null),
                  toolTipContent: "Clear the Featuring Target",
                },
                s.createElement(E.X, null),
              ),
          ),
          Boolean(X) &&
            s.createElement(
              s.Fragment,
              null,
              s.createElement(b.Ce, {
                id: (0, c.u$)(X),
                itemType: (0, c.D3)(X),
              }),
              Boolean(_) &&
                s.createElement(
                  s.Fragment,
                  null,
                  s.createElement(d.ji, {
                    label: "Create Asset Request (via promotion plan)?",
                    tooltip:
                      "Useful for standalone marketing messages which we want to request assets from partners. Underlying request/review flow is managed by an asset request only promotion plan.",
                    checked: F,
                    onChange: U,
                  }),
                  s.createElement(P.x, {
                    nPartnerID: H,
                    storeItemKey: q,
                    fnUpdatePartnerID: V,
                  }),
                ),
            ),
          Boolean(X && !W) &&
            s.createElement(
              s.Fragment,
              null,
              f.L7.is_support
                ? s.createElement(
                    "div",
                    { className: p.WarningStylesWithIcon },
                    "Warning: Game is not visible on the Steam store. Beware if not published before featuring, we will link to nowhere.",
                  )
                : s.createElement(
                    "div",
                    { className: p.ErrorStylesWithIcon },
                    "Error: Invalid choice, game not visible on the Steam store.",
                  ),
            ),
          s.createElement(I.Ko, {
            oChoice: X,
            fnSetChoice: j,
            bIncludeHidden: !0,
          }),
        );
      }
      function B(e) {
        const { type: t, setType: n } = e,
          a = (0, s.useMemo)(() => {
            const e = new Array();
            return (
              i.JZ.forEach((t) => {
                e.push({ label: (0, i.W_)(t), data: t });
              }),
              e
            );
          }, []);
        return s.createElement(d.ry, {
          strDropDownClassName: h().DropDownScroll,
          rgOptions: a,
          selectedOption: t,
          onChange: (e) => n(e.data),
        });
      }
      function x(e) {
        const {
          type: t,
          rtStartTime: n,
          setStartTime: a,
          rtEndTime: i,
          setEndTime: l,
        } = e;
        switch (t) {
          case 2:
            return s.createElement(
              "div",
              { className: (0, D.Z)(C.DateCtn, "DateCtn") },
              s.createElement(
                A.nz,
                Object.assign({}, e, { type: "weekenddeal" }),
              ),
            );
          case 11:
            return s.createElement(
              "div",
              { className: (0, D.Z)(C.DateCtn, "DateCtn") },
              s.createElement(A.nz, Object.assign({}, e, { type: "midweek" })),
            );
        }
        return s.createElement(
          "div",
          { className: (0, D.Z)(C.DateCtn, "DateCtn") },
          s.createElement(g.A, {
            strDescription: "Start Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => n,
            fnSetTimeToUpdate: a,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
          s.createElement(g.A, {
            strDescription: "End Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => i,
            fnSetTimeToUpdate: l,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
        );
      }
    },
    65612: (e, t, n) => {
      "use strict";
      n.d(t, { Q: () => b, p: () => f });
      var a = n(44107),
        i = n(30750),
        l = n(47427),
        r = n(86437),
        o = n(80886),
        s = n(1485),
        c = n(72297),
        m = n(77178),
        d = n(90069),
        u = n(46882),
        p = n(50423),
        _ = n(13129),
        h = n(31846),
        g = n(37563),
        v = n(60688),
        E = n(77681),
        S = n.n(E),
        D = n(20020);
      function f(e) {
        const { oEditableMessage: t } = e,
          n = (0, i.SZ)(() => t.BIsDirty());
        return l.createElement(
          "div",
          { className: (0, _.Z)(S().SectionCtn, S().ActionBar) },
          l.createElement(
            "div",
            { className: v.ButtonRow },
            l.createElement(
              s.KM,
              {
                onClick: (e) =>
                  (0, d.AM)(
                    l.createElement(y, { oEditableMessage: t }),
                    (0, p.RA)(e),
                  ),
              },
              (0, h.Xx)(n ? "#Button_Save" : "#Button_Saved"),
            ),
            l.createElement("div", { className: v.ButtonRowSpacer }),
            l.createElement(
              s.zx,
              {
                onClick: (e) => {
                  (0, d.AM)(
                    l.createElement(I, { oEditableMessage: t }),
                    (0, p.RA)(e),
                  );
                },
              },
              (0, h.Xx)("#Button_Delete"),
            ),
            l.createElement(
              s.zx,
              {
                disabled: !n,
                onClick: (e) =>
                  (0, d.AM)(
                    l.createElement(m.uH, {
                      strTitle: (0, h.Xx)("#Dialog_AreYouSure"),
                      strDescription: (0, h.Xx)("#DailyDeals_UnsavedChanges"),
                      onOK: () => t.RevertChanges(),
                    }),
                    (0, p.RA)(e),
                  ),
              },
              (0, h.Xx)("#Button_Revert"),
            ),
          ),
        );
      }
      function y(e) {
        const { oEditableMessage: t, closeModal: n } = e,
          a = t.GetUserMessageFilters();
        return (
          (0, D.X)("and" == a.clause, "Unexpected usefilter structure"),
          0 == t.GetType()
            ? l.createElement(m.uH, {
                bAlertDialog: !0,
                bDestructiveWarning: !0,
                strTitle: "Save Not Possible",
                strDescription:
                  "Invalid Marketing Message type '----------'. Please correct in editor tab before attempting to save",
                closeModal: n,
              })
            : a.children.some((e, n) => !t.BHasSomeIDForAndUserFilter(n))
              ? l.createElement(m.uH, {
                  bAlertDialog: !0,
                  bDestructiveWarning: !0,
                  strTitle: "Save Not Possible",
                  strDescription:
                    "Incomplete Marketing Message User Filter settings. No user can see this marketing message in the current setup.",
                  closeModal: n,
                })
              : l.createElement(b, { oEditableMessage: t, closeModal: n })
        );
      }
      function b(e) {
        const { oEditableMessage: t, closeModal: n } = e,
          { fnUpdateMarketingMessage: i } = (0, a.jI)(),
          [r, o] = l.useState(!0),
          [s, c] = l.useState(!1);
        return (
          l.useEffect(() => {
            i(t)
              .then((e) => {
                c(e), t.SaveSuccessClearDirty();
              })
              .catch((e) => c(!1))
              .finally(() => o(!1));
          }, [i, t]),
          l.createElement(
            m.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: n },
            Boolean(r)
              ? l.createElement(u.V, {
                  size: "medium",
                  position: "center",
                  string: (0, h.Xx)("#Saving"),
                })
              : Boolean(s)
                ? l.createElement("div", null, "Save successful")
                : l.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function I(e) {
        const { oEditableMessage: t, closeModal: n } = e,
          [i, o] = l.useState(!1),
          [s, d] = l.useState(void 0),
          { fnDeleteMarketingMessage: p } = (0, a.BA)();
        return l.createElement(
          m.uH,
          {
            strTitle: "Delete Marketing Message?",
            strDescription:
              "Only delete this message if it has never been shown to customers. Are you sure you want to remove the promotion plan for the following? This can't be undone, but a new one can be created if needed.  This only removes the record from the Steam database. If this message has already been published, the files published will remain on the web cluster.",
            onCancel: n,
            onOK: () => {
              o(!0),
                p(t.GetModel()).then((e) => {
                  e
                    ? (window.location.href =
                        g.De.PARTNER_BASE_URL + "promotion/planning/dashboard")
                    : d("Failed To Delete, check console");
                });
            },
            bOKDisabled: i,
          },
          Boolean(t.BHasFeaturedStoreItem()) &&
            l.createElement(C, {
              id: t.GetStoreItemKey().id,
              storeItemType: (0, r.GV)(t.GetStoreItemKey().item_type),
            }),
          Boolean(i && !s) &&
            l.createElement(u.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Deleting"),
            }),
          Boolean(s) && l.createElement("div", { className: c.ErrorStyles }, s),
        );
      }
      function C(e) {
        const { id: t, storeItemType: n } = e,
          [a] = (0, o.jk)(t, n, { include_basic_info: !0, include_assets: !0 });
        return a
          ? l.createElement(
              "div",
              null,
              l.createElement("img", {
                src:
                  a.GetAssets().GetSmallCapsuleURL() ||
                  a.GetAssets().GetHeaderURL(),
              }),
              l.createElement(
                "span",
                null,
                "Name: ",
                a.GetName(),
                " (",
                a.GetID(),
                ")",
              ),
            )
          : l.createElement(u.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Loading"),
            });
      }
    },
    50382: (e, t, n) => {
      "use strict";
      n.d(t, { W: () => Se, R: () => Ee });
      var a = n(256),
        i = n(43204),
        l = n(44107),
        r = n(51485),
        o = n(58515),
        s = n.n(o),
        c = n(30750),
        m = n(47427),
        d = n(28017),
        u = n(15690),
        p = n(86437),
        _ = n(80886),
        h = n(77681),
        g = n.n(h),
        v = n(1485),
        E = n(10162),
        S = n(72297),
        D = n(71741),
        f = n.n(D),
        y = n(90069),
        b = n(62613),
        I = n(23665),
        C = n(46882),
        k = n(59728),
        A = n(13129),
        w = n(50423),
        P = n(31846),
        T = n(92195),
        N = n(69368),
        R = n(43527),
        G = n(77178),
        L = n(77912);
      function B(e) {
        const { oEditableMessage: t, storeItem: n, closeModal: a } = e;
        return m.createElement(
          G.uH,
          {
            strTitle: "Update Dynamic Filters",
            strDescription:
              "Changing to this marketing message type. Update the user dynamic filter to preferred setup for this type?",
            onCancel: a,
            bDestructiveWarning: !0,
            onOK: () => {
              t.ReplaceUserFilter((0, L.a)(n, t.GetType())), a && a();
            },
          },
          m.createElement(
            "div",
            null,
            "Note: The user dynamic filter can be updated afterward too",
          ),
        );
      }
      var x = n(85556),
        M = n(65255),
        O = n(66692),
        F = n(99125);
      function U(e) {
        const { oEditableMessage: t, closeModal: n } = e;
        return m.createElement(O.r5, {
          oFeaturedItem: t.GetStoreItemID(),
          closeModal: n,
          bIncludeHidden: !0,
          onConfirmFeatureItem: (e) =>
            (0, x.mG)(this, void 0, void 0, function* () {
              const n = (0, F.Ur)(e);
              return (
                n &&
                  (n.no_restrictions
                    ? t.ClearCountryRestrictions()
                    : n.allowed_countries
                      ? t.SetCountryAllow(n.allowed_countries.join(","))
                      : n.restricted_countries &&
                        t.SetCountryAllow(n.restricted_countries.join(","))),
                e.appid
                  ? (t.SetAssociation(1, e.appid),
                    t.SetLinkURL(`${M.De.STORE_BASE_URL}app/${e.appid}`),
                    H(t, e))
                  : e.packageid
                    ? (t.SetAssociation(2, e.packageid),
                      t.SetLinkURL(`${M.De.STORE_BASE_URL}subs/${e.packageid}`),
                      H(t, e))
                    : e.bundleid
                      ? (t.SetAssociation(5, e.bundleid),
                        t.SetLinkURL(
                          `${M.De.STORE_BASE_URL}bundle/${e.bundleid}`,
                        ),
                        H(t, void 0))
                      : (t.SetAssociation(0, 0),
                        t.SetLinkURL(null),
                        H(t, void 0)),
                !0
              );
            }),
        });
      }
      function H(e, t) {
        if (!e.BIsNoFilterRequired())
          if (t) {
            const n = u.Z.Get().GetStoreItem((0, p.u$)(t), (0, p.D3)(t));
            n
              ? e.ReplaceUserFilter((0, L.a)(n, e.GetType()))
              : (console.log(
                  "DEV: We do not have the item in memory, how is this possible:",
                  t,
                ),
                e.ClearUserDynamicFilter());
          } else e.ClearUserDynamicFilter();
      }
      var V = n(79173),
        X = n(71630);
      function j(e) {
        const t = (0, i.fL)(),
          n = (0, c.SZ)(() => t.BIsDirty()),
          a = t.GetModel(),
          [l] = (0, c.SZ)(() => [a.creator_name]),
          r = [
            {
              name: "Main Message",
              key: "mainmessage",
              contents: m.createElement(
                "div",
                null,
                m.createElement(X.G, { data: a }),
              ),
            },
            {
              name: "Template Vars",
              key: "templatevars",
              contents: m.createElement(
                E.SV,
                null,
                m.createElement(X.G, { data: t.GetTemplateVarsModel() || {} }),
              ),
            },
            {
              name: "Additional Restrictions",
              key: "additionalrestriction",
              contents: m.createElement(
                E.SV,
                null,
                m.createElement(X.G, {
                  data: t.GetAdditionalRestrictionModel() || {},
                }),
                m.createElement(
                  v.zx,
                  { onClick: () => t.ClearUserFilters() },
                  "Clear user Filters",
                ),
              ),
            },
          ];
        return m.createElement(
          "div",
          null,
          m.createElement("div", null, "Is dirty?: ", n ? "true" : "false"),
          Boolean(l) &&
            m.createElement(
              "div",
              { className: g().SectionCtn },
              m.createElement(v.__, null, "Creator:"),
              m.createElement("div", null, l),
            ),
          m.createElement("br", null),
          m.createElement("br", null),
          m.createElement("hr", null),
          m.createElement(I.n, {
            tabs: r,
            bDisableRouting: !0,
            startingTab: "mainmessage",
          }),
          m.createElement("div", { className: f().ClearThings }),
        );
      }
      var q = n(65612),
        W = n(8285),
        z = n(24040),
        Z = n(36342);
      function K(e) {
        const { fnBIsPlanDirty: t } = (0, i.tr)(),
          n = (0, i.fL)(),
          { fnBIsPlanInputPipelineDirty: a } = (0, r.R0)(),
          { fnBIsPlanDirty: l } = (0, Z.u9)(),
          o = (0, Z.Gn)(),
          s = (0, r.Dv)();
        m.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() || a() || l()
                ? (0, P.Xx)("#DailyDeals_UnsavedChanges")
                : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t, a, l],
        );
        return m.createElement(W.NL, {
          message: (e) =>
            !((n && t()) || (s && a()) || (o && l())) ||
            e.pathname ==
              z.PromotionRoutes.MarketingMessageEditor(n.GetGID()) ||
            (0, P.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      var Q = n(77936),
        Y = n(84106),
        J = n.n(Y),
        $ = n(15459);
      function ee(e) {
        const { oEditableMessage: t } = e,
          n = (0, m.useMemo)(
            () => [
              { label: "Steam Global (not Steam China)", data: 0 },
              { label: "Steam China (not Steam Global)", data: 1 },
              { label: "Steam Global and Steam China", data: 2 },
            ],
            [],
          );
        return m.createElement(
          "div",
          { className: (0, A.Z)(g().SectionCtn, J().MessageCtn) },
          m.createElement(v.ry, {
            label: "REALM",
            strClassName: (0, A.Z)(f().DropDownScroll),
            rgOptions: n,
            selectedOption: t.GetRealm(),
            onChange: (e) => {
              t.SetRealm(e.data),
                t.SetMustUseClientLanguage(void 0),
                t.SetCountryAllow(void 0),
                t.SetCountryDeny(void 0),
                1 == e.data
                  ? t.SetAndConvertURL(
                      "https://store.steampowered.com",
                      "https://store.steamchina.com",
                    )
                  : t.SetAndConvertURL(
                      "https://store.steamchina.com",
                      "https://store.steampowered.com",
                    );
            },
          }),
          m.createElement(te, { oEditableMessage: t }),
          m.createElement(ne, { oEditableMessage: t }),
        );
      }
      function te(e) {
        const { oEditableMessage: t } = e,
          n = (0, m.useMemo)(
            () => [
              { label: "Show To:", data: !0 },
              { label: "Hide From:", data: !1 },
            ],
            [],
          ),
          a = (0, m.useCallback)(
            (e, n) => {
              e
                ? (t.SetCountryAllow(n), t.SetCountryDeny(void 0))
                : (t.SetCountryAllow(void 0), t.SetCountryDeny(n));
            },
            [t],
          ),
          [i, l, r] = (0, c.SZ)(() => [
            t.GetRealm(),
            t.BIsCountryShow(),
            t.BIsCountryShow() ? t.GetCountryAllow() : t.GetCountryDeny(),
          ]);
        if (1 == i)
          return m.createElement(
            m.Fragment,
            null,
            m.createElement(v.__, null, "COUNTRY RESTRICTIONS"),
            m.createElement(
              "div",
              null,
              "Country restriction not supported when targeting Steam China Realm.",
            ),
          );
        let o = !1;
        return (
          2 == i &&
            (null == r ? void 0 : r.length) > 0 &&
            (o = l
              ? !r.toLowerCase().includes("cn")
              : r.toLowerCase().includes("cn")),
          m.createElement(
            m.Fragment,
            null,
            m.createElement(v.__, null, "COUNTRY RESTRICTIONS"),
            o &&
              m.createElement(
                "div",
                { className: S.WarningStylesWithIcon },
                "Steam China Realm set BUT country list ",
                l ? "dot not include " : "excludes ",
                " China.",
              ),
            m.createElement(
              "div",
              {
                className: (0, A.Z)(
                  g().FlexRow,
                  g().MarginBottom,
                  J().MessageCtn,
                ),
              },
              m.createElement(v.ry, {
                strClassName: (0, A.Z)(f().DropDownScroll, J().CountryInOut),
                rgOptions: n,
                selectedOption: l,
                onChange: (e) => {
                  a(e.data, r);
                },
              }),
              m.createElement(
                "div",
                { className: J().CountryText },
                m.createElement(v.II, {
                  type: "text",
                  value: r,
                  placeholder:
                    "Comma separated lists of 2 letter country codes...",
                  bShowClearAction: !0,
                  onChange: (e) => {
                    a(l, e.target.value);
                  },
                }),
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(), a(l, "CA,US,MX");
                    },
                  },
                  "North America",
                ),
                " ",
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(),
                        a(
                          l,
                          "BS,PA,BZ,CR,SV,GT,HN,NI,VE,CO,GY,SR,GF,BR,PE,BO,PY,UY,AR,CL,EC",
                        );
                    },
                  },
                  "Central And South America",
                ),
                " ",
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(),
                        a(
                          l,
                          "AT,BE,BG,CY,CZ,DK,EE,FI,FR,GR,HU,IS,IE,IT,LV,LT,LU,MT,NL,NO,PL,RO,SK,SI,ES,SE,CH,UK,GB,PT",
                        );
                    },
                  },
                  "Europe",
                ),
                " ",
                m.createElement(
                  "a",
                  {
                    href: "#",
                    onClick: (e) => {
                      e.preventDefault(),
                        a(
                          l,
                          "NO,SE,FI,DK,PT,ES,FR,IT,AT,CH,LU,LI,BE,NL,IE,UK,GB",
                        );
                    },
                  },
                  "Western Europe",
                ),
                " ",
              ),
            ),
          )
        );
      }
      function ne(e) {
        const { oEditableMessage: t } = e,
          [n, a, i] = (0, c.SZ)(() => [
            t.GetRealm(),
            t.GetSteamRealmsForLanguage(),
            t
              .GetMustUseClientLanguage()
              .split(",")
              .map((e) => (0, Q.jM)(e, -1)),
          ]),
          l = 2 == n,
          r = (0, m.useMemo)(
            () =>
              P.LJ.GetLanguageListForRealms(a).map((e) => {
                const t = (0, Q.j_)(e);
                return { value: e, label: (0, P.Xx)("#Language_" + t) };
              }),
            [a],
          );
        return 1 == n
          ? m.createElement(
              m.Fragment,
              null,
              m.createElement(v.__, null, "LANGUAGE RESTRICTIONS"),
              m.createElement(
                "div",
                null,
                "Language restrictions are not supported for Steam China. There is only a single language that is Steam China Simplified Chinese",
              ),
            )
          : m.createElement(
              m.Fragment,
              null,
              m.createElement(v.__, null, "LANGUAGE RESTRICTIONS"),
              l
                ? m.createElement(
                    "div",
                    null,
                    "Only restriction available in Steam China Simplified Chinese(SCSC). When set will show to both SCSC clients and Simplified Chinese client in ROW",
                  )
                : m.createElement(
                    "div",
                    null,
                    "Show only to Steam Clients that are set to the specified language (use case: game just added a new language)",
                  ),
              Boolean(i.some((e) => 27 == e || 5 == e)) &&
                m.createElement(
                  "div",
                  { className: S.WarningStylesWithIcon },
                  "Note: LATAM and Spanish will fallback to each other.  Steam China Simplified Chinese will fallback to simplified chinese.",
                ),
              Boolean(i.some((e) => 29 == e)) &&
                m.createElement(
                  "div",
                  { className: S.WarningStylesWithIcon },
                  "Note: Steam China Simplified Chinese will fallback to simplified chinese.",
                ),
              m.createElement(
                "div",
                { style: { marginBottom: "12px" } },
                m.createElement($.ZP, {
                  isSearchable: !0,
                  isMulti: !0,
                  options: r,
                  value: r.filter((e) => i.some((t) => t == e.value)),
                  onChange: (e) => {
                    t.SetMustUseClientLanguage(
                      e.map((e) => (0, Q.j_)(e.value)).join(","),
                    );
                  },
                }),
              ),
            );
      }
      function ae(e) {
        const { oEditableMessage: t } = e;
        return t.BHasLegacyRestrictions()
          ? m.createElement(
              "div",
              { className: g().SectionCtn },
              m.createElement(v.__, null, "LEGACY RESTRICTIONS (READ ONLY)"),
              m.createElement("br", null),
              Boolean(t.GetMustOwnAppID()) &&
                m.createElement(v.II, {
                  type: "text",
                  label: "Must Own AppID",
                  disabled: !0,
                  value: t.GetMustOwnAppID(),
                }),
              Boolean(t.GetMustNotOwnAppID()) &&
                m.createElement(v.II, {
                  type: "text",
                  label: "Must Not Own AppID",
                  disabled: !0,
                  value: t.GetMustNotOwnAppID(),
                }),
              Boolean(t.GetMustOwnPackageID()) &&
                m.createElement(v.II, {
                  type: "text",
                  label: "Must Own PackageID",
                  disabled: !0,
                  value: t.GetMustOwnPackageID(),
                }),
              Boolean(t.GetMustNotOwnPackageID()) &&
                m.createElement(v.II, {
                  type: "text",
                  label: "Must Not Own PackageID",
                  disabled: !0,
                  value: t.GetMustNotOwnPackageID(),
                }),
              Boolean(t.GetMustHaveLaunchedAppID()) &&
                m.createElement(v.II, {
                  type: "text",
                  label: "Must have Launched AppID",
                  disabled: !0,
                  value: t.GetMustHaveLaunchedAppID(),
                }),
              m.createElement(
                "div",
                { className: J().RemoveLegacyBtn },
                m.createElement(
                  v.zx,
                  { onClick: () => t.ClearAllLegacyRestrictions() },
                  "Clear Legacy Restrictions",
                ),
              ),
            )
          : null;
      }
      var ie = n(5094),
        le = n(13913),
        re = n(53545),
        oe = n(38149),
        se = n.n(oe),
        ce = n(60688);
      function me(e) {
        const t = (0, i.fL)(),
          n = (0, m.useMemo)(
            () => a.X3.map((e) => ({ label: (0, P.Xx)(e), data: e })),
            [],
          );
        return m.createElement(
          "div",
          null,
          m.createElement(
            "div",
            { className: ce.EditCtn },
            m.createElement(
              "div",
              { className: g().PageTitle },
              "Marketing Message - Asset Management",
            ),
            m.createElement("hr", null),
            m.createElement(
              "div",
              { className: g().ColumnCtn },
              m.createElement(
                "div",
                { className: g().LeftCol },
                m.createElement(
                  "div",
                  { className: g().SectionCtn },
                  m.createElement(
                    v.__,
                    null,
                    "BUTTON TEXT ",
                    m.createElement(
                      "span",
                      { className: "DialogInputRequirementLabel" },
                      "Required",
                    ),
                  ),
                  m.createElement(v.ry, {
                    strDropDownClassName: (0, A.Z)(f().DropDownScroll),
                    rgOptions: n,
                    selectedOption: t.GetButtonToken(),
                    onChange: (e) => t.SetButtonToken(e.data),
                  }),
                  m.createElement(ue, { oEditableMessage: t }),
                  m.createElement("br", null),
                  m.createElement("br", null),
                  m.createElement(v.__, null, "PRICE DISPLAY"),
                  m.createElement(v.ji, {
                    checked: !t.BHidePriceOnMessage(),
                    onChange: (e) => t.SetHidePriceOnMessage(!e),
                    label: "Display current price on message",
                  }),
                  m.createElement(de, { oEditableMessage: t }),
                  m.createElement(pe, { oEditableMessage: t }),
                ),
                m.createElement(q.p, { oEditableMessage: t }),
              ),
            ),
          ),
        );
      }
      function de(e) {
        const { oEditableMessage: t } = e,
          n = [
            { label: "None selected", data: le.j6.k_StoreInvalidState },
            {
              label: "Pre-Purchase State",
              data: le.j6.k_StorePrePurchase,
              tooltip:
                "Requires a coming soon page AND it must be purchaseable",
            },
            { label: "Coming Soon", data: le.j6.k_StoreComingSoon },
            {
              label: "Early Access",
              data: le.j6.k_StoreEarlyAccess,
              tooltip: "Specifically release into early access",
            },
            {
              label: "General Availability",
              data: le.j6.k_StoreGeneralAvailability,
              tooltip: "Released somewhere that isn't early access",
            },
          ];
        return m.createElement(v.ry, {
          label: "Store Item Release Controls",
          tooltip:
            "When specified, requires the associated store item to be at a very specified state for the IM to be marked ready",
          rgOptions: n,
          onChange: (e) => t.SetAssociatedItemReleaseState(e.data),
          contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
          selectedOption: t.GetAssociatedItemReleaseState(),
        });
      }
      function ue(e) {
        const { oEditableMessage: t } = e,
          [n, a, i, l] = (0, c.SZ)(() => [
            t.BUseCustomLegalText(),
            t.GetCustomLegalText(),
            t.GetLegalTextPartnerName(),
            t.BExplicitNoLegalPartnerNeeded(),
          ]),
          r = n ? a : (0, re.Eg)(i);
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(v.__, null, "LEGAL TEXT"),
          m.createElement(
            "div",
            { className: se().legalSectionCtn },
            m.createElement(
              "div",
              { className: se().subSection },
              m.createElement(v.ji, {
                label: "Use custom legal text",
                checked: n,
                onChange: (e) => t.SetUseCustomLegalText(e),
              }),
              n
                ? m.createElement("textarea", {
                    value: a,
                    onChange: (e) =>
                      t.SetCustomLegalText(e.currentTarget.value),
                    style: { width: "620px", height: "80px" },
                  })
                : m.createElement(
                    m.Fragment,
                    null,
                    Boolean(!l) &&
                      m.createElement(v.II, {
                        type: "text",
                        label: "PARTNER NAME TO INSERT INTO LEGAL LINE",
                        value: i,
                        onChange: (e) =>
                          t.SetLegalTextPartnerName(e.target.value),
                        placeholder:
                          "Enter company name; preview will update below",
                      }),
                    m.createElement(v.ji, {
                      checked: l,
                      onChange: (e) => t.SetExplicitNoLegalPartnerNeeded(e),
                      label: "Explicit: Do not need to enter a partners name",
                      tooltip:
                        "Messages for our own events do not need to enter an additional partners name",
                    }),
                  ),
              m.createElement("br", null),
              m.createElement(v.__, null, "LEGAL TEXT PREVEIW"),
            ),
            m.createElement(
              "div",
              { className: se().previewSection },
              m.createElement("div", {
                className: se().LegalPreview,
                dangerouslySetInnerHTML: { __html: r },
              }),
            ),
          ),
        );
      }
      function pe(e) {
        const { oEditableMessage: t } = e,
          [n] = (0, c.SZ)(() => [t.GetCustomTemplate()]),
          a = (0, re.wM)(n || ""),
          [i, l] = (0, m.useState)(() => !!a);
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(v.__, null, "REPLAY EVENT"),
          m.createElement(v.ji, {
            label: "Is Replay Event",
            checked: i,
            onChange: () => l(!i),
          }),
          i &&
            m.createElement(v.II, {
              mustBeNumeric: !0,
              rangeMin: 2022,
              maxChars: 4,
              onChange: (e) => {
                const n = Number(e.target.value);
                isNaN(n) || t.SetCustomTemplate(`replay${n}`);
              },
              label: "Year for replay event",
              value: a,
            }),
        );
      }
      var _e = n(72722),
        he = n(33278),
        ge = n(22364),
        ve = n(43746);
      function Ee(e) {
        const { gid: t, children: n } = e,
          a = (0, l.Q2)(t),
          [r, o] = m.useState(!1);
        return (
          m.useLayoutEffect(() => {
            var e;
            a &&
              (((null === (e = (0, i.ld)()) || void 0 === e
                ? void 0
                : e.GetGID()) == a.gid &&
                r) ||
                ((0, i.vt)(a, !0), o(!0)));
          }, [a, r, t]),
          a
            ? r
              ? m.createElement(m.Fragment, null, n)
              : m.createElement(C.V, {
                  size: "medium",
                  position: "center",
                  string: (0, P.Xx)("#Loading"),
                })
            : m.createElement(
                "div",
                null,
                m.createElement(
                  "div",
                  null,
                  "Marketing Message does not exist.",
                ),
                m.createElement(
                  d.rU,
                  { to: "/marketingmessages/dashboard/" },
                  "Return to Marketing Message Dashboard.",
                ),
              )
        );
      }
      function Se(e) {
        return m.createElement(Ee, { gid: e.gid }, m.createElement(De, null));
      }
      function De(e) {
        const t = (0, i.fL)(),
          n = (0, c.SZ)(() => t.GetPlanAssetRequestGID());
        return m.createElement(
          "div",
          { className: g().AdminPageCtn },
          m.createElement(
            he.aX,
            { planid: n, bCanBeMissing: !0 },
            m.createElement(K, null),
            m.createElement(
              "div",
              { className: (0, A.Z)(f().FlexRowWrapSpaceBetweenContainer) },
              m.createElement(
                d.rU,
                {
                  to: "/marketingmessages/dashboard/",
                  className: g().DashLink,
                },
                m.createElement(b.Ehc, { angle: 270 }),
                m.createElement(
                  "div",
                  null,
                  "Return to Marketing Message Dashboard",
                ),
              ),
              m.createElement(
                d.rU,
                { to: "/planning/dashboard/", className: g().DashLink },
                m.createElement(
                  "div",
                  null,
                  "Go to Promotion Planning Dashboard",
                ),
                m.createElement(b.Ehc, { angle: 90 }),
              ),
            ),
            m.createElement(fe, null),
          ),
        );
      }
      function fe(e) {
        const t = (0, r.Dv)(),
          n = (0, c.SZ)(() => t && t.BIsDirty()),
          a = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          i = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: m.createElement(E.SV, null, m.createElement(ye, null)),
              onClick: a,
            },
            {
              name: "Assets Tab",
              key: "assets",
              contents: m.createElement(E.SV, null, m.createElement(R.H, null)),
              onClick: a,
            },
            {
              name: (n ? "* " : "") + "Asset Request",
              key: "request",
              tooltip: n ? "Please Save Asset Request" : null,
              contents: m.createElement(
                E.SV,
                null,
                m.createElement(T.Sn, null),
              ),
              onClick: a,
            },
            {
              name: "Options Tab",
              key: "option",
              contents: m.createElement(E.SV, null, m.createElement(me, null)),
              onClick: a,
            },
            {
              name: "Preview Tab",
              key: "preview",
              contents: m.createElement(
                E.SV,
                null,
                m.createElement(_e.u, null),
              ),
              onClick: a,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: m.createElement(E.SV, null, m.createElement(j, null)),
              onClick: a,
            },
          ];
        return m.createElement(
          m.Fragment,
          null,
          m.createElement(I.n, { tabs: i }),
          m.createElement("div", { className: f().ClearThings }),
        );
      }
      function ye(e) {
        const t = (0, i.fL)();
        return m.createElement(
          "div",
          null,
          m.createElement(
            "div",
            { className: ce.EditCtn },
            m.createElement(
              "div",
              { className: g().PageTitle },
              "Marketing Message - Edit Details",
            ),
            m.createElement("hr", null),
            m.createElement(
              "div",
              { className: g().ColumnCtn },
              m.createElement(
                "div",
                { className: g().LeftCol },
                m.createElement(be, { oEditableMessage: t }),
                m.createElement(Ce, { oEditableMessage: t }),
                m.createElement(L.A, { oEditableMessage: t }),
                m.createElement(ee, { oEditableMessage: t }),
                m.createElement(ae, { oEditableMessage: t }),
                m.createElement(Ae, { oEditableMessage: t }),
                m.createElement(we, { oEditableMessage: t }),
                m.createElement(q.p, { oEditableMessage: t }),
              ),
              m.createElement(ie.F, { oEditableMessage: t }),
            ),
          ),
        );
      }
      function be(e) {
        const { oEditableMessage: t } = e,
          n = (0, c.SZ)(() => t.GetStoreItemID()),
          a = (0, m.useCallback)(
            (e) => {
              if ((t.SetType(e), n)) {
                const a = u.Z.Get().GetStoreItem((0, p.u$)(n), (0, p.D3)(n));
                (function (e) {
                  return 10 === e;
                })(e) &&
                  (0, y.AM)(
                    m.createElement(B, { oEditableMessage: t, storeItem: a }),
                    window,
                  );
              }
            },
            [t, n],
          );
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(v.II, {
            type: "text",
            label: "Internal Name",
            className: ce.PromoName,
            requiredLabel: (0, P.Xx)("#Steamworks_Generic_Required"),
            value: t.GetName(),
            onChange: (e) => {
              var n;
              return t.SetName(
                (null === (n = null == e ? void 0 : e.currentTarget) ||
                void 0 === n
                  ? void 0
                  : n.value) || "",
              );
            },
          }),
          m.createElement(
            "div",
            { className: (0, A.Z)(f().FlexRowContainer, ce.EventDetailsCtn) },
            m.createElement(
              "div",
              { className: ce.TypeCtn },
              m.createElement(v.__, null, "Type:"),
              m.createElement(V.vN, { type: t.GetType(), setType: a }),
              m.createElement(V.AF, {
                type: t.GetType(),
                rtStartTime: t.GetStartRTime(),
                setStartTime: t.SetMessageStartTime,
                rtEndTime: t.GetEndRTime(),
                setEndTime: t.SetMessageEndTime,
              }),
            ),
            m.createElement(
              "div",
              { className: ce.AdminNotesCtn },
              m.createElement(v.__, null, "Admin Notes:"),
              m.createElement("textarea", {
                className: "DialogTextInputBase",
                value: t.GetAdminNotes() || "",
                onChange: (e) => {
                  var n;
                  return t.SetAdminNote(
                    (null === (n = null == e ? void 0 : e.currentTarget) ||
                    void 0 === n
                      ? void 0
                      : n.value) || "",
                  );
                },
              }),
            ),
          ),
        );
      }
      const Ie = {
        include_assets: !0,
        include_basic_info: !0,
        include_release: !0,
      };
      function Ce(e) {
        const { oEditableMessage: t } = e,
          [n, a] = (0, c.SZ)(() => [
            t.GetStoreItemKey(),
            t.BExplicitNoAssociationItem(),
          ]),
          [i, l] = (0, m.useState)(t.BHasAssociatedSaleEvent()),
          [r] = (0, _.jk)(
            null == n ? void 0 : n.id,
            (0, p.GV)(null == n ? void 0 : n.item_type),
            Ie,
          );
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(
            "div",
            { className: ce.FeatureSelectCtn },
            m.createElement(
              "div",
              { className: ce.FeatureSelectBtn },
              m.createElement(
                v.zx,
                {
                  onClick: (e) => {
                    (0, y.AM)(
                      m.createElement(U, { oEditableMessage: t }),
                      (0, w.RA)(e),
                    );
                  },
                },
                "Change Selected Product",
              ),
              Boolean(n)
                ? m.createElement(
                    k.HP,
                    {
                      className: s().ProgressIconError,
                      onClick: () => {
                        t.ClearAssociation();
                      },
                      toolTipContent: "Clear the Featuring Target",
                    },
                    m.createElement(b.X, null),
                  )
                : m.createElement(v.ji, {
                    label: "No Item Needed?",
                    checked: a,
                    onChange: (e) => t.SetExplicitNoAssociatedItem(e),
                    tooltip:
                      "When true, it means the marketing message is global and unrelated to a specific item.  For example, Client Update or Seasonal sale.",
                  }),
            ),
            m.createElement(v.__, null, "Target App / Package / Bundles:"),
            m.createElement(
              "div",
              null,
              "Actions click through to this store page and show prices from this:",
            ),
            Boolean(!r)
              ? m.createElement(
                  "div",
                  { className: ce.TargetGamePlaceholder },
                  n ? `${n.id}/${n.item_type}` : "Nothing associated yet",
                )
              : m.createElement(N.Ce, {
                  id: n.id,
                  itemType: r.GetStoreItemType(),
                }),
            m.createElement(ke, { oEditableMessage: t }),
            Boolean(14 == (null == r ? void 0 : r.GetAppType())) &&
              m.createElement(
                m.Fragment,
                null,
                i
                  ? m.createElement(ge.E, { oEditablePlan: t })
                  : m.createElement(v.ji, {
                      checked: !1,
                      label:
                        "Associated Store Item is an advertising app. Do we intend to point to a sales page?",
                      onChange: l,
                    }),
              ),
          ),
        );
      }
      function ke(e) {
        const { oEditableMessage: t } = e,
          [n, i] = (0, c.SZ)(() => [t.GetRealm(), t.GetLinkURL()]),
          l = (0, a.IN)(n, i);
        return m.createElement(
          "div",
          null,
          m.createElement(v.II, {
            type: "url",
            label: "Link URL",
            mustBeURL: !0,
            fnStrValidateURL: ve.f,
            value: i,
            requiredLabel: (0, P.Xx)("#Steamworks_Generic_Required"),
            onChange: (e) => t.SetLinkURL(e.target.value),
          }),
          Boolean(!l && 1 == n) &&
            m.createElement(
              "div",
              { className: S.WarningStylesWithIcon },
              "Since we are displaying in Steam China only, the URL must start with the following: https://store.steamchina.com/",
            ),
          Boolean(!l && 2 == n) &&
            m.createElement(
              "div",
              { className: S.WarningStylesWithIcon },
              "Since we are displaying in both ROW and Steam China only, the URL must start with the global store: https://store.steampowered.com/. Note: We will automatically remap the store appropriately when dispaly in Steam China.",
            ),
        );
      }
      function Ae(e) {
        const { oEditableMessage: t } = e;
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(v.__, null, "PLATFORMS"),
          m.createElement(v.ji, {
            label: "Windows",
            checked: t.BHasPlatformWindows(),
            onChange: t.SetPlatformWindows,
          }),
          m.createElement(v.ji, {
            label: "Mac",
            checked: t.BHasPlatformMac(),
            onChange: t.SetPlatformMac,
          }),
          m.createElement(v.ji, {
            label: "Linux",
            checked: t.BHasPlatformLinux(),
            onChange: t.SetPlatformLinux,
          }),
        );
      }
      function we(e) {
        const { oEditableMessage: t } = e;
        return m.createElement(
          "div",
          { className: g().SectionCtn },
          m.createElement(v.II, {
            type: "text",
            label: "MINIMUM CLIENT PACKAGE VERSION",
            mustBeNumeric: !0,
            placeholder: "min",
            value: t.GetMustHaveClientPackageGTE() || "",
            onChange: (e) => t.SetMustHaveClientPackageGTE(e.target.value),
          }),
          m.createElement(v.II, {
            type: "text",
            label: "MAXIMUM CLIENT PACKAGE VERSION",
            mustBeNumeric: !0,
            placeholder: "man",
            value: t.GetMustHaveClientPackageLTE() || "",
            onChange: (e) => t.SetMustHaveClientPackageLTE(e.target.value),
          }),
        );
      }
    },
    5094: (e, t, n) => {
      "use strict";
      n.d(t, { F: () => T, x: () => O });
      var a = n(13913),
        i = n(71945),
        l = n(30750),
        r = n(47427),
        o = n(77681),
        s = n.n(o),
        c = n(1485),
        m = n(10162),
        d = n(71741),
        u = n.n(d),
        p = n(77671),
        _ = n(77178),
        h = n(90069),
        g = n(62613),
        v = n(59728),
        E = n(13129),
        S = n(50423),
        D = n(12251),
        f = n(37563),
        y = n(58606),
        b = n(65612),
        I = n(84106),
        C = n.n(I),
        k = n(72722),
        A = n(23871),
        w = n(82283),
        P = n(46475);
      function T(e) {
        const { oEditableMessage: t } = e,
          n = (0, l.SZ)(() => t.BIsAccountInWatchList(f.L7.accountid));
        return r.createElement(
          "div",
          { className: s().RightCol },
          r.createElement(R, { oEditableMessage: t }),
          r.createElement(F, { oEditableMessage: t }),
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(N, { oEditableMessage: t }),
          ),
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(c.__, null, "Valve Actors"),
            r.createElement("div", null, "Creator: ", t.GetCreatorName()),
            r.createElement(
              c.zx,
              {
                onClick: () => {
                  n
                    ? t.RemoveFromWatchList(f.L7.accountid)
                    : t.AddToWatchList(f.L7.accountid);
                },
              },
              n ? "Remove From Watch List" : "Add to Watch List",
            ),
          ),
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(c.__, null, "General Links"),
            r.createElement(
              "a",
              {
                href: "https://confluence.valve.org/display/STEAM/IM+Channel+Guidelines",
              },
              "Admin Guidelines",
            ),
            " | ",
            r.createElement(
              "a",
              { href: f.De.PARTNER_BASE_URL + "doc/store/assets/promos" },
              "Partner-Facing Docs",
            ),
          ),
        );
      }
      function N(e) {
        const t = new URLSearchParams(),
          { oEditableMessage: n } = e;
        return (
          t.set("name", n.GetModel().title),
          t.set("marketingmessageid", n.GetGID()),
          t.set("start", "" + n.GetStartRTime()),
          r.createElement(
            "a",
            {
              href:
                f.De.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                t.toString(),
            },
            r.createElement("span", {
              className: "iconLink icon_download icon_inline",
            }),
            "Download Calendar Reminder Event",
          )
        );
      }
      function R(e) {
        const { oEditableMessage: t } = e;
        switch ((0, l.SZ)(() => t.GetVisibilty())) {
          case 2:
            return r.createElement(L, { oEditableMessage: t });
          case 3:
            return r.createElement(B, { oEditableMessage: t });
          default:
            return r.createElement(x, { oEditableMessage: t });
        }
      }
      const G = 2147483647;
      function L(e) {
        const { oEditableMessage: t } = e;
        return r.createElement(
          "div",
          { className: s().SectionCtn },
          r.createElement(c.__, null, "STATUS:"),
          r.createElement("h2", null, "PUBLIC!"),
          r.createElement(
            "div",
            { className: s().HalfWidthBtnCtn },
            r.createElement(
              c.zx,
              {
                onClick: (e) => {
                  t.SetVisibility(1),
                    (0, h.AM)(
                      r.createElement(b.Q, { oEditableMessage: t }),
                      (0, S.RA)(e),
                    );
                },
              },
              "Set Private",
            ),
          ),
          r.createElement(
            "div",
            null,
            "Will be visible ",
            (0, D.o2)(t.GetStartRTime(), t.GetEndRTime() || G),
          ),
          r.createElement(U, { oEditableMessage: t }),
        );
      }
      function B(e) {
        const { oEditableMessage: t } = e,
          n =
            f.De.PARTNER_BASE_URL +
            "promotion/marketingmessages/partnerpreview/" +
            t.GetGID();
        return r.createElement(
          "div",
          { className: s().SectionCtn },
          r.createElement(c.__, null, "STATUS:"),
          r.createElement(
            "h2",
            { className: C().ApprovedForPublishStatus },
            "Approved For Partner Publishing",
          ),
          r.createElement(
            "div",
            { className: C().PartnerPreviewLink },
            "Partner Preview Link: ",
            r.createElement("a", { href: n }, n),
          ),
          r.createElement(
            "div",
            { className: s().HalfWidthBtnCtn },
            r.createElement(
              c.zx,
              {
                onClick: (e) => {
                  t.SetVisibility(1),
                    (0, h.AM)(
                      r.createElement(b.Q, { oEditableMessage: t }),
                      (0, S.RA)(e),
                    );
                },
              },
              "Set Private",
            ),
            r.createElement(
              c.zx,
              {
                className: "Primary",
                onClick: (e) => {
                  t.SetVisibility(2),
                    (0, h.AM)(
                      r.createElement(b.Q, { oEditableMessage: t }),
                      (0, S.RA)(e),
                    );
                },
              },
              "Set Public",
            ),
          ),
          r.createElement(
            "div",
            null,
            "Visbility range set to ",
            (0, D.o2)(t.GetStartRTime(), t.GetEndRTime() || G),
          ),
          r.createElement(
            "div",
            null,
            "Partner publishing is available until ",
            (0, D.$1)(t.GetEndRTime() || G),
          ),
          r.createElement(U, { oEditableMessage: t }),
        );
      }
      function x(e) {
        const { oEditableMessage: t } = e,
          {
            bDateSet: n,
            bItemAssociated: i,
            bFiltersSetup: l,
            bValidLink: o,
            bButtonTokenEntered: m,
            bExplicitNoItemAssociation: d,
            bLegalLineHandled: u,
            bAdvertisingAppWithoutURL: p,
            eStoreItemMarketingMessageState: _,
          } = (0, a.Pl)(t.GetGID()),
          g = (0, a.ws)(t.GetGID());
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(c.__, null, "STATUS:"),
            r.createElement(
              "div",
              null,
              g
                ? r.createElement("h2", null, "Checklist Complete!")
                : r.createElement("h2", null, "Checklist Incomplete / Private"),
            ),
            Boolean(g) &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(
                  "div",
                  { className: s().HalfWidthBtnCtn },
                  r.createElement(
                    c.zx,
                    {
                      onClick: (e) => {
                        t.SetVisibility(2),
                          (0, h.AM)(
                            r.createElement(b.Q, { oEditableMessage: t }),
                            (0, S.RA)(e),
                          );
                      },
                      className: "Primary",
                    },
                    "Set Public",
                  ),
                  r.createElement(
                    c.zx,
                    {
                      onClick: (e) => {
                        t.SetVisibility(3),
                          (0, h.AM)(
                            r.createElement(b.Q, { oEditableMessage: t }),
                            (0, S.RA)(e),
                          );
                      },
                      className: C().SecondaryButton,
                    },
                    "Approve For Partner Publishing",
                  ),
                ),
                r.createElement(
                  "div",
                  null,
                  "Once public, will be visible ",
                  (0, D.o2)(t.GetStartRTime(), t.GetEndRTime() || G),
                ),
                r.createElement(
                  "div",
                  null,
                  "Partner publishing would be available until ",
                  (0, D.$1)(t.GetEndRTime() || G),
                ),
              ),
          ),
          r.createElement(
            "div",
            { className: s().SectionCtn },
            r.createElement(c.__, null, "PROGRESS"),
            r.createElement(O, { bDone: n, name: "Date Set" }),
            r.createElement(O, {
              bDone: i,
              name: d ? "No Item Associated Needed" : "Item Associated",
              tooltip: d
                ? "Explicitly disabled the need for an associated store item; useful for seasonal sale IMs"
                : void 0,
            }),
            r.createElement(O, { bDone: o, name: "Valid Link Entered" }),
            r.createElement(O, { bDone: l, name: "Visibility Conditions Set" }),
            r.createElement(O, {
              bDone: m,
              name: "Button Text Selected (on assets tab)",
            }),
            r.createElement(O, {
              bDone: u,
              name: "Legal Partner Name (on options tab)",
            }),
            p &&
              r.createElement(O, {
                bDone: !1,
                name: "Associated Adverting App without URL",
              }),
            Boolean(!d) &&
              r.createElement(
                r.Fragment,
                null,
                Boolean(
                  _ == a.j6.k_StoreInvalidState || _ == a.j6.k_StoreUnavailable,
                ) &&
                  r.createElement(O, {
                    bDone: !1,
                    name: "Associated Item is not store visible",
                  }),
              ),
            r.createElement(M, {
              oEditableMessage: t,
              eStoreItemMarketingMessageState: _,
            }),
            r.createElement(y.x, { oEditableMessage: t }),
          ),
        );
      }
      function M(e) {
        const { oEditableMessage: t, eStoreItemMarketingMessageState: n } = e;
        if (!t.BHasAssociatedItemReleaseState()) return null;
        const i = t.GetAssociatedItemReleaseState();
        let l = "Associated Item Requires Pre-purchase state";
        return (
          i == a.j6.k_StoreComingSoon
            ? (l = "Associated Item Required a coming soon page")
            : i == a.j6.k_StoreEarlyAccess
              ? (l = "Associated Item Required Early Access")
              : i == a.j6.k_StoreGeneralAvailability &&
                (l = "Associated Item Required General Availability"),
          r.createElement(O, { bDone: i === n, name: l })
        );
      }
      function O(e) {
        const { bDone: t, name: n, tooltip: a } = e;
        return r.createElement(
          "div",
          { className: s().StatusLineItemCtn },
          r.createElement(
            "span",
            {
              className: (0, E.Z)(s().StatusIcon, t ? s().StatusIconDone : ""),
            },
            t ? r.createElement(g.JrY, null) : r.createElement(g.X, null),
          ),
          r.createElement(v.HP, { toolTipContent: a }, n),
        );
      }
      function F(e) {
        const { oEditableMessage: t } = e,
          n = (0, w.E)(),
          [a, i, o, m] = (0, l.SZ)(() => [
            t.GetGID(),
            t.GetRealm(),
            t.GetAssetsObject("ll_image"),
            t.GetAssetsModifyTime() || 0,
          ]),
          d = 0 != i,
          u = 1 != i;
        return r.createElement(
          "div",
          { className: s().SectionCtn },
          r.createElement(c.__, null, "Preview:"),
          Boolean(u) &&
            r.createElement(k.l, {
              cc: "US",
              l: "english",
              msg: "Open Marketing Message",
            }),
          Boolean(d) &&
            r.createElement(k.l, {
              cc: "CN",
              l: "english",
              msg: "Open Marketing Message in Steam China",
            }),
          Boolean(u && o && o.english) &&
            r.createElement(
              "div",
              { className: C().MessageImagePreview },
              r.createElement(
                "div",
                { className: C().ScopeNameGlobal },
                "Steam Global Art:",
              ),
              r.createElement("img", { src: (0, p.i)(a, 0, m, o.english) }),
            ),
          Boolean(d && o && o.sc_schinese) &&
            r.createElement(
              "div",
              { className: C().MessageImagePreview },
              r.createElement(
                "div",
                { className: C().ScopeNameChina },
                "Steam China Art:",
              ),
              r.createElement("img", {
                src: (0, p.i)(a, 29, m, o.sc_schinese),
              }),
            ),
          Boolean(n) &&
            r.createElement(
              "div",
              null,
              "* DLC Override Possible. See preview tab for more info",
            ),
        );
      }
      function U(e) {
        const { oEditableMessage: t } = e,
          n = (0, l.SZ)(() => t.GetGID());
        return (0, i.bg)(n) <= 0
          ? null
          : r.createElement(
              m.SV,
              null,
              r.createElement("br", null),
              r.createElement(
                c.__,
                null,
                "Seen by users:",
                r.createElement(
                  v.HP,
                  {
                    toolTipContent:
                      "Stats computed hourly. Only includes stats after June 1, 2023",
                  },
                  r.createElement("span", { className: u().tooltip_Ctn }, "?"),
                ),
              ),
              r.createElement(A.j$, { gid: n }),
              r.createElement(
                c.__,
                null,
                "Carousel index seen at by users:",
                r.createElement(
                  v.HP,
                  {
                    toolTipContent:
                      "Shows where in the carousel the user saw this message.",
                  },
                  r.createElement("span", { className: u().tooltip_Ctn }, "?"),
                ),
              ),
              r.createElement(A.g1, { gid: n }),
              r.createElement(H, { oEditableMessage: t }),
              r.createElement(
                c.zx,
                {
                  onClick: (e) => {
                    (0, h.AM)(
                      r.createElement(
                        _.RG,
                        { bAllowFullSize: !0 },
                        r.createElement(
                          "div",
                          {
                            style: {
                              width: "90vw",
                              maxWidth: "90%",
                              margin: "0 auto",
                            },
                          },
                          r.createElement(A.j$, { gid: n }),
                        ),
                      ),
                      (0, S.RA)(e),
                    );
                  },
                },
                "Expand",
              ),
            );
      }
      function H(e) {
        const t = (0, w.E)(),
          { oEditableMessage: n } = e;
        return t ? r.createElement(V, { oEditableMessage: n }) : null;
      }
      function V(e) {
        const { oEditableMessage: t } = e,
          n = (0, P.AL)(t.GetStoreItemKey().id, 4),
          a = (0, l.SZ)(() => t.GetGID());
        return Boolean((null == n ? void 0 : n.length) > 0)
          ? r.createElement(
              "div",
              null,
              r.createElement(
                c.__,
                null,
                "DLC Template Seen by users:",
                r.createElement(
                  v.HP,
                  {
                    toolTipContent:
                      "The above includes all templates, this only includes the DLC template shown",
                  },
                  r.createElement("span", { className: u().tooltip_Ctn }, "?"),
                ),
              ),
              r.createElement(A.j$, { gid: a, templateType: 4 }),
            )
          : null;
      }
    },
    77912: (e, t, n) => {
      "use strict";
      n.d(t, { A: () => b, a: () => T });
      var a = n(256),
        i = n(47427),
        l = n(80886),
        r = n(77681),
        o = n.n(r),
        s = n(71741),
        c = n.n(s),
        m = n(87935),
        d = n.n(m),
        u = n(1485),
        p = n(77178),
        _ = n(90069),
        h = n(62210),
        g = n(13129),
        v = n(50423),
        E = n(47986),
        S = n(62613),
        D = n(59728),
        f = n(30750),
        y = n(72297);
      function b(e) {
        const { oEditableMessage: t } = e,
          n = t.GetUserMessageFilters();
        (0, h.X)("and" == n.clause, "Unexpected usefilter structure");
        const a = (0, f.SZ)(() => t.BIsNoFilterRequired());
        return i.createElement(
          "div",
          { className: o().SectionCtn },
          i.createElement(
            u.__,
            null,
            "CONDITIONS FOR DISPLAY ",
            i.createElement(
              "span",
              { className: "DialogInputRequirementLabel" },
              "Required",
            ),
          ),
          Boolean(!a) &&
            i.createElement(I, { andFilter: n, oEditableMessage: t }),
          i.createElement("br", null),
          i.createElement(u.ji, {
            label: "Show to all users; no filters to be applied.",
            tooltip:
              "Checking this to on will show to all users in the Steam Realm. This will also clear any dynamic filters associated with the marketing messages including legacy filter settings.",
            checked: a,
            onChange: (e) => {
              t.SetNoFiltersRequired(e),
                e && (t.ClearUserFilters(), t.ClearAllLegacyRestrictions());
            },
          }),
        );
      }
      function I(e) {
        const { andFilter: t, oEditableMessage: n } = e;
        return (
          (0, h.X)("and" == t.clause, "Expected And Filter"),
          i.createElement(
            i.Fragment,
            null,
            t.children.map((e, t) =>
              i.createElement(
                i.Fragment,
                { key: e.temp_id },
                i.createElement(k, {
                  orFilter: e,
                  andIndex: t,
                  oEditableMessage: n,
                }),
              ),
            ),
            i.createElement(
              "div",
              { className: d().AddConditionBtnCtn },
              i.createElement(
                u.zx,
                { onClick: () => n.AddNewAndUserFilter() },
                "+ ",
                i.createElement(
                  "strong",
                  null,
                  i.createElement("i", null, "And"),
                ),
                " Condition",
              ),
            ),
          )
        );
      }
      function C(e) {
        const { strTitle: t, onOK: n, strTooltip: a } = e;
        return i.createElement(
          D.HP,
          { toolTipContent: i.createElement(D.vd, null, a || t) },
          i.createElement(S.X, {
            onClick: (e) =>
              (0, _.AM)(
                i.createElement(p.uH, {
                  strTitle: t,
                  strDescription: "Are you sure?",
                  onOK: n,
                }),
                (0, v.RA)(e),
              ),
          }),
        );
      }
      function k(e) {
        const { orFilter: t, oEditableMessage: n, andIndex: a } = e;
        return (
          (0, h.X)("or" == t.clause, "Expected OR Filter"),
          i.createElement(
            i.Fragment,
            null,
            i.createElement(
              "div",
              { className: d().ConditionContainer },
              t.children.map((e, l) =>
                i.createElement(
                  i.Fragment,
                  { key: e.temp_id },
                  a > 0
                    ? i.createElement(
                        "div",
                        { className: d().ConditionTitle },
                        i.createElement(
                          "div",
                          null,
                          i.createElement(
                            "div",
                            { className: d().ConditionTitleAnd },
                            "And ",
                          ),
                          "must also meet one of these criteria",
                          Boolean(!n.BHasSomeIDForAndUserFilter(a)) &&
                            i.createElement(
                              "div",
                              { className: y.WarningStylesWithIcon },
                              "Warning: List empty. No user will be able to see this message.",
                            ),
                        ),
                        i.createElement(
                          "div",
                          { className: d().RemoveConditionBtn },
                          i.createElement(C, {
                            strTitle: "Remove Must Clause",
                            onOK: () => n.RemoveAndUserFilter(a),
                          }),
                        ),
                      )
                    : 0 == l
                      ? i.createElement(
                          "div",
                          { className: (0, g.Z)(d().ConditionTitle) },
                          i.createElement(
                            "div",
                            null,
                            i.createElement(
                              "div",
                              { className: d().ConditionTitleAnd },
                              "Must ",
                            ),
                            "meet one of these criteria",
                            Boolean(!n.BHasSomeIDForAndUserFilter(a)) &&
                              i.createElement(
                                "div",
                                { className: y.WarningStylesWithIcon },
                                "Warning: List empty. No user will be able to see this message.",
                              ),
                          ),
                          i.createElement(
                            "div",
                            { className: d().RemoveConditionBtn },
                            i.createElement(C, {
                              strTitle: "Remove Must Clause",
                              onOK: () => n.RemoveAndUserFilter(a),
                            }),
                          ),
                        )
                      : i.createElement(
                          "div",
                          {
                            className: (0, g.Z)(
                              d().ConditionTitle,
                              d().ConditionTitleOr,
                            ),
                          },
                          "OR...",
                        ),
                  i.createElement(
                    "div",
                    { className: d().CaseContainer },
                    i.createElement(A, {
                      clause: t.clause,
                      filter: e,
                      fnUpdateFilter: (e) => n.UpdateUserFilter(e, a, l),
                      onRemoveOrClause: () => n.RemoveOrUserFilterAt(a, l),
                    }),
                  ),
                ),
              ),
              i.createElement(
                "div",
                { className: d().AddCaseBtnCtn },
                i.createElement(
                  u.zx,
                  { onClick: () => n.AddNewOrUserFilter(a) },
                  "+ ",
                  i.createElement(
                    "strong",
                    null,
                    i.createElement("i", null, "OR"),
                  ),
                  " Condition",
                ),
              ),
            ),
          )
        );
      }
      function A(e) {
        const {
            filter: t,
            fnUpdateFilter: n,
            clause: l,
            onRemoveOrClause: r,
          } = e,
          o = (0, i.useMemo)(
            () =>
              a.Hq.map((e) => ({
                label: (0, a.Rt)(e),
                data: e,
                tooltip: (0, a.$p)(e),
              })),
            [],
          );
        return i.createElement(
          "div",
          null,
          i.createElement(
            "div",
            { className: d().CaseTypeSelectCtn },
            i.createElement(
              "div",
              { className: d().CaseTypeSelect },
              i.createElement(u.ry, {
                strDropDownClassName: (0, g.Z)(c().DropDownScroll),
                rgOptions: o,
                selectedOption: t.filter_type,
                onChange: (e) => {
                  const i = { filter_type: e.data, id_list: [...t.id_list] };
                  (0, a.KZ)(i.filter_type) !== (0, a.KZ)(t.filter_type) &&
                    (i.id_list = []),
                    n(i);
                },
              }),
            ),
            i.createElement(
              "div",
              { className: d().RemoveCaseBtn },
              i.createElement(C, {
                strTitle: "Remove Or Filter Clause",
                onOK: r,
              }),
            ),
          ),
          i.createElement(
            "div",
            { className: d().ConditionDescription },
            "Add one or more product for this condition.",
          ),
          i.createElement(
            "div",
            { className: d().SelectedProductList },
            t.id_list.map((e) =>
              i.createElement(w, {
                key: "item" + t.temp_id + "_" + e,
                filter_type: t.filter_type,
                id: e,
                fnRemoveItem: () => {
                  const a = t.id_list.findIndex((t) => t == e);
                  (0, h.X)(a >= 0, `Did not find ${e} in list`),
                    t.id_list.splice(a, 1);
                  const i = {
                    filter_type: t.filter_type,
                    id_list: [...t.id_list],
                  };
                  n(i);
                },
              }),
            ),
            i.createElement(
              "div",
              { className: d().AddProductBtnCtn },
              i.createElement(
                u.zx,
                {
                  onClick: (e) =>
                    (0, _.AM)(
                      i.createElement(P, {
                        filter: t,
                        onSelected: (e) => {
                          const a = {
                            filter_type: t.filter_type,
                            id_list: [...t.id_list, e],
                          };
                          n(a);
                        },
                      }),
                      (0, v.RA)(e),
                    ),
                },
                "+",
                (0, a.KZ)(t.filter_type) ? " PACKAGE" : " APP",
              ),
            ),
          ),
        );
      }
      function w(e) {
        const { filter_type: t, id: n, fnRemoveItem: r } = e,
          o = (0, a.KZ)(t) ? 1 : 0,
          [s] = (0, l.jk)(n, o, {});
        let c;
        return (
          (c = s
            ? `${s.GetName()} (${n})`
            : i.createElement(
                i.Fragment,
                null,
                i.createElement(
                  "i",
                  null,
                  "Hidden " + (0 == o ? "App" : "Package"),
                ),
                "",
                `(${n})`,
              )),
          i.createElement(
            "div",
            { className: d().SelectedProductCtn },
            i.createElement(
              "div",
              { className: d().SelectedProduct },
              c,
              i.createElement(
                "div",
                { className: d().RemoveSelectedProductBtn },
                i.createElement(C, {
                  strTitle: i.createElement(
                    i.Fragment,
                    null,
                    "Remove ",
                    c,
                    "?",
                  ),
                  onOK: r,
                }),
              ),
            ),
            i.createElement("span", null, "Or"),
          )
        );
      }
      function P(e) {
        const { closeModal: t, filter: n, onSelected: r } = e,
          [o, s] = (0, i.useState)(null),
          c = (0, a.KZ)(n.filter_type),
          m = c ? 1 : 0,
          [u] = (0, l.jk)(o, m, {});
        return i.createElement(
          p.uH,
          {
            strTitle: c ? "Add Package" : "Add App",
            closeModal: t,
            onOK: () => r(o),
            bOKDisabled: null === o,
          },
          i.createElement(
            "div",
            { className: d().AppSelectCtn },
            i.createElement(E.u, {
              fnSetItemID: s,
              itemType: m,
              fnFilterID: (e) => !n.id_list || !n.id_list.includes(e),
            }),
            Boolean(u) &&
              i.createElement(
                "div",
                { className: d().ItemToAdd },
                "Add Item? ",
                i.createElement("b", null, u.GetName(), " (", o, ")"),
              ),
          ),
        );
      }
      function T(e, t) {
        let n = null;
        if (4 == e.GetAppType() || 11 == e.GetAppType())
          (n = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [{ filter_type: 1, id_list: [e.GetParentAppID()] }],
              },
              {
                clause: "or",
                children: [{ filter_type: 2, id_list: [e.GetID()] }],
              },
            ],
          }),
            10 === t &&
              (n.children[0].children.push({
                filter_type: 6,
                id_list: [e.GetID()],
              }),
              n.children[0].children.push({
                filter_type: 5,
                id_list: [e.GetID()],
              }));
        else if (0 == e.GetStoreItemType() && 10 === t)
          n = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [
                  { filter_type: 1, id_list: [e.GetID()] },
                  { filter_type: 6, id_list: [e.GetID()] },
                  { filter_type: 5, id_list: [e.GetID()] },
                ],
              },
            ],
          };
        else {
          n = {
            clause: "and",
            children: [
              {
                clause: "or",
                children: [
                  {
                    filter_type: 0 == e.GetStoreItemType() ? 2 : 4,
                    id_list: [e.GetID()],
                  },
                ],
              },
            ],
          };
        }
        return n;
      }
    },
    72722: (e, t, n) => {
      "use strict";
      n.d(t, { l: () => E, u: () => g });
      var a = n(43204),
        i = n(30750),
        l = n(47427),
        r = n(77936),
        o = n(77681),
        s = n.n(o),
        c = n(46475),
        m = n(82283);
      function d(e) {
        return (0, m.E)() ? l.createElement(u, Object.assign({}, e)) : null;
      }
      function u(e) {
        const { cc: t, l: n } = e,
          i = (0, a.fL)(),
          r = (0, c.AL)(i.GetStoreItemKey().id, 4);
        return r && 0 !== r.length
          ? l.createElement(
              "div",
              null,
              l.createElement(
                "div",
                null,
                "For Owners: Show Popular DLC Version",
              ),
              l.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/Marketing+Message+-+DLC+Fallback+Operations",
                  target: "_blank",
                },
                "For more information about the override in general",
              ),
              [4, 3, 2, 1].map((e) =>
                r.length >= e
                  ? l.createElement(E, {
                      key: "preview_dlc_" + e,
                      cc: t,
                      l: n,
                      msg: `Show ${e} DLC`,
                      rgDLCOverride: r.slice(0, e),
                    })
                  : null,
              ),
            )
          : null;
      }
      var p = n(42960),
        _ = n(60688),
        h = n(59728);
      function g(e) {
        (0, a.fL)();
        const t = (0, l.useMemo)(() => {
          const e = new Array();
          for (let t = 0; t < 31; ++t) {
            const n = (0, r.j_)(t);
            e.push(
              l.createElement(v, { key: "lang" + t, cc: "US", l: n, msg: n }),
            );
          }
          return e;
        }, []);
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            { className: _.EditCtn },
            l.createElement(
              "div",
              { className: s().PageTitle },
              "Preview Marketing Messages",
            ),
            l.createElement("hr", null),
            l.createElement(d, { cc: "US", l: "english" }),
            l.createElement("div", null, "Languages:"),
            t,
            l.createElement("div", null, "Select Countries:"),
            l.createElement(v, { cc: "US", l: "english", msg: "US" }),
            l.createElement(v, { cc: "FR", l: "french", msg: "FR" }),
            l.createElement(v, { cc: "DE", l: "german", msg: "DE" }),
            l.createElement(v, { cc: "UK", l: "english", msg: "UK" }),
            l.createElement(v, { cc: "CN", l: "schinese", msg: "CN" }),
            l.createElement(v, {
              cc: "CN",
              l: "sc_schinese",
              msg: "Steam China",
              bForceSteamChina: !0,
            }),
          ),
        );
      }
      function v(e) {
        const t = (0, a.fL)(),
          [n, r] = (0, i.SZ)(() => [
            t.BHasAnimatedAssets(),
            "featured_video" == t.GetCustomTemplate(),
          ]);
        return l.createElement(
          "div",
          { className: p.PreviewRow },
          l.createElement(E, Object.assign({}, e)),
          Boolean(n || r) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement("span", { className: p.Spacer }, "   "),
              l.createElement(
                E,
                Object.assign({}, e, {
                  msg: "static version",
                  bShowLowBandwidth: !0,
                }),
              ),
            ),
        );
      }
      function E(e) {
        const {
            cc: t,
            l: n,
            msg: i,
            bForceSteamChina: r,
            bShowLowBandwidth: o,
            rgDLCOverride: s,
          } = e,
          c = (0, a.fL)().GetPreviewURL(t, n, r, o, s);
        return l.createElement(
          h.HP,
          { toolTipContent: c },
          l.createElement(
            "a",
            {
              href: "#",
              onClick: (e) => {
                e.preventDefault(), console.log("preview url clicked", c);
                window
                  .open(
                    c,
                    "marketing_message",
                    "height=720,width=700,resize=yes,scrollbars=yes",
                  )
                  .focus();
              },
            },
            i,
          ),
        );
      }
    },
    31455: (e, t, n) => {
      "use strict";
      n.d(t, { q: () => I, v: () => C });
      var a = n(256),
        i = n(1698),
        l = n(44107),
        r = n(20840),
        o = n(47427),
        s = n(15459),
        c = n(15690),
        m = n(86437),
        d = n(80886),
        u = n(1485),
        p = n(77178),
        _ = n(90069),
        h = n(46882),
        g = n(50423),
        v = n(31846),
        E = n(37563),
        S = n(26475),
        D = n(60688),
        f = n(83743),
        y = n(16649),
        b = n(77912);
      function I(e) {
        const { oEditablePlan: t, index: n } = e;
        return o.createElement(
          "div",
          { className: D.LinkCtn },
          o.createElement(S.UR, {
            name: "Marketing Message " + (n + 1) + " ID",
            placeHolder: "/marketing/message/<grab this ID>",
            id: t.GetMarketingMessageID(n),
            index: n,
            fnSetID: t.SetMarketingMessageID,
            fnGetURL: i.tA.GetMarketingMesssageEditURL,
          }),
          o.createElement(
            "div",
            { className: D.ButtonRow },
            o.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, _.AM)(
                    o.createElement(k, { oEditablePlan: t, index: n }),
                    (0, g.RA)(e),
                  );
                },
              },
              "Create new",
            ),
            o.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, _.AM)(
                    o.createElement(w, { oEditablePlan: t, index: n }),
                    (0, g.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function C(e, t, n, i, l, r) {
        var o, s, c;
        let d, u;
        if (r)
          switch (r.GetStoreItemType()) {
            case 0:
              (d = `${E.De.STORE_BASE_URL}app/${r.GetID()}`), (u = 2);
              break;
            case 1:
              (d = `${E.De.STORE_BASE_URL}sub/${r.GetID()}`), (u = 4);
              break;
            case 2:
              d = `${E.De.STORE_BASE_URL}bundle/${r.GetID()}`;
          }
        const p = {};
        u && ((p.no_filters_required = !1), (p.user_filters = (0, b.a)(r, t)));
        const _ = { type: "image", button_text: l, linkurl: d },
          h = {
            title: e,
            type: t,
            creator_name: E.L7.account_name,
            visibility: 1,
            start_date: n,
            end_date: i,
            flags: 0,
            country_deny: "",
            ownership_restrictions_overridden: !0,
            template_type: "image",
            template_vars_json: JSON.stringify(_),
            additional_restrictions_json: JSON.stringify(p),
            association_type: 0,
          };
        return (
          r &&
            ((h.associated_id = r.GetID()),
            (h.association_type = (0, m.RB)(r.GetStoreItemType())),
            (h.associated_name = r.GetName() || "")),
          (null === (o = null == r ? void 0 : r.GetPlatforms()) || void 0 === o
            ? void 0
            : o.windows) &&
            (h.flags |= a.j.k_EMarketingMessageFlagsPlatformWindows),
          (null === (s = null == r ? void 0 : r.GetPlatforms()) || void 0 === s
            ? void 0
            : s.mac) && (h.flags |= a.j.k_EMarketingMessageFlagsPlatformMac),
          (null === (c = null == r ? void 0 : r.GetPlatforms()) || void 0 === c
            ? void 0
            : c.steamos_linux) &&
            (h.flags |= a.j.k_EMarketingMessageFlagsPlatformLinux),
          h
        );
      }
      function k(e) {
        const { oEditablePlan: t, index: n, closeModal: i } = e,
          [r] = (0, d.jk)(t.GetFeaturedItemID(), t.GetFeaturedItemType(), {
            include_platforms: !0,
          }),
          [s, c] = (0, o.useState)(t.GetName()),
          [m, _] = (0, o.useState)(2),
          h = (0, o.useMemo)(
            () => a.JZ.map((e) => ({ label: (0, a.W_)(e), data: e })),
            [],
          ),
          [g, v] = (0, o.useState)(t.BHasMarketingMessages(n)),
          [E, S] = (0, o.useState)("#msg_action_details"),
          { fnCreateMarketingMessage: b } = (0, l.oT)(),
          I = (0, f.tx)();
        return I.bLoading
          ? o.createElement(f.NT, {
              state: I,
              strDialogTitle: "Create New Marketing Message?",
              closeModal: i,
            })
          : g
            ? o.createElement(p.uH, {
                strTitle: "Create New Marketing Message?",
                strDescription: `You already have Marketing Message with ID ${t.GetMarketingMessageID(n)} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: i,
                onOK: () => v(!1),
                strOKButtonText: "Create New Marketing Message Anyways",
              })
            : o.createElement(
                p.uH,
                {
                  strTitle: "Create New Marketing Message?",
                  strDescription:
                    "Create and link a Marketing Message from date range and featured item from the existing plan? Any additional customization can be done in the Marketing Message editor directly. NOTE: We did not fill in country restrictions, so need to double check if those are required.",
                  onCancel: i,
                  className: D.CreationDialogCtn,
                  bOKDisabled:
                    0 == s.trim().length ||
                    0 == m ||
                    (!t.BHasAssociatedSaleEvent() && !r) ||
                    0 == E.trim().length ||
                    I.bLoading,
                  bAllowFullSize: !0,
                  onOK: () => {
                    I.fnSetLoading(!0);
                    const e = C(
                      s,
                      m,
                      t.GetStartDate(),
                      t.GetEndDate(),
                      E || "#msg_action_details",
                      r,
                    );
                    b(e, !0)
                      .then((e) => {
                        e
                          ? (t.SetMarketingMessageID(e, n),
                            I.fnSetStrSuccess(
                              "Create Marketing Message Successful. Remember to Save the Promotion Plan.",
                            ))
                          : I.fnSetStrError(
                              "Create Marketing Message failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "marketing message Event Failed: " +
                          (0, y.l)(e).strErrorMsg +
                          ". ";
                        console.log(
                          "marketing message create failed",
                          (0, y.l)(e),
                          e,
                        ),
                          I.fnSetStrError(t);
                      });
                  },
                },
                o.createElement("br", null),
                o.createElement("br", null),
                o.createElement(u.II, {
                  value: s,
                  onChange: (e) => c(e.currentTarget.value),
                  label: "Internal Name",
                }),
                o.createElement(u.ry, {
                  label: "Type",
                  rgOptions: h,
                  selectedOption: m,
                  onChange: (e) => _(e.data),
                }),
                o.createElement(
                  "div",
                  { className: D.LargeSelectorCtn },
                  o.createElement(A, { selected: E, fnSetSelected: S }),
                ),
              );
      }
      function A(e) {
        const { selected: t, fnSetSelected: n } = e,
          a = (0, r.X)(),
          i = (0, o.useMemo)(
            () =>
              Object.keys(a || [])
                .filter((e) => "string" == typeof a[e] && e.startsWith("msg_"))
                .map((e) => ({ label: `${a[e]} (#${e})`, value: `#${e}` })),
            [a],
          );
        return a
          ? o.createElement(
              o.Fragment,
              null,
              o.createElement(u.__, null, "Template Button text:"),
              o.createElement(s.ZP, {
                options: i,
                value: i.find((e) => e.value === t),
                onChange: (e) => n(e.value),
                isSearchable: !0,
              }),
            )
          : o.createElement(h.V, {
              string: "Loading Marketing Tokens",
              position: "center",
              size: "medium",
            });
      }
      function w(e) {
        const { oEditablePlan: t, closeModal: n, index: a } = e,
          i = (0, l.O4)(),
          [r, d] = (0, o.useState)(null);
        (0, o.useEffect)(() => {
          if (i) {
            const e = [1, 2, 5],
              t = i.filter(
                (t) => t.associated_id && e.includes(t.association_type),
              );
            c.Z.Get().QueueMultipleStoreItemRequests(
              t.map((e) => e.associated_id),
              t.map((e) => (0, m.mm)(e.association_type)),
              {},
            );
          }
        }, [i]);
        const _ = (0, o.useMemo)(
          () =>
            null == i
              ? void 0
              : i.map((e) => ({
                  label: e.title,
                  value: e.gid,
                  marketingmessage: e,
                })),
          [i],
        );
        return i
          ? o.createElement(
              p.uH,
              {
                strTitle: "Select an Existing Marketing Message",
                strDescription:
                  "This only surfaces active or upcoming Marketing Message. This doesn't have access to archived Marketing Message.",
                onCancel: n,
                closeModal: n,
                onOK: () => {
                  t.SetMarketingMessageID(r, a);
                },
                bOKDisabled: Boolean(!r),
              },
              o.createElement(
                "div",
                { className: D.LinkMsgModalCtn },
                o.createElement(u.__, null, "Choose Marketing Message:"),
                o.createElement(s.ZP, {
                  options: _,
                  value: _.find((e) => e.value === r),
                  onChange: (e) => d((null == e ? void 0 : e.value) || null),
                  isSearchable: !0,
                  isMulti: !1,
                  isClearable: !0,
                  filterOption: (e, t) => {
                    if (!Boolean(t)) return !0;
                    const n = t.toLowerCase(),
                      a = e.data.marketingmessage,
                      i = c.Z.Get().GetStoreItem(
                        a.associated_id,
                        (0, m.mm)(a.association_type),
                      );
                    return (
                      e.label.toLowerCase().search(n) >= 0 ||
                      a.creator_name.toLowerCase().search(n) >= 0 ||
                      (null == i
                        ? void 0
                        : i.GetName().toLowerCase().search(n)) >= 0
                    );
                  },
                }),
              ),
            )
          : o.createElement(h.V, {
              string: (0, v.Xx)("#Loading"),
              position: "center",
              size: "medium",
            });
      }
    },
    23871: (e, t, n) => {
      "use strict";
      n.d(t, {
        Me: () => k,
        RU: () => D,
        c8: () => A,
        g1: () => C,
        j$: () => f,
      });
      var a = n(71945),
        i = n(47427),
        l = n(8114),
        r = n(22559),
        o = n(48359),
        s = n(56886),
        c = n(72236),
        m = n(28531),
        d = n(84965),
        u = n(90291),
        p = n(10162),
        _ = n(46882),
        h = n(59728),
        g = n(31846),
        v = n(12251),
        E = n(24549),
        S = n(35398);
      function D(e) {
        const { templateType: t } = e,
          n = (0, a.I0)(),
          [l, r, o] = (0, i.useMemo)(() => {
            if (!n) return [0, 0, []];
            const e = y(n, t);
            let a = 0,
              i = 0;
            return (
              e.forEach((e) => {
                e.seen_count > a && (a = e.seen_count), (i += e.seen_count);
              }),
              [a, i, e.sort((e, t) => e.rt_time_hour - t.rt_time_hour)]
            );
          }, [n, t]);
        return n
          ? i.createElement(
              "div",
              { className: S.DashStatsContainer },
              i.createElement(
                "div",
                { className: S.Chart },
                i.createElement(
                  p.SV,
                  null,
                  i.createElement(b, { Data: o, nPeak: l }),
                ),
              ),
              i.createElement(
                "div",
                { className: S.Stats },
                i.createElement(
                  "div",
                  { className: S.CurrentStats },
                  i.createElement(
                    "div",
                    { className: S.StatsTitle },
                    (0, E.AV)(r),
                  ),
                  i.createElement(
                    "div",
                    { className: S.StatSubtitle },
                    i.createElement(
                      "span",
                      { className: S.Now },
                      "Total Seen over last 7 days",
                    ),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: S.PeakStats },
                  i.createElement(
                    "div",
                    { className: S.StatsTitle },
                    (0, E.AV)(l),
                  ),
                  i.createElement(
                    "div",
                    { className: S.StatSubtitle },
                    i.createElement(
                      "span",
                      { className: S.Concurrent },
                      "Peak Hourly Views",
                    ),
                  ),
                ),
              ),
            )
          : i.createElement(_.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function f(e) {
        const { gid: t, templateType: n } = e,
          l = (0, a.mz)(t),
          [r, o, s] = (0, i.useMemo)(() => {
            if (!l) return [0, 0, []];
            const e = y(l, n);
            let t = 0,
              a = 0;
            return (
              e.forEach((e) => {
                e.seen_count > t && (t = e.seen_count), (a += e.seen_count);
              }),
              [t, a, e.sort((e, t) => e.rt_time_hour - t.rt_time_hour)]
            );
          }, [l, n]);
        return l
          ? i.createElement(
              "div",
              { className: S.DashStatsContainer },
              i.createElement(
                "div",
                { className: S.Chart },
                i.createElement(
                  p.SV,
                  null,
                  i.createElement(b, { Data: s, nPeak: r }),
                ),
              ),
              i.createElement(
                "div",
                { className: S.Stats },
                i.createElement(
                  "div",
                  { className: S.CurrentStats },
                  i.createElement(
                    "div",
                    { className: S.StatsTitle },
                    (0, E.AV)(o),
                  ),
                  i.createElement(
                    "div",
                    { className: S.StatSubtitle },
                    i.createElement("span", { className: S.Now }, "Total Seen"),
                  ),
                ),
                i.createElement(
                  "div",
                  { className: S.PeakStats },
                  i.createElement(
                    "div",
                    { className: S.StatsTitle },
                    (0, E.AV)(r),
                  ),
                  i.createElement(
                    "div",
                    { className: S.StatSubtitle },
                    i.createElement(
                      "span",
                      { className: S.Concurrent },
                      "Peak Hourly Views",
                    ),
                  ),
                ),
              ),
            )
          : i.createElement(_.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function y(e, t) {
        const n = new Map();
        return (
          e.forEach((e) => {
            (t && e.template_type != t) ||
              (n.has(e.rt_time_hour)
                ? n.set(e.rt_time_hour, n.get(e.rt_time_hour) + e.seen_count)
                : n.set(e.rt_time_hour, e.seen_count));
          }),
          Array.from(n).map((e) => ({ rt_time_hour: e[0], seen_count: e[1] }))
        );
      }
      const b = i.memo((e) => {
        const { Data: t, nPeak: n } = e;
        return i.createElement(
          l.h,
          { width: "100%", height: "100%" },
          i.createElement(
            r.c,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            i.createElement(
              "defs",
              null,
              i.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                i.createElement("stop", { stopColor: "#1A9FFF" }),
                i.createElement("stop", {
                  offset: "0.01",
                  stopColor: "#1A9FFF",
                }),
                i.createElement("stop", {
                  offset: "0.0101",
                  stopColor: "#1A9FFF",
                  stopOpacity: "0.5",
                }),
                i.createElement("stop", {
                  offset: "1",
                  stopColor: "#30363D",
                  stopOpacity: "0.5",
                }),
              ),
            ),
            i.createElement(o.q, { vertical: !1, stroke: "#a0aab6" }),
            i.createElement(s.B, {
              tickFormatter: E.X_,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            i.createElement(c.u, { content: i.createElement(I, null) }),
            i.createElement(m.$, {
              dataKey: "seen_count",
              barSize: 2,
              fill: "url( #bar_linear )",
            }),
            i.createElement(d.d, {
              y: n,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
          ),
        );
      });
      function I({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return i.createElement(
            h.gz,
            null,
            i.createElement("b", null, (0, E.AV)(e.seen_count)),
            " views at ",
            (0, g.$1)(e.rt_time_hour),
            " ",
            (0, v.Sc)(e.rt_time_hour),
          );
        }
        return null;
      }
      function C(e) {
        const { gid: t, templateType: n } = e,
          l = (0, a.mz)(t),
          [r, o] = (0, i.useMemo)(() => {
            if (!l) return [0, []];
            const e = k(l, n);
            let t = 0,
              a = 0;
            e.forEach((e) => {
              e.seen_count > a && (a = e.seen_count),
                e.display_index > t && (t = e.display_index);
            });
            for (let n = 0; n < t; ++n) {
              e.findIndex((e) => e.display_index == n) < 0 &&
                e.push({ display_index: n, seen_count: 0 });
            }
            return [a, e.sort((e, t) => e.display_index - t.display_index)];
          }, [l, n]);
        return l
          ? i.createElement(
              "div",
              { className: S.DashStatsContainer },
              i.createElement(
                "div",
                { className: S.Chart },
                i.createElement(
                  p.SV,
                  null,
                  i.createElement(A, { Data: o, nPeak: r }),
                ),
              ),
            )
          : i.createElement(_.V, {
              string: "Loading Stats",
              size: "medium",
              position: "center",
            });
      }
      function k(e, t) {
        const n = new Map();
        return (
          e.forEach((e) => {
            (t && e.template_type != t) ||
              (n.has(e.display_index)
                ? n.set(e.display_index, n.get(e.display_index) + e.seen_count)
                : n.set(e.display_index, e.seen_count));
          }),
          Array.from(n).map((e) => ({ display_index: e[0], seen_count: e[1] }))
        );
      }
      const A = i.memo((e) => {
        const { Data: t, nPeak: n } = e;
        return i.createElement(
          l.h,
          { width: "100%", height: "100%" },
          i.createElement(
            r.c,
            {
              data: t,
              margin: { top: 25, left: 0, right: 0, bottom: 0 },
              barGap: 10,
            },
            i.createElement(
              "defs",
              null,
              i.createElement(
                "linearGradient",
                { id: "bar_linear", x1: "0", x2: "0", y1: "0", y2: "1" },
                i.createElement("stop", { stopColor: "#1A9FFF" }),
                i.createElement("stop", {
                  offset: "0.01",
                  stopColor: "#1A9FFF",
                }),
                i.createElement("stop", {
                  offset: "0.0101",
                  stopColor: "#1A9FFF",
                  stopOpacity: "0.5",
                }),
                i.createElement("stop", {
                  offset: "1",
                  stopColor: "#30363D",
                  stopOpacity: "0.5",
                }),
              ),
            ),
            i.createElement(o.q, { vertical: !1, stroke: "#a0aab6" }),
            i.createElement(s.B, {
              tickFormatter: E.X_,
              tick: { fill: "white" },
              axisLine: !1,
            }),
            i.createElement(c.u, { content: i.createElement(w, null) }),
            i.createElement(m.$, {
              dataKey: "seen_count",
              barSize: 2,
              fill: "url( #bar_linear )",
            }),
            i.createElement(d.d, {
              y: n,
              stroke: "#82FF01",
              strokeDasharray: "6",
            }),
            i.createElement(u.K, { interval: 0 }),
          ),
        );
      });
      function w({ active: e, payload: t }) {
        if (e && t && t.length) {
          const e = t[0].payload;
          return i.createElement(
            h.gz,
            null,
            i.createElement("b", null, (0, E.AV)(e.seen_count)),
            " views at display index data ",
            e.display_index,
          );
        }
        return null;
      }
    },
    68553: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => _ });
      var a = n(2467),
        i = n(45844),
        l = n(47427),
        r = n(35427),
        o = n(1485),
        s = n(72297),
        c = n(77178),
        m = n(90069),
        d = n(46882),
        u = n(86437),
        p = n(80886);
      function _(e) {
        const {
            nPartnerID: t,
            bAllowedCustomContacts: n,
            storeItemFilter: a,
          } = e,
          [r, c] = (0, l.useState)(!1),
          [d, _] = (0, l.useState)(void 0),
          v = (0, i.N)(t),
          [E] = (0, p.jk)(a.id, (0, u.GV)(a.item_type), {}),
          S = l.useMemo(
            () =>
              0 == (null == E ? void 0 : E.GetStoreItemType())
                ? [E.GetID()]
                : null == E
                  ? void 0
                  : E.GetIncludedAppIDs(),
            [E],
          ),
          D = (0, l.useMemo)(() => {
            if (S && S.length > 0) {
              let e = new Array();
              if (
                (null == v ||
                  v.forEach((t, n) => {
                    S.some((e) => t.includes(e)) && (e = e.concat(n));
                  }),
                e.length > 0)
              )
                return (
                  _(
                    "Contact list is filtered to accounts with ManagePricing rights for the store item.",
                  ),
                  e
                );
            }
            return (
              _(
                "Warning: No communication accounts exist with ManagePricing rights for the store item.",
              ),
              v ? [...v.keys()] : []
            );
          }, [S, v]),
          f = (0, l.useMemo)(() => !(!t || !D) && !D.length, [D, t]);
        return l.createElement(
          l.Fragment,
          null,
          (null == D ? void 0 : D.length) > 0
            ? l.createElement(
                o.zx,
                {
                  onClick: () => {
                    (0, m.AM)(
                      l.createElement(g, { rgAccountIDs: D, description: d }),
                      window,
                    );
                  },
                },
                "See contact list (",
                D.length,
                ")",
              )
            : f &&
                l.createElement(
                  "span",
                  { className: s.ErrorStylesBackground },
                  "Cannot Send Invite: The selected partner does not have any users with communication preference enabeld.",
                ),
          Boolean(n) &&
            l.createElement(
              l.Fragment,
              null,
              r
                ? l.createElement(h, null)
                : l.createElement(
                    o.zx,
                    { onClick: () => c(!0) },
                    "Add more contacts?",
                  ),
            ),
        );
      }
      function h(e) {
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            null,
            "Partner Contants ",
            l.createElement("span", null, "(one per line)"),
          ),
          l.createElement("textarea", {
            cols: 60,
            value: "",
            onChange: (e) => {},
          }),
        );
      }
      function g(e) {
        const { rgAccountIDs: t, closeModal: n, description: i } = e,
          { fnHintLoadPartnerUserInfo: o } = (0, a.AV)(),
          s = (0, l.useMemo)(
            () => t.map((e) => r.K.InitFromAccountID(e).ConvertTo64BitString()),
            [t],
          ),
          [m, u] = (0, l.useState)(!0);
        return (
          (0, l.useEffect)(() => {
            o(s).finally(() => u(!1));
          }, [s, o]),
          m
            ? l.createElement(d.V, null)
            : l.createElement(
                c.uH,
                {
                  strTitle: "Partner Contact List",
                  bAlertDialog: !0,
                  closeModal: n,
                },
                l.createElement(
                  "div",
                  null,
                  "This is the list of members of the Partner who have opted into promotion related communication. They will be notified to take action on this request.",
                ),
                !!i &&
                  l.createElement("div", { style: { padding: "10px 0px" } }, i),
                l.createElement("br", null),
                l.createElement(
                  "table",
                  { className: "landingTable" },
                  l.createElement(
                    "tr",
                    null,
                    l.createElement("th", null, "Persona"),
                    l.createElement("th", null, "Account Name"),
                    l.createElement("th", null, "Email Address"),
                  ),
                  t.map((e) => l.createElement(v, { key: e, accountID: e })),
                ),
              )
        );
      }
      function v(e) {
        const { accountID: t } = e,
          n = (0, a.cm)(t);
        return l.createElement(
          "tr",
          null,
          Boolean(n)
            ? l.createElement(
                l.Fragment,
                null,
                l.createElement("td", null, n.persona),
                l.createElement("td", null, n.accountname),
                l.createElement("td", null, n.email),
              )
            : l.createElement(
                "td",
                { colSpan: 3 },
                "SteamID: ",
                r.K.InitFromAccountID(t).ConvertTo64BitString(),
                " ",
              ),
        );
      }
    },
    82624: (e, t, n) => {
      "use strict";
      n.d(t, { t: () => _, x: () => u });
      var a = n(83831),
        i = n(49781),
        l = n(47427),
        r = n(86437),
        o = n(1485),
        s = n(13129),
        c = n(72297),
        m = n(18133),
        d = n.n(m);
      function u(e) {
        const {
          nPartnerID: t,
          nOriginalPartnerID: n,
          storeItemKey: a,
          fnUpdatePartnerID: i,
          showPartnerUnsetWarning: r,
          showPartnerSuggestions: s,
          showPartnerInitialSetWarning: c,
        } = e;
        return l.createElement(
          "div",
          { className: d().PartnerIdRow },
          l.createElement(o.II, {
            type: "text",
            label: "Partner ID To Allow Access",
            tooltip:
              "Numerical ID. Only users who are members of this partner will be able to see this promotion plan",
            value: t || "",
            onChange: (e) => {
              var t, n;
              if (
                (null ===
                  (n =
                    null === (t = e.currentTarget) || void 0 === t
                      ? void 0
                      : t.value) || void 0 === n
                  ? void 0
                  : n.trim().length) > 0
              ) {
                const t = Number.parseInt(e.currentTarget.value);
                i(t);
              } else i(null);
            },
          }),
          l.createElement(p, {
            nPartnerID: t,
            nOriginalPartnerID: n,
            storeItemKey: a,
            fnUpdatePartnerID: i,
            showPartnerUnsetWarning: null == r || r,
            showPartnerSuggestions: null == s || s,
            showPartnerInitialSetWarning: c,
          }),
        );
      }
      function p(e) {
        const {
            storeItemKey: t,
            nPartnerID: n,
            nOriginalPartnerID: a,
            fnUpdatePartnerID: s,
            showPartnerUnsetWarning: c,
            showPartnerSuggestions: m,
            showPartnerInitialSetWarning: u,
          } = e,
          p = (0, i.Gk)(
            null == t ? void 0 : t.id,
            (0, r.GV)(null == t ? void 0 : t.item_type),
          );
        return (
          (0, l.useEffect)(() => {
            p && 1 == p.length && s && s(p.at(0).partner_id);
          }, [p, s]),
          l.createElement(
            l.Fragment,
            null,
            l.createElement(_, {
              nPartnerID: n,
              nOriginalPartnerID: a,
              showPartnerUnsetWarning: c,
              showPartnerInitialSetWarning: u,
            }),
            Boolean(
              m &&
                (null == p
                  ? void 0
                  : p.filter((e) => e.partner_id != n).length) > 0,
            ) &&
              l.createElement(
                "div",
                { className: d().SetObviousPartner },
                p.map((e) =>
                  l.createElement(
                    o.zx,
                    { key: e.partner_id, onClick: () => s(e.partner_id) },
                    "Select Partner: ",
                    e.name,
                    " (",
                    e.partner_id,
                    ")",
                  ),
                ),
              ),
          )
        );
      }
      function _(e) {
        const {
            nPartnerID: t,
            nOriginalPartnerID: n,
            showPartnerUnsetWarning: i,
            showPartnerInitialSetWarning: r,
          } = e,
          [o] = (0, a.DV)(t);
        return i && !t
          ? l.createElement(
              "div",
              { className: (0, s.Z)(c.ErrorStylesWithIcon, c.ErrorFloatBelow) },
              "No Partner ID set; no partner can access this request",
            )
          : r && void 0 !== n && n <= 1 && t > 1
            ? l.createElement(
                "div",
                {
                  className: (0, s.Z)(
                    c.WarningStylesWithIcon,
                    c.WarningFloatBelow,
                  ),
                },
                "This promotion plan will be visible to this partner and show up on their dashboard",
              )
            : o
              ? l.createElement(
                  "div",
                  { className: d().PartnerLink },
                  l.createElement(
                    "a",
                    { href: o.partner_url },
                    o.name,
                    " (",
                    o.partnerid,
                    ")",
                  ),
                )
              : null;
      }
    },
    9071: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => Z, h: () => K });
      var a = n(76330),
        i = n(1698),
        l = n(51485),
        r = n(36342),
        o = n(87380),
        s = n(47427),
        c = n(51915),
        m = n(77681),
        d = n.n(m),
        u = n(1485),
        p = n(10162),
        _ = n(71472),
        h = n(71741),
        g = n.n(h),
        v = n(90069),
        E = n(23665),
        S = n(13129),
        D = n(50423),
        f = n(46984),
        y = n(37563),
        b = n(15282),
        I = n(16783),
        C = n.n(I),
        k = n(84676);
      const A = "steam_promo_calendar_filter";
      function w(e, t) {
        const n = window.localStorage.getItem(A) || "",
          a =
            window.location.search &&
            !/^\?month=\d+$/.test(window.location.search),
          i = new URLSearchParams(a ? window.location.search : n),
          l = new Set(
            Array.from(e).filter(
              (e) => !(i.has(e) && 0 == Number.parseInt(i.get(e))),
            ),
          );
        return (
          Array.from(t).forEach((e) => {
            i.has(e) && 1 == Number.parseInt(i.get(e)) && l.add(e);
          }),
          l
        );
      }
      var P = n(7073),
        T = n(93727),
        N = n(37485),
        R = n.n(N),
        G = n(84084),
        L = n(8285),
        B = n(64936),
        x = n(65255),
        M = n(24040),
        O = n(26475),
        F = n(59728);
      const U = (0, G.Zt)(R());
      function H(e) {
        const t = Math.floor(e.getTime() / 1e3) + 86400;
        if (B.JW.GetTimeNowWithOverride() > t)
          return { className: "DayInThePast" };
      }
      function V(e) {
        const {
            viewDate: t,
            fnSetMonthDelta: n,
            nOwnerAccountToFilter: a,
            fnSkipLoadingDailyDealPages: l,
          } = e,
          [r, c] = s.useState(() => w(i.Rg, i.ti)),
          m = (0, L.k6)(),
          d = (0, o.yw)(),
          u = (0, s.useMemo)(
            () =>
              a
                ? d.filter((e) => {
                    var t;
                    return (
                      (!e.owner_account_id && e.creator_account_id == a) ||
                      e.owner_account_id == a ||
                      e.artwork_owner_account_id == a ||
                      e.operator_account_id == a ||
                      e.reviewed_by_account == a ||
                      (null === (t = e.watch_list) || void 0 === t
                        ? void 0
                        : t.includes(a))
                    );
                  })
                : d,
            [d, a],
          ),
          p = (0, T.Mg)();
        (0, s.useEffect)(() => {
          l(!r.has("dailydeal"));
        }, [r, l]);
        const [_, h] = s.useState(12),
          g = (0, o.l7)(_, i.b5);
        _ < 6 * q(new Date(), t) && h(6 * q(new Date(), t));
        const E = (0, s.useMemo)(() => {
          const e = u
            .filter((e) => r.size == i.nR.length || r.has(e.type))
            .map((e) => {
              let t,
                n = e.name;
              if (
                (e.intention && "none" != e.intention
                  ? (t = [i.R7.get(e.intention)])
                  : e.type && i.ex.has(e.type) && (t = i.ex.get(e.type)),
                null == t ? void 0 : t.length)
              ) {
                for (const e of t)
                  n = n.replace(new RegExp("^" + e + "\\s*[:-]\\s*", "i"), "");
                n = t[0] + " - " + n;
              }
              const a = {
                promotionPlan: e,
                bIsChecked: !!e.reviewed_by_account,
                sTooltip: e.promotion_planner_notes,
              };
              return {
                allDay: !1,
                title: n,
                start: new Date(1e3 * e.start_date),
                end: new Date(1e3 * (e.end_date - 39600 - 1)),
                resource: a,
              };
            });
          let t = [];
          r.has("dailydeal") &&
            (t = p
              .filter((e) => !e.cancelled)
              .map((e) => {
                var t;
                const n =
                    e.discount_event_id &&
                    (null === (t = (0, P.LT)(e.discount_event_id.toString())) ||
                    void 0 === t
                      ? void 0
                      : t.length) > 0,
                  a = { dailyDealGid: e.gid, bIsChecked: n };
                return {
                  allDay: !1,
                  title: e.store_item_name,
                  start: new Date(1e3 * e.rtime32_start_time),
                  end: new Date(1e3 * (e.rtime32_start_time + 39600)),
                  resource: a,
                };
              }));
          const n = [];
          return (
            r.forEach((e) => {
              var t;
              const a = i.Ii.get(e);
              null === (t = null == g ? void 0 : g.get(e)) ||
                void 0 === t ||
                t.forEach((t) => {
                  const l = t.rgPlans.length < a.nMaxSlots,
                    r = { week: t };
                  n.push({
                    allDay: !1,
                    title:
                      i.j.get(e) +
                      " " +
                      (l
                        ? a.nMaxSlots - t.rgPlans.length + " Available"
                        : " No slots"),
                    start: new Date(1e3 * (t.rtWeekStart + a.rtStartModifier)),
                    end: new Date(
                      1e3 * (t.rtWeekStart + a.rtEndModifier - 39600 - 1),
                    ),
                    resource: r,
                  });
                });
            }),
            [...e, ...t, ...n]
          );
        }, [u, r, p, g]);
        return s.createElement(
          "div",
          { className: C().CalendarCtn },
          s.createElement(j, {
            rgVisiblePromotionTypes: r,
            fnSetVisiblePromotionTypes: c,
            rgAvailableTypes: i.nR,
          }),
          s.createElement(G.f, {
            views: ["month"],
            popup: !0,
            defaultView: "month",
            localizer: U,
            date: t,
            onNavigate: (e) => {
              const t = q(new Date(), e);
              _ < 5 * t && h(5 * t), n(q(new Date(), e));
            },
            events: E,
            dayPropGetter: H,
            style: { height: 2400 },
            showMultiDayTimes: !0,
            onSelectEvent: (e, t) => {
              const n = e.resource;
              if (n.dailyDealGid)
                t.ctrlKey || t.metaKey
                  ? window.open(
                      `${x.De.PARTNER_BASE_URL}/promotion/${M.PromotionRoutes.DailyDealEditor(e.resource)}`,
                      "_blank",
                    )
                  : m.push(M.PromotionRoutes.DailyDealEditor(e.resource));
              else if (n.promotionPlan) {
                const n = e.resource.promotionPlan;
                t.ctrlKey || t.metaKey
                  ? window.open(
                      `${x.De.PARTNER_BASE_URL}/promotion/${M.PromotionRoutes.PromotionPlanEditor(n.id)}`,
                      "_blank",
                    )
                  : m.push(M.PromotionRoutes.PromotionPlanEditor(n.id));
              } else
                n.week &&
                  (0, v.AM)(
                    s.createElement(k.Vt, {
                      rtInitialDate: Math.floor(e.start.getTime() / 1e3),
                      initialType: n.week.type,
                      rtInitialEndDate:
                        Math.floor(e.end.getTime() / 1e3) + 39600 + 1,
                    }),
                    window,
                  );
            },
            eventPropGetter: (e) => (0, O.Z4)(e.resource),
            components: { event: X },
          }),
        );
      }
      const X = (e) => {
        const t = e.event.resource;
        return s.createElement(
          "span",
          {
            className: (0, S.Z)(
              C().EventContainer,
              t.bIsChecked ? C().Complete : C().Incomplete,
            ),
          },
          void 0 !== t.bIsChecked && (t.bIsChecked ? " " : " "),
          t.sTooltip &&
            s.createElement(
              F.HP,
              {
                className: C().EventNotesTooltipIndicator,
                toolTipContent: s.createElement(F.vd, null, t.sTooltip),
              },
              "() ",
            ),
          e.title,
        );
      };
      function j(e) {
        const {
          rgVisiblePromotionTypes: t,
          fnSetVisiblePromotionTypes: n,
          rgAvailableTypes: a,
        } = e;
        return s.createElement(
          "div",
          { className: C().filtersCtn },
          a
            .filter((e) => !i.oP.has(e))
            .map((e) =>
              s.createElement(u.ji, {
                key: e,
                label: i.j.get(e),
                checked: t.has(e),
                className: e,
                onChange: (a) => {
                  const l = new Set(t),
                    r = new URLSearchParams(window.location.search);
                  a
                    ? (l.add(e), i.ti.has(e) ? r.set(e, "1") : r.delete(e))
                    : (l.delete(e), i.ti.has(e) ? r.delete(e) : r.set(e, "0")),
                    window.history.replaceState({}, "", "?" + r.toString()),
                    r.delete("month"),
                    window.localStorage.setItem(A, "?" + r.toString()),
                    n(l);
                },
              }),
            ),
        );
      }
      function q(e, t) {
        return (
          t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear())
        );
      }
      var W = n(34819),
        z = n(69176);
      function Z(e) {
        const t = (0, c.Qv)(e);
        return (
          (null == t ? void 0 : t.m_strPlayerName) ||
          (null == t ? void 0 : t.m_strAccountName) ||
          "" + e
        );
      }
      function K(e) {
        const { fnResetDirtyPlan: t } = (0, r.u9)(),
          { fnResetDirtyPlanInputPipeline: n } = (0, l.R0)(),
          [m, h] = (0, _.Ar)("tab", "current"),
          [y, I] = (0, s.useState)(""),
          [A, P] = (0, _.Ar)("filter_account", 0),
          [T, N] = (0, s.useState)(() => !w(i.Rg, i.ti).has("dailydeal"));
        (0, c.vP)(a.J.map((e) => e.id)),
          s.useLayoutEffect(() => {
            t(), n();
          }, [t, n]);
        const [R, G] = (0, _.Ar)("month", 0),
          L = (0, s.useMemo)(() => {
            const e = new Date(),
              t = e.getMonth();
            return 0 != R && e.setDate(1), e.setMonth(t + R), e;
          }, [R]),
          B = (0, o.yw)(),
          x = (0, s.useMemo)(
            () =>
              A
                ? B.filter((e) => {
                    var t;
                    return (
                      (!e.owner_account_id && e.creator_account_id == A) ||
                      e.owner_account_id == A ||
                      e.artwork_owner_account_id == A ||
                      e.operator_account_id == A ||
                      e.reviewed_by_account == A ||
                      (null === (t = e.watch_list) || void 0 === t
                        ? void 0
                        : t.includes(A))
                    );
                  })
                : B,
            [B, A],
          ),
          [M, O, F, U, H, X, j, q] = (0, s.useMemo)(() => {
            const e = new Array(),
              t = new Array(),
              n = new Array(),
              a = new Array(),
              i = new Array(),
              l = new Array(),
              r = new Array(),
              s = new Array();
            return (
              x.forEach((c) => {
                var m, d, u;
                let p = !0;
                if ((null == y ? void 0 : y.trim().length) > 0) {
                  const e = y.toLocaleLowerCase();
                  (p =
                    (null === (m = c.admin_notes) || void 0 === m
                      ? void 0
                      : m.toLocaleLowerCase().indexOf(e)) >= 0 ||
                    (null === (d = c.name) || void 0 === d
                      ? void 0
                      : d.toLocaleLowerCase().indexOf(e)) >= 0 ||
                    Z(c.owner_account_id || c.creator_account_id)
                      .toLocaleLowerCase()
                      .indexOf(e) >= 0 ||
                    Z(c.artwork_owner_account_id)
                      .toLocaleLowerCase()
                      .indexOf(e) >= 0 ||
                    Z(c.operator_account_id).toLocaleLowerCase().indexOf(e) >=
                      0 ||
                    ("" + c.store_item_id).indexOf(e) >= 0),
                    p && s.push(c.id);
                }
                if (p && "vacation" != c.type) {
                  const s = Math.floor(Date.now() / 1e3);
                  if (Boolean(c.reviewed_by_account || c.end_date < s));
                  else if (Boolean(c.artwork_completed_time)) r.push(c.id);
                  else if (Boolean(c.artwork_localization_task_id))
                    l.push(c.id);
                  else {
                    const l = (0, o.eQ)(c.id);
                    Boolean(
                      c.partner_requires_art_review &&
                        c.partner_review_create_time &&
                        (!l.approvals_provided ||
                          l.approvals_provided.length !=
                            l.approval_requests.length),
                    )
                      ? i.push(c.id)
                      : Boolean(c.delivery_review_time)
                        ? a.push(c.id)
                        : Boolean(
                              (null == l ? void 0 : l.submitting_accountid) ||
                                c.associated_asset_url,
                            )
                          ? n.push(c.id)
                          : Boolean(
                                (null ===
                                  (u = null == l ? void 0 : l.art_requests) ||
                                void 0 === u
                                  ? void 0
                                  : u.length) > 0,
                              )
                            ? t.push(c.id)
                            : e.push(c.id);
                  }
                }
              }),
              [e, t, n, a, i, l, r, s]
            );
          }, [x, y]),
          W = (e) => h(e.key),
          K = [
            {
              name: "Calendar",
              key: "current",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(
                  b.j,
                  { bSkipLoadingPackages: T },
                  s.createElement(V, {
                    viewDate: L,
                    fnSetMonthDelta: G,
                    nOwnerAccountToFilter: A,
                    fnSkipLoadingDailyDealPages: N,
                  }),
                ),
              ),
              onClick: W,
            },
            {
              name: `Tentative (${(null == M ? void 0 : M.length) || 0})`,
              key: "tentative",
              tooltip: "Plan is tentative until an artwork URL is entered",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, {
                  planIDs: M,
                  nUrgentWindowInSeconds: 6 * f._H.PerDay,
                }),
              ),
              onClick: W,
            },
            {
              name: `Awaiting Partner (${(null == O ? void 0 : O.length) || 0})`,
              key: "await_partner",
              tooltip:
                "Items appear here if they have their asset request tab enabled and the artwork not yet submitted.",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, {
                  planIDs: O,
                  nUrgentWindowInSeconds: 6 * f._H.PerDay,
                }),
              ),
              onClick: W,
            },
            {
              name: `Delivery Ops Review (${(null == F ? void 0 : F.length) || 0})`,
              key: "delivery_review",
              tooltip:
                "Parnter has submitted the artwork and we are awaiting operation to review the art matches the guidelines",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, {
                  planIDs: F,
                  bAllowAutoRefresh: !0,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: W,
            },
            {
              name: `Awaiting Design (${(null == U ? void 0 : U.length) || 0})`,
              key: "await_artteam",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, {
                  planIDs: U,
                  sortByUnclaimedField: "artwork_owner_account_id",
                  bAllowAutoRefresh: !0,
                  nUrgentWindowInSeconds: 1 * f._H.PerDay,
                }),
              ),
              onClick: W,
            },
            {
              name: `Awaiting Partner Approvals (${(null == H ? void 0 : H.length) || 0})`,
              tooltip:
                "On case where are required to provide assets for the partner to review prior to launch of the promotion",
              key: "await_approvals",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, { planIDs: H }),
              ),
              onClick: W,
            },
            {
              name: `Waiting on Loc (${(null == X ? void 0 : X.length) || 0})`,
              key: "await_locteam",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, {
                  planIDs: X,
                  nUrgentWindowInSeconds: 1 * f._H.PerDay,
                }),
              ),
              onClick: W,
            },
            {
              name: `Awaiting Ops Review (${(null == j ? void 0 : j.length) || 0})`,
              key: "await_review",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, {
                  planIDs: j,
                  bAllowAutoRefresh: !0,
                  sortByUnclaimedField: "operator_account_id",
                }),
              ),
              onClick: W,
            },
          ];
        return (
          y.trim().length > 0 &&
            K.push({
              name: `Search Results (${(null == q ? void 0 : q.length) || 0})`,
              key: "search",
              contents: s.createElement(
                p.SV,
                null,
                s.createElement(z.N, { planIDs: q }),
              ),
              onClick: W,
            }),
          s.createElement(
            "div",
            {
              className: (0, S.Z)(
                C().Container,
                d().AdminPageCtn,
                d().WidePageCtn,
              ),
            },
            s.createElement(
              "div",
              { className: d().PageTitleFlexCtn },
              s.createElement(
                "div",
                { className: d().PageTitle },
                "Promotion Planning Tool (VO) ",
              ),
              s.createElement(
                "div",
                { className: C().CreateNewCtn },
                s.createElement(u.II, {
                  type: "text",
                  placeholder: "Search promos",
                  tooltip:
                    "Only an in-memory search of plan name, admin notes and store item id",
                  value: y,
                  onChange: (e) => {
                    var t, n;
                    I(
                      (null === (t = null == e ? void 0 : e.currentTarget) ||
                      void 0 === t
                        ? void 0
                        : t.value) || "",
                    ),
                      (null === (n = null == e ? void 0 : e.currentTarget) ||
                      void 0 === n
                        ? void 0
                        : n.value.trim().length) > 0
                        ? h("search")
                        : h("current");
                  },
                }),
                s.createElement(
                  u.KM,
                  {
                    onClick: (e) =>
                      (0, v.AM)(s.createElement(k.Vt, null), (0, D.RA)(e)),
                  },
                  "Create New Promotion",
                ),
                s.createElement(Q, { nAccountID: A, fnSetAccountFilter: P }),
              ),
            ),
            s.createElement("hr", { className: "VO" }),
            s.createElement(E.n, { tabs: K }),
            s.createElement("div", { className: g().ClearThings }),
            s.createElement("hr", { className: "VO" }),
            s.createElement(Y, null),
          )
        );
      }
      function Q(e) {
        return s.createElement(
          W.$t,
          Object.assign({}, e, {
            rgAdditional: [{ data: null, label: "Show All Users Plan" }],
          }),
        );
      }
      function Y(e) {
        return s.createElement(
          "div",
          { className: C().OtherLinks },
          s.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/dailydeals/dashboard" },
            "Daily Deal Calendar",
          ),
          s.createElement(
            "a",
            {
              href:
                y.De.PARTNER_BASE_URL + "promotion/marketingmessages/dashboard",
            },
            "Marketing Messages List",
          ),
          s.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/spotlights/dashboard" },
            "Spotlights List",
          ),
          s.createElement(
            "a",
            {
              href:
                y.De.PARTNER_BASE_URL + "promotion/discountevents/dashboard",
            },
            "Discount Events List (WIP)",
          ),
          s.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/planning/themes" },
            "Theme Fests Ideation Dashboard",
          ),
          s.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/planning/salesrank" },
            "Sales Rank Planning Dashboard",
          ),
          s.createElement(
            "a",
            {
              href:
                y.De.PARTNER_BASE_URL + "promotion/invitationplanner/dashboard",
            },
            "Promotion Invitation Planner Dashboard",
          ),
          s.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/themesales/dashboard" },
            "Theme Fests / Next Fest Progress Tracking Dashboard",
          ),
          s.createElement(
            "a",
            { href: y.De.PARTNER_BASE_URL + "promotion/planning/migration" },
            "Bulk Data Migration",
          ),
        );
      }
    },
    24040: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { PromotionRoutes: () => Mi, default: () => Oi });
      var a = n(760),
        i = n(52077),
        l = (n(43204), n(51485), n(36342), n(26519)),
        r = n(47427),
        o = n(28017),
        s = n(8285),
        c = n(9781),
        m = n(71630),
        d = n(69406),
        u = (n(34345), n(37563)),
        p = n(34797),
        _ = n(17912);
      var h = n(93727),
        g = n(49781),
        v = n(30750);
      var E = n(51915),
        S = n(86437),
        D = n(80886),
        f = n(77681),
        y = n.n(f),
        b = n(1485),
        I = n(83743),
        C = n(10162),
        k = n(72297),
        A = n.n(k),
        w = n(71741),
        P = n.n(w),
        T = n(77178),
        N = n(90069),
        R = n(62613),
        G = n(23665),
        L = n(46882),
        B = n(56164),
        x = n(13129),
        M = n(50423),
        O = n(31846),
        F = n(50900),
        U = n(92195),
        H = n(69368),
        V = n(66692);
      function X(e) {
        const t = (0, i.Rx)(),
          n = t.BIsDirty();
        return r.createElement(
          "div",
          null,
          r.createElement("div", null, "Debug Panel"),
          r.createElement("hr", null),
          r.createElement("div", null, "Is dirty?: ", n),
          r.createElement(m.G, { data: t.GetModel() }),
        );
      }
      var j = n(95666),
        q = n(66370);
      function W(e) {
        const [t] = (0, i.wH)(),
          n = (0, i.Rx)();
        r.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() ? (0, O.Xx)("#DailyDeals_UnsavedChanges") : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t],
        );
        return r.createElement(s.NL, {
          message: (e) =>
            !n ||
            !t() ||
            e.pathname == "promotion/" + Mi.DailyDealEditor(n.GetDealID()) ||
            (0, O.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      function z(e) {
        const { dealid: t } = e,
          n = (0, h.Wp)(t),
          [a, l] = r.useState(!1);
        if (
          (r.useEffect(() => {
            void 0 !== n &&
              (null !== n && i.KF.Get().InitDailyDealToEdit(n), l(!0));
          }, [n, t]),
          !a)
        )
          return r.createElement(L.V, {
            size: "medium",
            position: "center",
            string: (0, O.Xx)("#Loading"),
          });
        if (!n)
          return r.createElement(
            "div",
            null,
            r.createElement("div", null, (0, O.Xx)("#DailyDeals_NotExist")),
            r.createElement(
              o.rU,
              { to: Mi.DailyDealDashboard() },
              (0, O.Xx)("#DailyDeals_Dashboard"),
            ),
          );
        const s = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          c = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: r.createElement(C.SV, null, r.createElement(Z, null)),
              onClick: s,
            },
            {
              name: "Asset Request",
              key: "request",
              contents: r.createElement(C.SV, null, r.createElement(U.Q, null)),
              onClick: s,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: r.createElement(C.SV, null, r.createElement(X, null)),
              onClick: s,
            },
          ];
        return r.createElement(
          "div",
          { className: y().AdminPageCtn },
          r.createElement(W, null),
          r.createElement(
            "div",
            { className: q.ButtonRow },
            r.createElement(
              o.rU,
              {
                to:
                  Mi.DailyDealDashboard() +
                  (window.sessionStorage.getItem("dailyDealPageIndex") || ""),
                className: (0, x.Z)(y().DashLink, q.DashLink),
              },
              r.createElement(R.Ehc, { angle: 270 }),
              r.createElement("div", null, "Return to Daily Deal Dashboard"),
            ),
            r.createElement(
              "a",
              {
                href: u.De.PARTNER_BASE_URL + "promotion/planning/dashboard",
                className: (0, x.Z)(y().DashLink, q.DashLink),
              },
              r.createElement(
                "div",
                null,
                "Go to Promotion Planning Dashboard",
              ),
            ),
          ),
          r.createElement(G.n, { tabs: c }),
          r.createElement("div", { className: P().ClearThings }),
        );
      }
      function Z(e) {
        var t, n, a, l;
        const o = (0, i.Rx)(),
          s = (0, E.IE)(null == o ? void 0 : o.GetCreatorID()),
          c = (0, E.IE)(null == o ? void 0 : o.GetInvitationAccountID()),
          m = (0, v.SZ)(() => o.BIsCancelled());
        return r.createElement(
          "div",
          { className: q.EditCtn },
          r.createElement(
            "div",
            { className: y().PageTitle },
            "Daily Deal ",
            r.createElement("span", null, "Edit Details"),
            Boolean(m) &&
              r.createElement(
                "span",
                { className: A().WarningStylesBackground },
                "!!Cancelled!!",
              ),
          ),
          r.createElement("hr", null),
          r.createElement(
            "div",
            { className: y().ColumnCtn },
            r.createElement(
              "div",
              { className: y().LeftCol },
              r.createElement(
                "div",
                { className: y().SectionCtn },
                r.createElement(b.__, null, "Start Date:"),
                r.createElement(
                  "div",
                  { className: q.PromoTitle },
                  (0, O.$1)(
                    null === (t = o.GetModel()) || void 0 === t
                      ? void 0
                      : t.rtime32_start_time,
                  ),
                ),
                !!(null == c ? void 0 : c.data) &&
                  r.createElement(
                    b.__,
                    null,
                    `Invited By: ${c.data.m_strPlayerName}`,
                  ),
                r.createElement(
                  b.__,
                  null,
                  `Created By: ${(null === (n = null == s ? void 0 : s.data) || void 0 === n ? void 0 : n.m_strPlayerName) || (null == o ? void 0 : o.GetCreatorID())}`,
                ),
                r.createElement(b.__, null, "Visibility:"),
                r.createElement(b.ji, {
                  checked: o.BHidePrices(),
                  onChange: o.SetVisiblity,
                  label: "Hide Price",
                }),
                r.createElement(
                  "div",
                  { className: P().FlexRowContainer },
                  r.createElement(b.II, {
                    type: "Text",
                    label: "Discount Event ID",
                    onChange: (e) => {
                      var t;
                      return o.SetDiscountEventID(
                        (null === (t = null == e ? void 0 : e.currentTarget) ||
                        void 0 === t
                          ? void 0
                          : t.value) || "",
                      );
                    },
                    value: o.GetDiscountEventID(),
                  }),
                  Boolean(o.BHasDiscountEventID()) &&
                    r.createElement(
                      "div",
                      { className: q.DiscountEventLinks },
                      r.createElement(
                        "a",
                        {
                          href:
                            u.De.PARTNER_BASE_URL +
                            "admin/editdiscountevent/" +
                            o.GetDiscountEventID(),
                          target: "_blank",
                        },
                        "Edit Discount Event",
                      ),
                      r.createElement(
                        "a",
                        {
                          href:
                            u.De.PARTNER_BASE_URL +
                            "admin/discounttaglookup?tag=" +
                            o.GetDiscountEventID(),
                          target: "_blank",
                        },
                        "Audit Packages for Discount Event",
                      ),
                    ),
                ),
                r.createElement(
                  "div",
                  {
                    className: (0, x.Z)(P().FlexRowContainer, q.OverrideURLCtn),
                  },
                  r.createElement(b.II, {
                    type: "Text",
                    label:
                      "Override URL (must point to the store or it will be ignored)",
                    onChange: (e) => {
                      var t;
                      return o.SetOverrideURL(
                        (null === (t = null == e ? void 0 : e.currentTarget) ||
                        void 0 === t
                          ? void 0
                          : t.value) || "",
                      );
                    },
                    placeholder: u.De.STORE_BASE_URL,
                    value: o.GetOverrideURL(),
                  }),
                  Boolean(o.BHasOverrideURL()) &&
                    r.createElement(
                      "div",
                      { className: q.TestLink },
                      Boolean(
                        (d = o.GetOverrideURL())
                          .trim()
                          .startsWith(u.De.STORE_BASE_URL) ||
                          d
                            .trim()
                            .startsWith("https://store.steampowered.com") ||
                          d.trim().startsWith("https://steam.steamchina.com"),
                      )
                        ? r.createElement(
                            "a",
                            { href: o.GetOverrideURL(), target: "_blank" },
                            "Test URL",
                          )
                        : r.createElement(
                            "div",
                            { className: y().warning },
                            "Warning: Override URL must start steam store URL",
                          ),
                    ),
                ),
                r.createElement(b.__, null, "Admin Notes:"),
                r.createElement("textarea", {
                  className: (0, x.Z)(
                    "DialogTextInputBase",
                    q.DailyDealAdminNotes,
                  ),
                  onChange: (e) => {
                    var t;
                    return o.SetNotes(
                      (null === (t = null == e ? void 0 : e.currentTarget) ||
                      void 0 === t
                        ? void 0
                        : t.value) || "",
                    );
                  },
                  value: o.GetNotes(),
                }),
              ),
              r.createElement(
                "div",
                { className: y().SectionCtn },
                r.createElement(j.bG, {
                  strDiscountEventID: o.GetDiscountEventID(),
                  nBundleID:
                    2 ==
                    (null === (a = o.GetModel()) || void 0 === a
                      ? void 0
                      : a.store_item_type)
                      ? null === (l = o.GetModel()) || void 0 === l
                        ? void 0
                        : l.store_item_id
                      : void 0,
                }),
              ),
              r.createElement(
                "div",
                { className: y().SectionCtn },
                r.createElement(Q, { oEditableDailyDeal: o }),
                "Note: deleting a deal here just deletes the Daily Deal visibility, not the underlying discount event, nor the discount itself.",
              ),
            ),
            r.createElement(K, { oEditableDailyDeal: o }),
          ),
        );
        var d;
      }
      function K(e) {
        const { oEditableDailyDeal: t } = e,
          n = (0, h.To)(t.GetDealID()),
          a = t.GetStoreItemKey(),
          i = (0, g.UZ)(t.GetStoreItemKey()),
          [l, o] = (0, D.jk)(a.id, (0, S.GV)(a.item_type), {
            include_assets: !0,
            include_basic_info: !0,
          }),
          s = new URLSearchParams(),
          c = l ? l.GetName() : `type: ${a.item_type} id: ${a.id}`;
        return (
          s.set("name", c),
          s.set("dailydealid", t.GetDealID()),
          s.set("start", "" + n),
          r.createElement(
            "div",
            { className: y().RightCol },
            r.createElement(
              "div",
              { className: y().SectionCtn },
              l
                ? r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(b.__, null, "Association:"),
                    r.createElement(H.Ce, {
                      id: a.id,
                      itemType: l.GetStoreItemType(),
                    }),
                  )
                : c,
              r.createElement(
                "div",
                { className: q.UpdateBtnCtn },
                r.createElement(
                  b.zx,
                  {
                    onClick: (e) =>
                      (0, N.AM)(
                        r.createElement(V.cP, { dealid: t.GetDealID() }),
                        (0, M.RA)(e),
                      ),
                  },
                  "Change Selected Product",
                ),
              ),
            ),
            r.createElement(
              "div",
              { className: y().SectionCtn },
              r.createElement(
                "a",
                {
                  href:
                    u.De.PARTNER_BASE_URL +
                    "public/downloadics.php?" +
                    s.toString(),
                },
                r.createElement("span", {
                  className: "iconLink icon_download icon_inline",
                }),
                "Download Calendar Reminder Event",
              ),
              r.createElement("br", null),
              r.createElement("br", null),
              r.createElement(
                "a",
                {
                  href:
                    u.De.PARTNER_BASE_URL + "doc/marketing/discounts/dailydeal",
                },
                r.createElement("span", {
                  className: "iconLink icon_documentation icon_inline",
                }),
                "See Daily Deal documentation",
              ),
              null == i
                ? void 0
                : i.map((e) =>
                    r.createElement(
                      "div",
                      { key: e.partner_id },
                      r.createElement("br", null),
                      r.createElement(
                        "a",
                        {
                          href: `${u.De.PARTNER_BASE_URL}promotion/dailydeals/dashboard/${e.partner_id}`,
                        },
                        "See ",
                        e.name,
                        " Daily Deal Dashboard",
                      ),
                    ),
                  ),
            ),
          )
        );
      }
      function Q(e) {
        const { oEditableDailyDeal: t } = e,
          n = (0, v.SZ)(() => t.BIsDirty()),
          a = (0, v.SZ)(() => t.BIsCancelled());
        return r.createElement(
          "div",
          { className: q.ButtonRow },
          !a &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                b.KM,
                {
                  disabled: !n,
                  onClick: (e) =>
                    (0, N.AM)(r.createElement(Y, null), (0, M.RA)(e)),
                },
                (0, O.Xx)(n ? "#Button_Save" : "#Button_Saved"),
              ),
              r.createElement(
                b.zx,
                {
                  onClick: (e) => {
                    (0, N.AM)(
                      r.createElement(J, {
                        oEditableDailyDeal: t,
                        bDelete: !1,
                      }),
                      (0, M.RA)(e),
                    );
                  },
                },
                "Delete",
              ),
            ),
          !a &&
            r.createElement(
              b.zx,
              {
                disabled: !n,
                onClick: (e) =>
                  (0, N.AM)(
                    r.createElement(T.uH, {
                      strTitle: (0, O.Xx)("#Dialog_AreYouSure"),
                      strDescription: (0, O.Xx)("#DailyDeals_UnsavedChanges"),
                      onOK: () => t.RevertChanges(),
                    }),
                    (0, M.RA)(e),
                  ),
              },
              (0, O.Xx)("#Button_Revert"),
            ),
        );
      }
      function Y(e) {
        const { closeModal: t } = e,
          n = (0, i.Rx)(),
          { fnSaveDailyDeal: a } = (0, h.oQ)(),
          [l, o] = r.useState(!0),
          [s, c] = r.useState(!1);
        return (
          r.useEffect(() => {
            a(n.GetModel())
              .then(c)
              .catch((e) => c(!1))
              .finally(() => o(!1));
          }, []),
          r.createElement(
            T.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: t },
            Boolean(l)
              ? r.createElement(L.V, {
                  size: "medium",
                  position: "center",
                  string: (0, O.Xx)("#Saving"),
                })
              : Boolean(s)
                ? r.createElement("div", null, "Save successful")
                : r.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later",
                  ),
          )
        );
      }
      function J(e) {
        const { oEditableDailyDeal: t, closeModal: n, bDelete: a } = e,
          { fnRemoveDailyDeal: i, fnCancelDailyDeal: l } = (0, h.oQ)(),
          [o, s] = (0, F.K4)(t.GetModel()),
          [c] = (0, D.jk)(o, s, { include_basic_info: !0, include_assets: !0 }),
          m = (0, I.tx)();
        return m.bLoading
          ? r.createElement(I.NT, {
              state: m,
              strDialogTitle: a ? "Remove Daily Deal" : "Cancel Daily Deal",
              closeModal: n,
            })
          : r.createElement(
              T.uH,
              {
                strTitle: a ? "Remove Daily Deal?" : "Cancel Daily Deal?",
                strDescription: a
                  ? "Are you sure you want to remove the daily deal for the following? This can't be undone, but a new one can be created if needed. This will only delete the daily deal featuring; this has no effect on the discount event associated with the daily deal."
                  : "Are you sure you want to cancel this daily deal? A cancelled deal will no longer appear on the calendar, however, it will appear in the list of cancelled daily deals on the partner daily deal dashboard. Cancelled daily deals can no longer be edited.",
                onCancel: n,
                onOK: () => {
                  m.fnSetLoading(!0),
                    (a ? i(t.GetDealID()) : l(t.GetDealID()))
                      .then((e) => {
                        e
                          ? (window.location.href =
                              u.De.PARTNER_BASE_URL +
                              "promotion" +
                              Mi.DailyDealDashboard())
                          : (m.fnSetError(!0),
                            m.fnSetStrError(
                              `Failed To ${a ? "Delete" : "Cancel"}, check console`,
                            ));
                      })
                      .catch((e) => {
                        m.fnSetError(!0),
                          m.fnSetStrError(
                            `Failed To ${a ? "Delete" : "Cancel"}, check console`,
                          );
                      });
                },
              },
              Boolean(c)
                ? r.createElement(
                    "div",
                    { className: q.DeleteDialogBody },
                    r.createElement(
                      "div",
                      null,
                      r.createElement("img", {
                        src:
                          c.GetAssets().GetSmallCapsuleURL() ||
                          c.GetAssets().GetHeaderURL(),
                      }),
                    ),
                    r.createElement(
                      "span",
                      null,
                      "Name: ",
                      c.GetName(),
                      " (",
                      c.GetID(),
                      ")",
                    ),
                  )
                : r.createElement(L.V, {
                    size: "medium",
                    position: "center",
                    string: (0, O.Xx)("#Loading"),
                  }),
            );
      }
      var $ = n(15282),
        ee = n(81033),
        te = n(33687),
        ne = n(83831),
        ae = n(7492),
        ie = n(59350),
        le = n(36876),
        re = n(46984),
        oe = n(71472),
        se = n(85556),
        ce = n(80751),
        me = n.n(ce),
        de = n(45492),
        ue = n(97266),
        pe = n(64936),
        _e = n(59728),
        he = n(72226),
        ge = n(58538);
      function ve(e) {
        const { fnCreateCalendarEntries: t, nMaxWeeksToDisplay: n } = e,
          a = Math.ceil(n / De) - 1,
          [i, l] = (0, oe.Ar)("page", 0),
          o = i < 0 ? 0 : i >= a ? a : i,
          s = (0, F.wv)(pe.JW.GetTimeNowWithOverride()),
          [c, m] = r.useState(s + o * re._H.PerWeek * De),
          d = (e) => {
            window.sessionStorage.setItem("dailyDealPageIndex", `?page=${e}`),
              l(e),
              m(s + e * re._H.PerWeek * De);
          };
        return r.createElement(
          "div",
          { className: he.CalendarGridCtn },
          r.createElement(
            "div",
            { className: he.NavBar },
            r.createElement(
              "div",
              { className: he.NavButtonLeftCtn },
              o > 0 &&
                r.createElement(
                  b.zx,
                  { className: he.NavButton, onClick: () => d(o - 1) },
                  r.createElement(ge.Ehc, { direction: "left" }),
                ),
            ),
            r.createElement(
              "div",
              { className: he.NavButtonRightCtn },
              o < a &&
                r.createElement(
                  b.zx,
                  { className: he.NavButton, onClick: () => d(o + 1) },
                  r.createElement(ge.Ehc, { direction: "right" }),
                ),
            ),
          ),
          r.createElement(
            "div",
            { className: he.CalendarGrid },
            r.createElement(Ee, null),
            t(c),
          ),
        );
      }
      function Ee() {
        const e = new Array();
        for (let t = 0; t < 7; ++t)
          e.push(
            r.createElement(
              "div",
              { className: he.CalendarDate, key: "calheader_" + t },
              r.createElement(
                "div",
                { className: he.DayOfTheWeek },
                (0, O.Xx)("#DailyDeals_Day_" + t),
              ),
            ),
          );
        return r.createElement("div", { className: he.CalendarRow }, e);
      }
      var Se = n(14790);
      const De = 4;
      function fe(e) {
        const t = (0, h.Mg)(),
          { rgAppIDs: n, rgBundleIDs: a } = (0, ie.lY)(t),
          i = (0, te.og)(n),
          l = (0, te.o6)(a);
        return u.L7.is_support
          ? r.createElement(
              Se.LG,
              { value: { mapAppDiscounts: i, mapBundleDiscounts: l } },
              r.createElement(ve, {
                nMaxWeeksToDisplay: 1e3,
                fnCreateCalendarEntries: (e) => {
                  const t = new Array();
                  for (let n = 0; n < De; ++n) {
                    const a = e + n * re._H.PerWeek;
                    t.push(
                      r.createElement(ye, { key: "calrow" + n, rtFirstDay: a }),
                    );
                  }
                  return t;
                },
              }),
            )
          : null;
      }
      function ye(e) {
        const { rtFirstDay: t } = e,
          n = new Array();
        for (let e = 0; e < 7; ++e) {
          const a = (0, F.Rf)(t + e * re._H.PerDay);
          n.push(r.createElement(Ie, { key: "calday" + a, rtDay: a }));
        }
        return r.createElement(
          "div",
          { className: he.CalendarRow },
          n.map((e) =>
            r.createElement(
              "div",
              { className: he.CalendarDate, key: "col_" + e.key },
              e,
            ),
          ),
        );
      }
      function be(e) {
        const { rtDay: t, children: n } = e,
          a = pe.JW.GetTimeNowWithOverride(),
          i = t < a,
          l = (0, F.Rf)(t) == (0, F.Rf)(a),
          o = (0, F.g8)(t);
        return r.createElement(
          "div",
          {
            className: (0, x.Z)({
              [he.DealSection]: !0,
              [he.PastEntry]: i && !l,
              [he.TodayEntry]: l,
              [he.FutureEntry]: !i && !l,
            }),
          },
          r.createElement("div", { className: he.DayName }, o),
          n,
        );
      }
      function Ie(e) {
        const { rtDay: t } = e,
          n = (0, h.nt)(t),
          a = pe.JW.GetTimeNowWithOverride(),
          i = new Array(),
          l = t < a,
          o = (0, F.Rf)(t) == (0, F.Rf)(a);
        if (!l || (o && u.L7.is_support))
          if (1 == (null == n ? void 0 : n.length) && (0, h.W7)(n[0]))
            i.push(
              r.createElement(Pe, { key: "block_" + t, rtDay: t, bAdd: !1 }),
            );
          else {
            for (let e = n ? n.length : 0; e < 4; ++e)
              i.push(
                r.createElement(
                  "div",
                  {
                    key: "slot" + e,
                    className: (0, x.Z)(he.DailyDealCtn, he.Available),
                  },
                  r.createElement(
                    b.zx,
                    {
                      onClick: (e) => {
                        (0, N.AM)(
                          r.createElement(H.WR, { rtDay: t }),
                          (0, M.RA)(e),
                        );
                      },
                    },
                    (0, O.Xx)("#DailyDeals_Select"),
                  ),
                ),
              );
            (n && 0 != (null == n ? void 0 : n.length)) ||
              i.push(
                r.createElement(Pe, { key: "block_" + t, rtDay: t, bAdd: !0 }),
              );
          }
        else
          o &&
            1 == (null == n ? void 0 : n.length) &&
            (0, h.W7)(n[0]) &&
            i.push(
              r.createElement(Pe, { key: "block_" + t, rtDay: t, bAdd: !1 }),
            );
        return r.createElement(
          be,
          { rtDay: t },
          null == n
            ? void 0
            : n.map((e) => r.createElement(Ce, { key: e.gid, oDailyDeal: e })),
          i,
        );
      }
      function Ce(e) {
        var t;
        const { oDailyDeal: n } = e,
          a = (0, ee.vc)(
            null === (t = n.discount_event_id) || void 0 === t
              ? void 0
              : t.toString(),
          );
        if ((0, h.W7)(n)) {
          const e =
            (null == a ? void 0 : a.name) || (0, O.Xx)(n.store_item_name);
          return r.createElement(
            "div",
            { className: he.Blocked },
            r.createElement(
              _e.HP,
              { toolTipContent: (0, O.Xx)("#DailyDeals_Blackout_ttip") },
              e,
            ),
          );
        }
        const [i, l] = (0, F.K4)(n);
        return -1 == l
          ? r.createElement(
              "div",
              { className: (0, x.Z)(he.DailyDealCtn, he.Reserved) },
              n.store_item_name,
            )
          : r.createElement(Ae, { oDailyDeal: n });
      }
      function ke(e) {
        const { oDailyDeal: t, bShowName: n } = e,
          [a, i] = (0, F.K4)(t),
          [l, o] = (0, D.jk)(a, i, {
            include_basic_info: !0,
            include_assets: !0,
          });
        return l || 2 == o
          ? r.createElement(
              r.Fragment,
              null,
              (null == l ? void 0 : l.GetAssets().GetHeaderURL())
                ? r.createElement("img", {
                    src: l.GetAssets().GetHeaderURL(),
                    className: he.DailyDealImage,
                  })
                : r.createElement(
                    "div",
                    { className: he.DailyDealImageFallback },
                    2 == i
                      ? (0, O.Xx)("#DailyDeals_Bundle")
                      : (0, O.Xx)("#DailyDeals_ImageMissing"),
                  ),
              Boolean(n) &&
                r.createElement(
                  "div",
                  null,
                  (null == l ? void 0 : l.GetName()) || "unknown",
                  " (",
                  a,
                  ")",
                ),
              r.createElement(
                "div",
                null,
                r.createElement(j.SG, { oDailyDeal: t }),
                (0, F.lw)(t) &&
                  r.createElement(
                    _e.HP,
                    { toolTipContent: (0, F.$d)(t) },
                    r.createElement(
                      "div",
                      { className: he.NotesIcon },
                      r.createElement(R.daM, null),
                    ),
                  ),
              ),
            )
          : r.createElement(
              "div",
              { className: he.DailyDealCtn },
              r.createElement(L.V, {
                size: "small",
                position: "center",
                string: `Loading ${a}-${i}`,
              }),
            );
      }
      function Ae(e) {
        const { oDailyDeal: t } = e;
        return r.createElement(
          o.rU,
          {
            to: Mi.DailyDealEditor(t.gid),
            className: (0, x.Z)({ [he.DailyDealCtn]: !0, [he.Taken]: !0 }),
          },
          r.createElement(ke, Object.assign({}, e)),
        );
      }
      function we(e) {
        const { rtDay: t, bAdd: n } = e,
          a = r.createRef(),
          i = (0, h.Oc)(),
          { rgMajorSaleDiscountEvents: l, eResult: o } = (0, ee.zp)(!1),
          s = (0, r.useMemo)(() => {
            let e = [{ label: "", data: "0" }];
            return (
              null == l ||
                l.forEach((t) => {
                  e = e.concat({ label: t.name, data: t.id });
                }),
              e
            );
          }, [l]);
        return r.createElement(
          T.uH,
          {
            strTitle: "Block out",
            onOK: () => {
              var e;
              return i(
                t,
                n,
                parseInt(
                  null === (e = a.current) || void 0 === e
                    ? void 0
                    : e.state.value.data,
                ),
              );
            },
            closeModal: e.closeModal,
            onCancel: e.closeModal,
            strDescription:
              "Are you sure you want to " +
              (n ? "add" : "remove") +
              " this block out date?  Block out prevents daily deals from being scheduled on this date: " +
              (0, O.$1)(t),
          },
          n &&
            r.createElement(
              "div",
              { className: he.MajorSaleDropdown },
              r.createElement(b.ry, {
                strDefaultLabel: "",
                rgOptions: s,
                selectedOption: "0",
                label: "Major Sale",
                dropDownControlRef: a,
              }),
            ),
        );
      }
      function Pe(e) {
        const { rtDay: t, bAdd: n } = e;
        return r.createElement(
          b.zx,
          {
            onClick: (e) => {
              (0, N.AM)(
                r.createElement(we, { rtDay: t, bAdd: n }),
                (0, M.RA)(e),
              );
            },
          },
          r.createElement(
            _e.HP,
            {
              toolTipContent:
                "Block out days prevent users or Admin from registering daily deals",
            },
            n ? "Block out day (VO)" : "Remove Block out",
          ),
        );
      }
      function Te(e) {
        const [t, n] = r.useState(""),
          [a] = r.useState(new de.Ar()),
          [i, l] = r.useState(new Array()),
          [o, s] = r.useState(!1),
          c = r.useCallback(
            (e) =>
              (0, se.mG)(this, void 0, void 0, function* () {
                var t;
                s(!0);
                const n = { json: 1, search: e },
                  a = `${u.De.PARTNER_BASE_URL}promotion/dailydeals/ajaxsearcharchives`,
                  i = yield me().get(a, { params: n, withCredentials: !0 });
                200 == (null == i ? void 0 : i.status) &&
                  1 ==
                    (null === (t = i.data) || void 0 === t
                      ? void 0
                      : t.success) &&
                  l(
                    i.data.matches.sort(
                      (e, t) => t.rtime32_start_time - e.rtime32_start_time,
                    ),
                  ),
                  s(!1);
              }),
            [],
          ),
          m = r.useCallback(
            (e) => {
              var t, i;
              const l =
                null ===
                  (i =
                    null === (t = null == e ? void 0 : e.target) || void 0 === t
                      ? void 0
                      : t.value) || void 0 === i
                  ? void 0
                  : i.toLocaleLowerCase();
              if (l)
                if ((a.Cancel(), n(l), l.trim().length > 1)) {
                  const e = 1e3;
                  a.Schedule(e, () => c(l));
                } else a.Cancel();
            },
            [a, c],
          ),
          { rgAppIDs: d, rgBundleIDs: p } = (0, ie.lY)(i),
          _ = (0, te.og)(d, !1),
          h = (0, te.o6)(p, !1);
        return r.createElement(
          Se.LG,
          { value: { mapAppDiscounts: _, mapBundleDiscounts: h } },
          r.createElement(
            "div",
            { className: ue.SearchCtn },
            r.createElement(
              "div",
              null,
              "Search Upcoming, Active, and Archived Daily Deals",
            ),
            r.createElement("hr", null),
            r.createElement(b.II, {
              type: "text",
              label: "Search",
              placeholder: "Enter Name or App ID (3 characters at least)",
              onChange: m,
              disabled: o,
            }),
            Boolean(o) &&
              r.createElement(L.V, { size: "small", position: "center" }),
            Boolean(t && i.length > 0)
              ? r.createElement(
                  r.Fragment,
                  null,
                  r.createElement(
                    "div",
                    { className: "DialogLabel" },
                    "Matching Results:",
                  ),
                  i.map((e) => r.createElement(Ne, { deal: e, key: e.gid })),
                )
              : r.createElement(
                  "div",
                  { className: "DialogLabel" },
                  "No matching results",
                ),
          ),
        );
      }
      function Ne(e) {
        const { deal: t } = e,
          n = (0, Se.ns)(),
          {
            nDiscountPercentHigh: a,
            dtDiscountStart: i,
            dtDiscountEnd: l,
          } = r.useMemo(() => (0, h.lI)(t, n), [t, n]);
        let o = r.useMemo(() => (0, h.sm)(t, a), [t, a]),
          s = null;
        return (
          o == h.O7.DealFailed &&
            (s = r.createElement(xt, {
              strMessage: (0, O.Xx)("#DailyDeals_DealFailed"),
            })),
          o == h.O7.DealCompleted &&
            (s = r.createElement(
              xt,
              null,
              r.createElement(Mt, {
                deal: t,
                eDealState: o,
                dtDiscountStart: i,
                dtDiscountEnd: l,
              }),
            )),
          o == h.O7.Cancelled &&
            (s = r.createElement(xt, {
              strMessage: (0, O.Xx)("#DailyDeals_DealCancelled"),
            })),
          r.createElement(
            "div",
            { className: ue.ResultRow },
            r.createElement(
              "div",
              {
                style: {
                  minWidth: "400px",
                  wordWrap: "break-word",
                  maxWidth: "400px",
                },
              },
              r.createElement(Ae, { oDailyDeal: t, bShowName: !0 }),
            ),
            r.createElement(
              "span",
              {
                style: { width: "200px", paddingLeft: 10, alignSelf: "center" },
              },
              (0, O.$1)(t.rtime32_start_time, !1),
            ),
            s,
          )
        );
      }
      var Re = n(47316),
        Ge = n.n(Re),
        Le = n(95518),
        Be = n(62210),
        xe = n(82756),
        Me = n(46836),
        Oe = n(16649),
        Fe = n(7073);
      const Ue = 4;
      function He(e) {
        const { strInviteID: t } = e,
          n = (0, le.Nt)(t),
          a = (0, Se.ns)(),
          i = (0, te.HN)(),
          l = (0, Fe.u3)(n.packageid),
          { rgDiscountEvents: o, eResult: s } = (0, ee.BS)(
            n.primary_partnerid,
            !0,
          ),
          c = r.useMemo(() => {
            var e;
            let t = [];
            return (
              (null == n ? void 0 : n.appid)
                ? (t = Ke(
                    null === (e = a.mapAppDiscounts) || void 0 === e
                      ? void 0
                      : e.get(n.appid),
                    o,
                  ))
                : (null == n ? void 0 : n.packageid) &&
                    (null == l ? void 0 : l.length) > 0
                  ? (t = Ke({ discounts: l }, o))
                  : (null == n ? void 0 : n.bundleid) && i && (t = i),
              t
            );
          }, [
            n.appid,
            null == n ? void 0 : n.packageid,
            null == n ? void 0 : n.bundleid,
            i,
            a,
            o,
            l,
          ]);
        return !n ||
          null == s ||
          (n.appid && !(null == a ? void 0 : a.mapAppDiscounts)) ||
          (n.packageid && !l) ||
          (n.bundleid && !i)
          ? r.createElement(L.V, {
              string: (0, O.Xx)("#DailyDeals_LoadingDiscountInfo"),
              size: "medium",
              position: "center",
            })
          : r.createElement(ve, {
              nMaxWeeksToDisplay: 26,
              fnCreateCalendarEntries: (e) => {
                const n = new Array();
                for (let a = 0; a < De; ++a) {
                  const i = e + a * re._H.PerWeek;
                  n.push(
                    r.createElement(Ve, {
                      key: "calrow" + a,
                      rtFirstDay: i,
                      strInviteID: t,
                      rgDiscountConflict: c,
                    }),
                  );
                }
                return n;
              },
            });
      }
      function Ve(e) {
        const { rtFirstDay: t, strInviteID: n, rgDiscountConflict: a } = e,
          i = (0, le.Nt)(n),
          l = new Array();
        for (let e = 0; e < 7; ++e) {
          const o = (0, F.Rf)(t + e * re._H.PerDay);
          let s,
            c = "",
            m = !1,
            d = "",
            u = null;
          a.length > 0 &&
            a.forEach((e) => {
              e.rtConflictStart <= o && e.rtConflictEnd > o
                ? ((null == i ? void 0 : i.appid) ||
                    (null == i ? void 0 : i.packageid)) &&
                  e.rtDiscountStart <= o &&
                  o + re._H.PerDay <= e.rtDiscountEnd
                  ? (!s || e.nHighestDiscount > s) &&
                    ((s = e.nHighestDiscount),
                    (c = e.strDiscountName),
                    (m = e.bMajorSale))
                  : (d && (d += ", "),
                    (null == i ? void 0 : i.bundleid)
                      ? (d += (0, O.Xx)("#DailyDeals_BundleCooldownConflict"))
                      : (d += e.description))
                : !u && e.rtConflictStart > o && (u = e);
            }),
            l.push(
              r.createElement(Xe, {
                key: "calday" + o,
                rtDay: o,
                nDiscount: s,
                bMajorSale: m,
                strInviteID: n,
                strConflict: d,
                strDiscountName: c,
                nextDiscount: u,
              }),
            );
        }
        return r.createElement(
          "div",
          { className: he.CalendarRow },
          l.map((e) =>
            r.createElement(
              "div",
              { className: he.CalendarDate, key: "col_" + e.key },
              e,
            ),
          ),
        );
      }
      function Xe(e) {
        const {
            rtDay: t,
            strInviteID: n,
            strConflict: a,
            nextDiscount: i,
            nDiscount: l,
            strDiscountName: o,
            bMajorSale: s,
          } = e,
          c = (0, h.nt)(t),
          m = (0, h.hc)(t),
          d =
            (null == m
              ? void 0
              : m.filter((e) => e.eType == h.Lu.k_ScheduleSlot).length) || 0,
          u = null == m ? void 0 : m.find((e) => e.eType == h.Lu.k_BlockDate),
          p = Boolean(u),
          _ = (null == c ? void 0 : c.length) || 0;
        let g = h.Ef;
        if (!a && (null == i ? void 0 : i.rtConflictStart)) {
          const e = Math.floor(
            (i.rtConflictStart + re._H.PerHour - t) / re._H.PerDay,
          );
          (0, Be.X)(
            i.rtConflictStart > t && e > 0,
            "days until next cooldown conflict is not greater than 0",
          ),
            e > 0 && (g = Math.min(h.Ef, h.NB + (e - 1)));
        }
        const v = pe.JW.GetTimeNowWithOverride(),
          E = t > v,
          S = Ue - (_ + d),
          D = !a && E && !p && S > 0 && !s;
        return r.createElement(
          be,
          { rtDay: t },
          r.createElement(qe, { rgDailyDeals: c }),
          Boolean(D) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(We, {
                nAvailableSlots: S,
                onClick: (e) => {
                  (0, N.AM)(
                    l
                      ? r.createElement(je, { rtDay: t, strInviteID: n })
                      : r.createElement(Me.zG, {
                          rtDay: t,
                          strInviteID: n,
                          nMaxDiscountDays: g,
                          nextDiscount: i,
                        }),
                    (0, M.RA)(e),
                  );
                },
              }),
              Boolean(l) &&
                r.createElement(
                  "div",
                  { className: he.ExistingDiscountCtn },
                  r.createElement(
                    "div",
                    { className: he.Title },
                    (0, O.Xx)("#DailyDeals_ExistingDiscount"),
                  ),
                  r.createElement("div", null, o),
                  r.createElement("div", null, l, " %"),
                ),
            ),
          Boolean(s) &&
            r.createElement(
              "div",
              { className: he.ExistingDiscountCtn },
              r.createElement(
                "div",
                { className: he.Title },
                (0, O.Xx)("#DailyDeals_ExistingDiscount"),
              ),
              r.createElement("div", null, o),
              r.createElement("div", null, l, " %"),
            ),
          Boolean(!D && E && a) && r.createElement(Ze, { strConflict: a }),
          Boolean(!D && E && !a) &&
            r.createElement(ze, {
              strReason: p ? (null == u ? void 0 : u.name) : void 0,
            }),
        );
      }
      function je(e) {
        const { rtDay: t, strInviteID: n, closeModal: a } = e,
          i = (0, ae.Z)(),
          l = (0, le.Nt)(n),
          { fnAcceptInvitation: o } = (0, le.fZ)(),
          s = (0, I.tx)();
        if (!l)
          return r.createElement(T.JX, {
            strDescription: (0, O.Xx)("#DailyDeals_NoInvitation"),
            closeModal: a,
          });
        const c = (0, O.Xx)("#DailyDeals_CreateNew", (0, O.$1)(t));
        return s.bLoading
          ? r.createElement(I.NT, {
              state: s,
              strDialogTitle: c,
              closeModal: a,
            })
          : r.createElement(T.uH, {
              onCancel: a,
              strTitle: c,
              strDescription: (0, O.Xx)("#DailyDeals_ReuseDesc"),
              onOK: () =>
                (0, se.mG)(this, void 0, void 0, function* () {
                  s.fnSetLoading(!0);
                  let e = 1;
                  if (i != l.primary_partnerid)
                    (e = 15),
                      console.error(
                        `AcceptInviteWithExistingDiscount: invite partner id ${l.primary_partnerid} does not match starting partnerid ${i}`,
                      );
                  else
                    try {
                      e = (yield o(n, t, 0, "", !0)).errorCode;
                    } catch (t) {
                      const n = (0, Oe.l)(t);
                      console.error(
                        "AcceptInviteWithExistingDiscount hit error: " +
                          t.strErrorMsg,
                      ),
                        (e = n.errorCode);
                    }
                  1 == e
                    ? s.fnSetSuccess(!0)
                    : (s.fnSetError(!0), s.fnSetStrError((0, Me.ST)(e)));
                }),
            });
      }
      function qe(e) {
        const { rgDailyDeals: t } = e;
        return r.createElement(
          r.Fragment,
          null,
          null == t
            ? void 0
            : t.map((e) =>
                r.createElement(
                  "div",
                  {
                    key: e.gid,
                    className: (0, x.Z)({
                      [he.DailyDealCtn]: !0,
                      [he.Taken]: !0,
                      [he.InviteTaken]: !0,
                    }),
                  },
                  r.createElement(ke, { oDailyDeal: e }),
                ),
              ),
        );
      }
      function We(e) {
        const { nAvailableSlots: t, onClick: n } = e;
        return r.createElement(
          "div",
          { className: (0, x.Z)(he.DailyDealCtn, he.Available) },
          r.createElement(
            "div",
            { className: he.DailyDealAvailableSlots },
            (0, O.Xx)("#DailyDeals_NumAvailable", t),
          ),
          r.createElement(
            b.zx,
            { onClick: n },
            (0, O.Xx)("#DailyDeals_Select"),
          ),
        );
      }
      function ze(e) {
        const { strReason: t } = e;
        return r.createElement(
          "div",
          { className: (0, x.Z)(he.DailyDealCtn, he.Blocked) },
          !!t && r.createElement("div", null, t),
          (0, O.Xx)("#DailyDeals_UnavailableDate"),
        );
      }
      function Ze(e) {
        const { strConflict: t } = e;
        return r.createElement(
          _e.HP,
          {
            className: (0, x.Z)(he.DailyDealCtn, he.ConflictWarning),
            toolTipContent: t,
            direction: "top",
          },
          r.createElement(
            "div",
            null,
            (0, O.Xx)("#DiscountDashboard_ConflictWarning"),
          ),
          r.createElement(R.WWB, null),
        );
      }
      function Ke(e, t) {
        let n = new Array();
        const a = (h.NB - 1) * re._H.PerDay,
          i = a + Le.Eh * re._H.PerDay,
          l = Le.Eh * re._H.PerDay,
          r = Number.parseInt(
            "" + (0, xe.kQ)("most_recent_price_increase", "application_config"),
          );
        return (
          (0, F.Rf)(Math.floor(Date.now() / 1e3)) < r + Le.LX &&
            n.push({
              rtConflictStart: r - i,
              rtConflictEnd: r + l,
              description: (0, O.Xx)("#DailyDeals_PriceIncrease"),
              bMajorSale: !1,
            }),
          e && !e.is_free && e.discounts && 0 != e.discounts.length
            ? (e.discounts.forEach((e) => {
                var r;
                const o =
                  null !== (r = e.strDiscountName) && void 0 !== r
                    ? r
                    : (0, O.Xx)("#Existing_Discount", (0, O.$1)(e.rtStartDate));
                let s = !1;
                if (e.discountEventID && t) {
                  const n = t.find((t) => t.id == e.discountEventID);
                  n && (s = "unique" == n.collision_type);
                }
                n.push({
                  rtConflictStart: s ? e.rtStartDate - a : e.rtStartDate - i,
                  rtConflictEnd: s ? e.rtEndDate : e.rtEndDate + l,
                  description: o,
                  rtDiscountStart: e.rtStartDate,
                  rtDiscountEnd: e.rtEndDate,
                  nHighestDiscount: e.nDiscountPct,
                  strDiscountName: e.strDiscountName,
                  bMajorSale: s,
                });
              }),
              n.sort((e, t) => e.rtConflictStart - t.rtConflictStart),
              n)
            : n
        );
      }
      var Qe = n(3928),
        Ye = n(17597),
        Je = n(82624),
        $e = n(68553),
        et = n(37047);
      function tt(e) {
        const { closeModal: t, storeItemID: n, storeItemType: a } = e,
          [i, l] = r.useState(() => {
            const e = (0, S.Bo)(n, a);
            return Boolean(e) ? e : {};
          }),
          o = r.useMemo(() => (0, S.B_)(i), [i]),
          [s, c] = r.useState(30),
          { fnCreatePromoInvite: m } = (0, le.LL)(),
          [d, u] = r.useState(null),
          p = Date.now() / 1e3,
          _ = (0, I.tx)();
        return _.bLoading
          ? r.createElement(I.NT, {
              state: _,
              strDialogTitle: "Send an Invitation",
              closeModal: t,
            })
          : r.createElement(
              T.uH,
              {
                strTitle: "Send an Invitation",
                strDescription:
                  "Search for a game, bundle, or package to send a Daily Deal invitation.",
                bOKDisabled: !(i.appid || i.bundleid || i.packageid) || !d,
                onOK: () => {
                  _.fnSetLoading(!0);
                  const e = {
                    type: 1,
                    oInviteItem: i,
                    rtExpireTime: (0, et._)(p + s * re._H.PerDay),
                    nPartnerID: d,
                  };
                  m(e)
                    .then((e) => {
                      1 == e
                        ? (_.fnSetStrSuccess(
                            "Invitation created! We sent an email to the users with communication permissions and publish app permission for the selected game. You can close this dialog.",
                          ),
                          _.fnSetSuccess(!0))
                        : 13 == e
                          ? (_.fnSetError(!0),
                            _.fnSetStrError(
                              "Unable to create invitation. The partner does not have a user set to receive communications.",
                            ))
                          : (_.fnSetError(!0),
                            _.fnSetStrError(
                              "Failed to create invitation - check console/network logs",
                            ));
                    })
                    .catch((e) => {
                      _.fnSetError(!0),
                        _.fnSetStrError(
                          "Failed to create invitation - check console/network logs",
                        );
                    });
                },
                onCancel: t,
              },
              r.createElement("br", null),
              r.createElement(
                "div",
                { className: Ye.DialogCtn },
                r.createElement(V.Ko, {
                  oChoice: i,
                  fnSetChoice: l,
                  bExcludeBundle: !1,
                  bExcludePackage: !1,
                }),
                Boolean(i.appid || i.bundleid || i.packageid) &&
                  r.createElement(
                    r.Fragment,
                    null,
                    r.createElement(H.uF, {
                      storeItemId: null == o ? void 0 : o.id,
                      itemType: (0, S.GV)(null == o ? void 0 : o.item_type),
                    }),
                    r.createElement(H.Ce, {
                      id: null == o ? void 0 : o.id,
                      itemType: (0, S.GV)(null == o ? void 0 : o.item_type),
                    }),
                  ),
              ),
              r.createElement(
                "div",
                { className: Ye.DialogCtn },
                r.createElement(b.II, {
                  value: s,
                  label:
                    "Number of days that the invite is valid for (default is 30)",
                  min: "1",
                  max: "360",
                  type: "number",
                  onChange: (e) => c(Number.parseInt(e.currentTarget.value)),
                }),
              ),
              Boolean(o) &&
                r.createElement(nt, {
                  nPartnerIDToContact: d,
                  fnSetPartnerIDToContact: u,
                  storeItemKey: o,
                }),
            );
      }
      function nt(e) {
        const {
          nPartnerIDToContact: t,
          fnSetPartnerIDToContact: n,
          storeItemKey: a,
        } = e;
        return r.createElement(
          "div",
          null,
          r.createElement(Je.x, {
            nPartnerID: t,
            fnUpdatePartnerID: n,
            storeItemKey: a,
          }),
          r.createElement($e.Z, { nPartnerID: t, storeItemFilter: a }),
        );
      }
      var at = n(58509);
      function it(e) {
        return r.createElement(
          "div",
          { className: at.InfoRow },
          r.createElement(
            "div",
            { className: at.InfoSection },
            r.createElement(
              "div",
              { className: at.Title },
              (0, O.Xx)("#DailyDeals_Info_How"),
            ),
            r.createElement(
              "div",
              null,
              (0, O.Xx)("#DailyDeals_Info_How_Overview"),
            ),
            r.createElement(
              "ul",
              null,
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How1")),
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How2")),
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How3")),
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How4")),
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_How5")),
            ),
            r.createElement(
              "div",
              { className: at.MoreInfo },
              (0, O.kQ)(
                "#DailyDeals_Info_Question",
                r.createElement(
                  "a",
                  {
                    href:
                      u.De.HELP_BASE_URL +
                      "en/wizard/HelpWithPublishing?issueid=919",
                  },
                  (0, O.Xx)("#DailyDeals_Info_Contact"),
                ),
              ),
            ),
          ),
          r.createElement(
            "div",
            { className: at.InfoSection },
            r.createElement(
              "div",
              { className: at.Title },
              (0, O.Xx)("#DailyDeals_Info_Best"),
            ),
            r.createElement(
              "ul",
              null,
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_Best1")),
              r.createElement("li", null, (0, O.Xx)("#DailyDeals_Info_Best2")),
            ),
            r.createElement(
              "div",
              { className: at.MoreInfo },
              (0, O.yu)(
                "#DailyDeals_Info_Best_ReadMore",
                r.createElement("a", {
                  href: `${u.De.PARTNER_BASE_URL}doc/marketing/discounts/dailydeal`,
                  target: "_blank",
                }),
              ),
            ),
          ),
        );
      }
      function lt(e) {
        return r.createElement(
          "div",
          { className: at.InfoRow },
          r.createElement(
            "div",
            { className: at.InfoSection },
            r.createElement(
              "div",
              { className: at.Title },
              (0, O.Xx)("#DailyDeals_Visibility"),
            ),
            r.createElement("img", {
              className: at.DDVisibilityExample,
              src: "https://steamcdn-a.akamaihd.net/steamcommunity/public/images/steamworks_docs/english/DailyDealVisibilityExample.jpg",
              alt: "Daily Deal Example",
            }),
          ),
        );
      }
      function rt() {
        return r.createElement(
          "div",
          { className: at.PartnerFooter },
          r.createElement(it, null),
          r.createElement(lt, null),
        );
      }
      var ot = n(14609),
        st = n(15690),
        ct = n(34819),
        mt = n(76330);
      const dt = 6;
      function ut(e) {
        const t = (0, le.Bd)(1),
          [n, a] = (0, r.useState)(""),
          [i, l] = (0, r.useState)(0),
          { rgAppIDs: o, rgBundleIDs: s } = (0, ie.lY)(null, t);
        (0, D.wZ)(o, ie.$N), (0, D.Jx)(s, ie.$N);
        const c = r.useMemo(() => {
            let e = new Set(t.map((e) => e.invite_account));
            return Array.from(e);
          }, [t]),
          m = r.useMemo(() => {
            let e = [];
            return (
              t.map((t) => {
                if (!(i > 0 && t.invite_account != i)) {
                  if ((null == n ? void 0 : n.trim().length) > 0) {
                    const e = Number.parseInt(n);
                    let a = null;
                    if (
                      (t.appid
                        ? (a = st.Z.Get().GetApp(t.appid))
                        : t.bundleid
                          ? (a = st.Z.Get().GetBundle(t.bundleid))
                          : t.packageid &&
                            (a = st.Z.Get().GetPackage(t.packageid)),
                      a &&
                        a.GetID() != e &&
                        !a.GetName().toLowerCase().includes(n.toLowerCase()))
                    )
                      return;
                  }
                  e.push(t);
                }
              }),
              e
            );
          }, [t, n, i]);
        return u.L7.is_support
          ? r.createElement(
              "div",
              { className: Qe.InvitedAppsCtn },
              r.createElement(
                "div",
                { className: Qe.InviteTitleCtn },
                r.createElement(
                  "div",
                  { className: Qe.InviteBtnCtn },
                  r.createElement(
                    b.KM,
                    {
                      onClick: (e) =>
                        (0, N.AM)(r.createElement(tt, null), (0, M.RA)(e)),
                    },
                    "Create New Invite...",
                  ),
                  r.createElement(
                    b.zx,
                    {
                      onClick: (e) =>
                        (0, ot.b8)(
                          e,
                          `${u.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard`,
                        ),
                    },
                    "Goto Invitation Planner ",
                  ),
                ),
              ),
              r.createElement(
                "div",
                { className: Qe.SearchCtn },
                r.createElement(b.II, {
                  className: Qe.SearchInput,
                  type: "string",
                  value: n,
                  placeholder: "Search name or id",
                  onChange: (e) => a(e.currentTarget.value),
                }),
                r.createElement(ct.$t, {
                  nAccountID: i,
                  rgAccountListFilter: c,
                  fnSetAccountFilter: l,
                  className: Ge()(Qe.ValveAccountDropdown),
                  rgAdditional: [{ data: null, label: "Sent by anyone" }],
                }),
              ),
              r.createElement("br", null),
              r.createElement("h2", null, "Outstanding Invitations"),
              m.map((e) => {
                var t;
                return r.createElement(
                  "div",
                  { key: "promo_" + e.inviteid },
                  r.createElement(
                    Rt,
                    { invite: e, containerClass: Qe.InviteItemAdminList },
                    r.createElement(gt, { promo: e }),
                  ),
                  r.createElement(
                    "div",
                    { className: Qe.ValveAdminInvitedBy },
                    "(VO) invited by ",
                    null === (t = mt.J.find((t) => t.id == e.invite_account)) ||
                      void 0 === t
                      ? void 0
                      : t.displayName,
                  ),
                );
              }),
            )
          : null;
      }
      function pt(e) {
        const { strInviteID: t } = e,
          n = (0, le.Nt)(t),
          a = (0, h.Mg)(),
          { rgAppIDs: i } = (0, ie.lY)(a, [n]),
          l = (0, te.og)(i, !1, null == n ? void 0 : n.primary_partnerid);
        return n
          ? 0 != n.rtdatechosen
            ? r.createElement(_t, {
                strMessage: (0, O.Xx)("#DailyDeals_InviteAlreadyAccepted"),
              })
            : n.rtexpiretime < Date.now() / 1e3
              ? r.createElement(_t, {
                  strMessage: (0, O.Xx)(
                    "#DailyDeals_InviteExpired",
                    (0, O.$1)(n.rtexpiretime),
                  ),
                })
              : r.createElement(
                  Se.LG,
                  { value: { mapAppDiscounts: l } },
                  r.createElement(
                    "div",
                    { className: Ge()(y().AdminPageCtn, "Partner") },
                    r.createElement(
                      "div",
                      { style: { paddingBottom: 20 } },
                      r.createElement(ht, { promo: n }),
                    ),
                    r.createElement(He, { strInviteID: t }),
                    r.createElement(rt, null),
                  ),
                )
          : r.createElement(_t, {
              strMessage: (0, O.Xx)("#DailyDeals_InvalidInvite"),
            });
      }
      function _t(e) {
        const { strMessage: t } = e;
        return r.createElement(
          "div",
          { className: Qe.InviteNotAvailableContainer },
          r.createElement("div", { className: Qe.WhyUnavailable }, t),
          r.createElement(
            "div",
            { className: Qe.ReturnToDashboard },
            (0, O.kQ)(
              "#DailyDeals_ReturnLink",
              r.createElement(
                "a",
                {
                  href: `${u.De.PARTNER_BASE_URL}promotion${Mi.DailyDealDashboard()}`,
                },
                (0, O.Xx)("#DailyDeals_Dashboard"),
              ),
            ),
          ),
        );
      }
      function ht(e) {
        const { promo: t } = e,
          [n] = (0, ie.gL)(t);
        return r.createElement(
          "div",
          { className: Qe.InvitePageHeader },
          r.createElement(
            o.rU,
            { to: Mi.DailyDealPartnerDashboard("" + t.primary_partnerid) },
            (0, O.Xx)("#DailyDeals_Dashboard"),
          ),
          r.createElement(
            "div",
            { className: Qe.InviteTitle },
            (0, O.Xx)("#DailyDeals_Invite_Dashboard_Header"),
            r.createElement(
              "span",
              { className: Qe.InviteTitle_AppName },
              null == n ? void 0 : n.GetName(),
            ),
          ),
          r.createElement("hr", null),
          r.createElement(
            "div",
            { className: Qe.InvitedAppCtn },
            r.createElement(Nt, { invite: t }),
            r.createElement(
              "div",
              { className: Qe.InvitedAppInfo },
              r.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_Partner_InviteDesc_row1", dt),
              ),
              r.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_Partner_InviteDesc_row2"),
              ),
              r.createElement(
                "div",
                null,
                (0, O.Xx)(
                  "#DailyDeals_Partner_InviteDesc_row3",
                  (0, O.$1)(t.rtexpiretime),
                ),
              ),
            ),
          ),
        );
      }
      function gt(e) {
        const { promo: t } = e;
        return r.createElement(
          "div",
          { className: Qe.InviteAdminButtons },
          r.createElement(
            b.zx,
            {
              onClick: (e) =>
                (0, N.AM)(r.createElement(vt, { promo: t }), (0, M.RA)(e)),
            },
            "Cancel Invitation",
          ),
          r.createElement(
            b.zx,
            {
              onClick: (e) =>
                (0, N.AM)(r.createElement(Et, { promo: t }), (0, M.RA)(e)),
            },
            "Resend Invitation Email",
          ),
        );
      }
      function vt(e) {
        const { promo: t, closeModal: n } = e,
          { fnCancelInvite: a } = (0, le.cw)(),
          i = (0, I.tx)();
        return i.bLoading
          ? r.createElement(I.NT, {
              state: i,
              strDialogTitle: "Cancel Promo Invitation",
              closeModal: n,
            })
          : r.createElement(T.uH, {
              strTitle: "Cancel Promo Invitation",
              strDescription:
                "Are you sure you want to cancel this invitation?  The Partner will no longer be able to schedule this promotion",
              onCancel: n,
              onOK: () => {
                i.fnSetLoading(!0),
                  a(t.inviteid)
                    .then((e) => {
                      e
                        ? (i.fnSetSuccess(!0),
                          i.fnSetStrSuccess(
                            "Invitation is now cancelled.  You can close this dialog.",
                          ))
                        : (i.fnSetError(!0),
                          i.fnSetStrError(
                            "Failed to cancel invitation. Please check console for errors",
                          ));
                    })
                    .catch(() => {
                      i.fnSetError(!0),
                        i.fnSetStrError(
                          "Failed to cancel invitation. Please check console for errors",
                        );
                    });
              },
            });
      }
      function Et(e) {
        const { promo: t, closeModal: n } = e,
          { fnResendInvitationEmail: a } = (0, le.wF)(),
          i = (0, I.tx)();
        return i.bLoading
          ? r.createElement(I.NT, {
              state: i,
              strDialogTitle: "Resend Invitation Email",
              closeModal: n,
            })
          : r.createElement(T.uH, {
              strTitle: "Resend Invitation Email",
              strDescription:
                "Are you sure you want to re-send this email? It will fire to the partner associated with the app to their user who opted in to receive communication",
              onCancel: n,
              onOK: () => {
                i.fnSetLoading(!0),
                  a(t.inviteid)
                    .then((e) => {
                      e
                        ? (i.fnSetSuccess(!0),
                          i.fnSetStrSuccess(
                            "Email has fired. You can close this dialog",
                          ))
                        : (i.fnSetError(!0),
                          i.fnSetStrError(
                            "Failed to resend invitation email. Please check console for errors",
                          ));
                    })
                    .catch(() => {
                      i.fnSetError(!0),
                        i.fnSetStrError(
                          "Failed to resend invitation email. Please check console for errors",
                        );
                    });
              },
            });
      }
      class St {
        constructor() {
          this.m_promotionStats = null;
        }
        GetPromotionStats() {
          return this.m_promotionStats;
        }
        static Get() {
          return (
            St.s_Singleton ||
              ((St.s_Singleton = new St()),
              St.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_PromoStatsStore = St.s_Singleton)),
            St.s_Singleton
          );
        }
        Init() {
          this.m_promotionStats = (0, u.kQ)(
            "promotion_stats",
            "application_config",
          );
        }
      }
      var Dt = n(89183),
        ft = n.n(Dt);
      function yt() {
        var e, t, n, a, i, l;
        const o = St.Get().GetPromotionStats();
        if (!o) return null;
        const s =
            null !== (e = o.daily_deal_total_slots) && void 0 !== e ? e : 0,
          c = null !== (t = o.daily_deal_scheduled) && void 0 !== t ? t : 0,
          m = null !== (n = o.daily_deal_open_invites) && void 0 !== n ? n : 0,
          d = null !== (a = o.daily_deal_pct_available) && void 0 !== a ? a : 0,
          u =
            null !== (i = o.daily_deal_pct_minus_invites) && void 0 !== i
              ? i
              : 0,
          p =
            null !== (l = o.daily_deal_calendar_days_available) && void 0 !== l
              ? l
              : 0;
        let _ = s / 2 - (c + m);
        const h =
            _ > 0
              ? r.createElement(
                  "div",
                  null,
                  r.createElement("span", { className: ft().MaxInvites }, _),
                  " spots available (?)",
                )
              : r.createElement(
                  "div",
                  { className: ft().FullyBooked },
                  "Please wait to send additional invites (?)",
                ),
          g = r.createElement(
            "div",
            { className: ft().TooltipContainer },
            "Scheduled Daily Deals: ",
            r.createElement("b", null, c),
            r.createElement("br", null),
            "Outstanding invites: ",
            r.createElement("b", null, m),
            r.createElement("br", null),
            "Slots available: ",
            r.createElement("b", null, s - c, "/", s, " (", d, "%)"),
            r.createElement("br", null),
            "Slots available if all invites accept: ",
            r.createElement("b", null, s - c - m, "/", s, " (", u, "%)"),
            r.createElement("br", null),
            "Calendar days available to invites: ",
            r.createElement("b", null, p),
            r.createElement("br", null),
          );
        return r.createElement(
          "div",
          { className: ft().PromotionPlanningStatsContainer },
          r.createElement(
            _e.HP,
            { toolTipContent: g, direction: "top", bTopmost: !0 },
            h,
          ),
        );
      }
      function bt() {
        const [e, t] = (0, oe.Ar)("tab", "calendar"),
          n = (e) => t(e.key),
          a = [
            {
              name: "Calendar",
              key: "calendar",
              contents: r.createElement(C.SV, null, r.createElement(fe, null)),
              onClick: n,
            },
            {
              name: "Invitation",
              key: "invites",
              contents: r.createElement(C.SV, null, r.createElement(ut, null)),
              onClick: n,
            },
            {
              name: "Search",
              key: "search",
              contents: r.createElement(C.SV, null, r.createElement(Te, null)),
              onClick: n,
            },
          ];
        return r.createElement(
          "div",
          { className: y().AdminPageCtn },
          r.createElement(
            "div",
            { className: y().PageTitle },
            "Daily Deal Scheduler (VO)",
          ),
          r.createElement(
            "div",
            { style: { display: "flex", justifyContent: "space-between" } },
            r.createElement(
              "div",
              null,
              "This view is Valve-only. To see the view as a partner, simply append a partnerID to the end of the URL",
            ),
            r.createElement(yt, null),
          ),
          r.createElement("hr", { className: "VO" }),
          r.createElement(G.n, { tabs: a, startingTab: e }),
        );
      }
      var It = n(14717);
      function Ct(e) {
        const [t, n] = (0, i.wH)(),
          a = (0, ae.Z)(),
          l = !a && u.L7.is_support;
        return (
          r.useEffect(() => n(), [n]),
          r.createElement(
            C.SV,
            null,
            Boolean(l)
              ? r.createElement(bt, null)
              : r.createElement(kt, { strPublisherID: a.toString() }),
          )
        );
      }
      function kt(e) {
        const { strPublisherID: t } = e,
          n = (0, le.Bd)(1),
          a = Number.parseInt(t),
          [i] = (0, ne.DV)(a),
          l = (0, h.Mg)(),
          { rgAppIDs: o, rgBundleIDs: s } = (0, ie.lY)(l),
          c = (0, te.og)(o, !1, a),
          m = (0, te.o6)(s, !1, a),
          d = (0, r.useMemo)(
            () => ({ mapAppDiscounts: c, mapBundleDiscounts: m }),
            [c, m],
          ),
          [u, p] = (0, r.useMemo)(() => {
            let e = new Array(),
              t = new Array();
            const a = Date.now() / 1e3;
            return (
              n.forEach((n) => {
                !n.cancelled && !n.rtaccepttime && n.rtexpiretime > a
                  ? e.push(n)
                  : t.push(n);
              }),
              [e, t]
            );
          }, [n]),
          [_, g, v] = (0, r.useMemo)(() => {
            let e = new Array(),
              t = new Array(),
              n = new Array();
            const a = Date.now() / 1e3;
            return (
              l.forEach((i) => {
                if (i.store_item_id) {
                  const { nDiscountPercentHigh: l } = (0, h.lI)(i, d),
                    r = (0, ee.fH)(i.discount_event_id.toString());
                  !i.cancelled && 0 == l && i.rtime32_start_time > a
                    ? t.push(i)
                    : i.cancelled ||
                        (null == r ? void 0 : r.end_date) < a ||
                        (!r && i.rtime32_start_time + re._H.PerDay < a)
                      ? n.push(i)
                      : e.push(i);
                }
              }),
              [t, e, n]
            );
          }, [l, d]);
        return a
          ? (!c && (null == o ? void 0 : o.length) > 0) ||
            (!m && (null == s ? void 0 : s.length) > 0)
            ? r.createElement(L.V, {
                string: (0, O.Xx)("#DailyDeals_LoadingDiscountInfo"),
                size: "medium",
                position: "center",
              })
            : r.createElement(
                Se.LG,
                { value: d },
                r.createElement(
                  "div",
                  { className: (0, x.Z)(y().AdminPageCtn, "Partner") },
                  r.createElement(
                    "div",
                    { className: y().PageTitle },
                    (null == i ? void 0 : i.name)
                      ? (0, O.kQ)(
                          "#DailyDeals_Dashboard_Partner_Title",
                          r.createElement("span", null, i.name),
                        )
                      : (0, O.Xx)("#DailyDeals_Dashboard"),
                    " ",
                    r.createElement(
                      "div",
                      { className: y().Beta },
                      (0, O.Xx)("#NewToolTitleSuffix_Beta"),
                    ),
                  ),
                  r.createElement("hr", null),
                  r.createElement(At, {
                    rgInvites: u,
                    rgIncompleteDeals: _,
                    strPublisherID: t,
                  }),
                  r.createElement(wt, { rgDeals: g, strPublisherID: t }),
                  r.createElement(Pt, {
                    rgInvites: p,
                    rgDeals: v,
                    strPublisherID: t,
                  }),
                  r.createElement(rt, null),
                ),
              )
          : r.createElement(
              "div",
              null,
              (0, O.Xx)("#DailyDeals_InvalidPartner"),
            );
      }
      function At(e) {
        const { rgInvites: t, rgIncompleteDeals: n, strPublisherID: a } = e;
        return 0 == t.length && 0 == n.length
          ? r.createElement(
              "div",
              null,
              r.createElement(
                "div",
                { className: It.PartnerDashboard_InvitationHeader },
                (0, O.Xx)("#DailyDeals_PartnerDashboard_Invitations"),
              ),
              r.createElement(
                "div",
                { className: It.PartnerDashboard_NoInvites },
                (0, O.yu)(
                  "#DailyDeals_PartnerDashboard_NoInvites",
                  r.createElement("a", {
                    href: `${u.De.PARTNER_BASE_URL}doc/marketing/discounts/dailydeal`,
                    target: "_blank",
                  }),
                ),
              ),
            )
          : r.createElement(
              "div",
              null,
              r.createElement(
                "div",
                { className: It.PartnerDashboard_InvitationHeader },
                (0, O.Xx)("#DailyDeals_PartnerDashboard_Incomplete"),
                r.createElement(
                  "span",
                  { className: It.PartnerDashboard_Incomplete_Description },
                  (0, O.Xx)(
                    "#DailyDeals_PartnerDashboard_Incomplete_Description",
                  ),
                ),
              ),
              t.map((e) =>
                r.createElement(Rt, {
                  key: "invite_" + e.inviteid,
                  strPublisherID: a,
                  invite: e,
                  containerClass: It.PartnerDashboard_Invite,
                }),
              ),
              n.map((e) =>
                r.createElement(Tt, {
                  key: "inc_" + e.gid,
                  deal: e,
                  strPublisherID: a,
                }),
              ),
            );
      }
      function wt(e) {
        const { rgDeals: t, strPublisherID: n } = e;
        return r.createElement(
          "div",
          null,
          r.createElement(
            "div",
            { className: It.PartnerDashboard_ScheduledHeader },
            (0, O.Xx)("#DailyDeals_PartnerDashboard_Scheduled"),
          ),
          0 == t.length
            ? r.createElement(
                "div",
                { className: It.PartnerDashboard_NoInvites },
                (0, O.Xx)("#DailyDeals_PartnerDashboard_NoScheduled"),
              )
            : r.createElement(
                r.Fragment,
                null,
                t.map((e) =>
                  r.createElement(Tt, {
                    key: "ud_" + e.gid,
                    deal: e,
                    strPublisherID: n,
                  }),
                ),
              ),
        );
      }
      function Pt(e) {
        const { rgInvites: t, rgDeals: n, strPublisherID: a } = e;
        return 0 == t.length && 0 == n.length
          ? null
          : r.createElement(
              "div",
              null,
              r.createElement(
                B.ug,
                {
                  bStartMinimized: !0,
                  title: (0, O.Xx)(
                    "#DailyDeals_PartnerDashboard_Archive",
                    t.length + n.length,
                  ),
                  className: It.PartnerDashboard_ArchiveHeader,
                },
                n.map((e) =>
                  r.createElement(Tt, {
                    key: "ud_" + e.gid,
                    deal: e,
                    strPublisherID: a,
                  }),
                ),
                t.map((e) =>
                  r.createElement(Rt, {
                    key: "invite_" + e.inviteid,
                    invite: e,
                    strPublisherID: a,
                  }),
                ),
              ),
            );
      }
      function Tt(e) {
        const { deal: t, strPublisherID: n } = e,
          a = r.useMemo(() => (0, le.tN)(t), [t]),
          [i] = (0, D.jk)(t.store_item_id, (0, F.Kd)(t.store_item_type), {
            include_assets: !0,
          });
        return i
          ? r.createElement(
              "div",
              {
                className: (0, x.Z)(
                  It.DailyDeal_Container,
                  a == h.O7.Cancelled ? It.Cancelled : "",
                ),
              },
              r.createElement("img", {
                src: i.GetAssets().GetHeaderURL(),
                alt: (0, O.Xx)("#DailyDeals_HeaderArtMissing", i.GetName()),
              }),
              r.createElement(Lt, { deal: t, strPublisherID: n }),
            )
          : r.createElement(L.V, {
              string: (0, O.Xx)("#Loading"),
              size: "small",
              position: "center",
            });
      }
      function Nt(e) {
        const { invite: t } = e,
          [n, a] = (0, ie.gL)(t);
        let i = u.De.PARTNER_BASE_URL;
        return (
          t.appid
            ? (i += "apps/landing/" + t.appid)
            : t.bundleid
              ? (i += "bundles/view/" + t.bundleid)
              : t.packageid && (i += "store/packagelanding/" + t.packageid),
          n
            ? r.createElement(
                "a",
                { href: i },
                r.createElement("img", {
                  src: n.GetAssets().GetHeaderURL(),
                  alt: (0, O.Xx)("#DailyDeals_HeaderArtMissing", n.GetName()),
                }),
              )
            : t.bundleid && 2 == a
              ? r.createElement(
                  "a",
                  { href: i },
                  (0, O.Xx)("#DailyDeals_Bundle"),
                  " ",
                  t.bundleid,
                )
              : t.appid && 2 == a
                ? r.createElement(
                    "a",
                    { href: i },
                    (0, O.Xx)("#DailyDeals_App"),
                    " ",
                    t.appid,
                  )
                : (t.packageid &&
                    2 == a &&
                    console.error("Unavailable store package:", t.packageid),
                  r.createElement(L.V, {
                    string: (0, O.Xx)("#Loading"),
                    size: "small",
                    position: "center",
                  }))
        );
      }
      function Rt(e) {
        const {
            strPublisherID: t,
            invite: n,
            containerClass: a,
            children: i,
          } = e,
          l = r.useMemo(() => (0, le.tN)(n), [n]);
        return r.createElement(
          "div",
          {
            className: (0, x.Z)(
              It.DailyDeal_Container,
              a,
              l == h.O7.Cancelled || l == h.O7.InviteExpired
                ? It.Cancelled
                : "",
            ),
          },
          r.createElement(Nt, { invite: n }),
          r.createElement(Gt, { invite: n, strPublisherID: t }, i),
        );
      }
      function Gt(e) {
        const { invite: t, strPublisherID: n, children: a } = e,
          i = r.useMemo(() => (0, le.tN)(t), [t]);
        if (i == h.O7.Unknown) return null;
        if (i == h.O7.InviteExpired)
          return r.createElement(xt, {
            strMessage: (0, O.Xx)(
              "#DailyDeals_InviteExpired",
              (0, Me.eS)(null == t ? void 0 : t.rtexpiretime),
            ),
          });
        if (i == h.O7.Cancelled)
          return r.createElement(xt, {
            strMessage: (0, O.Xx)("#DailyDeals_InviteCancelled"),
          });
        let l = null,
          o = null;
        const s = () => {
          window.location.assign(
            `${u.De.PARTNER_BASE_URL}promotion${Mi.DailyDealInviteDashboard(null == t ? void 0 : t.inviteid.toString())}`,
          );
        };
        return (
          i == h.O7.InviteActive
            ? ((l = r.createElement(
                b.zx,
                { className: It.DailyDealButton, onClick: s },
                (0, O.Xx)("#DailyDeals_PickDate"),
              )),
              (o = r.createElement(
                b.zx,
                {
                  className: (0, x.Z)(It.DailyDealButton, It.Disabled),
                  disabled: !0,
                },
                (0, O.Xx)("#DailyDeals_Button_MustFirstPickDate"),
              )))
            : i == h.O7.InviteAccepted &&
              (l = r.createElement(
                "div",
                null,
                (0, O.Xx)("#DailyDeals_Invite_Accepted"),
              )),
          r.createElement(
            Bt,
            { inviteBody: l, discountBody: o, invite: t, displayState: i },
            a,
          )
        );
      }
      function Lt(e) {
        const { deal: t, strPublisherID: n, children: a } = e,
          i = (0, Se.ns)(),
          {
            nDiscountPercentHigh: o,
            dtDiscountStart: s,
            dtDiscountEnd: c,
          } = r.useMemo(() => (0, h.lI)(t, i), [t, i]);
        let m = r.useMemo(() => (0, h.sm)(t, o), [t, o]);
        if (!t) return null;
        if (m == h.O7.DealFailed)
          return r.createElement(xt, {
            strMessage: (0, O.Xx)("#DailyDeals_DealFailed"),
          });
        if (m == h.O7.DealCompleted)
          return r.createElement(
            xt,
            null,
            r.createElement(Mt, {
              deal: t,
              eDealState: m,
              dtDiscountStart: s,
              dtDiscountEnd: c,
            }),
          );
        if (m == h.O7.Cancelled)
          return r.createElement(xt, {
            strMessage: (0, O.Xx)("#DailyDeals_DealCancelled"),
          });
        let d = null,
          p = null;
        const _ = `${u.De.PARTNER_BASE_URL}promotion/discounts${l.G.DiscountDashboard(null != n ? n : "")}?de=${t.discount_event_id}&dd=1`;
        switch (m) {
          case h.O7.InviteAccepted:
            (d = r.createElement(
              "div",
              { className: It.FeaturedDate },
              r.createElement(Me.Ai, { rtime: t.rtime32_start_time }),
            )),
              (p = r.createElement(
                b.zx,
                {
                  className: It.DailyDealButton,
                  onClick: () => window.location.assign(_),
                },
                (0, O.Xx)("#DailyDeals_Button_EnterDiscounts"),
              ));
            break;
          case h.O7.DealReady:
            (d = r.createElement(Mt, {
              deal: t,
              eDealState: m,
              dtDiscountStart: s,
              dtDiscountEnd: c,
            })),
              (p = r.createElement(
                "div",
                { className: It.DiscountButtonRow },
                r.createElement(
                  "div",
                  { className: (0, x.Z)(It.DiscountPercentage) },
                  r.createElement(j.SG, { oDailyDeal: t }),
                ),
                r.createElement(
                  b.zx,
                  {
                    className: (0, x.Z)(It.DailyDealButton, It.EditDiscounts),
                    onClick: () => window.location.assign(_),
                  },
                  (0, O.Xx)("#DailyDeals_Button_EditDiscounts"),
                ),
              ));
            break;
          case h.O7.DealLive:
            (d = r.createElement(Mt, {
              deal: t,
              eDealState: m,
              dtDiscountStart: s,
              dtDiscountEnd: c,
            })),
              (p = r.createElement(
                b.zx,
                {
                  className: (0, x.Z)(
                    It.DailyDealButton,
                    It.DiscountPercentage,
                  ),
                  disabled: !0,
                },
                r.createElement(j.SG, { oDailyDeal: t }),
              ));
        }
        return r.createElement(
          Bt,
          { inviteBody: d, discountBody: p, displayState: m, deal: t },
          a,
        );
      }
      function Bt(e) {
        const {
            inviteBody: t,
            discountBody: n,
            invite: a,
            displayState: i,
            children: l,
            deal: o,
          } = e,
          s = (null == a ? void 0 : a.rtexpiretime)
            ? (0, O.Xx)(
                "#DailyDeals_Checkbox_PickDate_By",
                (0, Me.eS)(a.rtexpiretime),
              )
            : (0, O.Xx)("#DailyDeals_PickDate"),
          c =
            i >= h.O7.InviteAccepted
              ? r.createElement(b.ji, {
                  className: (0, x.Z)(It.DailyDealCheckbox),
                  label: s,
                  checked: !0,
                  disabled: !0,
                })
              : r.createElement(
                  "div",
                  { className: (0, x.Z)(It.DailyDealTitle, It.Orange) },
                  s,
                ),
          m = (0, O.Xx)("#DailyDeals_Checkbox_EnterDiscount"),
          d =
            i >= h.O7.DealReady
              ? r.createElement(b.ji, {
                  className: (0, x.Z)(It.DailyDealCheckbox),
                  label: m,
                  checked: !0,
                  disabled: !0,
                })
              : r.createElement(
                  "div",
                  { className: (0, x.Z)(It.DailyDealTitle, It.Orange) },
                  m,
                );
        return r.createElement(
          "div",
          { className: It.DailyDealStatusContainer },
          r.createElement(
            "div",
            { className: It.Column },
            c,
            r.createElement("div", { className: It.InviteBody }, t),
          ),
          r.createElement(
            "div",
            { className: It.Column },
            d,
            r.createElement("div", { className: It.DiscountBody }, n),
          ),
          l,
          Boolean(u.L7.is_support && o) &&
            r.createElement(
              "a",
              {
                className: P().ValveOnlyAdminBackground,
                href: `${u.De.PARTNER_BASE_URL}promotion/dailydeals/edit/${o.gid}`,
              },
              "Edit Deal (VO)",
            ),
        );
      }
      function xt(e) {
        const { strMessage: t, children: n } = e;
        return r.createElement(
          "div",
          { className: It.DailyDealStatusContainer },
          r.createElement(
            "div",
            { className: (0, x.Z)(It.Column, It.BasicResult) },
            !!t && r.createElement("div", null, t),
            n,
          ),
        );
      }
      function Mt(e) {
        const {
          deal: t,
          eDealState: n,
          dtDiscountStart: a,
          dtDiscountEnd: i,
        } = e;
        let l = null;
        return (
          (l =
            n == h.O7.DealLive
              ? r.createElement(
                  "div",
                  { className: It.Orange },
                  (0, O.Xx)("#DailyDeals_ActiveDeal"),
                )
              : r.createElement(Me.Ai, {
                  rtime: t.rtime32_start_time,
                  locTokenLocalTime: "#DailyDeals_Feature_Date",
                })),
          r.createElement(
            "div",
            null,
            r.createElement("div", { className: It.FeaturedDate }, l),
            r.createElement(
              "div",
              null,
              (0, O.Xx)(
                "#DailyDeals_Discount_Dates",
                (0, O.$1)(a),
                (0, O.$1)(i),
              ),
            ),
          )
        );
      }
      var Ot = n(256),
        Ft = n(44107),
        Ut = n(54842),
        Ht = n(37485),
        Vt = n.n(Ht),
        Xt = n(84084),
        jt = n(45651),
        qt = n(79173),
        Wt = n(54917),
        zt = n(22412),
        Zt = n(82701),
        Kt = n(13913),
        Qt = n(71945),
        Yt = n(24549),
        Jt = n(65255);
      class $t {
        GetKey(e, t, n) {
          return `${e}_${t}_${n}`;
        }
        LoadAppMarketingMessageStats(e, t, n) {
          return (0, se.mG)(this, void 0, void 0, function* () {
            const a = this.GetKey(e, t, n);
            return (
              this.m_mapAppToMMStatsPromises.has(a) ||
                this.m_mapAppToMMStatsPromises.set(
                  a,
                  this.InternalLoadAppMarketingMessageStats(e, t, n),
                ),
              this.m_mapAppToMMStatsPromises.get(a)
            );
          });
        }
        InternalLoadAppMarketingMessageStats(e, t, n) {
          var a, i;
          return (0, se.mG)(this, void 0, void 0, function* () {
            let l = null;
            try {
              const r = this.GetKey(e, t, n),
                o =
                  Jt.De.PARTNER_BASE_URL +
                  "promotion/marketingmessages/ajaxgetsnrmetrics",
                s = {
                  sessionid: Jt.De.SESSIONID,
                  appid: e,
                  rtStartDate: t,
                  rtEndDate: n,
                },
                c = yield me().get(o, { params: s, withCredentials: !0 });
              if (
                200 == (null == c ? void 0 : c.status) &&
                1 ==
                  (null === (a = null == c ? void 0 : c.data) || void 0 === a
                    ? void 0
                    : a.success) &&
                (null === (i = null == c ? void 0 : c.data) || void 0 === i
                  ? void 0
                  : i.marketing_message_total)
              )
                return (
                  this.m_mapAppToMMStats.set(r, c.data.marketing_message_total),
                  c.data.marketing_message_total
                );
              l = (0, Oe.l)(c);
            } catch (e) {
              l = (0, Oe.l)(e);
            }
            return (
              console.error(
                "CFeaturingStatsStore.InternalLoadAppMarketingMessageStats failed: " +
                  (null == l ? void 0 : l.strErrorMsg),
                l,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            $t.s_Singleton ||
              (($t.s_Singleton = new $t()),
              "dev" == Jt.De.WEB_UNIVERSE &&
                (window.g_FeaturingStatsStore = $t.s_Singleton)),
            $t.s_Singleton
          );
        }
        constructor() {
          (this.m_mapAppToMMStats = new Map()),
            (this.m_mapAppToMMStatsPromises = new Map());
        }
      }
      function en(e) {
        var t;
        const { marketingMessageID: n } = e,
          a = (0, s.k6)(),
          i = (0, Ft.Q2)(n),
          l = (0, Kt.Br)(n);
        if (!i) return r.createElement(L.V, { string: n, size: "small" });
        const o = pe.JW.GetTimeNowWithOverride(),
          c = i.start_date > o,
          m = i.start_date < o && 1 == i.visibility,
          d = Boolean(2 == i.visibility),
          u = Boolean(3 == i.visibility);
        return r.createElement(
          "div",
          {
            className: (0, x.Z)({
              [Zt.RowCtn]: !0,
              [Zt.Public]: d,
              [Zt.Future]: c,
              [Zt.Approved]: !d && u,
              [Zt.Ready]: !d && l && !u,
            }),
            onClick: (e) => {
              e.ctrlKey || e.metaKey
                ? window.open(
                    `${Jt.De.PARTNER_BASE_URL}/promotion/${Mi.MarketingMessageEditor(n)}`,
                    "_blank",
                  )
                : a.push(Mi.MarketingMessageEditor(n));
            },
          },
          r.createElement(
            "div",
            { className: (0, x.Z)(Zt.Row, Zt.Primary) },
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.ItemName) },
              i.title,
              Boolean(c && 2 == i.visibility) &&
                r.createElement(
                  "span",
                  { className: Zt.WillBecomeVisible },
                  "Will automatically become visible on ",
                  (0, O.$1)(i.start_date, !0),
                ),
            ),
            r.createElement(
              "div",
              {
                className: (0, x.Z)({
                  [Zt.Col]: !0,
                  [Zt.Type]: !0,
                  [Zt.Deal]: Boolean(
                    2 == i.type || 11 == i.type || 12 == i.type,
                  ),
                }),
              },
              r.createElement("span", null, (0, Ot.W_)(i.type)),
            ),
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.Date) },
              r.createElement(
                "span",
                { className: (0, x.Z)({ [Zt.MissedRelease]: m }) },
                r.createElement(zt.Z, {
                  rtStartDate: i.start_date,
                  rtEndDate: i.end_date,
                }),
              ),
            ),
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.Creator) },
              i.creator_name,
            ),
          ),
          r.createElement(
            "div",
            { className: Zt.Row },
            d &&
              r.createElement(
                r.Fragment,
                null,
                r.createElement(tn, { gid: i.gid }),
                r.createElement(nn, { oMarketingMessage: i }),
              ),
            r.createElement(ln, { flags: i.flags }),
            r.createElement(rn, {
              strCountries: i.country_allow || i.country_deny,
              bAllowList:
                (null === (t = i.country_allow) || void 0 === t
                  ? void 0
                  : t.length) > 0,
            }),
            r.createElement(on, {
              strPrefix: "only owners of",
              storeItemID: { id: i.must_own_appid, item_type: "app" },
            }),
            r.createElement(on, {
              strPrefix: "except owners of",
              storeItemID: { id: i.must_not_own_appid, item_type: "app" },
            }),
            r.createElement(on, {
              strPrefix: "only owners of",
              storeItemID: { id: i.must_not_own_packageid, item_type: "sub" },
            }),
            r.createElement(on, {
              strPrefix: "except owners of",
              storeItemID: { id: i.must_not_own_packageid, item_type: "sub" },
            }),
            r.createElement(on, {
              strPrefix: "only users who have launched",
              storeItemID: { id: i.must_have_launched_appid, item_type: "app" },
            }),
          ),
        );
      }
      function tn(e) {
        const { gid: t } = e,
          n = (0, Qt.bg)(t);
        return n <= 0
          ? null
          : r.createElement(
              "div",
              { className: Zt.ViewsColumn },
              r.createElement(
                "div",
                { className: Zt.ViewsCtn },
                r.createElement("span", null, "Views:"),
                (0, Yt.AV)(n),
              ),
            );
      }
      function nn(e) {
        const { oMarketingMessage: t } = e;
        return 1 == t.association_type && t.start_date && t.end_date
          ? r.createElement(an, {
              appid: t.associated_id,
              oMarketingMessage: t,
            })
          : null;
      }
      function an(e) {
        const { appid: t, oMarketingMessage: n } = e,
          a = (function (e, t, n) {
            const [a, i] = r.useState(null);
            return (
              r.useEffect(() => {
                a ||
                  $t
                    .Get()
                    .LoadAppMarketingMessageStats(e, t, n)
                    .then((e) => i(e));
              }, [e, t, n, a]),
              a
            );
          })(t, n.start_date, n.end_date);
        return a && 0 != a.impression
          ? r.createElement(
              "div",
              { className: Zt.ViewsColumn },
              r.createElement(
                "div",
                { className: Zt.ViewsCtn },
                "SNR: Views/Impressions = ( ",
                (0, Yt.AV)(a.views),
                " / ",
                (0, Yt.AV)(a.impression),
                " ) =",
                a.impression ? (0, Yt.AV)((a.views / a.impression) * 100) : 0,
                " %",
              ),
            )
          : null;
      }
      function ln(e) {
        const { flags: t } = e;
        return 0 == (Ot.j.k_EMarketingMessageFlagsPlatformRestrictions & t)
          ? null
          : r.createElement(
              "div",
              { className: Zt.CapsulePlatform },
              Boolean(Ot.j.k_EMarketingMessageFlagsPlatformWindows & t) &&
                r.createElement(R.Bh5, null),
              Boolean(Ot.j.k_EMarketingMessageFlagsPlatformMac & t) &&
                r.createElement(R.uZu, null),
              Boolean(Ot.j.k_EMarketingMessageFlagsPlatformLinux & t) &&
                r.createElement(R.ui7, null),
            );
      }
      function rn(e) {
        const { strCountries: t, bAllowList: n } = e;
        return t && 0 != (null == t ? void 0 : t.trim().length)
          ? r.createElement(
              "div",
              { className: Zt.CountryList },
              n ? "ONLY: " : "NOT: ",
              t,
            )
          : null;
      }
      function on(e) {
        const { storeItemID: t, strPrefix: n } = e,
          [a, i] = (0, D.jk)(t.id, (0, S.GV)(t.item_type), {});
        return t.id
          ? a || 1 != i
            ? 2 == i
              ? r.createElement(
                  "div",
                  null,
                  "Failed to load ",
                  t.id,
                  " - ",
                  t.item_type,
                )
              : r.createElement(
                  "div",
                  { className: Zt.OwnerLimit },
                  n,
                  " ",
                  a.GetName(),
                  " (",
                  t.id,
                  ")",
                )
            : r.createElement(L.V, { size: "small" })
          : null;
      }
      var sn = n(16783),
        cn = n.n(sn),
        mn = n(23871),
        dn = n(35398);
      function un(e) {
        const t = (0, Qt.I0)();
        return t
          ? r.createElement(
              "div",
              null,
              r.createElement(
                "div",
                null,
                "To see live stats, go to the",
                r.createElement(
                  "a",
                  {
                    href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization?orgId=2&refresh=1m&from=now-3h&to=now",
                    target: "_blank",
                  },
                  "Graphana Page",
                ),
              ),
              r.createElement("br", null),
              r.createElement("br", null),
              r.createElement(pn, { rgStats: t }),
              r.createElement(
                b.__,
                null,
                "DLC Template:",
                r.createElement(
                  _e.HP,
                  {
                    toolTipContent:
                      "Shows how many users saw the DLC template override version of the message.",
                  },
                  r.createElement("span", { className: P().tooltip_Ctn }, "?"),
                ),
              ),
              r.createElement(mn.RU, { templateType: 4 }),
            )
          : r.createElement(L.V, { string: "loading" });
      }
      function pn(e) {
        const { rgStats: t, templateType: n } = e,
          [a, i, l, o] = (0, r.useMemo)(() => {
            if (!t) return [0, 0, 0, []];
            const e = (0, mn.Me)(t, n);
            let a = 0,
              i = 0,
              l = 0,
              r = 0;
            e.forEach((e) => {
              e.seen_count > i && (i = e.seen_count),
                e.display_index > 0 && (l += e.seen_count),
                (r += e.seen_count),
                e.display_index > a && (a = e.display_index);
            });
            for (let t = 0; t < a; ++t) {
              e.findIndex((e) => e.display_index == t) < 0 &&
                e.push({ display_index: t, seen_count: 0 });
            }
            return [
              i,
              r,
              l,
              e.sort((e, t) => e.display_index - t.display_index),
            ];
          }, [t, n]);
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            b.__,
            null,
            "Carousel index seen at by users (NOTE Broken until after Prop Oct 12, 2023):",
            r.createElement(
              _e.HP,
              {
                toolTipContent:
                  "Shows where in the carousel the user saw this message.",
              },
              r.createElement("span", { className: P().tooltip_Ctn }, "?"),
            ),
          ),
          r.createElement(
            "div",
            { className: dn.DashStatsContainer },
            r.createElement(
              "div",
              { className: dn.Chart },
              r.createElement(
                C.SV,
                null,
                r.createElement(mn.c8, { Data: o, nPeak: a }),
              ),
            ),
            r.createElement(
              "div",
              { className: dn.Stats },
              r.createElement(
                "div",
                { className: dn.CurrentStats },
                r.createElement(
                  "div",
                  { className: dn.StatsTitle },
                  (0, Yt.AV)(l),
                ),
                r.createElement(
                  "div",
                  { className: dn.StatSubtitle },
                  r.createElement(
                    "span",
                    { className: dn.Now },
                    "Total Scrolls",
                  ),
                ),
              ),
              r.createElement(
                "div",
                { className: dn.PeakStats },
                r.createElement(
                  "div",
                  { className: dn.StatsTitle },
                  i > 0 ? (0, Yt.AV)(l / i) : 0,
                  " %",
                ),
                r.createElement(
                  "div",
                  { className: dn.StatSubtitle },
                  r.createElement(
                    "span",
                    { className: dn.Concurrent },
                    "Percentage Scrolling",
                  ),
                ),
              ),
            ),
          ),
        );
      }
      const _n = (0, Xt.Zt)(Vt());
      function hn(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "marketingmessagedashboardtab",
              `?tab=${e.key}`,
            ),
          n = [
            {
              name: "Active or Upcoming",
              key: "current",
              contents: r.createElement(C.SV, null, r.createElement(yn, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: r.createElement(C.SV, null, r.createElement(bn, null)),
              onClick: t,
            },
            {
              name: "Watch List",
              key: "watch",
              contents: r.createElement(C.SV, null, r.createElement(kn, null)),
              onClick: t,
            },
            {
              name: "Search all",
              key: "search",
              contents: r.createElement(C.SV, null, r.createElement(Cn, null)),
              onClick: t,
            },
            {
              name: "Charts",
              key: "charts",
              contents: r.createElement(C.SV, null, r.createElement(un, null)),
              onClick: t,
            },
          ];
        return r.createElement(
          "div",
          {
            className: (0, x.Z)(
              cn().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          r.createElement(gn, null),
          r.createElement(mn.RU, null),
          r.createElement(
            "div",
            { className: cn().CreateNewCtn },
            r.createElement(
              b.zx,
              {
                onClick: (e) =>
                  (0, N.AM)(
                    r.createElement(qt.aR, { bAllowPromotionPlanCreate: !0 }),
                    (0, M.RA)(e),
                  ),
              },
              "Create New",
            ),
          ),
          r.createElement(G.n, { tabs: n }),
          r.createElement("div", { className: P().ClearThings }),
        );
      }
      function gn(e) {
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: y().PageTitle },
              "Marketing Message Dashboard (VO) ",
            ),
            r.createElement(
              "div",
              { className: Wt.HeaderButtons },
              r.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/IM+Channel+Guidelines",
                },
                "Admin Guidelines",
              ),
              " | ",
              r.createElement(
                "a",
                { href: u.De.PARTNER_BASE_URL + "doc/store/assets/promos" },
                "Store Promo Graphical Asset Documentation",
              ),
              " | ",
              r.createElement(
                "a",
                {
                  href: "https://grafana.valve.org/steam/d/d03d8518-eccd-4a49-96bc-480f87e6faf5/marketing-message-prioritization",
                },
                "Graphana: Prioritization Stats Page",
              ),
            ),
          ),
          r.createElement("hr", { className: "VO" }),
        );
      }
      var vn, En;
      !(function (e) {
        (e[(e.k_DisplayAll = 0)] = "k_DisplayAll"),
          (e[(e.k_DisplayPublic = 1)] = "k_DisplayPublic"),
          (e[(e.k_DisplayStaged = 2)] = "k_DisplayStaged"),
          (e[(e.k_DisplayBeta = 3)] = "k_DisplayBeta"),
          (e[(e.k_DisplayBetaPastStart = 4)] = "k_DisplayBetaPastStart"),
          (e[(e.k_DisplayGift = 5)] = "k_DisplayGift"),
          (e[(e.k_DisplayAprrovedForPublishing = 6)] =
            "k_DisplayAprrovedForPublishing");
      })(vn || (vn = {})),
        (function (e) {
          (e[(e.k_SortByPriority = 0)] = "k_SortByPriority"),
            (e[(e.k_SortByStartDate = 1)] = "k_SortByStartDate");
        })(En || (En = {}));
      const Sn = { 2: 0, 3: 1, 1: 2 };
      function Dn(e, t, n, a) {
        let i = (0, Ft.O4)();
        if (!i || 0 == i.length) return null;
        if (
          (a &&
            (i = i.filter((e) => {
              var t;
              return (
                e.creator_name == u.L7.account_name ||
                (null === (t = e.additional_restrictions) || void 0 === t
                  ? void 0
                  : t.includes("" + u.L7.accountid))
              );
            })),
          t.trim().length > 0)
        ) {
          const e = t.toLowerCase(),
            n = (0, jt.kE)(t) ? Number.parseInt(t) : void 0;
          i = i.filter(
            (t) =>
              t.title.toLowerCase().includes(e) ||
              (n &&
                (t.associated_id == n ||
                  ("" + t.associated_id).includes("" + n))),
          );
        }
        const l = pe.JW.GetTimeNowWithOverride();
        return (
          (i = i.filter(
            (t) =>
              (e == vn.k_DisplayAll && 8 != t.type) ||
              (e == vn.k_DisplayPublic &&
                2 == t.visibility &&
                t.start_date <= l &&
                8 != t.type) ||
              (e == vn.k_DisplayStaged &&
                2 == t.visibility &&
                t.start_date > l &&
                8 != t.type) ||
              (e == vn.k_DisplayBeta && 1 == t.visibility && 8 != t.type) ||
              (e == vn.k_DisplayBetaPastStart &&
                1 == t.visibility &&
                t.start_date &&
                t.start_date <= l &&
                8 != t.type) ||
              (e == vn.k_DisplayGift && 8 == t.type) ||
              (e == vn.k_DisplayAprrovedForPublishing &&
                3 == t.visibility &&
                8 != t.type),
          )),
          n == En.k_SortByPriority
            ? i.sort((e, t) => t.priority - e.priority)
            : n == En.k_SortByStartDate &&
              i.sort((e, t) => {
                if (e.visibility != t.visibility)
                  return Sn[e.visibility] - Sn[t.visibility];
                const n = !e.start_date,
                  a = !t.start_date;
                return n && a
                  ? (e.title || "").localeCompare(t.title || "")
                  : n || a
                    ? n
                      ? 1
                      : -1
                    : e.start_date - t.start_date;
              }),
          i
        );
      }
      function fn(e) {
        const {
            display: t,
            fnSetDisplay: n,
            sort: a,
            fnSetSort: i,
            strSearch: l,
            fnSetSearch: o,
          } = e,
          s = [
            { label: "Show All", data: vn.k_DisplayAll },
            { label: "Show Visible", data: vn.k_DisplayPublic },
            {
              label: "Show Staged (automatically become visible when starts)",
              data: vn.k_DisplayStaged,
            },
            { label: "Show Hidden", data: vn.k_DisplayBeta },
            { label: "Show Hidden but Late", data: vn.k_DisplayBetaPastStart },
            { label: "Show Gifting Messages", data: vn.k_DisplayGift },
            {
              label: "Show Approved For Publishing Messages",
              data: vn.k_DisplayAprrovedForPublishing,
            },
          ],
          c = [
            { label: "Sort By Start Date", data: En.k_SortByStartDate },
            { label: "Sort By Priority", data: En.k_SortByPriority },
          ];
        return r.createElement(
          "div",
          { className: cn().FilterRow },
          r.createElement(
            "div",
            { className: cn().VisibilityFilterCtn },
            r.createElement(b.ry, {
              label: "Visibility Filter",
              rgOptions: s,
              onChange: (e) => n(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
          Boolean(i) &&
            r.createElement(
              "div",
              { className: cn().VisibilityFilterCtn },
              r.createElement(b.ry, {
                label: "Sort",
                rgOptions: c,
                onChange: (e) => i(e.data),
                contextMenuPositionOptions: {
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                },
                selectedOption: a,
              }),
            ),
          r.createElement(
            "div",
            {
              className: (0, x.Z)(
                cn().VisibilityFilterCtn,
                cn().MarketingMessageSearch,
              ),
            },
            r.createElement(b.II, {
              label: "Search",
              placeholder: "Enter Message Title",
              value: l,
              onChange: (e) => o(e.currentTarget.value),
            }),
          ),
        );
      }
      function yn(e) {
        const [t, n] = (0, r.useState)(vn.k_DisplayAll),
          [a, i] = (0, r.useState)(En.k_SortByStartDate),
          [l, o] = (0, r.useState)(""),
          s = Dn(t, l, a);
        return r.createElement(
          "div",
          null,
          r.createElement(fn, {
            display: t,
            fnSetDisplay: n,
            sort: a,
            fnSetSort: i,
            strSearch: l,
            fnSetSearch: o,
          }),
          r.createElement("div", null, "Present and Future Marketing Messages"),
          r.createElement(In, { rows: s }),
        );
      }
      function bn(e) {
        const [t, n] = (0, r.useState)(vn.k_DisplayAll),
          [a, i] = (0, r.useState)(""),
          l = Dn(t, a),
          o = (0, r.useMemo)(
            () =>
              l
                .filter((e) => e.start_date && e.end_date)
                .map((e) => ({
                  allDay: !1,
                  title: e.title,
                  start: new Date(1e3 * e.start_date),
                  end: new Date(1e3 * (e.end_date - 36e3 - 1)),
                  resource: e,
                })),
            [l],
          ),
          s = [Xt.kO.MONTH, Xt.kO.WEEK, Xt.kO.DAY, Xt.kO.AGENDA];
        return r.createElement(
          "div",
          null,
          r.createElement(fn, {
            display: t,
            fnSetDisplay: n,
            strSearch: a,
            fnSetSearch: i,
          }),
          r.createElement("h1", null, "Calendar View of Marketing Messages"),
          r.createElement(Xt.f, {
            views: s,
            popup: !0,
            defaultView: "month",
            localizer: _n,
            events: o,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, Ut.ZN)(e.resource)),
            eventPropGetter: (e) => ({
              style: { color: 2 == e.resource.visibility ? "red" : "white" },
            }),
          }),
          r.createElement(
            "h1",
            null,
            "Remaining Marketing Messages without Dates",
          ),
          r.createElement(In, {
            rows: l.filter((e) => !e.start_date || !e.end_date),
          }),
        );
      }
      function In(e) {
        const { rows: t } = e;
        return null == t
          ? r.createElement(L.V, {
              string: (0, O.Xx)("#Loading"),
              size: "medium",
              position: "center",
            })
          : 0 == t.length
            ? r.createElement("div", null, "No matching marketing messages")
            : r.createElement(
                r.Fragment,
                null,
                t.map((e) =>
                  r.createElement(en, {
                    key: e.gid,
                    marketingMessageID: e.gid,
                  }),
                ),
              );
      }
      function Cn(e) {
        const [t, n] = (0, r.useState)(""),
          [a, i] = (0, r.useState)(0),
          l = [{ label: "Any", data: 0 }];
        for (let e = 1; e < 9; ++e) l.push({ label: (0, Ot.W_)(e), data: e });
        const o = (0, Ft.Sw)(),
          [s, c] = (0, r.useState)(null),
          [m, d] = (0, r.useState)(!1);
        return r.createElement(
          "div",
          null,
          r.createElement(
            "h2",
            null,
            "Find a marketing message: Past, Present or Future",
          ),
          r.createElement("hr", null),
          r.createElement(
            "p",
            null,
            "Filter by the marketing message type and/or the part of the title",
          ),
          r.createElement(b.ry, {
            label: "Marketing Message Type",
            rgOptions: l,
            onChange: (e) => i(e.data),
            contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
            selectedOption: a,
          }),
          r.createElement("br", null),
          r.createElement(b.II, {
            type: "text",
            label: "Filter by Title",
            placeholder: "type here",
            value: t,
            onChange: (e) => n(e.currentTarget.value),
          }),
          r.createElement(
            b.KM,
            {
              onClick: () => {
                d(!0),
                  o(a, t).then((e) => {
                    d(!1), c(e);
                  });
              },
            },
            "Search",
          ),
          m &&
            r.createElement(L.V, {
              string: (0, O.Xx)("#Loading"),
              position: "center",
              size: "medium",
            }),
          Boolean(0 == (null == s ? void 0 : s.length)) &&
            r.createElement("div", null, "No Results"),
          Boolean((null == s ? void 0 : s.length) > 1) &&
            r.createElement(In, { rows: s }),
        );
      }
      function kn(e) {
        const [t, n] = (0, r.useState)(vn.k_DisplayAll),
          [a, i] = (0, r.useState)(En.k_SortByStartDate),
          [l, o] = (0, r.useState)(""),
          s = Dn(t, l, a, !0);
        return r.createElement(
          "div",
          null,
          r.createElement(fn, {
            display: t,
            fnSetDisplay: n,
            sort: a,
            fnSetSort: i,
            strSearch: l,
            fnSetSearch: o,
          }),
          r.createElement(
            "div",
            null,
            "These are marketing messagse that either you created or have explicitly added yourself to the watch list",
          ),
          r.createElement("br", null),
          r.createElement(In, { rows: s }),
        );
      }
      var An = n(50382),
        wn = n(9071),
        Pn = n(33278),
        Tn = n(8062),
        Nn = n(85305),
        Rn = n(64893);
      function Gn(e) {
        const t = (0, Tn.r7)();
        return r.createElement(
          "div",
          null,
          r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: Rn.DashTitleBar },
              r.createElement("h1", null, "Sales Rank Dashboard"),
            ),
            r.createElement(
              "div",
              { className: Rn.DashDescription },
              "Use the filters below fo find games to invite to curated promotion deals.",
            ),
          ),
          null == t
            ? r.createElement(L.V, {
                string: (0, O.Xx)("#Loading"),
                position: "center",
                size: "medium",
              })
            : r.createElement(Ln, { rgTopData: t }),
        );
      }
      function Ln(e) {
        const { rgTopData: t } = e,
          n = (0, r.useMemo)(() => t.top_apps.map((e) => e.appid), [t]),
          a = (0, Tn.Aq)(t.num_days_history, n);
        return r.createElement(
          "div",
          null,
          r.createElement("div", null, "TODO: Eligibilty Drop Down"),
          r.createElement("div", null, "TODO: Partner Option List"),
          r.createElement("div", null, "Eligible Results: ", t.total_games),
          r.createElement(
            "table",
            null,
            r.createElement(
              "thead",
              null,
              r.createElement(
                "tr",
                null,
                r.createElement("th", null, "Game"),
                r.createElement("th", null, "Release Date"),
                r.createElement("th", null, "Last Discount"),
                r.createElement(
                  "th",
                  { colSpan: 3 },
                  "Trailing ",
                  t.num_days_history,
                  " days",
                ),
                r.createElement("th", null, "Positive Review Score"),
                r.createElement("th", null, "Eligible"),
                r.createElement("th", null),
              ),
              r.createElement(
                "tr",
                null,
                r.createElement("th", null),
                r.createElement("th", null),
                r.createElement("th", null),
                r.createElement("th", null, "Package Rev"),
                r.createElement("th", null, "Days Discounted"),
                r.createElement(
                  "th",
                  null,
                  "Rank  ",
                  r.createElement(
                    _e.HP,
                    {
                      toolTipContent: "Includes all Rev: Packages + MTX + DLC",
                    },
                    "(?)",
                  ),
                ),
                r.createElement("th", null),
                r.createElement("th", null),
                r.createElement("th", null),
              ),
            ),
            r.createElement(
              "tbody",
              null,
              t.top_apps.map((e) =>
                r.createElement(xn, {
                  key: "appid" + e.appid,
                  rgAppInfo: e,
                  appSummaries: a,
                }),
              ),
            ),
          ),
        );
      }
      const Bn = {
        month: "short",
        day: "numeric",
        year: "numeric",
        weekday: void 0,
      };
      function xn(e) {
        var t;
        const { rgAppInfo: n, appSummaries: a } = e,
          [i] = (0, D.vs)(n.appid, {
            include_reviews: !0,
            include_release: !0,
            include_assets: !0,
          });
        return i
          ? r.createElement(
              "tr",
              null,
              r.createElement(
                "td",
                null,
                r.createElement(
                  Nn.ll,
                  {
                    item: { type: "game", id: n.appid },
                    hoverProps: {
                      direction: "overlay",
                      style: { minWidth: "320px", maxWidth: "320px" },
                    },
                    className: Rn.GameItem,
                  },
                  r.createElement("img", {
                    src: i.GetAssets().GetCommunityIconURL(),
                    style: { width: 32 },
                  }),
                ),
                r.createElement(
                  "div",
                  null,
                  r.createElement(
                    "a",
                    { href: i.GetStorePageURL() },
                    i.GetName(),
                  ),
                  " ",
                  "(",
                  r.createElement(
                    "a",
                    {
                      href: Jt.De.PARTNER_BASE_URL + "apps/landing/" + n.appid,
                    },
                    n.appid,
                  ),
                  ")",
                ),
              ),
              r.createElement(
                "td",
                null,
                (0, O.$1)(i.GetReleaseDateRTime(), Bn),
              ),
              r.createElement("td", null, "TODO Discount"),
              r.createElement(
                "td",
                null,
                "$",
                Math.floor(
                  ((null ===
                    (t = null == a ? void 0 : a.GetAppSaleSummary(n.appid)) ||
                  void 0 === t
                    ? void 0
                    : t.gross_sales_usd) || 0) / 100,
                ).toLocaleString(),
              ),
              r.createElement("td", null, "TODO Discount Rev"),
              r.createElement("td", null, "#", n.long_term_sale_rank + 1),
              r.createElement(
                "td",
                null,
                null == i
                  ? void 0
                  : i.GetUnfilteredReviewSummary().percent_positive,
                "%",
              ),
              r.createElement("td", null, "TODO Eligible"),
              r.createElement("td", null, "TODO BUTTONS"),
            )
          : null;
      }
      var Mn = n(41710);
      function On(e) {
        var t, n, a, i, l, o;
        const { spotlightID: s } = e,
          c = (0, Mn.dh)(s);
        return c
          ? r.createElement(
              "div",
              {
                className: (0, x.Z)({
                  [Zt.RowCtn]: !0,
                  [Zt.Public]: Boolean(
                    null === (t = c.visibility) || void 0 === t
                      ? void 0
                      : t.visible,
                  ),
                }),
                onClick: () =>
                  (window.location.href =
                    u.De.PARTNER_BASE_URL + "admin/store/spotlight/" + s),
              },
              r.createElement(
                "div",
                { className: (0, x.Z)(Zt.Row, Zt.Primary) },
                r.createElement(
                  "div",
                  { className: (0, x.Z)(Zt.Col, Zt.ItemName) },
                  c.name,
                ),
                r.createElement(
                  "div",
                  { className: (0, x.Z)(Zt.Col, Zt.Type) },
                  c.type,
                ),
                r.createElement(zt.Z, {
                  className: (0, x.Z)(Zt.Col, Zt.Date),
                  rtStartDate:
                    null === (n = c.visibility) || void 0 === n
                      ? void 0
                      : n.startdate,
                  rtEndDate:
                    null === (a = c.visibility) || void 0 === a
                      ? void 0
                      : a.enddate,
                }),
                r.createElement(
                  "div",
                  { className: (0, x.Z)(Zt.Col, Zt.Creator) },
                  c.creator,
                ),
                r.createElement(
                  "div",
                  { className: (0, x.Z)(Zt.Col, Zt.Visibility) },
                  Boolean(
                    null === (i = c.visibility) || void 0 === i
                      ? void 0
                      : i.visible,
                  )
                    ? "public"
                    : "beta",
                ),
              ),
              r.createElement(
                "div",
                { className: Zt.Row },
                r.createElement(
                  "div",
                  { className: Zt.Col },
                  null ===
                    (o =
                      null === (l = c.location) || void 0 === l
                        ? void 0
                        : l.hubTargets) || void 0 === o
                    ? void 0
                    : o.join(", "),
                ),
              ),
            )
          : r.createElement(L.V, { string: s, size: "small" });
      }
      const Fn = (0, Xt.Zt)(Vt());
      function Un(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "spotlightdashboardtab",
              `?tab=${e.key}`,
            ),
          n = [
            {
              name: "Active or Upcoming Spotlights",
              key: "current",
              contents: r.createElement(C.SV, null, r.createElement(jn, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: r.createElement(C.SV, null, r.createElement(Wn, null)),
              onClick: t,
            },
            {
              name: "Search all Spotlights",
              key: "search",
              contents: r.createElement(C.SV, null, r.createElement(qn, null)),
              onClick: t,
            },
          ];
        return r.createElement(
          "div",
          {
            className: (0, x.Z)(
              cn().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          r.createElement(
            "div",
            { className: y().PageTitle },
            "Spotlight Dashboard (VO) ",
          ),
          r.createElement("hr", { className: "VO" }),
          r.createElement(
            "div",
            { className: cn().CreateNewCtn },
            r.createElement(
              b.zx,
              { onClick: (e) => console.log("TODO") },
              "Create New Spotlight",
            ),
          ),
          r.createElement(G.n, { tabs: n }),
          r.createElement("div", { className: P().ClearThings }),
        );
      }
      var Hn;
      function Vn(e) {
        const t = (0, Mn.Og)();
        return t && e != Hn.k_DisplayAll
          ? t.filter((t) => {
              var n, a;
              return (
                (e == Hn.k_DisplayPublic &&
                  Boolean(
                    null === (n = t.visibility) || void 0 === n
                      ? void 0
                      : n.visible,
                  )) ||
                (e == Hn.k_DisplayBeta &&
                  !Boolean(
                    null === (a = t.visibility) || void 0 === a
                      ? void 0
                      : a.visible,
                  ))
              );
            })
          : t;
      }
      function Xn(e) {
        const { display: t, fnSetDisplay: n } = e,
          a = [
            { label: "Show All", data: Hn.k_DisplayAll },
            { label: "Show Visible", data: Hn.k_DisplayPublic },
            { label: "Show Hidden", data: Hn.k_DisplayBeta },
          ];
        return r.createElement(
          "div",
          { className: cn().FilterRow },
          r.createElement(
            "div",
            { className: cn().VisibilityFilterCtn },
            r.createElement(b.ry, {
              label: "Visibility Filter",
              tooltip: "Limit the Spotlights based on their visibility",
              rgOptions: a,
              onChange: (e) => n(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
        );
      }
      function jn(e) {
        const [t, n] = (0, r.useState)(Hn.k_DisplayAll),
          a = Vn(t);
        return r.createElement(
          "div",
          null,
          r.createElement(Xn, { display: t, fnSetDisplay: n }),
          r.createElement("div", null, "Present and Future Spotlights"),
          r.createElement("hr", null),
          r.createElement(
            "div",
            null,
            "Partner facing documentation with specs for spotlight assets:",
            r.createElement(
              "a",
              {
                href: "https://partner.steamgames.com/doc/store/assets/promos",
                target: "_blank",
              },
              "https://partner.steamgames.com/doc/store/assets/promos",
            ),
          ),
          r.createElement(zn, { rows: a }),
        );
      }
      function qn(e) {
        return r.createElement("div", null, "todo");
      }
      function Wn(e) {
        const [t, n] = (0, r.useState)(Hn.k_DisplayAll),
          a = Vn(t),
          i = (0, r.useMemo)(
            () =>
              a
                .filter((e) => {
                  var t, n;
                  return (
                    (null === (t = e.visibility) || void 0 === t
                      ? void 0
                      : t.startdate) &&
                    (null === (n = e.visibility) || void 0 === n
                      ? void 0
                      : n.enddate)
                  );
                })
                .map((e) => ({
                  allDay: !1,
                  title: e.name,
                  start: new Date(1e3 * e.visibility.startdate),
                  end: new Date(1e3 * (e.visibility.enddate - 36e3 - 1)),
                  resource: e,
                })),
            [a],
          ),
          l = [Xt.kO.MONTH, Xt.kO.WEEK, Xt.kO.DAY, Xt.kO.AGENDA];
        return r.createElement(
          "div",
          null,
          r.createElement(Xn, { display: t, fnSetDisplay: n }),
          r.createElement("h1", null, "Calendar View of Spotlights"),
          r.createElement(Xt.f, {
            views: l,
            popup: !0,
            defaultView: "month",
            localizer: Fn,
            events: i,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, Ut.ZN)(e.resource)),
            eventPropGetter: (e) => {
              var t;
              const n = e.resource;
              return {
                style: {
                  color: Boolean(
                    null === (t = n.visibility) || void 0 === t
                      ? void 0
                      : t.visible,
                  )
                    ? "red"
                    : "white",
                },
              };
            },
          }),
          r.createElement("h1", null, "Remaining Spotlights without Dates"),
          r.createElement(zn, {
            rows: a.filter((e) => {
              var t, n;
              return (
                !(null === (t = e.visibility) || void 0 === t
                  ? void 0
                  : t.startdate) ||
                !(null === (n = e.visibility) || void 0 === n
                  ? void 0
                  : n.enddate)
              );
            }),
          }),
        );
      }
      function zn(e) {
        const { rows: t } = e;
        return r.createElement(
          r.Fragment,
          null,
          t.map((e) => r.createElement(On, { key: e.id, spotlightID: e.id })),
        );
      }
      !(function (e) {
        (e[(e.k_DisplayAll = 0)] = "k_DisplayAll"),
          (e[(e.k_DisplayPublic = 1)] = "k_DisplayPublic"),
          (e[(e.k_DisplayBeta = 2)] = "k_DisplayBeta");
      })(Hn || (Hn = {}));
      var Zn = n(80127),
        Kn = n(77936),
        Qn = n(99892),
        Yn = n.n(Qn),
        Jn = n(44237),
        $n = n(79545),
        ea = n(42718),
        ta = n(20020),
        na = n(77581);
      class aa {
        GetPartnerPreviewByID(e) {
          return (0, se.mG)(this, void 0, void 0, function* () {
            const t = $n.gA.Init(Jn.Vi);
            t.Body().set_gid(e), t.Body().set_partnerid(this.m_publisherID);
            const n = yield Jn.Bn.GetPartnerMessagePreview(
              this.m_steamInterface.GetServiceTransport(),
              t,
            );
            if (1 != n.GetEResult())
              throw `Error loading message preview, id: ${e}, error: ${n.GetEResult()}`;
            return n.Body().message();
          });
        }
        PartnerPublishByID(e) {
          return (0, se.mG)(this, void 0, void 0, function* () {
            const t = $n.gA.Init(Jn.Vt);
            t.Body().set_gid(e), t.Body().set_partnerid(this.m_publisherID);
            return (
              1 ==
              (yield Jn.Bn.PublishPartnerMessage(
                this.m_steamInterface.GetServiceTransport(),
                t,
              )).GetEResult()
            );
          });
        }
        static Get() {
          return (
            aa.s_Singleton ||
              ((aa.s_Singleton = new aa()),
              aa.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_MarketingMessagePreviewStore = aa.s_Singleton)),
            aa.s_Singleton
          );
        }
        constructor() {}
        Init() {
          const e = (0, u.kQ)(
              "promotion_operation_token",
              "application_config",
            ),
            t = (0, u.kQ)("publisherid", "application_config");
          (0, ta.X)(Boolean(e), "require promotion_operation_token"),
            "dev" == u.De.WEB_UNIVERSE &&
              console.log(
                `DEV_DEBUG Initializing CMarketingMessagePartnerPreviewStore with access token ${e} and publisherID ${t}`,
              ),
            (this.m_steamInterface = new na.J(u.De.WEBAPI_BASE_URL, e)),
            (this.m_publisherID = t);
        }
      }
      var ia = n(77671);
      function la(e) {
        const { gid: t } = e,
          n =
            ((a = t),
            (0, ea.useQuery)(["GetPartnerPreviewMessage", a], () =>
              aa.Get().GetPartnerPreviewByID(a),
            ));
        var a;
        if (n.isLoading)
          return r.createElement(L.V, {
            className: Yn().Throbber,
            position: "center",
          });
        if (n.isError)
          return r.createElement(
            "div",
            { className: Yn().LoadError },
            (0, O.Xx)("#MarketingMessage_PartnerPreview_Error"),
          );
        const i = n.data.visibility();
        return 3 !== i && 2 !== i
          ? r.createElement(
              "div",
              { className: Yn().LoadError },
              (0, O.Xx)("#MarketingMessage_PartnerPreview_Error"),
            )
          : r.createElement(ra, { marketingMessage: n.data });
      }
      function ra(e) {
        const { marketingMessage: t } = e,
          n = t.visibility(),
          [a, i] = r.useState(2 === n),
          l = new Date(1e3 * t.start_date()).toLocaleString(
            O.Yt.GetPreferredLocales(),
            {
              month: "short",
              day: "numeric",
              hour: "numeric",
              timeZone: "America/Los_Angeles",
            },
          ),
          o = new Date(1e3 * t.end_date()).toLocaleString(
            O.Yt.GetPreferredLocales(),
            {
              month: "short",
              day: "numeric",
              hour: "numeric",
              timeZone: "America/Los_Angeles",
            },
          );
        return r.createElement(
          "div",
          { className: y().AdminPageCtn },
          r.createElement(
            "div",
            { className: Yn().Header },
            r.createElement(
              "div",
              { className: Yn().LeftCol },
              r.createElement(
                "h1",
                null,
                (0, O.Xx)("#MarketingMessage_PartnerPreview_Header_Status"),
              ),
              r.createElement(
                "div",
                { className: (0, x.Z)(Yn().Status, a && Yn().Public) },
                (0, O.Xx)(
                  a
                    ? "#MarketingMessage_PartnerPreview_Header_Public"
                    : "#MarketingMessage_PartnerPreview_Header_Approved",
                ),
              ),
              !a && r.createElement(oa, { gid: t.gid(), setIsPublic: i }),
              !a &&
                r.createElement(
                  "span",
                  null,
                  (0, O.Xx)(
                    "#MarketingMessage_PartnerPreview_Publish_Availability",
                    o,
                  ),
                ),
              r.createElement(
                "span",
                null,
                (0, O.Xx)(
                  "#MarketingMessage_PartnerPreview_Publish_VisibilityRange",
                  l,
                  o,
                ),
              ),
            ),
            r.createElement(
              "div",
              { className: Yn().RightCol },
              r.createElement(ca, { marketingMessage: t }),
              r.createElement(
                "a",
                {
                  target: "_blank",
                  href: u.De.PARTNER_BASE_URL + "doc/store/assets/promos",
                },
                (0, O.Xx)("#MarketingMessage_PartnerPreview_DocLink"),
              ),
            ),
          ),
          r.createElement(ma, { marketingMessage: t }),
        );
      }
      function oa(e) {
        return r.createElement(
          r.Fragment,
          null,
          r.createElement(
            b.zx,
            {
              className: Yn().PublishButton,
              onClick: () => {
                (0, N.AM)(
                  r.createElement(sa, {
                    gid: e.gid,
                    setIsPublic: e.setIsPublic,
                  }),
                  window,
                );
              },
            },
            (0, O.Xx)("#MarketingMessage_PartnerPreview_Button_SetPublic"),
          ),
        );
      }
      function sa(e) {
        const { gid: t, setIsPublic: n, closeModal: a } = e,
          i = (0, I.tx)();
        if (i.bLoading)
          return r.createElement(I.NT, {
            state: i,
            strDialogTitle: (0, O.Xx)(
              "#MarketingMessage_PartnerPreview_ModalTitle",
            ),
            closeModal: a,
          });
        return r.createElement(T.uH, {
          strTitle: (0, O.Xx)("#MarketingMessage_PartnerPreview_ModalTitle"),
          onOK: () => {
            var e;
            i.fnSetLoading(!0),
              ((e = t), aa.Get().PartnerPublishByID(e)).then((e) => {
                e
                  ? (i.fnSetSuccess(!0),
                    i.fnSetStrSuccess(
                      (0, O.Xx)(
                        "#MarketingMessage_PartnerPreview_Button_SetPublicSuccess",
                      ),
                    ),
                    n(!0))
                  : (i.fnSetError(!0),
                    i.fnSetStrError(
                      (0, O.Xx)(
                        "#MarketingMessage_PartnerPreview_Button_SetPublicFailed",
                      ),
                    ));
              });
          },
          onCancel: a,
        });
      }
      function ca(e) {
        const { marketingMessage: t } = e,
          n = new URLSearchParams();
        return (
          n.set(
            "name",
            (0, O.Xx)("#MarketingMessagePreview_Email_Reminder", t.title()),
          ),
          n.set("marketingmessagepartnerpreview", t.gid()),
          n.set("start", "" + t.start_date),
          n.set(
            "description",
            (0, O.Xx)("#MarketingMessagePreview_Email_PreviewLink"),
          ),
          r.createElement(
            "a",
            {
              href:
                u.De.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                n.toString(),
            },
            r.createElement("span", {
              className: "iconLink icon_download icon_inline",
            }),
            (0, O.Xx)("#MarketingMessage_PartnerPreview_DownloadReminderEvent"),
          )
        );
      }
      function ma(e) {
        const { marketingMessage: t } = e;
        return r.createElement(
          "div",
          { className: Yn().PreviewCtn },
          r.createElement(da, { marketingMessage: t }),
          r.createElement(ua, { marketingMessage: t }),
        );
      }
      function da(e) {
        const { marketingMessage: t } = e;
        let n = null,
          a = 0;
        if (t.template_vars_json()) {
          const e = JSON.parse(t.template_vars_json());
          (n = e.ll_image), (a = e.last_asset_mtime || 0);
        }
        return r.createElement(
          "div",
          { className: Yn().ArtPreviews },
          Boolean(n && n.english) &&
            r.createElement(
              "div",
              { className: Yn().MessageImagePreview },
              r.createElement(
                "div",
                { className: Yn().PreviewHeader },
                (0, O.Xx)("#MarketingMessage_PartnerPreview_PreviewGlobal"),
              ),
              r.createElement("img", {
                src: (0, ia.i)(t.gid(), 0, a, n.english),
              }),
            ),
          Boolean(n && n.sc_schinese) &&
            r.createElement(
              "div",
              { className: Yn().MessageImagePreview },
              r.createElement(
                "div",
                { className: Yn().PreviewHeader },
                (0, O.Xx)("#MarketingMessage_PartnerPreview_PreviewSC"),
              ),
              r.createElement("img", {
                src: (0, ia.i)(t.gid(), 29, a, n.sc_schinese),
              }),
            ),
        );
      }
      function ua(e) {
        const { marketingMessage: t } = e,
          n = (0, r.useMemo)(() => {
            const e = [];
            for (let t = 0; t < 31; ++t) {
              const n = (0, Kn.j_)(t),
                a = (0, O.Xx)("#Language_" + n);
              e.push({ cc: "US", language: n, label: a });
            }
            return e;
          }, []);
        return r.createElement(
          "div",
          { className: Yn().LanguagePreviewLinks },
          r.createElement(
            "div",
            { className: Yn().PreviewHeader },
            (0, O.Xx)("#MarketingMessage_PartnerPreview_PreviewLanguages"),
          ),
          r.createElement(
            "div",
            { className: Yn().PreviewButtons },
            n.map((e) =>
              r.createElement(
                b.zx,
                {
                  key: e.label,
                  className: Yn().LangPreviewButton,
                  onClick: (n) => {
                    const a = `${u.De.PARTNER_BASE_URL}marketingmessages/messagepreview/${t.gid()}/?cc=${e.cc}&l=${e.language}`;
                    n.preventDefault();
                    window
                      .open(
                        a,
                        "marketing_message",
                        "height=720,width=700,resize=yes,scrollbars=yes",
                      )
                      .focus();
                  },
                },
                e.label,
              ),
            ),
          ),
        );
      }
      function pa(e) {
        const { discountEventID: t } = e,
          n = (0, ee.vc)(t);
        if (!n)
          return r.createElement(L.V, {
            string: "loading: " + t,
            size: "small",
          });
        const a = pe.JW.GetTimeNowWithOverride();
        return r.createElement(
          "div",
          {
            className: (0, x.Z)({
              [Zt.RowCtn]: !0,
              [Zt.Public]: Boolean(n.start_date <= a && n.end_date > a),
            }),
            onClick: () =>
              (window.location.href =
                u.De.PARTNER_BASE_URL + "promotion/discountevents/edit/" + t),
          },
          r.createElement(
            "div",
            { className: (0, x.Z)(Zt.Row, Zt.Primary) },
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.ItemName) },
              n.name,
            ),
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.Type) },
              n.type,
            ),
            r.createElement(zt.Z, {
              className: (0, x.Z)(Zt.Col, Zt.Date),
              rtStartDate: n.start_date,
              rtEndDate: n.end_date,
            }),
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.Creator) },
              n.collision_type,
            ),
            r.createElement(
              "div",
              { className: (0, x.Z)(Zt.Col, Zt.Visibility) },
              "additional notes?",
            ),
          ),
          r.createElement("div", { className: Zt.Row }, "todo?"),
        );
      }
      const _a = (0, Xt.Zt)(Vt());
      function ha(e) {
        const t = (e) =>
            window.sessionStorage.setItem(
              "discounteventdashboardtab",
              `?tab=${e.key}`,
            ),
          n = [
            {
              name: "Discount Events Table",
              key: "current",
              contents: r.createElement(C.SV, null, r.createElement(Sa, null)),
              onClick: t,
            },
            {
              name: "Calendar View",
              key: "calendar",
              contents: r.createElement(C.SV, null, r.createElement(fa, null)),
              onClick: t,
            },
            {
              name: "Search all discount events",
              key: "search",
              contents: r.createElement(C.SV, null, r.createElement(Da, null)),
              onClick: t,
            },
          ];
        return r.createElement(
          "div",
          {
            className: (0, x.Z)(
              cn().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          r.createElement(
            "div",
            { className: y().PageTitle },
            "Discount Event Dashboard (VO) ",
          ),
          r.createElement("hr", { className: "VO" }),
          r.createElement(
            "div",
            { className: cn().CreateNewCtn },
            r.createElement(
              "div",
              null,
              "This page is only visible to end editable by Valve",
            ),
            r.createElement(
              "p",
              null,
              "Note: Events up to 30 days ago and any future events are shown below. Do not delete old events unless the event did not occur.",
            ),
            r.createElement(
              b.zx,
              { onClick: (e) => console.log("TODO") },
              "Create New Discount EVent",
            ),
          ),
          r.createElement(G.n, { tabs: n }),
          r.createElement("div", { className: P().ClearThings }),
        );
      }
      var ga;
      function va(e) {
        const { rgDiscountEvents: t } = (0, ee.BS)();
        if (t && e != ga.k_DisplayAll) {
          const n = pe.JW.GetTimeNowWithOverride();
          return t.filter((t) => {
            const a = t.start_date <= n && t.end_date >= n,
              i = t.start_date > n,
              l = t.end_date < n;
            return (
              (e == ga.k_DisplayActiveAndUpcoming && Boolean(a || i)) ||
              (e == ga.k_DisplayActive && a) ||
              (e == ga.k_DisplayUpcoming && i) ||
              (e == ga.k_DisplayExpired && l)
            );
          });
        }
        return t;
      }
      function Ea(e) {
        const { display: t, fnSetDisplay: n } = e,
          a = [
            {
              label: "Show Active And Upcoming",
              data: ga.k_DisplayActiveAndUpcoming,
            },
            { label: "Show Active Only", data: ga.k_DisplayActive },
            { label: "Show Upcoming Only", data: ga.k_DisplayUpcoming },
            { label: "Show Expired Only", data: ga.k_DisplayExpired },
            { label: "Show All", data: ga.k_DisplayAll },
          ];
        return r.createElement(
          "div",
          { className: cn().FilterRow },
          r.createElement(
            "div",
            { className: cn().VisibilityFilterCtn },
            r.createElement(b.ry, {
              label: "Visibility Filter",
              tooltip: "Limit the discount events based on their visibility",
              rgOptions: a,
              onChange: (e) => n(e.data),
              contextMenuPositionOptions: { bMatchWidth: !0, bFitToWindow: !0 },
              selectedOption: t,
            }),
          ),
        );
      }
      function Sa(e) {
        const [t, n] = (0, r.useState)(ga.k_DisplayActiveAndUpcoming),
          a = va(t);
        return r.createElement(
          "div",
          null,
          r.createElement(Ea, { display: t, fnSetDisplay: n }),
          r.createElement("hr", null),
          r.createElement(ya, { rows: a }),
        );
      }
      function Da(e) {
        return r.createElement("div", null, "todo");
      }
      function fa(e) {
        const [t, n] = (0, r.useState)(ga.k_DisplayActiveAndUpcoming),
          a = va(t),
          i = (0, r.useMemo)(
            () =>
              a.map((e) => ({
                allDay: !1,
                title: e.name,
                start: new Date(1e3 * e.start_date),
                end: new Date(1e3 * (e.end_date - 36e3 - 1)),
                resource: e,
              })),
            [a],
          ),
          l = [Xt.kO.MONTH, Xt.kO.WEEK, Xt.kO.DAY, Xt.kO.AGENDA],
          o = pe.JW.GetTimeNowWithOverride();
        return r.createElement(
          "div",
          null,
          r.createElement(Ea, { display: t, fnSetDisplay: n }),
          r.createElement("h1", null, "Calendar View of Discount Events"),
          r.createElement(Xt.f, {
            views: l,
            popup: !0,
            defaultView: "month",
            localizer: _a,
            events: i,
            style: { height: 1e3 },
            showMultiDayTimes: !0,
            onSelectEvent: (e) =>
              console.log("selected ", (0, Ut.ZN)(e.resource)),
            eventPropGetter: (e) => {
              const t = e.resource;
              return {
                style: {
                  color: Boolean(t.start_date <= o && t.end_date >= o)
                    ? "green"
                    : "blue",
                },
              };
            },
          }),
          r.createElement("h1", null, "Remaining Discount Event without Dates"),
          r.createElement(ya, {
            rows: a.filter((e) => e.start_date <= o && e.end_date >= o),
          }),
        );
      }
      function ya(e) {
        const { rows: t } = e;
        return r.createElement(
          r.Fragment,
          null,
          t.map((e) =>
            r.createElement(pa, { key: e.id, discountEventID: e.id }),
          ),
        );
      }
      !(function (e) {
        (e[(e.k_DisplayActiveAndUpcoming = 0)] = "k_DisplayActiveAndUpcoming"),
          (e[(e.k_DisplayActive = 1)] = "k_DisplayActive"),
          (e[(e.k_DisplayUpcoming = 2)] = "k_DisplayUpcoming"),
          (e[(e.k_DisplayExpired = 3)] = "k_DisplayExpired"),
          (e[(e.k_DisplayAll = 4)] = "k_DisplayAll");
      })(ga || (ga = {}));
      var ba = n(16997);
      class Ia {
        constructor(e) {
          (this.m_oDiscountEvent = null),
            (this.m_originalDiscountEvent = null),
            (this.m_bDirty = !1),
            (this.m_callback = new de.pB()),
            (0, Ut.rC)(this),
            this.Reset(e);
        }
        Reset(e) {
          (this.m_originalDiscountEvent = JSON.parse(JSON.stringify(e))),
            (this.m_oDiscountEvent = JSON.parse(JSON.stringify(e))),
            (this.m_bDirty = !1);
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetModel() {
          return this.m_oDiscountEvent;
        }
        GetID() {
          return this.m_oDiscountEvent.id;
        }
        GetType() {
          return this.m_oDiscountEvent.type;
        }
        GetName() {
          return this.m_oDiscountEvent.name;
        }
        GetDescription() {
          return this.m_oDiscountEvent.description;
        }
        GetStartDate() {
          return this.m_oDiscountEvent.start_date;
        }
        GetEndDate() {
          return this.m_oDiscountEvent.end_date;
        }
        GetAppIDs() {
          return this.m_oDiscountEvent.appids;
        }
        GetPublisherIDs() {
          return this.m_oDiscountEvent.publisherids;
        }
        GetCollisionType() {
          return this.m_oDiscountEvent.collision_type;
        }
        GetCutOffTime() {
          return this.m_oDiscountEvent.cutoff;
        }
        GetEventString() {
          return this.m_oDiscountEvent.event;
        }
        GetHeaderString() {
          return this.m_oDiscountEvent.header;
        }
        GetTooltip() {
          return this.m_oDiscountEvent.tooltip;
        }
        BPreventWeeklong() {
          return "on" == this.m_oDiscountEvent.prevent_weeklong;
        }
        GetPreventWeeklong() {
          return this.m_oDiscountEvent.prevent_weeklong;
        }
        GetOptInName() {
          return this.m_oDiscountEvent.opt_in_name;
        }
        SetName(e) {
          this.m_oDiscountEvent.name != e &&
            ((this.m_oDiscountEvent.name = e), this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oDiscountEvent.start_date != e &&
            ((this.m_oDiscountEvent.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oDiscountEvent.end_date != e &&
            ((this.m_oDiscountEvent.end_date = e), this.Dispatch());
        }
        SetOptInName(e) {
          this.m_oDiscountEvent.opt_in_name != e &&
            ((this.m_oDiscountEvent.opt_in_name = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oDiscountEvent = JSON.parse(
            JSON.stringify(this.m_originalDiscountEvent),
          )),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, se.gn)([Ut.LO], Ia.prototype, "m_bDirty", void 0),
        (0, se.gn)([ba.a], Ia.prototype, "SetName", null),
        (0, se.gn)([ba.a], Ia.prototype, "SetStartDate", null),
        (0, se.gn)([ba.a], Ia.prototype, "SetEndDate", null),
        (0, se.gn)([ba.a], Ia.prototype, "SetOptInName", null),
        (0, se.gn)([ba.a], Ia.prototype, "RevertChanges", null);
      var Ca = n(20417);
      class ka {
        InitDiscountEventToEdit(e, t = !1) {
          return (
            this.m_model
              ? (this.m_model.Reset(e),
                t && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new Ia(e)),
            this.m_model
          );
        }
        GetDiscountEventToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            ka.s_Singleton ||
              ((ka.s_Singleton = new ka()),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_DiscountEventEditStore = ka.s_Singleton)),
            ka.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      function Aa() {
        const e = (0, Ca.NW)(),
          [t, n] = r.useState(ka.Get().GetDiscountEventToEdit());
        return (
          (0, Ca.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          t
        );
      }
      function wa(e) {
        const [t] = [
            r.useCallback(
              () =>
                !!ka.Get().GetDiscountEventToEdit() &&
                ka.Get().GetDiscountEventToEdit().BIsDirty(),
              [],
            ),
            r.useCallback(() => {
              ka.Get().ClearEditModel();
            }, []),
          ],
          n = Aa();
        r.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() ? (0, O.Xx)("#DailyDeals_UnsavedChanges") : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t],
        );
        return r.createElement(s.NL, {
          message: (e) =>
            !n ||
            !t() ||
            e.pathname == "promotion/" + Mi.DiscountEventEditor(n.GetID()) ||
            (0, O.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      function Pa(e) {
        const { discountEventID: t } = e,
          n = (0, ee.vc)(t),
          [a, i] = r.useState(!1);
        if (
          (r.useEffect(() => {
            n && (ka.Get().InitDiscountEventToEdit(n), i(!0));
          }, [n, t]),
          !n)
        )
          return r.createElement(
            "div",
            null,
            r.createElement("div", null, "Cannot find discount event ", t),
            r.createElement(
              o.rU,
              { to: Mi.DiscountEventDashboard() },
              "Return to discount event dashboard",
            ),
          );
        if (!a)
          return r.createElement(L.V, {
            size: "medium",
            position: "center",
            string: (0, O.Xx)("#Loading"),
          });
        const l = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          s = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: r.createElement(C.SV, null, r.createElement(Ta, null)),
              onClick: l,
            },
            {
              name: "Debug Tab",
              key: "debug",
              contents: r.createElement(C.SV, null, r.createElement(Na, null)),
              onClick: l,
            },
          ];
        return r.createElement(
          "div",
          { className: y().AdminPageCtn },
          r.createElement(wa, null),
          r.createElement(
            "div",
            { className: q.ButtonRow },
            r.createElement(
              o.rU,
              {
                to: Mi.DiscountEventDashboard(),
                className: (0, x.Z)(y().DashLink, q.DashLink),
              },
              r.createElement(R.Ehc, { angle: 270 }),
              r.createElement(
                "div",
                null,
                "Return to Discount Event Dashboard",
              ),
            ),
            r.createElement(
              "a",
              {
                href: Jt.De.PARTNER_BASE_URL + "promotion/planning/dashboard",
                className: (0, x.Z)(y().DashLink, q.DashLink),
              },
              r.createElement(
                "div",
                null,
                "Go to Promotion Planning Dashboard",
              ),
            ),
          ),
          r.createElement(G.n, { tabs: s }),
          r.createElement("div", { className: P().ClearThings }),
        );
      }
      function Ta(e) {
        Aa();
        return r.createElement(
          "div",
          { className: q.EditCtn },
          r.createElement(
            "div",
            { className: y().PageTitle },
            "Discount Event ",
            r.createElement("span", null, "Edit Details"),
          ),
          r.createElement("hr", null),
          r.createElement(
            "div",
            null,
            "This page is only visible to and editable by Valve",
          ),
          r.createElement("br", null),
          r.createElement(
            "div",
            { className: y().ColumnCtn },
            r.createElement("div", { className: y().LeftCol }),
          ),
        );
      }
      function Na(e) {
        const t = Aa(),
          n = t.BIsDirty();
        return r.createElement(
          "div",
          null,
          r.createElement("div", null, "Debug Panel"),
          r.createElement("hr", null),
          r.createElement("div", null, "Is dirty?: ", n),
          r.createElement(m.G, { data: t.GetModel() }),
        );
      }
      var Ra = n(1698),
        Ga = n(90960),
        La = n(62043),
        Ba = n(5697),
        xa = n(73799),
        Ma = n.n(xa),
        Oa = (n(2041), n(87380)),
        Fa = n(79270);
      const Ua = r.createContext({
        loadAppPromoSaleFeaturing: (e, t) =>
          (0, se.mG)(void 0, void 0, void 0, function* () {
            return yield (function (e) {
              Va ||
                (Va = new (Ma())(
                  (t) =>
                    (0, se.mG)(this, void 0, void 0, function* () {
                      const n = $n.gA.Init(Ba.Al);
                      n.Body().set_appids([...t]),
                        n.Body().set_exclude_direct_featuring(!0),
                        n.Body().set_exclude_sales(!1);
                      const a = yield Ba.nd.GetAllPlansForApps(e, n);
                      if (!a.BSuccess())
                        throw `Failed to load app featuring on promo plans details: ${a.GetErrorMessage()}`;
                      const i = new Map();
                      a.Body()
                        .plans()
                        .forEach((e) => {
                          const t = e.toObject();
                          (0, Oa.kA)(t);
                          const n = JSON.parse(t.admin_jsondata);
                          n.sale_clan_event_gid &&
                            (i.has(n.sale_clan_event_gid)
                              ? i
                                  .get(n.sale_clan_event_gid)
                                  .push(t.promotion_id)
                              : i.set(n.sale_clan_event_gid, [t.promotion_id]));
                        });
                      const l = new Map();
                      return (
                        a
                          .Body()
                          .apps_included_in_sales()
                          .forEach((e) => {
                            const t = e.toObject();
                            t.appids.forEach((e) => {
                              l.has(e) || l.set(e, new Array());
                              const n = i.get(t.clan_event_gid);
                              n && n.forEach((t) => l.get(e).push(t));
                            });
                          }),
                        t.map((e) => l.get(e))
                      );
                    }),
                  { maxBatchSize: 10 },
                ));
              return Va;
            })(t).load(e);
          }),
      });
      function Ha(e, t, n) {
        return {
          queryKey: ["AppFeaturedOnPromoPlan", n],
          queryFn: () => e.loadAppPromoSaleFeaturing(n, t),
          enabled: !!n,
        };
      }
      let Va;
      function Xa() {
        const e = (0, Oa.XL)(),
          t = (function () {
            const [e] = (0, r.useState)(() => {
              const e = (0, xe.kQ)(
                  "marketing_messages_metadataonly",
                  "application_config",
                ),
                t = new Map();
              return e
                ? (e.forEach((e) => {
                    if (e.associated_id) {
                      let n = -1;
                      switch (e.association_type) {
                        case 1:
                          n = 0;
                          break;
                        case 2:
                          n = 1;
                          break;
                        case 5:
                          n = 2;
                      }
                      if (-1 != n) {
                        const a = (0, S.qw)(e.associated_id, n);
                        t.has(a) ? t.get(a).push(e) : t.set(a, [e]);
                      }
                    }
                  }),
                  t)
                : t;
            });
            return e;
          })(),
          n = (0, h.JE)(),
          a = (0, le.P9)(),
          i = (0, Oa.yw)();
        return {
          mapStoreItemToPlans: e,
          mapStoreItemToMMs: t,
          mapStoreItemToDailyDeals: n,
          mapStoreItemToInvites: a,
          mapMMFeaturedInPlans: (0, r.useMemo)(() => {
            const e = new Map();
            return (
              i.map((t) => {
                t.marketing_message_ids &&
                  t.marketing_message_ids.forEach((n) => e.set(n, t.id));
              }),
              e
            );
          }, [i]),
        };
      }
      var ja = n(62738),
        qa = n(83999);
      class Wa {
        constructor() {
          (this.m_mapPartnerToContactInfo = new Map()),
            (this.m_setAppIDWithValveContact = new Set()),
            (this.m_mapPromisePartnerLoading = new Map());
        }
        FetchValvePartnerContacts(e) {
          return (0, se.mG)(this, void 0, void 0, function* () {
            const t =
                u.De.PARTNER_BASE_URL + "actions/ajaxgetpartnervalvecontacts",
              n = { sessionid: u.De.SESSIONID, strPartnerIDs: e.join(",") },
              a = yield me().get(t, { params: n, withCredentials: !0 });
            return 200 == (null == a ? void 0 : a.status) &&
              1 == (null == a ? void 0 : a.data.success)
              ? a.data.contacts
              : [];
          });
        }
        LoadValvePartnerContact(e) {
          return (0, se.mG)(this, void 0, void 0, function* () {
            return e
              ? this.m_mapPartnerToContactInfo.has(e)
                ? this.m_mapPartnerToContactInfo.get(e)
                : (this.m_mapPromisePartnerLoading.has(e) ||
                    this.m_mapPromisePartnerLoading.set(
                      e,
                      this.InternalLoadValvePartnerContact(e),
                    ),
                  this.m_mapPromisePartnerLoading.get(e))
              : [];
          });
        }
        InternalLoadValvePartnerContact(e) {
          return (0, se.mG)(this, void 0, void 0, function* () {
            return this.FetchValvePartnerContacts([e]);
          });
        }
        static Get() {
          return (
            Wa.s_Singleton ||
              ((Wa.s_Singleton = new Wa()),
              Wa.s_Singleton.Init(),
              "dev" == u.De.WEB_UNIVERSE &&
                (window.g_PartnerValveContactStore = Wa.s_Singleton)),
            Wa.s_Singleton
          );
        }
        Init() {
          const e = (0, u.ip)(
            "partner_valve_contact_list",
            "application_config",
          );
          e &&
            e.forEach((e) => {
              this.m_mapPartnerToContactInfo.has(e.partnerid)
                ? this.m_mapPartnerToContactInfo.get(e.partnerid).push(e)
                : this.m_mapPartnerToContactInfo.set(e.partnerid, [e]);
            }),
            this.BuilAppsWithValveContacts();
        }
        BuilAppsWithValveContacts() {
          const e = (0, u.kQ)("package_to_paid_partners", "application_config"),
            t = new Map();
          e.forEach((e) => {
            t.has(e.packageid) || t.set(e.packageid, new Array()),
              t.get(e.packageid).push(e.partnerid);
          });
          const n = (0, u.ip)("app_to_package_lists", "application_config");
          n &&
            Object.keys(n).forEach((e) => {
              const a = parseInt(e);
              if (a && !this.m_setAppIDWithValveContact.has(a))
                for (const e of n[a]) {
                  const n = t.get(e);
                  null == n ||
                    n.forEach((e) => {
                      e &&
                        this.m_mapPartnerToContactInfo.has(e) &&
                        !this.m_setAppIDWithValveContact.has(a) &&
                        this.m_setAppIDWithValveContact.add(a);
                    });
                }
            });
        }
        GetAppIDsWithValveContacts() {
          return this.m_setAppIDWithValveContact;
        }
      }
      function za(e, t, n) {
        const [a, i] = (0, r.useState)(null),
          l = (function (e) {
            const { data: t, isLoading: n } = (0, ea.useQuery)(
              ["PartnerValveContactByPartnerID", e],
              () => Wa.Get().LoadValvePartnerContact(e),
            );
            return n ? null : t;
          })(e);
        return (
          (0, r.useEffect)(() => {
            if ((null == l ? void 0 : l.length) > 0) {
              const e = l
                .filter((e) => !e.appid || e.appid == t)
                .filter(
                  (e) =>
                    "any" == n ||
                    ("business" == n && e.is_business_contact) ||
                    ("tech" == n && e.is_tech_contact),
                )
                .map((e) => new ja.Kg(e.steamid).GetAccountID());
              i(qa.kp(e));
            }
          }, [l, t, n]),
          a
        );
      }
      var Za = n(38201),
        Ka = n(86984),
        Qa = n(95315),
        Ya = n(22042),
        Ja = n(40810);
      function $a(e) {
        const { strLabel: t, strToolTip: n, fnSetPartner: a, className: i } = e,
          { fnFindPartnerByName: l } = (0, ne.kr)(),
          o = (0, r.useRef)(null),
          s = (0, r.useRef)(null),
          c = (0, r.useRef)(0),
          m = (0, r.useRef)();
        (0, r.useEffect)(
          () => () => {
            window.clearTimeout(c.current),
              o.current && o.current("SearchForPartner: unmounting"),
              s.current && s.current.Hide();
          },
          [],
        );
        const d = (0, r.useCallback)(
          (e) =>
            (0, se.mG)(this, void 0, void 0, function* () {
              const t = e.target.value;
              t &&
                0 != t.trim().length &&
                (window.clearTimeout(c.current),
                o.current && o.current("SearchForPartner: new request"),
                (c.current = window.setTimeout(
                  () =>
                    (0, se.mG)(this, void 0, void 0, function* () {
                      const e = me().CancelToken.source();
                      o.current = e.cancel;
                      try {
                        const n = yield l(t);
                        if (e.token.reason) return;
                        s.current = (0, Qa.yV)(
                          r.createElement(ei, { list: n, fnSetPartner: a }),
                          m.current.element,
                          {
                            bOverlapHorizontal: !0,
                            bMatchWidth: !0,
                            bFitToWindow: !0,
                            bDisablePopTop: !0,
                            bNoFocusWhenShown: !0,
                            bSkipFocusWhenReady: !0,
                          },
                        );
                      } catch (t) {
                        if (e.token.reason) return;
                        const n = (0, Oe.l)(t);
                        console.log(
                          "SearchForPartner.SearchPartnerStore error " +
                            n.strErrorMsg,
                          n,
                        );
                      }
                    }),
                  300,
                )));
            }),
          [l, a],
        );
        return r.createElement(
          C.SV,
          null,
          r.createElement(b.II, {
            type: "text",
            label: t,
            className: i,
            placeholder: "Search partner names",
            onChange: d,
            onBlur: (e) => setTimeout(() => s.current && s.current.Hide(), 200),
            ref: m,
            tooltip: n,
          }),
        );
      }
      function ei(e) {
        const { list: t, fnSetPartner: n } = e;
        return r.createElement(
          Ya.xV,
          { className: Ja.SearchResults },
          t.map((e) =>
            r.createElement(
              Ya.Zo,
              { key: "curatorresult" + e.partnerid, onSelected: () => n(e) },
              r.createElement(
                "div",
                { style: { display: "flex", alignItems: "center" } },
                e.name,
                " (",
                e.partnerid,
                ")",
              ),
            ),
          ),
        );
      }
      var ti = n(47986),
        ni = n(98199),
        ai = n.n(ni),
        ii = n(69155);
      const li = 60;
      function ri(e) {
        return r.createElement(
          "div",
          {
            className: (0, x.Z)(
              cn().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          r.createElement(
            "div",
            { className: (0, x.Z)(y().PageTitle, ai().PageTitle) },
            r.createElement("div", null, "Promo Invitation Planner (VO)"),
            r.createElement(yt, null),
          ),
          r.createElement("hr", { className: "VO" }),
          r.createElement(ci, null),
        );
      }
      const oi = 180 * re._H.PerDay,
        si = 90 * re._H.PerDay;
      function ci(e) {
        const t = (function () {
            const [e] = (0, r.useState)(() =>
              (0, xe.kQ)("candidate_app_info", "application_config"),
            );
            return e;
          })(),
          n = Xa(),
          [a] = (0, oe.Ar)("appidlist", ""),
          [i] = (0, oe.Ar)("partneridlist", ""),
          [l] = (0, oe.Ar)("saleclaneventgid", ""),
          [o] = (0, oe.Ar)("bundleid", ""),
          s =
            (null == a ? void 0 : a.length) > 0 ||
            (null == i ? void 0 : i.length) > 0 ||
            (null == l ? void 0 : l.length) > 0 ||
            (null == o ? void 0 : o.length) > 0,
          [c, m] = (0, oe.Ar)("freetoplay", s),
          [d, u] = (0, oe.Ar)("adultonly", s),
          [p, _] = (0, oe.Ar)("earlyaccess", !0),
          [h, g] = (0, oe.Ar)("recentorupcomingfeaturing", s),
          [v, E] = (0, oe.Ar)("recentorupcomingrelease", s),
          [D, f] = (0, oe.Ar)("vr_required", s),
          [y, I] = (0, oe.Ar)("unfeatured", !1),
          [k, A] = (0, oe.Ar)("unassigned", !1),
          [w, P] = (0, oe.Ar)("software", !0),
          [T, N] = (0, oe.Ar)("excludetags", ""),
          [R, G] = (0, oe.Ar)("requiretags", ""),
          L = Wa.Get().GetAppIDsWithValveContacts(),
          B = (e, t, n, a) => {
            const i = n.split(","),
              l = i.findIndex((t) => t == e.toString());
            if (t && -1 == l) {
              let t = n;
              t.length > 0 && (t += ","), a(t + e);
            } else t || -1 == l || (i.splice(l, 1), a(i.toString()));
          },
          [x, M] = (0, r.useMemo)(() => {
            if (d && c && p && h && v && D && !y && !k && w && !T)
              return [[...t], t.map((e) => e.appid)];
            const e = Math.floor(Date.now() / 1e3) - si,
              a = Math.floor(Date.now() / 1e3) - oi,
              i = new Set(T.split(",")),
              l = new Set(R.split(",")),
              r = t.filter((t) => {
                var r;
                if (
                  !d &&
                  (null === (r = t.content_descriptors) || void 0 === r
                    ? void 0
                    : r.includes(3))
                )
                  return !1;
                if (!c && t.freetoplay) return !1;
                if (!p && t.earlyaccess) return !1;
                if (
                  !v &&
                  Math.floor(new Date(t.release_date).getTime() / 1e3) > e
                )
                  return !1;
                if (!h || y) {
                  const e = (function (e, t) {
                    var n, a, i;
                    let l = 0;
                    const r = (0, S.qw)(t.appid, 0);
                    return (null === (n = e.mapStoreItemToInvites.get(r)) ||
                    void 0 === n
                      ? void 0
                      : n.length) > 0
                      ? Math.floor(Date.now() / 1e3)
                      : (null === (a = e.mapStoreItemToDailyDeals.get(r)) ||
                          void 0 === a ||
                          a.forEach((e) => {
                            e.rtime32_start_time > l &&
                              (l = e.rtime32_start_time);
                          }),
                        null === (i = e.mapStoreItemToPlans.get(r)) ||
                          void 0 === i ||
                          i.forEach((e) => {
                            e.start_date > l && (l = e.start_date);
                          }),
                        l);
                  })(n, t);
                  if (!h && e > a) return !1;
                  if (y && 0 != e) return !1;
                }
                if (!D && t.vr_required) return !1;
                if (k && L.has(t.appid)) return !1;
                if (!w && "software" == t.type) return !1;
                if (T) {
                  if (t.tagids.split(",").filter((e) => i.has(e)).length > 0)
                    return !1;
                }
                if (R) {
                  let e = t.tagids.split(",");
                  if (l.size != e.filter((e) => l.has(e)).length) return !1;
                }
                return !0;
              });
            return [r, r.map((e) => e.appid)];
          }, [t, c, d, p, y, v, D, h, n, k, L, w, T, R]);
        "dev" == Jt.De.WEB_UNIVERSE && console.log("candidates apps", t, x);
        const O =
          (c ? "&freetoplay=true" : "") +
          (d ? "&adultonly=true" : "") +
          (p ? "" : "&earlyaccess=false") +
          (h ? "&recentorupcomingfeaturing=true" : "") +
          (v ? "&recentorupcomingrelease=true" : "") +
          (D ? "&vr_required=true" : "") +
          (y ? "&unfeatured=true" : "") +
          (l ? "&saleclaneventgid=" + l : "") +
          (i ? "&partneridlist=" + i : "") +
          (w ? "" : "&software=false") +
          (k ? "&unassigned=true" : "") +
          (T ? "&excludetags=" + T : "") +
          (R ? "&requiretags=" + R : "") +
          (o ? "&bundleid=" + o : "");
        return r.createElement(
          C.SV,
          null,
          r.createElement(
            "div",
            { className: ai().FilterRow },
            r.createElement(
              "div",
              null,
              r.createElement(b.ji, {
                label: "EA",
                className: ai().Filter,
                tooltip: "Early Access games",
                checked: p,
                onChange: _,
              }),
              r.createElement(b.ji, {
                label: "F2P",
                className: ai().Filter,
                checked: c,
                onChange: m,
              }),
            ),
            r.createElement(
              "div",
              null,
              r.createElement(b.ji, {
                label: "AO",
                className: ai().Filter,
                checked: d,
                onChange: u,
              }),
              r.createElement(b.ji, {
                label: "VR",
                className: ai().Filter,
                checked: D,
                onChange: f,
                tooltip:
                  "Include games that require VR to play? Does not affect desktop games that also have VR support",
              }),
            ),
            r.createElement(
              "div",
              null,
              r.createElement(b.ji, {
                label: "New Release",
                className: ai().Filter,
                tooltip:
                  "Include games released in the past 3 months or future?",
                checked: v,
                onChange: E,
              }),
              r.createElement(b.ji, {
                label: "Recent/Future Featuring",
                className: ai().Filter,
                tooltip:
                  "Include games featured in the future, now, or within the past 6 months?",
                checked: h,
                onChange: g,
              }),
            ),
            r.createElement(
              "div",
              null,
              r.createElement(b.ji, {
                label: "Software",
                className: ai().Filter,
                checked: w,
                onChange: P,
                tooltip: "Include apps that are the software type.",
              }),
            ),
            r.createElement(
              "div",
              null,
              r.createElement(b.ji, {
                label: "Unfeatured Only",
                className: ai().Filter,
                checked: y,
                onChange: I,
                tooltip:
                  "Only shows game that we do not have any recorded featuring for.",
              }),
              r.createElement(b.ji, {
                label: "No Valve Contact Only",
                className: ai().Filter,
                checked: k,
                onChange: A,
                tooltip: "Only shows games that do not have a Valve contact.",
              }),
            ),
            r.createElement(
              "div",
              null,
              r.createElement(Ai, {
                strLabel: "Exclude Tag",
                fnOnTagSelected: (e, t) => {
                  B(e, t, T, N);
                },
                strSelectedTagIDs: T,
              }),
            ),
            r.createElement(
              "div",
              null,
              r.createElement(Ai, {
                strLabel: "Require Tag",
                fnOnTagSelected: (e, t) => {
                  B(e, t, R, G);
                },
                strSelectedTagIDs: R,
              }),
            ),
            r.createElement(mi, null),
          ),
          r.createElement(ui, {
            nApps: M.length,
            nTotalApps: t.length,
            strQueryParams: O,
          }),
          r.createElement(pi, {
            rgCandidateApps: x,
            rgAppIDs: M,
            oFeaturingMaps: n,
          }),
          r.createElement(ui, {
            nApps: M.length,
            nTotalApps: t.length,
            strQueryParams: O,
          }),
        );
      }
      function mi(e) {
        return r.createElement(
          "div",
          { className: ai().CollectionControlsContainer },
          r.createElement($a, {
            strLabel: "By Partner",
            className: ai().Filter,
            strToolTip:
              "Show the invitation data but limited to the specific partner",
            fnSetPartner: (e) =>
              (0, ot.R6)(
                window,
                `${Jt.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?partneridlist=${e.partnerid}`,
              ),
          }),
          r.createElement(ti.u, {
            itemType: 0,
            className: ai().Filter,
            strLabel: "Find an App",
            tooltip: "Loads the page with the app specified",
            fnSetItemID: (e) =>
              (0, ot.R6)(
                window,
                `${Jt.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${e}`,
              ),
          }),
          r.createElement(ti.u, {
            itemType: 2,
            className: ai().Filter,
            strLabel: "Find a Bundle",
            tooltip:
              "Loadsthe bundle specified and pulls all of its underlying apps",
            fnSetItemID: (e) =>
              (0, ot.R6)(
                window,
                `${Jt.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?bundleid=${e}`,
              ),
          }),
          r.createElement(
            "div",
            { className: ai().AppInputCtn },
            r.createElement(b.__, null, "Multiple Apps"),
            r.createElement(
              b.zx,
              {
                onClick: (e) =>
                  (0, N.AM)(r.createElement(di, null), (0, M.RA)(e)),
              },
              "Look Up Multiple Apps...",
            ),
          ),
        );
      }
      function di(e) {
        const { closeModal: t } = e,
          [n, a] = r.useState("");
        return r.createElement(
          T.uH,
          {
            strTitle: "View App List",
            strDescription:
              "Opens an invitation page with the apps list below.",
            onCancel: t,
            onOK: () => {
              const e = n
                .replace(/\n/g, "|")
                .split("|")
                .map((e) => {
                  const t = Number.parseInt(e);
                  return t > 0 ? t : null;
                })
                .filter(Boolean)
                .join(",");
              (0, ot.R6)(
                window,
                `${Jt.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${e}`,
              );
            },
            bOKDisabled: 0 == n.trim().length,
          },
          r.createElement("div", null, "Enter App IDs seperated by new lines:"),
          r.createElement("textarea", {
            cols: 120,
            rows: 5,
            onChange: (e) => a(e.currentTarget.value),
            value: n,
            autoFocus: !0,
          }),
        );
      }
      function ui(e) {
        const { nApps: t, nTotalApps: n, strQueryParams: a } = e,
          [i] = (0, oe.Ar)("start", 0),
          [l] = (0, oe.Ar)("count", 100),
          [o] = (0, oe.Ar)("appidlist", ""),
          [s] = (0, oe.Ar)("partneridlist", ""),
          [c] = (0, oe.Ar)("bundleid", ""),
          m = Boolean(o.length > 0 || s.length > 0 || c.length > 0),
          d = (function () {
            const [e] = (0, r.useState)(
              () =>
                Number.parseInt(
                  (0, xe.kQ)("total_apps_requested", "application_config"),
                ) || 0,
            );
            return e;
          })();
        return r.createElement(
          "div",
          { className: ai().PagingRow },
          Boolean(!m || d > l) &&
            r.createElement(
              r.Fragment,
              null,
              r.createElement(
                "a",
                {
                  href:
                    i > 0
                      ? `${Jt.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=${jt.Lh(i - l, 0, Number.MAX_SAFE_INTEGER)}&count=${l}${a}`
                      : "#",
                },
                r.createElement(b.zx, { disabled: i <= 0 }, "<", " Prev Page"),
              ),
              r.createElement(
                "a",
                {
                  href: `${Jt.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?start=${i + l}&count=${l}${a}`,
                },
                r.createElement(b.zx, null, "Next Page ", ">"),
              ),
            ),
          r.createElement(
            "div",
            null,
            "Showing ",
            t,
            " Apps",
            Boolean(!m) &&
              r.createElement(
                "span",
                null,
                " between ",
                i,
                " to ",
                i + l,
                " of Long Term Sales rank.",
                " ",
              ),
            n > t ? " " + (n - t) + " filtered out." : "",
          ),
        );
      }
      function pi(e) {
        const { rgCandidateApps: t, rgAppIDs: n, oFeaturingMaps: a } = e,
          i = (0, pe.zD)(),
          l = i - re._H.PerDay * (li + 1),
          o = (0, Tn.dI)(l, i - re._H.PerDay, n);
        return r.createElement(
          "table",
          { className: (0, x.Z)(ai().CandidateTable, "landingTable") },
          r.createElement(
            "thead",
            null,
            r.createElement(
              "tr",
              null,
              r.createElement("th", { colSpan: 5 }),
              r.createElement(
                "th",
                { colSpan: 2, className: (0, x.Z)(ai().CandidateHeader) },
                "Trailing ",
                li,
                " days",
              ),
              r.createElement("th", null),
            ),
            r.createElement(
              "tr",
              null,
              r.createElement("th", null, "Rank"),
              r.createElement("th", null, "Mod Rank"),
              r.createElement("th", null, "Game"),
              r.createElement("th", null, "Last Discount and Featuring"),
              r.createElement("th", null, "Deepest Discount"),
              r.createElement("th", null, "Package Rev"),
              r.createElement("th", null, "Days in Discount"),
              r.createElement("th", null, "actions"),
            ),
          ),
          r.createElement(
            "tbody",
            null,
            t.map((e) =>
              r.createElement(_i, {
                key: e.appid,
                appInfo: e,
                oFeaturingMaps: a,
                oRevenueSummary: o,
              }),
            ),
          ),
        );
      }
      function _i(e) {
        var t;
        const { appInfo: n, oFeaturingMaps: a, oRevenueSummary: i } = e;
        return r.createElement(
          "tr",
          { className: ai().CandidateRow },
          r.createElement(
            "td",
            { className: ai().SalesRank },
            n.long_term_sales_rank,
          ),
          r.createElement(
            "td",
            { className: ai().SalesRank },
            n.modified_sales_rank >= 0 ? n.modified_sales_rank : "",
          ),
          r.createElement(
            "td",
            null,
            r.createElement(Di, { appInfo: n }),
            r.createElement(Ci, { appInfo: n }),
          ),
          r.createElement(
            "td",
            null,
            r.createElement(
              "div",
              null,
              r.createElement(yi, { appInfo: n }),
              r.createElement(fi, { appInfo: n, oFeaturingMaps: a }),
            ),
          ),
          r.createElement("td", null, r.createElement(bi, { appInfo: n })),
          r.createElement(
            "td",
            null,
            r.createElement(
              "div",
              { className: ai().ModifiedRevenue },
              r.createElement(
                "div",
                null,
                "Gross: ",
                Boolean(i)
                  ? (0, Ka._2)(
                      (null === (t = i.GetAppSaleSummary(n.appid)) ||
                      void 0 === t
                        ? void 0
                        : t.gross_sales_usd) / 100 || 0,
                    )
                  : r.createElement(L.V, { size: "small" }),
              ),
              r.createElement(
                "div",
                null,
                "Mod Gross: ",
                (0, Ka._2)(n.app_revenue / 1e4 || 0),
              ),
              r.createElement(
                "div",
                null,
                "Mod Adj: ",
                (0, Ka._2)(n.modified_app_revenue / 1e4 || 0),
              ),
            ),
          ),
          r.createElement(
            "td",
            { className: ai().DaysInDiscount },
            r.createElement(hi, { appInfo: n }),
          ),
          r.createElement(
            "td",
            { className: ai().InviteActions },
            r.createElement(vi, { appInfo: n, oFeaturingMaps: a }),
          ),
        );
      }
      function hi(e) {
        const { appInfo: t } = e,
          n = (0, Ga.q_)(t.appid);
        return n
          ? r.createElement(
              $.V,
              { rgPackagesToLoad: n, size: "small" },
              r.createElement(gi, { rgPackageIDs: n }),
            )
          : r.createElement(L.V, { string: "Loading Packages", size: "small" });
      }
      function gi(e) {
        const { rgPackageIDs: t } = e,
          n = (0, pe.zD)(),
          a = n - re._H.PerDay * (li + 1),
          { nDaysInDiscount: i } = (0, Fe.L1)(t, a, n - re._H.PerDay);
        return r.createElement(r.Fragment, null, i);
      }
      function vi(e) {
        const { appInfo: t, oFeaturingMaps: n } = e,
          a = (0, S.qw)(t.appid, 0),
          i = n.mapStoreItemToInvites.get(a);
        return (null == i ? void 0 : i.length) > 0
          ? r.createElement("div", null, "N/A")
          : r.createElement(
              "div",
              null,
              r.createElement(
                b.KM,
                {
                  onClick: (e) =>
                    (0, N.AM)(
                      r.createElement(tt, {
                        storeItemType: 0,
                        storeItemID: t.appid,
                      }),
                      (0, M.RA)(e),
                    ),
                },
                "Invite...",
              ),
            );
      }
      const Ei = "en-US",
        Si = { month: "long", day: "numeric", year: "numeric" };
      function Di(e) {
        var t;
        const { appInfo: n } = e,
          a = new Date(n.release_date),
          i = (0, r.useMemo)(() => ({ id: n.appid, type: "game" }), [n]),
          l = (0, Ga.q_)(n.appid),
          o = (0, Ga.eD)(n.appid),
          s = new Date(n.release_date).getTime() / 1e3;
        return r.createElement(
          "div",
          { className: ai().AppCtn },
          r.createElement(
            Nn.ll,
            {
              item: i,
              hoverProps: {
                direction: "overlay",
                style: { minWidth: "320px" },
              },
            },
            r.createElement("img", {
              className: ai().AppImgCtn,
              src: `https://cdn.cloudflare.steamstatic.com/steam/apps/${n.appid}/capsule_231x87.jpg`,
              loading: "lazy",
              alt: n.name,
            }),
          ),
          r.createElement(
            "div",
            null,
            r.createElement(
              "div",
              { className: ai().AppName },
              r.createElement(
                "a",
                {
                  href: `${Jt.De.PARTNER_BASE_URL}apps/landing/${n.appid}`,
                  target: "_blank",
                },
                n.name,
                " (",
                n.appid,
                ")",
              ),
              r.createElement("br", null),
              Boolean(n.freetoplay) &&
                r.createElement(
                  "span",
                  { className: ai().F2p },
                  "Free to Play",
                ),
              Boolean(n.earlyaccess) &&
                r.createElement("span", { className: ai().Ea }, "Early Access"),
              Boolean(n.vr_required) &&
                r.createElement(
                  "span",
                  { className: ai().VrRequired },
                  "VR Required",
                ),
              Boolean(n.vr_support && !n.vr_required) &&
                r.createElement(
                  "span",
                  { className: ai().VrSupported },
                  "VR Supported",
                ),
              Boolean(
                null === (t = n.content_descriptors) || void 0 === t
                  ? void 0
                  : t.includes(3),
              ) &&
                r.createElement("span", { className: ai().Ao }, "Adult Only"),
            ),
            r.createElement(
              "div",
              null,
              "Released: ",
              r.createElement(
                "b",
                null,
                r.createElement(
                  _e.HP,
                  {
                    toolTipContent: a.toLocaleDateString(Ei, Si),
                    className: ai().Inline,
                  },
                  (0, O.vX)(s),
                ),
              ),
            ),
            r.createElement(
              "div",
              null,
              "Reviews: ",
              n.reviews_filtered_positive,
              " / ",
              n.reviews_filtered_negative + n.reviews_filtered_positive,
              "; score: ",
              n.reviews_filtered_score,
            ),
            r.createElement(
              "div",
              null,
              (null == l ? void 0 : l.length) || 0,
              " packages: Lowest USD ",
              (0, Ka.y_)(o / 100),
            ),
          ),
        );
      }
      function fi(e) {
        var t, n, a, i, l;
        const { appInfo: o, oFeaturingMaps: s } = e,
          {
            mapStoreItemToPlans: c,
            mapStoreItemToDailyDeals: m,
            mapStoreItemToMMs: d,
            mapStoreItemToInvites: u,
          } = s,
          p = (0, S.qw)(o.appid, 0),
          _ =
            null === (t = c.get(p)) || void 0 === t
              ? void 0
              : t.sort((e, t) => t.start_date - e.start_date),
          h =
            null === (n = m.get(p)) || void 0 === n
              ? void 0
              : n.sort((e, t) => t.rtime32_start_time - e.rtime32_start_time),
          g = u.get(p),
          v =
            null === (a = d.get(p)) || void 0 === a
              ? void 0
              : a
                  .filter((e) => !s.mapMMFeaturedInPlans.has(e.gid))
                  .sort((e, t) => t.start_date - e.start_date),
          E =
            null ===
              (l =
                null ===
                  (i = (function (e) {
                    const t = (0, Fa.i)(),
                      n = r.useContext(Ua);
                    return (0, ea.useQuery)(Ha(n, t, e));
                  })(o.appid)) || void 0 === i
                  ? void 0
                  : i.data) || void 0 === l
              ? void 0
              : l
                  .map(Oa.J2)
                  .filter(Boolean)
                  .sort((e, t) => t.start_date - e.start_date),
          D = Date.now() / 1e3,
          f = Date.now() / 1e3 - 1578e4,
          y = (0, r.useMemo)(() => {
            const e = new Array();
            return (
              null == E ||
                E.forEach((t) =>
                  e.push({ date: t.start_date, type: "sp", promo: t }),
                ),
              null == _ ||
                _.forEach((t) =>
                  e.push({ date: t.start_date, type: "pp", promo: t }),
                ),
              null == h ||
                h.forEach((t) =>
                  e.push({ date: t.rtime32_start_time, type: "dd", promo: t }),
                ),
              null == v ||
                v.forEach((t) =>
                  e.push({ date: t.start_date, type: "mm", promo: t }),
                ),
              e.sort((e, t) => t.date - e.date)
            );
          }, [h, v, _, E]);
        return r.createElement(
          r.Fragment,
          null,
          Boolean(g || E || _ || h || v) &&
            r.createElement(
              "div",
              { className: ai().RecentPromos },
              null == g
                ? void 0
                : g.map((e) =>
                    r.createElement(
                      "div",
                      {
                        key: "invite_" + e.inviteid,
                        className: (0, x.Z)(ai().Promo, ai().OpenInvite),
                      },
                      "Open Daily Deal Invite",
                    ),
                  ),
              y.map((e) => {
                if ("sp" == e.type) {
                  const t = e.promo;
                  return r.createElement(
                    "div",
                    {
                      key: "saleplan_" + t.id,
                      className: (0, x.Z)(
                        ai().Promo,
                        t.start_date > D ? ai().Upcoming : "",
                        t.start_date > f ? ai().Recent : "",
                      ),
                    },
                    r.createElement(
                      "a",
                      {
                        href: `${Jt.De.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
                        target: "_blank",
                      },
                      r.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      r.createElement(
                        "b",
                        null,
                        Ra.j.get(t.type),
                        " Sale Page",
                      ),
                      " ",
                      r.createElement("span", null, t.name),
                    ),
                  );
                }
                if ("pp" == e.type) {
                  const t = e.promo;
                  return r.createElement(
                    "div",
                    {
                      key: "plan_" + t.id,
                      className: (0, x.Z)(
                        ai().Promo,
                        t.start_date > D ? ai().Upcoming : "",
                        t.start_date > f ? ai().Recent : "",
                      ),
                    },
                    r.createElement(
                      "a",
                      {
                        href: `${Jt.De.PARTNER_BASE_URL}promotion/planning/edit/${t.id}`,
                        target: "_blank",
                      },
                      r.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      r.createElement("b", null, Ra.j.get(t.type)),
                      " ",
                      r.createElement("span", null, t.name),
                    ),
                  );
                }
                if ("dd" == e.type) {
                  const t = e.promo;
                  return r.createElement(
                    "div",
                    {
                      key: "dd_" + t.gid,
                      className: (0, x.Z)(
                        ai().Promo,
                        t.rtime32_start_time > D ? ai().Upcoming : "",
                        t.rtime32_start_time > f ? ai().Recent : "",
                      ),
                    },
                    r.createElement(
                      "a",
                      {
                        href: `${Jt.De.PARTNER_BASE_URL}promotion/dailydeals/edit/${t.gid}`,
                        target: "_blank",
                      },
                      r.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.rtime32_start_time).getTime()),
                      ),
                      " ",
                      r.createElement("b", null, "Daily Deal "),
                    ),
                  );
                }
                if ("mm" == e.type) {
                  const t = e.promo;
                  return r.createElement(
                    "div",
                    {
                      key: "mm_" + t.gid,
                      className: (0, x.Z)(
                        ai().Promo,
                        t.start_date > D ? ai().Upcoming : "",
                        t.start_date > f ? ai().Recent : "",
                      ),
                    },
                    r.createElement(
                      "a",
                      {
                        href: `${Jt.De.PARTNER_BASE_URL}promotion/marketingmessages/edit/${t.gid}`,
                        target: "_blank",
                      },
                      r.createElement(
                        "b",
                        null,
                        (0, O.vX)(new Date(t.start_date).getTime()),
                      ),
                      " ",
                      r.createElement("b", null, "MM"),
                      " ",
                      r.createElement("span", null, t.title),
                    ),
                  );
                }
                return null;
              }),
            ),
        );
      }
      function yi(e) {
        const { appInfo: t } = e,
          n = (0, Ga.q_)(t.appid);
        return n
          ? r.createElement(
              $.V,
              { rgPackagesToLoad: n, size: "small" },
              r.createElement(j.B9, {
                rgPackageIDs: n,
                bHidePackage: !0,
                bShowDiscountEventName: !0,
              }),
            )
          : r.createElement(L.V, { string: "Loading Packages", size: "small" });
      }
      function bi(e) {
        const { appInfo: t } = e,
          n = (0, Ga.q_)(t.appid);
        return n
          ? r.createElement(
              $.V,
              { rgPackagesToLoad: n, size: "small" },
              r.createElement(Ii, { rgPackageIDs: n }),
            )
          : null;
      }
      function Ii(e) {
        const t = (0, Fe.ls)(e.rgPackageIDs);
        return t
          ? r.createElement(
              "div",
              { className: ai().DiscountPercent },
              t.nDiscountPct,
              " %",
            )
          : r.createElement("div", null, "N/A");
      }
      function Ci(e) {
        const { appInfo: t } = e,
          n = (0, Ga.q_)(t.appid),
          a = (0, La.M)(n);
        return r.createElement(
          r.Fragment,
          null,
          a.map((e) =>
            r.createElement(ki, {
              key: "partner_" + e,
              partnerID: e,
              appInfo: t,
            }),
          ),
        );
      }
      function ki(e) {
        const { partnerID: t, appInfo: n } = e,
          [a] = (0, ne.DV)(t),
          i = za(t, n.appid, "business");
        return a
          ? r.createElement(
              "div",
              { className: ai().PartnerCol },
              r.createElement(
                "div",
                { className: ai().PartnerName },
                r.createElement("b", null, a.name, " (", t, ")"),
              ),
              r.createElement(
                "div",
                null,
                Boolean((null == i ? void 0 : i.length) > 0) &&
                  r.createElement(
                    "div",
                    { className: ai().BizContactsCtn },
                    i.map((e) =>
                      r.createElement(
                        "div",
                        {
                          className: ai().BizContact,
                          key: "user+" + t + "_" + e,
                        },
                        r.createElement(Za.N, { accountID: e, bHideName: !1 }),
                      ),
                    ),
                  ),
              ),
            )
          : null;
      }
      function Ai(e) {
        const { strLabel: t, fnOnTagSelected: n, strSelectedTagIDs: a } = e,
          { rgTags: i, rgCategories: l } = (0, ii.bA)(),
          o = (0, r.useRef)(),
          s = (0, r.useRef)(),
          c = (0, r.useCallback)(
            (e) => {
              if (i) {
                let t = null == i ? void 0 : i.findIndex((t) => t.tagid == e);
                return -1 != t ? i[t].name : "??";
              }
              return "";
            },
            [i],
          ),
          m = (0, r.useMemo)(
            () =>
              null == i
                ? void 0
                : i
                    .map((e) =>
                      r.createElement(
                        Ya.Zo,
                        { key: e.name, onSelected: () => n(e.tagid, !0) },
                        e.name,
                      ),
                    )
                    .sort((e, t) => (0, ot.KL)(e.key, t.key)),
            [n, i],
          );
        return r.createElement(
          "div",
          { className: ai().StoreTagChooser },
          r.createElement(b.II, {
            label: t,
            onBlur: (e) =>
              setTimeout(() => {
                var e;
                return null === (e = o.current) || void 0 === e
                  ? void 0
                  : e.Hide();
              }, 300),
            ref: s,
            onChange: (e) =>
              ((e) => {
                var t;
                if (
                  (null === (t = o.current) || void 0 === t || t.Hide(),
                  !jt.kE(e) && e.length < 2)
                )
                  return;
                const n = e.toLowerCase();
                let a =
                  null == m
                    ? void 0
                    : m.filter((e) => e.key.toLowerCase().includes(n));
                0 != a.length &&
                  ((o.current = (0, Qa.yV)(
                    r.createElement(Ya.xV, null, a),
                    s.current.element,
                    {
                      bRetainOnHide: !1,
                      bSkipFocusWhenReady: !0,
                      bOverlapHorizontal: !0,
                    },
                  )),
                  o.current.Show());
              })(e.currentTarget.value),
          }),
          r.createElement(
            "div",
            { className: ai().SelectedTags },
            (null == i ? void 0 : i.length) > 0 &&
              !!a &&
              a
                .split(",")
                .map((e) =>
                  r.createElement(
                    b.zx,
                    { key: e, onClick: () => n(parseInt(e), !1) },
                    c(parseInt(e)),
                    r.createElement(
                      "div",
                      { className: ai().ButtonRemove },
                      "x",
                    ),
                  ),
                ),
          ),
        );
      }
      function wi(e) {
        const [t, n] = (0, r.useState)(""),
          a = (0, Oa.yw)(),
          i = (0, r.useMemo)(
            () =>
              null == a
                ? void 0
                : a.filter(
                    (e) =>
                      ("themesale" == e.type || "nextfest" == e.type) &&
                      (0 == t.trim().length ||
                        e.admin_notes.includes(t) ||
                        e.name.includes(t)),
                  ),
            [a, t],
          );
        return r.createElement(
          "div",
          {
            className: (0, x.Z)(
              cn().Container,
              y().AdminPageCtn,
              y().WidePageCtn,
            ),
          },
          r.createElement(
            "div",
            { className: y().PageTitleFlexCtn },
            r.createElement(
              "div",
              { className: y().PageTitle },
              "Theme Sales Operations Dashboard (VO) ",
            ),
            r.createElement(
              "div",
              { className: cn().CreateNewCtn },
              r.createElement(b.II, {
                type: "text",
                placeholder: "Search promos",
                tooltip:
                  "Only an in-memory search of plan name, admin notes and store item id",
                value: t,
                onChange: (e) => {
                  var t;
                  return n(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "",
                  );
                },
              }),
              r.createElement(
                b.KM,
                {
                  onClick: (e) =>
                    (0, N.AM)(r.createElement(Ni, null), (0, M.RA)(e)),
                },
                "Create New Theme Sale / Next Fest",
              ),
            ),
          ),
          r.createElement("hr", { className: "VO" }),
          r.createElement(Pi, { rgPlans: i }),
        );
      }
      function Pi(e) {
        const { rgPlans: t } = e;
        return r.createElement(
          "table",
          { className: (0, x.Z)(cn().CandidateTable, "landingTable") },
          r.createElement(
            "thead",
            null,
            r.createElement(
              "tr",
              null,
              r.createElement("th", null, "Theme"),
              r.createElement("th", null, "Date"),
              r.createElement("th", null, "Opt In"),
              r.createElement("th", null, "Emails"),
              r.createElement("th", null, "Sale Page"),
              r.createElement("th", null, "Advertising App"),
              r.createElement("th", null, "Marketing Message"),
              r.createElement("th", null, "Spotlight"),
              r.createElement("th", null, "Takeover"),
              r.createElement("th", null, "Takeunder"),
              r.createElement("th", null, "Trailer"),
              r.createElement("th", null, "Blog"),
            ),
          ),
          r.createElement(
            "tbody",
            null,
            t.map((e) => r.createElement(Ti, { key: e.id, plan: e })),
          ),
        );
      }
      function Ti(e) {
        const { plan: t } = e;
        return r.createElement("tr", null, r.createElement("td", null, t.name));
      }
      function Ni(e) {
        const { closeModal: t } = e,
          n = (0, I.tx)();
        return n.bLoading
          ? r.createElement(I.NT, {
              state: n,
              strDialogTitle: "Creating Theme Sale...",
              closeModal: t,
            })
          : r.createElement(
              T.uH,
              {
                strTitle: "Create Theme Sale",
                strDescription:
                  "Depending on the type, this will automatically create the elements we expect to have for the theme sale.",
                onCancel: t,
              },
              "TODO",
            );
      }
      var Ri = n(75876),
        Gi = n.n(Ri);
      function Li(e) {
        return r.createElement(
          "div",
          { className: Gi().Container },
          r.createElement("h1", null, "Data Migration Tools"),
          r.createElement("div", null, r.createElement(Bi, null)),
        );
      }
      function Bi(e) {
        const t = (0, Oa.yw)(),
          { fnUpdatePlan: n } = (0, Oa.$H)(),
          [a, i] = r.useState(!1),
          [l, o] = r.useState(""),
          [s, c] = r.useState(""),
          [m, d] = r.useState(!1),
          u = r.useRef(!1),
          p = (e, t) => {
            o(e.join("\n").trim()), c(t.join("\n").trim());
          };
        return r.createElement(
          r.Fragment,
          null,
          r.createElement("h2", null, "Refresh Promotion Plan Data"),
          r.createElement(
            "div",
            null,
            "Loads and resaves all specified promotion plans, specified by IDs. This causes generated data such as the PartnerReadonlyJson to get refreshed.",
          ),
          r.createElement(
            "div",
            { className: Gi().ExpanderContainer },
            r.createElement(
              "div",
              { className: Gi().Expander, onClick: () => i(!a) },
              a ? "[-]" : "[+]",
            ),
            a &&
              r.createElement(
                "div",
                { className: Gi().Expanded },
                r.createElement(
                  "div",
                  null,
                  "Click Load IDs below to load promotion plans from the server into the to be processed text box below. By default, only the last six months of promotion plans are included. If you need to backfill earlier, change convar nPromotionPlanningActiveSecondsPreviously first.",
                ),
                r.createElement(
                  "div",
                  { className: Gi().DataMigrationListContainer },
                  r.createElement(
                    "div",
                    null,
                    r.createElement(
                      "div",
                      null,
                      "IDs to process: (one per line)",
                    ),
                    r.createElement("textarea", {
                      className: Gi().DataMigrationTextArea,
                      value: l,
                      onChange: (e) => o(e.target.value),
                    }),
                  ),
                  r.createElement(
                    "div",
                    null,
                    r.createElement("div", null, "Processed IDs:"),
                    r.createElement("textarea", {
                      className: Gi().DataMigrationTextArea,
                      value: s,
                      onChange: (e) => c(e.target.value),
                    }),
                  ),
                ),
                r.createElement(
                  "div",
                  { className: Gi().DataMigrationButtonContainer },
                  !m &&
                    r.createElement(
                      "button",
                      {
                        className: Gi().DataMigrationButton,
                        onClick: () => {
                          o(
                            t
                              .filter((e) => !!e.id)
                              .map((e) => e.id)
                              .join("\n")
                              .trim(),
                          ),
                            c("");
                        },
                      },
                      "Load IDs",
                    ),
                  !m &&
                    r.createElement(
                      "button",
                      {
                        className: Gi().DataMigrationButton,
                        onClick: () => {
                          d(!0),
                            (function (e, t, n, a, i, l) {
                              (0, se.mG)(this, void 0, void 0, function* () {
                                n.current = !0;
                                const r = i
                                  .split(/,|\n/)
                                  .filter((e) => e.trim().length > 0);
                                let o = [];
                                for (
                                  console.log("RefreshPromotionPlans", r);
                                  r.length > 0 && n.current;

                                ) {
                                  const n = 4;
                                  console.log("unprocessed", r);
                                  const a = r.slice(0, Math.min(n, r.length)),
                                    i = a.map((n) =>
                                      (0, se.mG)(
                                        this,
                                        void 0,
                                        void 0,
                                        function* () {
                                          const a = e.find((e) => e.id === n);
                                          console.log("processing id", a.id, a);
                                          const i = yield t(
                                            void 0,
                                            a,
                                            null,
                                            null,
                                          );
                                          console.log(
                                            i
                                              ? "successfully processed id"
                                              : "failed to process id",
                                            a.id,
                                          );
                                        },
                                      ),
                                    );
                                  yield Promise.all(i),
                                    (o = o.concat(a)),
                                    r.splice(0, a.length),
                                    l(r, o);
                                }
                                (n.current = !1), a();
                              });
                            })(t, n, u, () => d(!1), l, p);
                        },
                      },
                      "Start",
                    ),
                  m &&
                    r.createElement(
                      "button",
                      {
                        className: Gi().DataMigrationButton,
                        onClick: () => (u.current = !1),
                      },
                      "Stop",
                    ),
                ),
              ),
          ),
        );
      }
      var xi = n(87814);
      const Mi = {
        DailyDealDashboard: () => "/dailydeals/dashboard",
        DailyDealPartnerDashboard: (e) => `/dailydeals/dashboard/${e}`,
        DailyDealInviteDashboard: (e) => `/dailydeals/invite/${e}`,
        DailyDealEditor: (e) => `/dailydeals/edit/${e}`,
        DiscountPages: () => "/discounts",
        PartnerSaleDashboard: (e) => `/saleevents/dashboard/${e}`,
        PartnerPlanningAssetRequest: (e) => `/assetportal/request/${e}`,
        PartnerPlanningAssetRequestExternal: (e) =>
          `/assetportal/externalrequest/${e}`,
        PromotionPlanning: () => "/planning/dashboard/",
        PromotionPlanEditor: (e) => `/planning/edit/${e}`,
        InvitationPlanner: () => "/invitationplanner/",
        SpotlightDashboard: () => "/spotlights/(dashboard)",
        SpotlightEditor: (e) => `/spotlights/edit/${e}`,
        MarketingMessageDashboard: () => "/marketingmessages/(dashboard)",
        MarketingMessageEditor: (e) => `/marketingmessages/edit/${e}`,
        MarketingMessagePartnerPreview: (e) =>
          `/marketingmessages/partnerpreview/${e}`,
        PromotionThemeFestPlanning: () => "/planning/themes",
        DiscountEventDashboard: () => "/discountevents/(dashboard)",
        DiscountEventEditor: (e) => `/discountevents/edit/${e}`,
        ThemeSalesDashboard: () => "/themesales/(dashboard)",
        SalesRankDashboard: () => "/planning/salesrank",
        LocalizationAssetPortal: (e) => `/assetportal/localization/${e}`,
        DataMigration: () => "/planning/migration",
      };
      function Oi(e) {
        (0, r.useEffect)(() => {
          0;
        }, []);
        return (0, c.N)()
          ? r.createElement(
              o.VK,
              { basename: (0, a.l)() + "promotion/" },
              r.createElement(
                s.rs,
                null,
                r.createElement(s.AW, {
                  exact: !0,
                  path: a.Z.DiagData(),
                  render: (e) =>
                    r.createElement(
                      m.m,
                      Object.assign({}, e, {
                        strConfigID: "application_config",
                      }),
                    ),
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.DailyDealDashboard(),
                  render: (e) =>
                    r.createElement($.j, null, r.createElement(Ct, null)),
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.DailyDealPartnerDashboard(":publisherid(\\d+)"),
                  render: (e) =>
                    r.createElement(
                      $.j,
                      null,
                      r.createElement(kt, {
                        strPublisherID: e.match.params.publisherid,
                      }),
                    ),
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.DailyDealInviteDashboard(":inviteid(\\d+)"),
                  render: (e) =>
                    r.createElement(
                      $.j,
                      null,
                      r.createElement(pt, {
                        strInviteID: e.match.params.inviteid,
                      }),
                    ),
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.DailyDealEditor(":dealid"),
                  render: (e) =>
                    r.createElement(
                      $.j,
                      null,
                      r.createElement(z, { dealid: e.match.params.dealid }),
                    ),
                }),
                r.createElement(s.AW, {
                  path: Mi.DiscountPages(),
                  component: l.L,
                }),
                r.createElement(s.AW, {
                  path: Mi.PartnerSaleDashboard(":publisherid(\\d+)"),
                  component: p.K,
                }),
                r.createElement(s.AW, {
                  path: Mi.PartnerPlanningAssetRequest(":planid"),
                  component: _.v9,
                }),
                r.createElement(s.AW, {
                  path: Mi.PartnerPlanningAssetRequestExternal(":planid"),
                  component: _.v9,
                }),
                r.createElement(s.AW, {
                  path: Mi.LocalizationAssetPortal(":planid"),
                  render: (e) =>
                    r.createElement(xi.Fv, { planid: e.match.params.planid }),
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.MarketingMessagePartnerPreview(":gid"),
                  render: (e) =>
                    r.createElement(la, { gid: e.match.params.gid }),
                }),
                r.createElement(s.AW, {
                  path: Mi.PromotionPlanning(),
                  component: wn.h,
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.PromotionPlanEditor(":planid"),
                  render: (e) =>
                    r.createElement(Pn.pt, { planid: e.match.params.planid }),
                }),
                r.createElement(s.AW, {
                  path: Mi.InvitationPlanner(),
                  component: ri,
                }),
                r.createElement(s.AW, {
                  path: Mi.SpotlightDashboard(),
                  component: Un,
                }),
                r.createElement(s.AW, {
                  path: Mi.DiscountEventDashboard(),
                  component: ha,
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.DiscountEventEditor(":discounteventid"),
                  render: (e) =>
                    r.createElement(Pa, {
                      discountEventID: e.match.params.discounteventid,
                    }),
                }),
                r.createElement(s.AW, {
                  path: Mi.MarketingMessageDashboard(),
                  component: hn,
                }),
                r.createElement(s.AW, {
                  exact: !0,
                  path: Mi.MarketingMessageEditor(":gid"),
                  render: (e) =>
                    r.createElement(An.W, { gid: e.match.params.gid }),
                }),
                r.createElement(s.AW, {
                  path: Mi.PromotionThemeFestPlanning(),
                  component: Zn.L3,
                }),
                r.createElement(s.AW, {
                  path: Mi.SalesRankDashboard(),
                  component: Gn,
                }),
                r.createElement(s.AW, {
                  path: Mi.ThemeSalesDashboard(),
                  component: wi,
                }),
                r.createElement(s.AW, {
                  path: Mi.DataMigration(),
                  component: Li,
                }),
                r.createElement(s.AW, { component: d.R }),
              ),
            )
          : null;
      }
    },
    84676: (e, t, n) => {
      "use strict";
      n.d(t, {
        IH: () => M,
        Vt: () => B,
        nz: () => F,
        oJ: () => x,
        tv: () => O,
      });
      var a = n(85556),
        i = n(4618),
        l = n(1698),
        r = n(81033),
        o = n(44107),
        s = n(87380),
        c = n(41710),
        m = n(26286),
        d = n(47427),
        u = n(86437),
        p = n(80886),
        _ = n(1485),
        h = n(72297),
        g = n(71741),
        v = n.n(g),
        E = n(92012),
        S = n(77178),
        D = n(46882),
        f = n(16649),
        y = n(13129),
        b = n(31846),
        I = n(46984),
        C = n(37563),
        k = n(28922),
        A = n(69368),
        w = n(66692),
        P = n(90831),
        T = n(31455),
        N = n(24040),
        R = n(78676),
        G = n(49972),
        L = n(83891);
      function B(e) {
        const {
            rtInitialDate: t,
            initialType: n,
            closeModal: g,
            rtInitialEndDate: v,
          } = e,
          [E, B] = d.useState(n || "saleevent"),
          [M, F] = d.useState(""),
          [U, H] = d.useState((0, k.ap)(t)),
          [V, X] = d.useState((0, k.h9)(t, v)),
          { fnAddNewPlan: j } = (0, s.$H)(),
          { fnAddNewSpotlight: q } = (0, c.Oo)(),
          { fnCreateCluster: W } = (0, m.b)(),
          { fnCreateMarketingMessage: z } = (0, o.oT)(),
          [Z, K] = d.useState(null),
          [Q, Y] = d.useState(!1),
          [J, $] = d.useState(!1),
          [ee, te] = d.useState(void 0),
          [ne, ae] = d.useState(0),
          { fnCreateDiscountEvent: ie } = (0, r.z8)(),
          [le, re] = d.useState(!0),
          [oe, se] = (0, d.useState)(!0),
          [ce, me] = (0, d.useState)(!0),
          [de, ue] = (0, d.useState)(!1),
          [pe, _e] = (0, d.useState)("important" == E),
          [he, ge] = d.useState("important" == E);
        (0, d.useEffect)(() => {
          ue("important" == E), _e("important" == E);
        }, [E]);
        const [ve, Ee] = (0, d.useState)(null),
          [Se, De] = (0, d.useState)(!1),
          [fe] = (0, p.jk)((0, u.u$)(Z), (0, u.D3)(Z), {
            include_assets: !0,
            include_all_purchase_options: !0,
            include_platforms: !0,
          }),
          ye = (0, d.useCallback)(
            (e, t, n, a, i, l, r, o, s, c, m, d, u) => {
              j({
                type: e,
                strName: t,
                rtStartDate: n,
                rtEndDate: a,
                strDiscountEventID: i,
                nPartnerID: l,
                storeItemID: r,
                storeItemType: o,
                strSpotlightID: s,
                strMarketingMessageID: c,
                strTakeoverID: m,
                strTakeunderID: d,
              }).then((e) => {
                e
                  ? (Ee(e),
                    u ||
                      (window.location.href =
                        C.De.PARTNER_BASE_URL +
                        "promotion" +
                        N.PromotionRoutes.PromotionPlanEditor(e)))
                  : te(
                      "Failed to create promotion, check browser console logs for details",
                    );
              });
            },
            [j],
          ),
          be = Boolean("vacation" == E);
        let Ie = null;
        return (
          Se &&
            (Ie =
              "All slots are already reserved. Please be thoughtful if you are adding a new entry."),
          d.createElement(
            S.uH,
            {
              strTitle: "Create Promotion Planning Entry",
              className: (0, y.Z)({ [R.Vacation]: "vacation" == E }),
              bDisableBackgroundDismiss: !0,
              bAllowFullSize: !0,
              onCancel: g,
              bOKDisabled:
                0 == M.trim().length || J || !(0, k.hQ)(E, U, V) || (Z && !fe),
              onOK: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  $(!0);
                  let e = null,
                    t = null,
                    n = null,
                    a = null,
                    r = null,
                    o = null;
                  if (le && 0 != ne && !Q && !be) {
                    let t = V;
                    if (l.Ii.has(E)) {
                      const e = l.Ii.get(E);
                      t = U + e.nDaysDiscountEvent * I._H.PerDay;
                    }
                    const n = (0, P.d)(E, U, fe, Z);
                    yield ie(
                      U,
                      t,
                      n,
                      n,
                      l.FF.get(E),
                      [ne],
                      Z.appid
                        ? [Z.appid]
                        : null == fe
                          ? void 0
                          : fe.GetIncludedAppIDs(),
                    )
                      .then((t) => (e = t.id))
                      .catch((e) => {
                        (o =
                          "Discount Event Creation Failed: " +
                          (0, f.l)(e).strErrorMsg +
                          ". "),
                          te(o);
                      });
                  }
                  if (oe && fe && !Q && !be) {
                    const e = (0, L.i)(
                      M,
                      "Weekend Deal",
                      U,
                      V,
                      "midweek" == E
                        ? "#spotlight_midweek_madness"
                        : "#spotlight_weekend_deal",
                      "#promo_ends_custom",
                      fe,
                    );
                    yield q(e)
                      .then((e) => {
                        e
                          ? (t = e)
                          : (Boolean(o) || (o = ""),
                            (o += "Spotlight Creation Failed, check console. "),
                            te(o));
                      })
                      .catch((e) =>
                        te(
                          "Spotlight Creation Failed: " +
                            (0, f.l)(e).strErrorMsg,
                        ),
                      );
                  }
                  if (ce && fe && !Q && !be) {
                    const e = (0, T.v)(M, 2, U, V, "#msg_action_details", fe);
                    yield z(e, !0)
                      .then((e) => {
                        e
                          ? (n = e)
                          : (Boolean(o) || (o = ""),
                            (o +=
                              "Marketing Message Creation Failed, check console. "),
                            te(o));
                      })
                      .catch((e) =>
                        te(
                          "Marketing Message Creation Failed: " +
                            (0, f.l)(e).strErrorMsg,
                        ),
                      );
                  }
                  !de ||
                    Q ||
                    be ||
                    (yield W(i.R6.k_ConfigPage_Takeover, M, U, V)
                      .then((e) => {
                        e
                          ? (a = e)
                          : (Boolean(o) || (o = ""),
                            (o += "Takeover Creation Failed, check console. "),
                            te(o));
                      })
                      .catch((e) =>
                        te(
                          "Takeover Create Creation Failed: " +
                            (0, f.l)(e).strErrorMsg,
                        ),
                      )),
                    !pe ||
                      Q ||
                      be ||
                      (yield W(i.R6.k_ConfigPage_Takeunder, M, U, V)
                        .then((e) => {
                          e
                            ? (r = e)
                            : (Boolean(o) || (o = ""),
                              (o +=
                                "Takeover Creation Failed, check console. "),
                              te(o));
                        })
                        .catch((e) =>
                          te(
                            "Takeover Create Creation Failed: " +
                              (0, f.l)(e).strErrorMsg,
                          ),
                        )),
                    ye(
                      E,
                      M,
                      U,
                      V,
                      e,
                      ne,
                      Z && !be ? (0, u.u$)(Z) : void 0,
                      Z && !be ? (0, u.D3)(Z) : void 0,
                      t,
                      n,
                      a,
                      r,
                      o,
                    );
                }),
            },
            d.createElement(
              "div",
              { className: (0, y.Z)({ [R.Container]: !0 }) },
              Boolean(J && !ee) &&
                d.createElement(D.V, {
                  size: "medium",
                  position: "center",
                  string: (0, b.Xx)("#Saving"),
                }),
              Boolean(ee) &&
                d.createElement("div", { className: h.ErrorStyles }, ee),
              Boolean(Ie) &&
                d.createElement(
                  "div",
                  { className: h.WarningStylesBackground },
                  Ie,
                ),
              Boolean(ve) &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement("p", null, "Promotion Plan was created."),
                  d.createElement(
                    "a",
                    {
                      href:
                        C.De.PARTNER_BASE_URL +
                        "promotion" +
                        N.PromotionRoutes.PromotionPlanEditor(ve),
                    },
                    "Open New Plan in Editor",
                  ),
                ),
              d.createElement(_.__, null, "Choose Promotion Type:"),
              d.createElement(x, { type: E, setType: B }),
              d.createElement(_.II, {
                type: "text",
                label: "Promotion Name",
                tooltip:
                  "Internal name used for us to identify the promotion, not visible outside of this tool",
                value: M,
                onChange: (e) => {
                  var t;
                  return F(
                    (null === (t = null == e ? void 0 : e.currentTarget) ||
                    void 0 === t
                      ? void 0
                      : t.value) || "",
                  );
                },
              }),
              d.createElement(O, {
                type: E,
                rtStartTime: U,
                setStartTime: H,
                rtEndTime: V,
                setEndTime: X,
                fnSetSlotFull: De,
              }),
              Boolean(!be) &&
                d.createElement(
                  d.Fragment,
                  null,
                  d.createElement(_.__, null, "Optional Featuring Target:"),
                  Boolean(Z) &&
                    d.createElement(A.Ce, {
                      id: (0, u.u$)(Z),
                      itemType: (0, u.D3)(Z),
                    }),
                  Boolean(Z && !fe) &&
                    d.createElement(
                      "div",
                      { className: h.ErrorStylesWithIcon },
                      "Error: Invalid choice, game not Steam store visible.",
                    ),
                  d.createElement(w.Ko, { oChoice: Z, fnSetChoice: K }),
                  Boolean(Z) &&
                    d.createElement(
                      d.Fragment,
                      null,
                      d.createElement(_.ji, {
                        label: "Tentative Plan",
                        checked: Q,
                        onChange: Y,
                        tooltip:
                          "Check if we aren't confirmed on the date and thus do not want to create any specific featuring, but we want to hold onto this time on the calendar",
                      }),
                      Boolean(!Q) &&
                        d.createElement(
                          d.Fragment,
                          null,
                          d.createElement(_.ji, {
                            label: "Create discount event",
                            checked: le && 0 != ne,
                            onChange: re,
                            disabled: 0 == ne,
                            tooltip:
                              "Uncheck the box to skip creating the discount event. You can create a discount event separately and associate with the daily deal. The discount event being present will let us find the package discount associated with the daily deal.",
                          }),
                          d.createElement(_.ji, {
                            label: "Create Spotlight",
                            tooltip:
                              "Create a spotlight for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: se,
                            checked: oe,
                          }),
                          d.createElement(_.ji, {
                            label: "Create Marketing Message",
                            tooltip:
                              "Create a Marketing Message for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: me,
                            checked: ce,
                          }),
                          d.createElement(_.ji, {
                            label: "Create Frontpage Takeover",
                            tooltip:
                              "Create a Fronpage Takeover for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: ue,
                            checked: de,
                          }),
                          d.createElement(_.ji, {
                            label: "Create Takeunder",
                            tooltip:
                              "Create a Takeunder for the same duration as the plan. This can be edited seperately or created and linked afterwards.",
                            onChange: _e,
                            checked: pe,
                          }),
                          d.createElement(G.a, {
                            nStoreItemID: (0, u.u$)(Z),
                            eStoreItemType: (0, u.D3)(Z),
                            nPartnerID: ne,
                            setPartnerID: ae,
                          }),
                          !1,
                        ),
                    ),
                ),
            ),
          )
        );
      }
      function x(e) {
        const { type: t, setType: n } = e,
          a = (0, d.useMemo)(
            () =>
              [
                {
                  type: "midweek",
                  tooltip: "Runs Monday 10am until Thursday 10am",
                },
                {
                  type: "weekenddeal",
                  tooltip: "Runs Thursday 10am until Monday 10am",
                },
                {
                  type: "saleevent",
                  tooltip:
                    "Use for any partner sale event, date range and length not fixed.",
                },
                {
                  type: "informational",
                  tooltip:
                    "Best to indicate items of interest for example Hawaii.  Or for launch, pre-purchase, FP2 important events in Steam with featuring.",
                },
                {
                  type: "vacation",
                  tooltip:
                    "SteamBiz or adjacent folk away and might need backup coverage",
                },
                {
                  type: "important",
                  tooltip:
                    "Gives the item a different background color to call it out.",
                },
                {
                  type: "preload",
                  tooltip: "Major game preload being identified",
                },
                { type: "themesale", tooltip: 'Steam Offical "Theme" Fest' },
                { type: "nextfest", tooltip: "Steam Next Fest" },
                {
                  type: "assetrequest",
                  tooltip: "Asset Request For Marketing Messages Only",
                },
                {
                  type: "seasonalsale",
                  tooltip: "Steam Offical Seasonal Sale",
                },
              ]
                .filter((e) => !l.oP.has(e.type) || e.type == t)
                .map((e) => ({
                  label: l.j.get(e.type),
                  tooltip: e.tooltip,
                  data: e.type,
                })),
            [],
          );
        return d.createElement(_.ry, {
          strDropDownClassName: v().DropDownScroll,
          rgOptions: a,
          selectedOption: t,
          onChange: (e) => n(e.data),
        });
      }
      function M(e) {
        const { intention: t, setIntention: n } = e,
          a = (0, d.useMemo)(() => {
            const e = new Array();
            return (
              e.push({
                label: l.R7.get("none"),
                data: "none",
                tooltip: "No special intentions",
              }),
              e.push({
                label: l.R7.get("takeover"),
                data: "takeover",
                tooltip: "Takeover is the highest possible special visibility",
              }),
              e.push({
                label: l.R7.get("takeunder"),
                data: "takeunder",
                tooltip: "Takeunder is the highest possible special visibility",
              }),
              e.push({
                label: l.R7.get("hub_takeover"),
                data: "hub_takeover",
                tooltip: "Takeover on a particular content hub",
              }),
              e.push({
                label: l.R7.get("steamchina_takeover"),
                data: "steamchina_takeover",
                tooltip:
                  "This is intended for Steam China and may receive a takeover in SteamChina",
              }),
              e.push({
                label: l.R7.get("steamchina_only"),
                data: "steamchina_only",
                tooltip: "This is intended to only surface in Steam China",
              }),
              e
            );
          }, []);
        return d.createElement(_.ry, {
          strDropDownClassName: v().DropDownScroll,
          rgOptions: a,
          selectedOption: t,
          onChange: (e) => n(e.data),
        });
      }
      function O(e) {
        const {
          type: t,
          rtStartTime: n,
          setStartTime: a,
          rtEndTime: i,
          setEndTime: l,
        } = e;
        switch (t) {
          case "weekenddeal":
          case "midweek":
            return d.createElement(
              "div",
              { className: (0, y.Z)(R.DateCtn, "DateCtn") },
              d.createElement(F, Object.assign({}, e)),
              " ",
            );
        }
        return d.createElement(
          "div",
          { className: (0, y.Z)(R.DateCtn, "DateCtn") },
          d.createElement(E.A, {
            strDescription: "Promotion Start Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => n,
            fnSetTimeToUpdate: a,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
          d.createElement(E.A, {
            strDescription: "Promotion End Date/Time",
            nEarliestTime: 0,
            fnGetTimeToUpdate: () => i,
            fnSetTimeToUpdate: l,
            fnIsValidDateTime: () => !0,
            bShowTimeZone: !0,
          }),
        );
      }
      function F(e) {
        const {
            type: t,
            rtStartTime: n,
            setStartTime: a,
            setEndTime: i,
            fnSetSlotFull: r,
          } = e,
          o = (0, d.useMemo)(() => [t], [t]),
          c = (0, s.l7)(104, o),
          m = (0, d.useMemo)(() => {
            var e;
            const n = l.Ii.get(t);
            return null === (e = null == c ? void 0 : c.get(t)) || void 0 === e
              ? void 0
              : e.map((e) => {
                  var t;
                  let a =
                    n.nMaxSlots -
                    (null === (t = e.rgPlans) || void 0 === t
                      ? void 0
                      : t.length);
                  a < 0 && (a = 0);
                  const i = new Date(1e3 * (e.rtWeekStart + n.rtStartModifier));
                  return (
                    i.setHours(10),
                    {
                      label: n.fnRenderWeekDisplayForSelection(
                        e.rtWeekStart,
                        a,
                      ),
                      data: Math.floor(i.getTime() / 1e3),
                    }
                  );
                });
          }, [c, t]);
        return (
          (0, d.useEffect)(() => {
            var e, a;
            if (r && c) {
              const i = l.Ii.get(t),
                o =
                  null === (e = null == c ? void 0 : c.get(t)) || void 0 === e
                    ? void 0
                    : e.find((e) => {
                        const t = new Date(
                          1e3 * (e.rtWeekStart + i.rtStartModifier),
                        );
                        return (
                          t.setHours(10), Math.floor(t.getTime() / 1e3) == n
                        );
                      }),
                s =
                  i.nMaxSlots -
                  (null === (a = null == o ? void 0 : o.rgPlans) || void 0 === a
                    ? void 0
                    : a.length);
              r(s <= 0);
            }
          }, [c, n, t, r]),
          d.createElement(
            d.Fragment,
            null,
            d.createElement(_.__, null, "Choose a week:"),
            d.createElement(_.ry, {
              strDropDownClassName: v().DropDownScroll,
              rgOptions: m,
              selectedOption: n,
              onChange: (e) => {
                const n = l.Ii.get(t);
                a(e.data), i(e.data + n.rtDays * I._H.PerDay);
              },
            }),
          )
        );
      }
    },
    49972: (e, t, n) => {
      "use strict";
      n.d(t, { a: () => u });
      var a = n(49781),
        i = n(47427),
        l = n(1485),
        r = n(72297),
        o = n(46882),
        s = n(31846),
        c = n(37563),
        m = n(61178),
        d = n(80886);
      function u(e) {
        const {
            nStoreItemID: t,
            eStoreItemType: n,
            nPartnerID: u,
            setPartnerID: p,
          } = e,
          _ = (0, a.Gk)(t, n),
          [h] = (0, d.jk)(t, n, {});
        if (
          (i.useEffect(() => {
            0 == u && (null == _ ? void 0 : _.length) > 0 && p(_[0].partner_id);
          }, [u, _, p]),
          0 === (null == _ ? void 0 : _.length))
        )
          return 14 == (null == h ? void 0 : h.GetAppType())
            ? i.createElement(
                "div",
                { className: r.WarningStylesBackground },
                "Plan is featuring an advertising app, which will make the discount event visible to no one.  Remember to update the app or partner list afterwards",
              )
            : i.createElement(
                "div",
                { className: r.ErrorStylesBackground },
                "Cannot create discount event. Could not identify an owning partner for selected app. System uses payment rules to make the partner determination. Did you create an advertising app without a payment rule? Can be update via publisher page.",
              );
        if (!_ || 0 == u)
          return i.createElement(o.V, {
            size: "medium",
            position: "center",
            string: (0, s.Xx)("#Loading"),
          });
        const g = new Map();
        return (
          _.forEach((e) => {
            g.has(e.partner_id) || g.set(e.partner_id, e);
          }),
          0 == g.size
            ? i.createElement(
                "div",
                null,
                "Error: Cannot determine partner associated with id ",
                t,
                " type ",
                n,
              )
            : 1 == g.size
              ? i.createElement(
                  "div",
                  { className: m.AssociatedPartnerCtn },
                  i.createElement(
                    "div",
                    { className: "DialogLabel" },
                    "Partner for Discount Event:",
                  ),
                  i.createElement(
                    "a",
                    {
                      href:
                        c.De.PARTNER_BASE_URL +
                        "pub/publisher/" +
                        _[0].partner_id,
                      target: "_blank",
                    },
                    _[0].name,
                    " (",
                    _[0].partner_id,
                    ")",
                  ),
                )
              : i.createElement(
                  "div",
                  null,
                  i.createElement(
                    "div",
                    null,
                    "Choose Partner for Discount Event:",
                  ),
                  i.createElement(
                    l.SY,
                    { value: u, onChange: (e) => p(e) },
                    Array.from(g.values()).map((e) =>
                      i.createElement(
                        l.EU,
                        {
                          key: "partnerid" + e.partner_id,
                          value: e.partner_id,
                        },
                        i.createElement(
                          "a",
                          {
                            href:
                              c.De.PARTNER_BASE_URL +
                              "pub/publisher/" +
                              e.partner_id,
                            target: "_blank",
                          },
                          e.name,
                          " (",
                          e.partner_id,
                          ")",
                        ),
                      ),
                    ),
                  ),
                )
        );
      }
    },
    45180: (e, t, n) => {
      "use strict";
      n.d(t, { u: () => E });
      var a = n(51485),
        i = n(36342),
        l = n(87380),
        r = n(30750),
        o = n(47427),
        s = n(80886),
        c = n(1485),
        m = n(72297),
        d = n(77178),
        u = n(90069),
        p = n(46882),
        _ = n(50423),
        h = n(31846),
        g = n(37563),
        v = n(60688);
      function E(e) {
        const { oEditablePlan: t } = e,
          n = (0, a.Dv)(),
          i = (0, r.SZ)(() => t.BIsDirty() || n.BIsDirty());
        return o.createElement(
          "div",
          { className: v.ButtonRow },
          o.createElement(
            c.KM,
            {
              onClick: (e) => (0, u.AM)(o.createElement(S, null), (0, _.RA)(e)),
            },
            (0, h.Xx)(i ? "#Button_Save" : "#Button_Saved"),
          ),
          o.createElement("div", { className: v.ButtonRowSpacer }),
          o.createElement(
            c.zx,
            {
              onClick: (e) => {
                (0, u.AM)(
                  o.createElement(D, { oEditablePlan: t }),
                  (0, _.RA)(e),
                );
              },
            },
            (0, h.Xx)("#Button_Delete"),
          ),
          o.createElement(
            c.zx,
            {
              disabled: !i,
              onClick: (e) =>
                (0, u.AM)(
                  o.createElement(d.uH, {
                    strTitle: (0, h.Xx)("#Dialog_AreYouSure"),
                    strDescription: (0, h.Xx)("#DailyDeals_UnsavedChanges"),
                    onOK: () => t.RevertChanges(),
                  }),
                  (0, _.RA)(e),
                ),
            },
            (0, h.Xx)("#Button_Revert"),
          ),
        );
      }
      function S(e) {
        const { closeModal: t } = e,
          n = (0, i.Gn)(),
          r = (0, a.Dv)(),
          { fnUpdatePlan: s } = (0, l.$H)(),
          [c, m] = o.useState(!0),
          [u, _] = o.useState(!1);
        return (
          o.useEffect(() => {
            const e = r.GetModel();
            s(n.GetPartnerID(), n.GetModel(), void 0, e)
              .then((e) => {
                _(e), n.SaveSuccessClearDirty(), r.SaveSuccessClearDirty();
              })
              .catch((e) => _(!1))
              .finally(() => m(!1));
          }, []),
          o.createElement(
            d.uH,
            { strTitle: "Saving", bAlertDialog: !0, closeModal: t },
            Boolean(c)
              ? o.createElement(p.V, {
                  size: "medium",
                  position: "center",
                  string: (0, h.Xx)("#Saving"),
                })
              : Boolean(u)
                ? o.createElement("div", null, "Save successful")
                : o.createElement(
                    "div",
                    null,
                    "Save failed. Please try again later (check consoles for details)",
                  ),
          )
        );
      }
      function D(e) {
        const { oEditablePlan: t, closeModal: n } = e,
          [a, i] = o.useState(!1),
          [r, s] = o.useState(void 0),
          { fnDeletePlan: c } = (0, l.$H)();
        return o.createElement(
          d.uH,
          {
            strTitle: "Remove Promotion Plan?",
            strDescription:
              "Are you sure you want to remove the promotion plan for the following? This can't be undone, but a new one can be created if needed.  This will only delete the promotion plan itself; this has no effect on the discount event or other associated featuring of the plan.",
            onCancel: n,
            onOK: () => {
              i(!0),
                c(t.GetModel().id).then((e) => {
                  e
                    ? (window.location.href =
                        g.De.PARTNER_BASE_URL + "promotion/planning/dashboard")
                    : s("Failed To Delete, check console");
                });
            },
            bOKDisabled: a,
          },
          Boolean(t.BHasFeaturedStoreItem()) &&
            o.createElement(
              "div",
              { style: { paddingTop: "15px" } },
              o.createElement(f, {
                id: t.GetModel().store_item_id,
                storeItemType: t.GetModel().store_item_type,
              }),
            ),
          Boolean(a && !r) &&
            o.createElement(p.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Deleting"),
            }),
          Boolean(r) && o.createElement("div", { className: m.ErrorStyles }, r),
        );
      }
      function f(e) {
        const { id: t, storeItemType: n } = e,
          [a] = (0, s.jk)(t, n, { include_basic_info: !0, include_assets: !0 });
        return a
          ? o.createElement(
              "div",
              null,
              o.createElement("div", null, a.GetName(), " (", a.GetID(), ")"),
              o.createElement(
                "div",
                null,
                o.createElement("img", {
                  src:
                    a.GetAssets().GetSmallCapsuleURL() ||
                    a.GetAssets().GetHeaderURL(),
                }),
              ),
            )
          : o.createElement(p.V, {
              size: "medium",
              position: "center",
              string: (0, h.Xx)("#Loading"),
            });
      }
    },
    26475: (e, t, n) => {
      "use strict";
      n.d(t, {
        UR: () => m,
        Z4: () => p,
        Zk: () => u,
        id: () => d,
        j_: () => c,
      });
      var a = n(1485),
        i = n(60688),
        l = n(47427),
        r = n(1698),
        o = n(13129),
        s = n(9071);
      function c(e) {
        const {
          name: t,
          id: n,
          fnSetID: r,
          fnGetURL: o,
          placeHolder: s,
          tooltip: c,
        } = e;
        return l.createElement(
          "div",
          { className: i.InputContainer },
          l.createElement(a.II, {
            type: "text",
            label: t,
            value: n || "",
            onChange: (e) => {
              var t;
              return r(
                (null === (t = null == e ? void 0 : e.currentTarget) ||
                void 0 === t
                  ? void 0
                  : t.value) || "",
              );
            },
            placeholder: s,
            tooltip: c,
          }),
          l.createElement(
            d,
            Object.assign({}, e, { showSimplifiedOpenText: !0 }),
          ),
        );
      }
      function m(e) {
        const {
          name: t,
          id: n,
          fnSetID: r,
          index: o,
          placeHolder: s,
          tooltip: c,
        } = e;
        return l.createElement(
          "div",
          { className: i.InputContainer },
          l.createElement(a.II, {
            type: "text",
            label: t,
            value: n || "",
            onChange: (e) => {
              var t;
              return r(
                (null === (t = null == e ? void 0 : e.currentTarget) ||
                void 0 === t
                  ? void 0
                  : t.value) || "",
                o,
              );
            },
            placeholder: s,
            tooltip: c,
          }),
          l.createElement(
            u,
            Object.assign({}, e, { showSimplifiedOpenText: !0 }),
          ),
        );
      }
      function d(e) {
        const {
          name: t,
          type: n,
          id: r,
          showSimplifiedOpenText: c,
          fnGetURL: m,
          fnGetReviewed: d,
          fnSetReviewed: u,
          fnDisplayStatus: p,
        } = e;
        if (
          ("number" == typeof r && r > 0) ||
          (null == r ? void 0 : r.length) > 0
        ) {
          const e = l.createElement(
            "a",
            {
              href: m(r),
              target: "_blank",
              onClick: (e) => e.stopPropagation(),
            },
            c
              ? "Open"
              : l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("b", null, n, t && n ? ": " : ""),
                  t,
                ),
          );
          return l.createElement(
            "div",
            { className: (0, o.Z)(i.PreviewLinkCtn) },
            Boolean(d)
              ? l.createElement(a.ji, {
                  label: e,
                  checked: Boolean(d()),
                  onChange: u,
                  tooltip: d() ? `Reviewed by ${(0, s._)(d())}` : void 0,
                })
              : e,
            Boolean(p) && p(r),
          );
        }
        return null;
      }
      function u(e) {
        const {
          name: t,
          type: n,
          id: r,
          showSimplifiedOpenText: c,
          fnGetURL: m,
          index: d,
          fnGetReviewed: u,
          fnSetReviewed: p,
          fnDisplayStatus: _,
        } = e;
        if ((null == r ? void 0 : r.length) > 0) {
          const e = l.createElement(
            "a",
            {
              href: m(r, d),
              target: "_blank",
              onClick: (e) => e.stopPropagation(),
            },
            c
              ? "Open"
              : l.createElement(
                  l.Fragment,
                  null,
                  l.createElement("b", null, n, t && n ? ": " : ""),
                  t,
                ),
          );
          return l.createElement(
            "div",
            {
              className: (0, o.Z)(
                i.PreviewLinkCtn,
                Boolean(u && u(d)) && i.Complete,
              ),
            },
            Boolean(u)
              ? l.createElement(a.ji, {
                  label: e,
                  checked: Boolean(u(d)),
                  onChange: (e) => p(e, d),
                  tooltip: u(d) ? `Reviewed by ${(0, s._)(u(d))}` : void 0,
                })
              : e,
            Boolean(_) && _(r),
          );
        }
        return null;
      }
      function p(e) {
        var t, n, a, i;
        let l = "",
          o = "",
          s = !1;
        if (e.dailyDealGid) l = r.pk.get("dailydeal");
        else if (e.promotionPlan) {
          const o = e.promotionPlan;
          l = r.pk.get(o.type);
          const c =
              ((null === (t = o.takeover_ids) || void 0 === t
                ? void 0
                : t.length) > 0 &&
                Boolean(o.takeover_ids[0])) ||
              ((null === (n = o.steamchina_takeover_ids) || void 0 === n
                ? void 0
                : n.length) > 0 &&
                Boolean(o.steamchina_takeover_ids[0])),
            m =
              (null === (a = o.takeunder_ids) || void 0 === a
                ? void 0
                : a.length) > 0 && Boolean(o.takeunder_ids[0]),
            d =
              "weekenddeal" != o.type &&
              "midweek" != o.type &&
              (null === (i = o.contenthub_takeover_ids) || void 0 === i
                ? void 0
                : i.length) > 0 &&
              Boolean(o.contenthub_takeover_ids[0]);
          o.bgcolor
            ? (l = o.bgcolor)
            : c || "takeover" == o.intention
              ? ((l = "#3c7c50"), (s = !c))
              : m || "takeunder" == o.intention
                ? ((l = "#993a21"), (s = !m))
                : (d || "hub_takeover" == o.intention) &&
                  ((l = "#A3B367"), (s = !d));
        } else e.week && ((l = "#353840"), (o = "1px dashed #4273bd"));
        return {
          style: {
            backgroundColor: l,
            border: o,
            backgroundImage: s
              ? "repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.1) 5px, rgba(255,255,255,.1) 10px)"
              : void 0,
          },
        };
      }
    },
    43746: (e, t, n) => {
      "use strict";
      n.d(t, { f: () => l, l: () => i });
      var a = n(13499);
      function i(e) {
        if (!e) return !1;
        const t = (0, a.FM)(e).toLocaleLowerCase();
        return (
          "store.steampowered.com" == t ||
          "store.steamchina.com" == t ||
          "steamcommunity.com" == t
        );
      }
      function l(e) {
        return i(e) ? null : "Link must point to store or community";
      }
    },
    83190: (e, t, n) => {
      "use strict";
      n.d(t, { P: () => m });
      var a = n(85556),
        i = n(51485),
        l = n(36342),
        r = n(87380),
        o = n(47427),
        s = n(83743),
        c = n(77178);
      function m(e) {
        const { fnUpdatePlan: t } = (0, r.$H)(),
          n = (0, l.Gn)(),
          m = (0, i.Dv)(),
          d = (0, s.tx)();
        return d.bLoading
          ? o.createElement(s.NT, {
              state: d,
              strDialogTitle: "Saving Plan",
              closeModal: e.closeModal,
            })
          : o.createElement(
              c.uH,
              Object.assign({}, e, {
                closeModal: void 0,
                onOK: () =>
                  (0, a.mG)(this, void 0, void 0, function* () {
                    d.bLoading ||
                      (d.fnSetLoading(!0),
                      e.onOK && (yield e.onOK()),
                      t(n.GetPartnerID(), n.GetModel(), void 0, m.GetModel())
                        .then((e) => {
                          d.fnSetSuccess(e),
                            e
                              ? d.fnSetStrSuccess(
                                  "Status update and Save successful",
                                )
                              : d.fnSetStrError(
                                  "Save failed. Please try again later (check consoles for details)",
                                ),
                            n.SaveSuccessClearDirty(),
                            m.SaveSuccessClearDirty();
                        })
                        .catch((e) => d.fnSetSuccess(!1)));
                  }),
                onCancel: () => {
                  e.onCancel && e.onCancel(), e.closeModal && e.closeModal();
                },
              }),
              e.children,
            );
      }
    },
    33278: (e, t, n) => {
      "use strict";
      n.d(t, { o6: () => $e, pt: () => Qe, aX: () => Ke });
      var a = n(4618),
        i = n(1698),
        l = n(81033),
        r = n(44107),
        o = n(51485),
        s = n(36342),
        c = n(87380),
        m = n(41710),
        d = n(30750),
        u = n(47427),
        p = n(28017),
        _ = n(80886),
        h = n(77681),
        g = n.n(h),
        v = n(1485),
        E = n(10162),
        S = n(71741),
        D = n.n(S),
        f = n(90069),
        y = n(62613),
        b = n(23665),
        I = n(46882),
        C = n(56164),
        k = n(13129),
        A = n(50423),
        w = n(31846),
        P = n(17098),
        T = n(85556),
        N = n(77178),
        R = n(26475),
        G = n(60688),
        L = n(83743),
        B = n(26286),
        x = n(15459),
        M = n(69368);
      function O(e) {
        const { oEditablePlan: t, clusterType: n, index: l } = e,
          r = (0, a.II)(n);
        return u.createElement(
          "div",
          { className: G.LinkCtn },
          u.createElement(R.UR, {
            name: r + " ID",
            placeHolder: (0, a.bG)(n),
            id: t.GetClusterID(n, 0),
            index: 0,
            fnSetID: (e, a) => t.SetClusterID(n, e, a),
            fnGetURL: (e, t) => i.tA.GetClusterEditURL(n, e),
          }),
          u.createElement(
            "div",
            { className: G.ButtonRow },
            u.createElement(
              v.zx,
              {
                onClick: (e) => {
                  (0, f.AM)(
                    u.createElement(U, {
                      oEditablePlan: t,
                      clusterType: n,
                      index: l,
                    }),
                    (0, A.RA)(e),
                  );
                },
              },
              "Create new",
            ),
            u.createElement(
              v.zx,
              {
                onClick: (e) => {
                  (0, f.AM)(
                    u.createElement(H, {
                      oEditablePlan: t,
                      clusterType: n,
                      index: l,
                    }),
                    (0, A.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function F(e) {
        const { index: t, oEditablePlan: n } = e,
          [i, l] = (0, u.useState)(a.R6.k_ConfigPage_FreeToPlay_Takeover),
          r = {
            option: (e) =>
              Object.assign(Object.assign({}, e), { color: "#444444" }),
          },
          o = (0, u.useMemo)(
            () =>
              Object.values(a.R6)
                .filter((e) => "content_hub" == (0, a.He)(e))
                .map((e) => ({ value: e, label: (0, a.II)(e) })),
            [],
          );
        return (
          u.useEffect(() => {
            for (let e = 0; e < n.GetContentHubTakeoverCount(); e++)
              if (n.GetContentHubTakeoverType(e)) {
                l(n.GetContentHubTakeoverType(e));
                break;
              }
          }, [l, n]),
          u.createElement(
            u.Fragment,
            null,
            u.createElement(x.ZP, {
              isSearchable: !0,
              styles: r,
              options: o,
              value: o.find((e) => e.value == i),
              onChange: (e) => l(e.value),
            }),
            u.createElement(O, { index: t, oEditablePlan: n, clusterType: i }),
          )
        );
      }
      function U(e) {
        const { closeModal: t, oEditablePlan: n, clusterType: i, index: l } = e,
          [r, o] = (0, u.useState)(n.GetName()),
          [s, c] = (0, u.useState)(""),
          m = "Create New " + (0, a.II)(i),
          { fnCreateCluster: p } = (0, B.b)(),
          [h, g] = (0, d.SZ)(() => [
            n.GetFeaturedItemID(),
            n.GetFeaturedItemType(),
          ]),
          [E] = (0, _.jk)(h, g, {});
        (0, u.useEffect)(() => {
          if (E) {
            let e = E.GetStorePageURLWithOverride();
            i == a.R6.k_ConfigPage_TakeoverSteamChina &&
              e.replace(/steampowered\.com/g, "steamchina.com"),
              c(e);
          }
        }, [E, i]);
        const S = (0, L.tx)();
        return S.bLoading
          ? u.createElement(L.NT, {
              state: S,
              strDialogTitle: m,
              closeModal: t,
            })
          : u.createElement(
              N.uH,
              {
                strTitle: m,
                onCancel: t,
                bOKDisabled: !r || 0 == r.trim().length,
                onOK: () =>
                  (0, T.mG)(this, void 0, void 0, function* () {
                    S.fnSetLoading(!0);
                    const e = yield p(
                      i,
                      r,
                      n.GetStartDate(),
                      n.GetEndDate(),
                      s,
                      h,
                      g,
                    );
                    e
                      ? (n.SetClusterID(i, e, l),
                        S.fnSetStrSuccess(
                          m + " was successfull; remember to save.",
                        ))
                      : S.fnSetStrError("Failed to create cluster: " + m);
                  }),
              },
              u.createElement(v.II, {
                type: "text",
                label: "Name",
                value: r,
                onChange: (e) => o(e.currentTarget.value),
              }),
              u.createElement("div", null, "Associated Items"),
              u.createElement(M.Ce, { id: h, itemType: g }),
              u.createElement(v.II, {
                type: "text",
                label: "Target URL",
                value: s,
                onChange: (e) => c(e.currentTarget.value),
              }),
            );
      }
      function H(e) {
        const { closeModal: t, oEditablePlan: n, clusterType: i } = e,
          l = (0, a.II)(i);
        return u.createElement(N.uH, {
          strTitle: "Choose Existing " + l,
          strDescription: "Not Built Yet",
          closeModal: t,
        });
      }
      var V = n(95666),
        X = n(90831),
        j = n(31455),
        q = n(86437),
        W = n(66692);
      function z(e) {
        const {
            storeItemID: t,
            storeItemType: n,
            closeModal: a,
            fnSetStoreItemFeature: i,
          } = e,
          [l, r] = u.useState((0, q.Bo)(t, n));
        return u.createElement(
          N.uH,
          {
            strTitle: "Update Item Featuring",
            bDisableBackgroundDismiss: !0,
            onOK: () => {
              l && i((0, q.u$)(l), (0, q.D3)(l)), a();
            },
            onCancel: a,
          },
          Boolean(l)
            ? u.createElement(M.Ce, { id: t, itemType: n })
            : u.createElement("div", null, "No featured store item selected."),
          u.createElement(W.Ko, { oChoice: l, fnSetChoice: r }),
        );
      }
      var Z = n(84676),
        K = n(45180),
        Q = n(71630),
        Y = n(38201),
        J = n(54842),
        $ = n(20417),
        ee = n(37563),
        te = n(16997),
        ne = n(45492);
      class ae {
        constructor(e, t) {
          (this.m_oRequest = null),
            (this.m_originalPlan = null),
            (this.m_bDirty = !1),
            (this.m_callback = new ne.pB()),
            (this.m_storeItemKey = null),
            (0, J.rC)(this),
            this.Reset(e, t);
        }
        Reset(e, t) {
          (this.m_originalPlan = JSON.parse(JSON.stringify(t))),
            (this.m_oRequest = JSON.parse(JSON.stringify(t))),
            (this.m_bDirty = !1),
            (this.m_planID = e),
            this.m_oRequest.store_item_id &&
              (this.m_storeItemKey = (0, q.t9)(
                this.m_oRequest.store_item_id,
                this.m_oRequest.store_item_type,
              ));
        }
        SaveSuccessClearDirty() {
          (this.m_originalPlan = JSON.parse(JSON.stringify(this.m_oRequest))),
            (this.m_bDirty = !1);
        }
        GetPlan() {
          return this.m_oRequest;
        }
        GetPlanID() {
          return this.m_planID;
        }
        GetModel() {
          return this.m_oRequest;
        }
        BIsDirty() {
          return this.m_bDirty;
        }
        GetCallback() {
          return this.m_callback;
        }
        GetType() {
          return this.m_oRequest.type;
        }
        GetStartDate() {
          return this.m_oRequest.start_date;
        }
        GetEndDate() {
          return this.m_oRequest.end_date;
        }
        BHasFeaturedStoreItem() {
          return Boolean(this.m_oRequest.store_item_id);
        }
        GetStoreItemKey() {
          return this.m_storeItemKey;
        }
        GetFeaturedItemID() {
          return this.m_oRequest.store_item_id;
        }
        GetFeaturedItemType() {
          return this.m_oRequest.store_item_type;
        }
        GetRequestNotes() {
          return this.m_oRequest.request_notes;
        }
        SetType(e) {
          this.m_oRequest.type !== e &&
            ((this.m_oRequest.type = e), this.Dispatch());
        }
        SetStartDate(e) {
          this.m_oRequest.start_date !== e &&
            ((this.m_oRequest.start_date = e), this.Dispatch());
        }
        SetEndDate(e) {
          this.m_oRequest.end_date !== e &&
            ((this.m_oRequest.end_date = e), this.Dispatch());
        }
        SetFeaturedStoreItem(e, t) {
          (this.m_oRequest.store_item_id == e &&
            this.m_oRequest.store_item_type == t) ||
            ((this.m_oRequest.store_item_id = e),
            (this.m_oRequest.store_item_type = t),
            (this.m_storeItemKey = (0, q.t9)(
              this.m_oRequest.store_item_id,
              this.m_oRequest.store_item_type,
            )),
            this.Dispatch());
        }
        SetRequestNote(e) {
          this.m_oRequest.request_notes !== e &&
            ((this.m_oRequest.request_notes = e), this.Dispatch());
        }
        RevertChanges() {
          (this.m_oRequest = JSON.parse(JSON.stringify(this.m_originalPlan))),
            (this.m_bDirty = !1),
            this.m_callback.Dispatch(this);
        }
        Dispatch() {
          (this.m_bDirty = !0), this.m_callback.Dispatch(this);
        }
      }
      (0, T.gn)([J.LO], ae.prototype, "m_bDirty", void 0),
        (0, T.gn)([te.a], ae.prototype, "SetType", null),
        (0, T.gn)([te.a], ae.prototype, "SetStartDate", null),
        (0, T.gn)([te.a], ae.prototype, "SetEndDate", null),
        (0, T.gn)([te.a], ae.prototype, "SetFeaturedStoreItem", null),
        (0, T.gn)([te.a], ae.prototype, "SetRequestNote", null),
        (0, T.gn)([te.a], ae.prototype, "RevertChanges", null);
      class ie {
        InitPromotionPlanToEdit(e, t, n = !1) {
          return (
            "dev" == ee.De.WEB_UNIVERSE &&
              console.log(
                "(Dev Only) CPromotionPlanPartnerEditStore.InitPromotionPlanToEdit with model: " +
                  Boolean(this.m_model),
                (0, J.ZN)(t),
              ),
            this.m_model
              ? (this.m_model.Reset(e, t),
                n && this.m_model.GetCallback().Dispatch(this.m_model))
              : (this.m_model = new ae(e, t)),
            this.m_model
          );
        }
        GetPromotionPlanToEdit() {
          return this.m_model;
        }
        ClearEditModel() {
          this.m_model = null;
        }
        static Get() {
          return (
            ie.s_Singleton ||
              ((ie.s_Singleton = new ie()),
              "dev" == ee.De.WEB_UNIVERSE &&
                (window.g_PromotionPlanPartnerEditStore = ie.s_Singleton)),
            ie.s_Singleton
          );
        }
        constructor() {
          this.m_model = null;
        }
      }
      function le() {
        const e = (0, $.NW)(),
          [t, n] = u.useState(ie.Get().GetPromotionPlanToEdit());
        return (
          (0, $.Qg)(null == t ? void 0 : t.GetCallback(), (t) => {
            n(t), e();
          }),
          t
        );
      }
      function re(e) {
        const t = (0, s.Gn)(),
          n = (0, o.Dv)(),
          a = le(),
          i =
            t.BIsDirty() || n.BIsDirty() || (null == a ? void 0 : a.BIsDirty()),
          [l] = (0, d.SZ)(() => [t.GetDiscountEventID()]),
          r = [
            {
              name: "Admin Info",
              key: "admininfo",
              contents: u.createElement(ce, null),
            },
          ];
        return (
          l &&
            r.push({
              name: "Discount Event",
              key: "discountevent",
              contents: u.createElement(
                E.SV,
                null,
                u.createElement(se, { strDiscountEventID: l }),
              ),
            }),
          u.createElement(
            "div",
            null,
            u.createElement("div", null, "Is dirty?: ", i ? "true" : "false"),
            u.createElement(oe, null),
            u.createElement("br", null),
            u.createElement("br", null),
            u.createElement("hr", null),
            u.createElement(b.n, {
              tabs: r,
              bDisableRouting: !0,
              startingTab: "mainmessage",
            }),
            u.createElement("div", { className: D().ClearThings }),
          )
        );
      }
      function oe(e) {
        const t = (0, s.Gn)().GetModel(),
          [n, a, i, l, r, o] = (0, d.SZ)(() => [
            t.owner_account_id,
            t.creator_account_id,
            t.artwork_owner_account_id,
            t.admin_accounts,
            t.reviewed_by_account,
            t.operator_account_id,
          ]);
        return u.createElement(
          u.Fragment,
          null,
          Boolean(a) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(v.__, null, "Creator:"),
              u.createElement(Y.N, { accountID: a }),
            ),
          Boolean(n) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(v.__, null, "Owner:"),
              u.createElement(Y.N, { accountID: n }),
            ),
          Boolean(i) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(v.__, null, "Artwork Owner:"),
              u.createElement(Y.N, { accountID: i }),
            ),
          Boolean(r) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(v.__, null, "Reviewer:"),
              u.createElement(Y.N, { accountID: r }),
            ),
          Boolean(r) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(v.__, null, "Operator Owner:"),
              u.createElement(Y.N, { accountID: o }),
            ),
          Boolean((null == l ? void 0 : l.length) > 0) &&
            u.createElement(
              "div",
              { className: g().SectionCtn },
              u.createElement(v.__, null, "All Editors of the Plan:"),
              null == l
                ? void 0
                : l.map((e) =>
                    u.createElement(Y.N, { key: "editor" + e, accountID: e }),
                  ),
            ),
        );
      }
      function se(e) {
        const { strDiscountEventID: t } = e,
          n = (0, l.vc)(t);
        return u.createElement(Q.G, { data: n });
      }
      function ce(e) {
        const t = (0, s.Gn)(),
          n = (0, o.Dv)(),
          a = le(),
          i =
            t.BIsDirty() || n.BIsDirty() || (null == a ? void 0 : a.BIsDirty()),
          l = t.GetModel();
        return u.createElement(
          u.Fragment,
          null,
          u.createElement("div", null, "Is Dirty: ", i),
          u.createElement("h1", null, "Admin Model:"),
          u.createElement(Q.G, { data: l }),
          u.createElement("h1", null, "Partner Inputs to Art Pipeline:"),
          u.createElement(Q.G, { data: n.GetModel() }),
          u.createElement(
            v.zx,
            { onClick: () => n.ClearInput() },
            "Clear Partner Inputs",
          ),
          u.createElement("h1", null, "Partner Promotion Plan Request"),
          u.createElement(Q.G, {
            data: (null == a ? void 0 : a.GetModel()) || {},
          }),
        );
      }
      var me = n(8285),
        de = n(24040);
      function ue(e) {
        const { fnBIsPlanDirty: t } = (0, s.u9)(),
          { fnBIsPlanInputPipelineDirty: n } = (0, o.R0)(),
          { fnBIsPlanPartnerRequestDirty: a } = {
            fnBIsPlanPartnerRequestDirty: u.useCallback(
              () =>
                !!ie.Get().GetPromotionPlanToEdit() &&
                ie.Get().GetPromotionPlanToEdit().BIsDirty(),
              [],
            ),
            fnResetDirtyPlanPartnerRequest: u.useCallback(() => {
              ie.Get().ClearEditModel();
            }, []),
          },
          i = (0, s.Gn)(),
          l = (0, o.Dv)(),
          r = le();
        u.useEffect(
          () => (
            (window.onbeforeunload = () =>
              t() || n() || a()
                ? (0, w.Xx)("#DailyDeals_UnsavedChanges")
                : null),
            () => {
              window.onbeforeunload = () => {};
            }
          ),
          [t, n, a],
        );
        return u.createElement(me.NL, {
          message: (e) =>
            !((i && t()) || (l && n()) || (r && a())) ||
            e.pathname == de.PromotionRoutes.PromotionPlanEditor(i.GetID()) ||
            (0, w.Xx)("#DailyDeals_UnsavedChanges"),
        });
      }
      var pe = n(34819),
        _e = n(65311),
        he = n(14839),
        ge = n(13913),
        ve = n(25127),
        Ee = n(28306),
        Se = n(44174),
        De = n(28995),
        fe = n(43746);
      function ye(e) {
        const { gid: t } = e,
          n = (0, ge.I)(t),
          a = (0, ge.sB)(t);
        if (!n && !a) return null;
        const {
            eVisibility: i,
            bDateSet: l,
            bItemAssociated: r,
            bFiltersSetup: o,
            bValidLink: s,
            bLegalLineHandled: c,
          } = n,
          {
            bMinimumAssetsSetup: m,
            nAssetSetup: d,
            nCompleteAssetRequired: p,
            bMatchingVideoAssets: _,
          } = a;
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: G.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              2 == i ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, l && G.Complete) },
              l ? " " : " ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, r && G.Complete) },
              r ? " " : " ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, o && G.Complete) },
              o ? " " : " ",
              " Filters",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, m && G.Complete) },
              m ? " " : " ",
              " Assets (",
              d,
              "/",
              p,
              ")",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, s && G.Complete) },
              s ? " " : " ",
              " ValidLink",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, c && G.Complete) },
              c ? " " : " ",
              " Legal",
            ),
            void 0 !== _ &&
              u.createElement(
                "span",
                { className: (0, k.Z)(G.Status, _ && G.Complete) },
                _ ? " " : " ",
                " Animated Assets",
              ),
          ),
        );
      }
      function be(e) {
        var t, n, a, i;
        const { id: l } = e,
          r = (0, m.dh)(l);
        if (!r) return null;
        const o = Boolean(r.visibility.visible),
          s =
            r.visibility.startdate &&
            r.visibility.enddate &&
            r.visibility.enddate > r.visibility.startdate,
          c =
            (null === (t = r.association) || void 0 === t ? void 0 : t.appid) ||
            (null === (n = r.association) || void 0 === n
              ? void 0
              : n.packageid) ||
            (null === (a = r.association) || void 0 === a
              ? void 0
              : a.bundleid),
          d = r.image ? Object.keys(r.image).length : 0,
          p = d >= ve._,
          _ = null === (i = r.association) || void 0 === i ? void 0 : i.url,
          h = Boolean(_);
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: G.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              o ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, s && G.Complete) },
              s ? " " : " ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, c && G.Complete) },
              c ? " " : " ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, h && G.Complete) },
              h ? " " : " ",
              " Valid Link",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, p && G.Complete) },
              p ? " " : " ",
              " Assets (",
              d,
              "/",
              ve._,
              ")",
            ),
          ),
          Boolean(h && !(0, fe.l)(_)) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(G.StatusRow, G.StatusAlert) },
              "Error: Spotlight has an overide URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function Ie(e) {
        var t, n, a, i;
        const { id: l, type: r } = e,
          o = (0, he.NU)(r, l);
        if (!o) return null;
        const s = Boolean(o.visibility.visible),
          c =
            o.visibility.startdate &&
            o.visibility.enddate &&
            o.visibility.enddate > o.visibility.startdate,
          m =
            (null === (t = o.association) || void 0 === t ? void 0 : t.appid) ||
            (null === (n = o.association) || void 0 === n
              ? void 0
              : n.packageid) ||
            (null === (a = o.association) || void 0 === a
              ? void 0
              : a.bundleid),
          d =
            (null === (i = o.association) || void 0 === i ? void 0 : i.url) ||
            o.page_bg_url,
          p = Boolean(d);
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: G.StatusRow },
            u.createElement(
              "span",
              { className: G.Visibility },
              "Visibility: ",
              s ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, c && G.Complete) },
              c ? " " : " ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, m && G.Complete) },
              m ? " " : " ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, p && G.Complete) },
              p ? " " : " ",
              " Valid Link",
            ),
            _e.y.map((e) => {
              var t;
              const n = Object.keys(
                  null !== (t = o[e]) && void 0 !== t ? t : [],
                ).length,
                a = n >= ve._;
              return u.createElement(
                "span",
                { key: r + "_" + e },
                a ? " " : " ",
                " ",
                (0, _e.P)(e),
                " ",
                "(",
                n,
                "/",
                ve._,
                ")",
              );
            }),
          ),
          Boolean(p && !(0, fe.l)(d)) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(G.StatusRow, G.StatusAlert) },
              "Error: Takeover has an overide URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function Ce(e) {
        var t, n, i, l;
        const { id: r } = e,
          o = (0, he.NU)(a.R6.k_ConfigPage_Takeunder, r);
        if (!o) return null;
        const s = Boolean(o.visibility.visible),
          c =
            o.visibility.startdate &&
            o.visibility.enddate &&
            o.visibility.enddate > o.visibility.startdate,
          m =
            (null === (t = o.association) || void 0 === t ? void 0 : t.appid) ||
            (null === (n = o.association) || void 0 === n
              ? void 0
              : n.packageid) ||
            (null === (i = o.association) || void 0 === i
              ? void 0
              : i.bundleid),
          d =
            (null === (l = o.association) || void 0 === l ? void 0 : l.url) ||
            o.takeunder_url,
          p = Boolean(d),
          _ = /steam[-_]?deck/i.test(d || ""),
          h = /\/deckverified\//i.test(d || "");
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            { className: G.StatusRow },
            u.createElement(
              "span",
              null,
              "Visibility: ",
              s ? "Public" : "Draft",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, c && G.Complete) },
              c ? " " : " ",
              " Date",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, m && G.Complete) },
              m ? " " : " ",
              " Item Associated",
            ),
            u.createElement(
              "span",
              { className: (0, k.Z)(G.Status, p && G.Complete) },
              p ? " " : " ",
              " Valid Link",
            ),
            Ee.y.map((e) => {
              var t;
              const n = Object.keys(
                  null !== (t = o[e]) && void 0 !== t ? t : [],
                ).length,
                a = n >= ve._;
              return u.createElement(
                "span",
                { key: "takeunder_" + e },
                a ? " " : " ",
                " ",
                (0, Ee.a)(e),
                " ",
                "(",
                n,
                "/",
                ve._,
                ")",
              );
            }),
          ),
          Boolean(_ && !h) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(G.StatusRow, G.StatusAlert) },
              "Error: This take under should be updated to convert /sale/ to /deckverified/ to reduce deck advertising on front page",
            ),
          Boolean(p && !(0, fe.l)(d)) &&
            u.createElement(
              "div",
              { className: (0, k.Z)(G.StatusRow, G.StatusAlert) },
              "Error: Takeunder has an override URL which isn't store or community. Check for typos.",
            ),
        );
      }
      function ke(e) {
        var t, n, a;
        const { clanAccountID: i, gidClanEvent: l } = e,
          r = (0, Se.Jn)(i, l);
        if (!r) return null;
        const o = Boolean(r.BIsVisibleEvent()),
          s =
            r.GetStartTimeAndDateUnixSeconds() &&
            r.GetEndTimeAndDateUnixSeconds() &&
            r.GetEndTimeAndDateUnixSeconds() >
              r.GetStartTimeAndDateUnixSeconds(),
          c = Boolean(
            null === (t = null == r ? void 0 : r.jsondata) || void 0 === t
              ? void 0
              : t.sale_vanity_id_valve_approved_for_sale_subpath,
          );
        return u.createElement(
          "div",
          { className: G.StatusRow },
          u.createElement("span", null, "Visibility: ", o ? "Public" : "Draft"),
          u.createElement(
            "span",
            { className: (0, k.Z)(G.Status, s && G.Complete) },
            s ? " " : " ",
            " Date",
          ),
          u.createElement(
            "span",
            {
              className: (0, k.Z)(
                G.Status,
                (null === (n = null == r ? void 0 : r.jsondata) || void 0 === n
                  ? void 0
                  : n.sale_associated_advertising_appid) && G.Complete,
              ),
            },
            (
              null === (a = null == r ? void 0 : r.jsondata) || void 0 === a
                ? void 0
                : a.sale_associated_advertising_appid
            )
              ? " "
              : " ",
            " Advertising App",
          ),
          u.createElement(
            "span",
            { className: (0, k.Z)(G.Status, c && G.Complete) },
            c ? " " : " ",
            " Valid Link",
          ),
          De.DU.map((e) => {
            var t;
            const n = (
                null !== (t = r.jsondata[e]) && void 0 !== t ? t : []
              ).filter(Boolean).length,
              a = n >= ve._;
            return u.createElement(
              "span",
              { key: "takeunder_" + e },
              a ? " " : " ",
              " ",
              (0, De.Fm)(e),
              " ",
              "(",
              n,
              "/",
              ve._,
              ")",
            );
          }),
        );
      }
      function Ae(e) {
        var t, n, a, i, r, o, s, c, m;
        const { strDiscountEventID: p, oEditablePlan: h } = e,
          g = (0, l.vc)(p),
          [v, E, S] = (0, d.SZ)(() => [
            h.GetSaleClanAccountID(),
            h.GetSaleClanEventGID(),
            h.GetOptInID(),
          ]),
          [D] = (0, _.vs)(
            null === (t = null == g ? void 0 : g.appids) || void 0 === t
              ? void 0
              : t[0],
            {},
          ),
          f = (0, Se.Jn)(v, E);
        if (
          0 ==
            (null === (n = null == g ? void 0 : g.appids) || void 0 === n
              ? void 0
              : n.length) &&
          0 ==
            (null === (a = null == g ? void 0 : g.publisherids) || void 0 === a
              ? void 0
              : a.length) &&
          0 ==
            (null === (i = null == g ? void 0 : g.opt_in_name) || void 0 === i
              ? void 0
              : i.length)
        )
          return u.createElement(
            "div",
            { className: G.StatusRow },
            u.createElement(
              "span",
              null,
              "Warning: Discount Event is visible to ALL Partners.",
            ),
            u.createElement(
              "span",
              null,
              "unique" == g.collision_type ? " " : " ",
              "Seasonal Sale Setting",
            ),
          );
        if (
          1 ==
            (null === (r = null == g ? void 0 : g.appids) || void 0 === r
              ? void 0
              : r.length) &&
          14 == (null == D ? void 0 : D.GetAppType())
        )
          return u.createElement(
            "div",
            { className: (0, k.Z)(G.StatusRow, G.StatusAlert) },
            "Warning: Discount Event is targeting advertising app; visible to no one.",
          );
        if (S && g)
          return u.createElement(
            "div",
            { className: G.StatusRow },
            u.createElement(
              "span",
              null,
              g.opt_in_name ? " " : " ",
              "OptIn Associated",
            ),
            Boolean(
              (null === (o = g.appids) || void 0 === o ? void 0 : o.length) >
                0 ||
                (null === (s = g.publisherids) || void 0 === s
                  ? void 0
                  : s.length) > 0,
            ) &&
              u.createElement(
                "span",
                null,
                "Error: App or Partner List specified",
              ),
          );
        const y = (null == f ? void 0 : f.GetSaleFeaturedAppsCount()) || 0;
        return u.createElement(
          "div",
          { className: G.StatusRow },
          Boolean(y) &&
            u.createElement(
              "span",
              null,
              (null === (c = null == g ? void 0 : g.appids) || void 0 === c
                ? void 0
                : c.length) >= y
                ? " "
                : " ",
              "Apps From Sale (",
              (null === (m = null == g ? void 0 : g.appids) || void 0 === m
                ? void 0
                : m.length) || 0,
              "/",
              y,
              ")",
            ),
        );
      }
      var we,
        Pe = n(22364),
        Te = n(83891),
        Ne = n(64578),
        Re = n(72297);
      function Ge(e) {
        const { oEditablePlan: t } = e,
          n = (function () {
            const [e] = (0, u.useState)(() => {
              const e = new Map();
              return (
                e.set("midweek", [
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_DiscountEvent,
                ]),
                e.set("weekenddeal", [
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_DiscountEvent,
                ]),
                e.set("saleevent", [we.k_SalePage]),
                e.set("themesale", [
                  we.k_TakeOver,
                  we.k_TakeUnder,
                  we.k_AdvertisingApp,
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_SalePage,
                  we.k_DiscountEvent,
                  we.k_OptIn,
                  we.k_SlackChannel,
                  we.k_AssetKit,
                ]),
                e.set("nextfest", [
                  we.k_TakeOver,
                  we.k_TakeUnder,
                  we.k_AdvertisingApp,
                  we.k_Spotlight,
                  we.k_MarketingMessage,
                  we.k_SalePage,
                  we.k_OptIn,
                  we.k_SlackChannel,
                  we.k_AssetKit,
                ]),
                e.set("seasonalsale", [we.k_AssetKit]),
                e.set("informational", []),
                e.set("dailydeal", []),
                e.set("vacation", []),
                e.set("important", []),
                e.set("preload", []),
                e.set("assetrequest", []),
                e
              );
            });
            return e;
          })(),
          [a, i, l, r, o, s, c, m, p, _, h, g, E, S, D] = (0, d.SZ)(() => [
            t.GetType(),
            t.BRequiresSalePage(),
            t.GetSaleClanAccountID(),
            t.GetSpotlightIDs(0),
            t.GetMarketingMessageID(0),
            t.GetTakeoverID(0),
            t.GetTakeunderID(0),
            t.GetAdvertisingAppID(),
            t.GetOptInID(),
            t.GetSlackChannel(),
            t.GetDiscountEventID(),
            t.GetFeaturingIntention(),
            t.GetAssetKitURL(),
            t.GetSteamChinaTakeoverID(0),
            t.GetContentHubTakeoverCount(),
          ]),
          f = n.get(a),
          y = [];
        return (
          f.includes(we.k_TakeOver) &&
            !s &&
            y.push(
              "Promotion requires a Takeover which hasn't been linked yet.",
            ),
          f.includes(we.k_TakeUnder) &&
            !c &&
            y.push(
              "Promotion requires a Takeunder which hasn't been linked yet.",
            ),
          f.includes(we.k_Spotlight) &&
            !r &&
            y.push(
              "Promotion requires a Spotlight which hasn't been linked yet.",
            ),
          f.includes(we.k_MarketingMessage) &&
            !o &&
            y.push(
              "Promotion requires a Marketing Message which hasn't been linked yet.",
            ),
          f.includes(we.k_DiscountEvent) &&
            !h &&
            y.push(
              "Promotion requires a Discount Event which hasn't been linked yet.",
            ),
          f.includes(we.k_OptIn) &&
            !p &&
            y.push(
              "Promotion requires an OptIn Admin which hasn't been linked yet.",
            ),
          f.includes(we.k_SlackChannel) &&
            !_ &&
            y.push(
              "Promotion requires a Slack Channel for coordination, which hasn't been linked yet.",
            ),
          f.includes(we.k_AdvertisingApp) &&
            !m &&
            y.push(
              "Promotion requires an Advertising App or Config App which hasn't been linked yet.",
            ),
          (!i && !f.includes(we.k_SalePage)) ||
            l ||
            y.push(
              "Promotion requires a Sale page which hasn't been linked yet.",
            ),
          f.includes(we.k_AssetKit) &&
            !E &&
            y.push(
              "Promotion requires an Asset Kit which hasn't been linked yet.",
            ),
          "takeover" != g ||
            s ||
            y.push(
              "Promotion's highest featuring requires a Takeover which isn't linked.",
            ),
          "takeunder" != g ||
            c ||
            y.push(
              "Promotion's highest featuring requires a Takeunder which isn't linked.",
            ),
          "hub_takeover" == g &&
            0 == D &&
            y.push(
              "Promotion's highest featuring requires a Content Hub Takeover which isn't linked.",
            ),
          "steamchina_takeover" != g ||
            S ||
            y.push(
              "Promotion requires a Steam China Takeover which isn't linked.",
            ),
          y.length > 0 &&
            u.createElement(
              "div",
              { className: Ne.WarningsContainer },
              u.createElement(v.__, null, "Setup warnings:"),
              u.createElement(
                "div",
                null,
                y.map((e) =>
                  u.createElement(
                    "div",
                    {
                      key: e,
                      className: (0, k.Z)(
                        Ne.PreviewLinkCtn,
                        Ne.Incomplete,
                        Re.WarningStylesWithIcon,
                        Ne.WarningItem,
                      ),
                    },
                    e,
                  ),
                ),
              ),
            )
        );
      }
      !(function (e) {
        (e.k_TakeOver = "takeover"),
          (e.k_TakeUnder = "takeunder"),
          (e.k_AdvertisingApp = "adapp"),
          (e.k_Spotlight = "spotlight"),
          (e.k_MarketingMessage = "marketingmessage"),
          (e.k_SalePage = "salepage"),
          (e.k_DiscountEvent = "discountevent"),
          (e.k_OptIn = "optin"),
          (e.k_SlackChannel = "slack"),
          (e.k_AssetKit = "assetkit");
      })(we || (we = {}));
      var Le,
        Be = n(80751),
        xe = n.n(Be),
        Me = n(42718),
        Oe = n(16649),
        Fe = n(65255);
      !(function (e) {
        (e.k_AppTypeGame = "Game"),
          (e.k_AppTypeApplication = "Application"),
          (e.k_AppTypeTool = "Tool"),
          (e.k_AppTypeDemo = "Demo"),
          (e.k_AppTypeDlc = "DLC"),
          (e.k_AppTypeMod = "Mod"),
          (e.k_AppTypeGuide = "Guide"),
          (e.k_AppTypeMedia = "Media"),
          (e.k_AppTypeConfig = "Config"),
          (e.k_AppTypeMusicAlbum = "Music"),
          (e.k_AppTypePlugIn = "PlugIn"),
          (e.k_AppTypeHardware = "Hardware"),
          (e.k_AppTypeBeta = "Beta"),
          (e.k_AppTypeMovie = "Movie"),
          (e.k_AppTypeAdvertising = "Advertising");
      })(Le || (Le = {}));
      const Ue = 2 == Fe.De.EUNIVERSE ? 12 : 504;
      function He(e, t = Ue, n = !0) {
        const a = (function () {
          return (0, Me.useMutation)(
            (e) =>
              (0, T.mG)(this, void 0, void 0, function* () {
                var t;
                const n = `${Fe.De.PARTNER_BASE_URL}apps/ajaxcreatenewapp/`,
                  a = new FormData();
                a.append("sessionid", Fe.De.SESSIONID),
                  a.append("name", e.name),
                  a.append("type", e.type),
                  a.append("range", "" + (e.range || 10)),
                  a.append(
                    "add_partner_app_reporting",
                    e.add_partner_app_reporting ? "1" : "0",
                  ),
                  a.append("publisherid", "" + e.publisherid),
                  a.append("parentid", "" + (e.parentid || 0)),
                  a.append("f2p", e.f2p ? "1" : "0"),
                  a.append("f2ptext", e.f2ptext ? "1" : "0"),
                  a.append("auto_publish", "" + (e.auto_publish || 0));
                const i = yield xe().post(n, a);
                if (
                  200 == (null == i ? void 0 : i.status) &&
                  1 ==
                    (null === (t = i.data) || void 0 === t
                      ? void 0
                      : t.success) &&
                  i.data.appid
                )
                  return i.data.appid;
                const l = (0, Oe.l)(i);
                return (
                  console.error(
                    "useCreateApp failed to create app " + l.strErrorMsg,
                    l,
                    i,
                  ),
                  null
                );
              }),
            {},
          );
        })();
        return (0, Me.useMutation)(() =>
          (0, T.mG)(this, void 0, void 0, function* () {
            const i = {
              name: e,
              publisherid: t,
              type: Le.k_AppTypeAdvertising,
              range: 10,
              add_partner_app_reporting: !1,
              auto_publish: n,
            };
            return yield a.mutateAsync(i);
          }),
        );
      }
      var Ve = n(58704),
        Xe = n(82624);
      function je(e) {
        const { oEditablePlan: t } = e;
        return u.createElement(
          "div",
          { className: G.LinkCtn },
          u.createElement(R.j_, {
            name: "Advertising AppID",
            placeHolder: "/app/landing/<grab this ID>",
            id: t.GetAdvertisingAppID() ? "" + t.GetAdvertisingAppID() : null,
            fnSetID: t.SetAdvertisingAppIDFromString,
            fnGetURL: i.tA.GetAdvertingAppLandingURL,
          }),
          u.createElement(
            "div",
            { className: G.ButtonRow },
            u.createElement(
              v.zx,
              {
                onClick: (e) => {
                  (0, f.AM)(
                    u.createElement(qe, { oEditablePlan: t }),
                    (0, A.RA)(e),
                  );
                },
              },
              "Create new",
            ),
          ),
        );
      }
      function qe(e) {
        const { oEditablePlan: t, closeModal: n } = e,
          [a, i] = (0, u.useState)(t.GetName() + " Advertising App"),
          [l, r] = (0, u.useState)(t.BHasAdvertisingAppID()),
          [o, s] = (0, u.useState)(() => t.GetPartnerID() || Ue),
          [c, m] = (0, d.SZ)(() => [
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
          ]),
          p = u.useMemo(() => (0, q.t9)(c, m), [c, m]),
          _ = He(a, o),
          h = (0, L.tx)();
        return h.bLoading
          ? u.createElement(L.NT, {
              state: h,
              strDialogTitle: "Creating Advertising App",
              closeModal: n,
            })
          : l
            ? u.createElement(N.uH, {
                strTitle: "Create New Advertising App?",
                strDescription: `You already have appid with ID ${t.GetAdvertisingAppID()} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: n,
                onOK: () => r(!1),
                strOKButtonText: "Create New Advertising App Anyways",
              })
            : u.createElement(
                N.uH,
                {
                  strTitle: "Create New Advertising App?",
                  strDescription:
                    "Creates and links the advertising app to this promotion. We always create the advertising app on the special 504 publisher ID.",
                  onCancel: n,
                  className: G.CreationDialogCtn,
                  bOKDisabled: 0 == a.trim().length,
                  bAllowFullSize: !0,
                  onOK: () =>
                    (0, T.mG)(this, void 0, void 0, function* () {
                      h.fnSetLoading(!0),
                        _.mutateAsync()
                          .then((e) => {
                            e
                              ? (t.SetAdvertisingAppID(e),
                                t.BHasFeaturedStoreItem() ||
                                  t.SetFeaturedStoreItem(e, 0),
                                h.fnSetStrSuccess(
                                  "Created Advertising App: " + e,
                                ))
                              : h.fnSetStrError(
                                  "Failed to create app, see console for details",
                                );
                          })
                          .catch((e) => {
                            const t =
                              "ad app Creation Failed: " +
                              (0, Oe.l)(e).strErrorMsg +
                              ". ";
                            console.log(t, e), h.fnSetStrError(t);
                          });
                    }),
                },
                u.createElement(v.II, {
                  value: a,
                  onChange: (e) => i(e.currentTarget.value),
                  label: "Advertising App Name",
                  tooltip:
                    "If we are using the advertising app for granting community or loyalty point items, beware the advertising name will appear on the point shop, so choose the name more carefully",
                }),
                u.createElement(Xe.x, {
                  nPartnerID: o,
                  fnUpdatePartnerID: s,
                  storeItemKey: p,
                }),
                u.createElement(Ve.v, {
                  accountID: Fe.L7.accountid,
                  partnerID: o,
                  fnSetPartnerID: s,
                  strLabel: "Choose Partner Who Owns The Advertising App",
                  strTooltip:
                    "For our internal events, it should remain partner id 504; for partner events we should use the correct partner id so that the discount event will cover the adverting app and we will pull the correct date information.",
                }),
              );
      }
      function We(e) {
        (0, s.Gn)(), (0, o.Dv)();
        return u.createElement(
          u.Fragment,
          null,
          u.createElement(
            "div",
            {
              className: (0, k.Z)(
                g().DefaultSectionCtn,
                g().ValveOnlyBackground,
              ),
            },
            u.createElement(
              "h2",
              { className: g().ValveOnlyTitle },
              "Valve Only",
            ),
            u.createElement(
              "div",
              null,
              "TODO: Will only appear if approvals are required.",
            ),
          ),
        );
      }
      var ze = n(87814),
        Ze = n(59728);
      function Ke(e) {
        const { planid: t, children: n, bCanBeMissing: a, bForceReload: i } = e,
          [l, r] = u.useState(!1),
          m = i ? !l : i,
          { oPlanContainer: d, bError: _ } = (0, c.A0)(t, m),
          h = (0, u.useMemo)(
            () => (d ? JSON.parse(d.admin_jsondata) : null),
            [d],
          ),
          g = (0, c.xq)(t),
          [v, E] = u.useState(() => {
            var e;
            return (
              !m &&
              (null === (e = (0, s.oN)()) || void 0 === e
                ? void 0
                : e.GetID()) == t
            );
          });
        return (
          u.useLayoutEffect(() => {
            var e;
            d &&
              h &&
              g &&
              ((null === (e = (0, s.oN)()) || void 0 === e
                ? void 0
                : e.GetID()) != h.id ||
                m) &&
              ((0, s.xn)(d.partner_id, h), (0, o.z9)(h.id, g), E(!0), r(!0));
          }, [h, d, g, t, m]),
          _ && !a
            ? u.createElement(
                "div",
                null,
                u.createElement("div", null, "Promotion Plan does not exist."),
                u.createElement(
                  p.rU,
                  { to: "/planning/dashboard/" },
                  "Return to Promotion Planning Dashboard.",
                ),
              )
            : (a && !t) || v || _
              ? u.createElement(u.Fragment, null, n, " ")
              : u.createElement(I.V, {
                  size: "medium",
                  position: "center",
                  string: (0, w.Xx)("#Loading"),
                })
        );
      }
      function Qe(e) {
        const { planid: t } = e,
          n = (0, o.Dv)(),
          a = (e) =>
            window.sessionStorage.setItem("editorCurrentTab", `?tab=${e.key}`),
          i = [
            {
              name: "Editor Tab",
              key: "editor",
              contents: u.createElement(E.SV, null, u.createElement(Je, null)),
              onClick: a,
            },
            {
              name: "Asset Request",
              key: "assets",
              contents: u.createElement(
                E.SV,
                null,
                u.createElement(P.F, { bShowLinkToPromotionPlan: !1 }),
              ),
              onClick: a,
            },
            {
              name: "Asset Uploads",
              key: "upload",
              contents: u.createElement(
                E.SV,
                null,
                u.createElement(ze.QG, null),
              ),
              onClick: a,
            },
          ];
        return (
          (null == n ? void 0 : n.BHasAnyArtTypeReviewRequested()) &&
            i.push({
              name: "Asset Approvals",
              key: "approvals",
              contents: u.createElement(E.SV, null, u.createElement(We, null)),
              onClick: a,
            }),
          i.push({
            name: "Asset Localization",
            key: "localization",
            contents: u.createElement(E.SV, null, u.createElement(ze.bQ, null)),
            onClick: a,
          }),
          i.push({
            name: "Debug Tab",
            key: "debug",
            contents: u.createElement(E.SV, null, u.createElement(re, null)),
            onClick: a,
          }),
          u.createElement(
            Ke,
            { planid: t, bForceReload: !0 },
            u.createElement(
              "div",
              { className: g().AdminPageCtn },
              u.createElement(ue, null),
              u.createElement(Ye, null),
              u.createElement(b.n, { tabs: i }),
              u.createElement("div", { className: D().ClearThings }),
            ),
          )
        );
      }
      function Ye(e) {
        const t = (0, s.Gn)(),
          n = new Date(),
          a = (0, d.SZ)(() => new Date(1e3 * t.GetStartDate())),
          i =
            12 * a.getFullYear() +
            a.getMonth() -
            (12 * n.getFullYear() + n.getMonth());
        return u.createElement(
          p.rU,
          {
            to:
              `/planning/dashboard/?month=${i}` +
              (window.sessionStorage.getItem("promotionPageIndex") || ""),
            className: g().DashLink,
          },
          u.createElement(y.Ehc, { angle: 270 }),
          u.createElement("div", null, "Return to Dashboard"),
        );
      }
      function Je(e) {
        const t = (0, s.Gn)();
        return u.createElement(
          "div",
          null,
          u.createElement(
            "div",
            { className: G.EditCtn },
            u.createElement(
              "div",
              { className: g().PageTitle },
              "Promotion Plan - Edit Details",
            ),
            u.createElement("hr", null),
            u.createElement(
              "div",
              { className: g().ColumnCtn },
              u.createElement(
                "div",
                { className: g().LeftCol },
                u.createElement(
                  E.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement(v.II, {
                      type: "text",
                      label: "Promotion Name:",
                      tooltip:
                        "These names are visible to partners if they can see this plan or asset request.",
                      className: G.PromoName,
                      value: t.GetName(),
                      onChange: (e) => {
                        var n;
                        return t.SetName(
                          (null ===
                            (n = null == e ? void 0 : e.currentTarget) ||
                          void 0 === n
                            ? void 0
                            : n.value) || "",
                        );
                      },
                    }),
                    u.createElement(
                      "div",
                      {
                        className: (0, k.Z)(
                          D().FlexRowContainer,
                          G.EventDetailsCtn,
                        ),
                      },
                      u.createElement(
                        "div",
                        { className: G.TypeCtn },
                        u.createElement(v.__, null, "Promotion Type:"),
                        u.createElement(Z.oJ, {
                          type: t.GetType(),
                          setType: t.SetType,
                        }),
                        u.createElement(
                          v.__,
                          null,
                          "Highest Intended Featuring:",
                          u.createElement(
                            Ze.HP,
                            {
                              toolTipContent:
                                "Highest level featuring we are intended for this plan",
                            },
                            "(?)",
                          ),
                        ),
                        u.createElement(Z.IH, {
                          intention: t.GetFeaturingIntention(),
                          setIntention: t.SetFeaturingIntention,
                        }),
                        u.createElement(Z.tv, {
                          type: t.GetType(),
                          rtStartTime: t.GetStartDate(),
                          rtEndTime: t.GetEndDate(),
                          setStartTime: t.SetStartDate,
                          setEndTime: t.SetEndDate,
                        }),
                      ),
                      u.createElement(
                        "div",
                        { className: G.AdminNotesCtn },
                        u.createElement(v.__, null, "Admin Notes:"),
                        u.createElement("textarea", {
                          className: (0, k.Z)(
                            "DialogTextInputBase",
                            G.AdminNotesText,
                          ),
                          value: t.GetAdminNotes() || "",
                          onChange: (e) => {
                            var n;
                            return t.SetAdminNote(
                              (null ===
                                (n = null == e ? void 0 : e.currentTarget) ||
                              void 0 === n
                                ? void 0
                                : n.value) || "",
                            );
                          },
                        }),
                        u.createElement(v.__, null, "Promotion Planner Notes:"),
                        u.createElement("textarea", {
                          className: (0, k.Z)(
                            "DialogTextInputBase",
                            G.PromotionPlannerText,
                          ),
                          value: t.GetPromotionPlannerNote() || "",
                          onChange: (e) => {
                            var n;
                            return t.SetPromotionPlannerNote(
                              (null ===
                                (n = null == e ? void 0 : e.currentTarget) ||
                              void 0 === n
                                ? void 0
                                : n.value) || "",
                            );
                          },
                        }),
                      ),
                    ),
                  ),
                ),
                u.createElement(
                  E.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement($e, { oEditablePlan: t }),
                    u.createElement(Ge, { oEditablePlan: t }),
                  ),
                ),
                Boolean(t.BHasDiscountEventID()) &&
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement(V.bG, {
                      strDiscountEventID: t.GetDiscountEventID(),
                      nBundleID:
                        2 == t.GetFeaturedItemType()
                          ? t.GetFeaturedItemID()
                          : void 0,
                    }),
                  ),
                u.createElement(
                  E.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: g().SectionCtn },
                    u.createElement(et, { oEditablePlan: t }),
                  ),
                ),
                u.createElement(
                  E.SV,
                  null,
                  u.createElement(
                    "div",
                    { className: (0, k.Z)(g().SectionCtn, g().ActionBar) },
                    u.createElement(K.u, { oEditablePlan: t }),
                  ),
                ),
              ),
              u.createElement(
                E.SV,
                null,
                u.createElement(pe.S7, { oEditablePlan: t }),
              ),
            ),
            u.createElement(
              "span",
              null,
              "Note: Deleting a promotion record does not delete the associated featuring items (discount event, takeover, spotlight, sale page etc...)",
            ),
          ),
        );
      }
      function $e(e) {
        const { oEditablePlan: t } = e,
          [n, s, c, p, h, g, S, D, y] = (0, d.SZ)(() => [
            t.GetSpotlightIDs(0),
            t.GetDiscountEventID(),
            t.GetMarketingMessageID(0),
            t.GetMarketingMessageID(1),
            t.GetAdvertisingAppID(),
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
          ]),
          b = (0, m.dh)(n),
          I = (0, l.vc)(s),
          C = (0, r.Q2)(c),
          k = (0, r.Q2)(p),
          [w] = (0, _.vs)(h, {}),
          P = (0, o.Dv)(),
          [T, N, L] = (0, d.SZ)(() => [
            t.GetStoreItemKey(),
            t.GetPartnerID(),
            t.GetOriginalPartnerID(),
          ]);
        return u.createElement(
          "div",
          { className: G.PreviewLinksCtn },
          u.createElement(
            "div",
            { className: G.FeatureSelectCtn },
            u.createElement(
              "div",
              { className: G.FeatureSelectBtn },
              u.createElement(
                v.zx,
                {
                  onClick: (e) =>
                    (0, f.AM)(
                      u.createElement(z, {
                        storeItemID: g,
                        storeItemType: S,
                        fnSetStoreItemFeature: t.SetFeaturedStoreItem,
                      }),
                      (0, A.RA)(e),
                    ),
                },
                t.BHasFeaturedStoreItem()
                  ? "Change Featured Store Item"
                  : "Feature Store Item",
              ),
            ),
            Boolean(t.BHasFeaturedStoreItem()) &&
              u.createElement(
                u.Fragment,
                null,
                u.createElement(v.__, null, "Associated app/package/bundle:"),
                Boolean(0 == S) &&
                  u.createElement(
                    "a",
                    {
                      href: `${Fe.De.PARTNER_BASE_URL}promotion/invitationplanner/dashboard?appidlist=${g}`,
                    },
                    "Show Promotion History",
                  ),
                u.createElement(M.Ce, { id: g, itemType: S }),
              ),
          ),
          !i.kj.has(t.GetType()) &&
            u.createElement(Xe.x, {
              storeItemKey: T,
              showPartnerUnsetWarning: !1,
              showPartnerSuggestions: !1,
              showPartnerInitialSetWarning: !0,
              nPartnerID: N,
              nOriginalPartnerID: L,
              fnUpdatePartnerID: t.SetPartnerID,
            }),
          u.createElement(v.__, null, "Associated Editor Links:"),
          u.createElement(
            "p",
            null,
            "Tick box to indicate completion of each item. Click link to go to associated editor.",
          ),
          u.createElement(R.id, {
            name: I ? I.name : "",
            type: "Discount Event",
            id: t.GetDiscountEventID(),
            fnGetURL: i.tA.GetDiscountEditURL,
            fnGetReviewed: t.GetDiscountEventReviewed,
            fnSetReviewed: t.SetDiscountEventReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                E.SV,
                null,
                u.createElement(Ae, {
                  strDiscountEventID: e,
                  oEditablePlan: t,
                }),
              ),
          }),
          u.createElement(R.Zk, {
            name: C ? C.title : "",
            type: "Marketing Message",
            id: t.GetMarketingMessageID(0),
            index: 0,
            fnGetURL: i.tA.GetMarketingMesssageEditURL,
            fnGetReviewed: t.GetMarketingMessageReviewed,
            fnSetReviewed: t.SetMarketingMessageReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(E.SV, null, u.createElement(ye, { gid: e })),
          }),
          u.createElement(R.Zk, {
            name: k ? k.title : "",
            type: "Marketing Message 2",
            id: t.GetMarketingMessageID(1),
            index: 1,
            fnGetURL: i.tA.GetMarketingMesssageEditURL,
            fnGetReviewed: t.GetMarketingMessageReviewed,
            fnSetReviewed: t.SetMarketingMessageReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(E.SV, null, u.createElement(ye, { gid: e })),
          }),
          u.createElement(R.Zk, {
            name: b ? b.name : "",
            type: "Spotlight",
            id: t.GetSpotlightIDs(0),
            index: 0,
            fnGetURL: i.tA.GetSpotlightEditURL,
            fnGetReviewed: t.GetSpotlightReviewed,
            fnSetReviewed: t.SetSpotlightReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(E.SV, null, u.createElement(be, { id: e })),
          }),
          u.createElement(R.id, {
            name: "",
            type: "External Partner Assets",
            id: P.GetArtInputLink(),
            fnGetURL: (e) => e,
            fnGetReviewed: t.GetPartnerArtworkSubmissionReviewed,
            fnSetReviewed: t.SetPartnerArtworkSubmissionReviewed,
          }),
          u.createElement(R.id, {
            name: "",
            type: "Sale Page",
            id: t.GetSaleEditEventURL(),
            fnGetURL: (e) => e,
            fnGetReviewed: t.GetSalePageReviewed,
            fnSetReviewed: t.SetSaleEventReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                E.SV,
                null,
                u.createElement(ke, { gidClanEvent: y, clanAccountID: D }),
              ),
          }),
          u.createElement(Pe.c, { oEditablePlan: t }),
          u.createElement(R.id, {
            name: w ? w.GetName() : "",
            type: "Advertising AppID",
            id: t.GetAdvertisingAppID() ? "" + t.GetAdvertisingAppID() : null,
            fnGetURL: i.tA.GetAdvertingAppLandingURL,
            fnGetReviewed: t.GetAdvertisingReviewed,
            fnSetReviewed: t.SetAdvertisingAppIDReviewed,
          }),
          u.createElement(R.Zk, {
            name: "",
            type: "Frontpage Takeover",
            id: t.GetTakeoverID(0),
            index: 0,
            fnGetURL: i.tA.GetTakeoverEditURL,
            fnGetReviewed: t.GetTakeoverReviewed,
            fnSetReviewed: t.SetTakeoverReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                E.SV,
                null,
                u.createElement(Ie, {
                  id: e,
                  type: a.R6.k_ConfigPage_Takeover,
                }),
              ),
          }),
          u.createElement(R.Zk, {
            name: (0, a.II)(t.GetContentHubTakeoverType(0)),
            type: "Content Hub Takeovers",
            id: t.GetContentHubTakeoverID(0),
            index: 0,
            fnGetURL: (e) =>
              i.tA.GetContentHubTakeoverEditURL(
                t.GetContentHubTakeoverType(0),
                e,
              ),
            fnGetReviewed: t.GetContentHubTakeoverReviewed,
            fnSetReviewed: t.SetContentHubTakeoverReviewed,
          }),
          u.createElement(R.Zk, {
            name: "",
            type: "Takeunder",
            index: 0,
            id: t.GetTakeunderID(0),
            fnGetURL: i.tA.GetTakeunderEditURL,
            fnGetReviewed: t.GetTakeunderReviewed,
            fnSetReviewed: t.SetTakeunderReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(E.SV, null, u.createElement(Ce, { id: e })),
          }),
          u.createElement(R.id, {
            name: "",
            type: "Opt-In Admin",
            id: t.GetOptInID(),
            fnGetURL: i.tA.GetOptInEditURL,
            fnGetReviewed: t.GetOptInReviewed,
            fnSetReviewed: t.SetOptInReviewed,
          }),
          u.createElement(R.id, {
            name: "",
            type: "Giveaway Controls",
            id: t.GetGiveawayID(),
            fnGetURL: i.tA.GetGiveawayControlsURL,
            fnGetReviewed: t.GetGiveawayReviewed,
            fnSetReviewed: t.SetGiveawayReviewed,
          }),
          u.createElement(R.id, {
            name: "",
            type: "Internal Wiki / Confluence Page",
            id: t.GetInternalWikiURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(R.id, {
            name: "",
            type: "Asset Kit",
            id: t.GetAssetKitURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(R.id, {
            name: t.GetSlackChannel(),
            type: "Slack Channel",
            id: t.GetSlackChannelAsURL(),
            fnGetURL: (e) => e,
          }),
          u.createElement(R.Zk, {
            name: "",
            type: "Steam China Frontpage Takeover",
            index: 0,
            id: t.GetSteamChinaTakeoverID(0),
            fnGetURL: i.tA.GetSteamChinaTakeoverEditURL,
            fnGetReviewed: t.GetSteamChinaTakeoverReviewed,
            fnSetReviewed: t.SetSteamChinaTakeoverReviewed,
            fnDisplayStatus: (e) =>
              u.createElement(
                E.SV,
                null,
                u.createElement(Ie, {
                  id: e,
                  type: a.R6.k_ConfigPage_TakeoverSteamChina,
                }),
              ),
          }),
        );
      }
      function et(e) {
        const { oEditablePlan: t } = e;
        t.GetType();
        return u.createElement(
          C.ug,
          {
            title: "Link Editor",
            tooltip:
              "Allows you to change the associated featuring with this promotion",
            bStartMinimized: !0,
          },
          u.createElement(
            "div",
            { className: G.LinksCtn },
            u.createElement(je, { oEditablePlan: t }),
            u.createElement(X.V, { oEditablePlan: t }),
            u.createElement(j.q, { index: 0, oEditablePlan: t }),
            u.createElement(j.q, { index: 1, oEditablePlan: t }),
            u.createElement(Te.M, { index: 0, oEditablePlan: t }),
            u.createElement(Pe.E, { oEditablePlan: t }),
            u.createElement(O, {
              index: 0,
              oEditablePlan: t,
              clusterType: a.R6.k_ConfigPage_Takeover,
            }),
            u.createElement(F, { index: 0, oEditablePlan: t }),
            u.createElement(O, {
              index: 0,
              oEditablePlan: t,
              clusterType: a.R6.k_ConfigPage_Takeunder,
            }),
            u.createElement(
              "div",
              { className: G.LinkCtn },
              u.createElement(R.j_, {
                name: "Opt-In Admin ID",
                placeHolder: "/optin/admin/edit/<grab this ID>",
                id: t.GetOptInID(),
                fnSetID: t.SetOptInID,
                fnGetURL: i.tA.GetOptInEditURL,
              }),
            ),
            u.createElement(
              "div",
              { className: G.LinkCtn },
              u.createElement(R.j_, {
                name: "Giveaway ID",
                placeHolder:
                  "/giveaways/control/<grab this ID> (only after it has been published)",
                id: t.GetGiveawayID(),
                fnSetID: t.SetGiveawayID,
                fnGetURL: i.tA.GetGiveawayControlsURL,
              }),
            ),
            u.createElement(
              "div",
              { className: G.LinkCtn },
              u.createElement(R.j_, {
                name: "Internal Wiki or Confluence Page Link",
                placeHolder: "https://confluence.valve.org/display/etc...",
                id: t.GetInternalWikiURL(),
                fnSetID: t.SetInternalWikiURL,
                fnGetURL: (e) => e,
              }),
            ),
            u.createElement(
              "div",
              { className: G.LinkCtn },
              u.createElement(R.j_, {
                name: "Asset Kit (Usually a Dropbox link)",
                placeHolder: "https://www.dropbox.com/s/h9gjz...",
                id: t.GetAssetKitURL(),
                fnSetID: t.SetAssetKitURL,
                fnGetURL: (e) => e,
              }),
            ),
            u.createElement(
              "div",
              { className: G.LinkCtn },
              u.createElement(R.j_, {
                name: "Slack Channel Link",
                placeHolder: "Example #steam-sale-festival-fest",
                id: t.GetSlackChannel(),
                fnSetID: t.SetSlackChannel,
                tooltip: "Include the '#' is optional",
                fnGetURL: t.GetSlackChannelAsURL,
              }),
            ),
            u.createElement(O, {
              index: 0,
              oEditablePlan: t,
              clusterType: a.R6.k_ConfigPage_TakeoverSteamChina,
            }),
          ),
        );
      }
    },
    34819: (e, t, n) => {
      "use strict";
      n.d(t, { l4: () => J, S7: () => $, $t: () => te });
      var a = n(76330),
        i = n(30750),
        l = n(47427),
        r = n(64936),
        o = n(51915),
        s = n(77681),
        c = n.n(s),
        m = n(1485),
        d = n(10162),
        u = n(71741),
        p = n.n(u),
        _ = n(38201),
        h = n(58538),
        g = n(77178),
        v = n(90069),
        E = n(59728),
        S = n(13129),
        D = n(50423),
        f = n(31846),
        y = n(12251),
        b = n(37563),
        I = n(86984),
        C = n(58166),
        k = n(22896),
        A = n(81033),
        w = n(8062),
        P = n(46882);
      function T(e) {
        const { strDiscountEventID: t } = e,
          n = (0, A.K$)(t);
        return n && n.rgAppList && 0 != n.rgAppList.length
          ? l.createElement(R, {
              oDiscountEvent: n.oDiscountEvent,
              rgAppList: n.rgAppList,
            })
          : null;
      }
      const N = 365;
      function R(e) {
        const { rgAppList: t, oDiscountEvent: n } = e,
          a = (0, w.Aq)(N, t),
          i = (0, w.dI)(n.start_date, n.end_date, t);
        if (!a || !i)
          return l.createElement(P.V, {
            string: "Loading",
            size: "medium",
            position: "center",
          });
        const r = Math.max(1, Math.ceil((n.end_date - n.start_date) / 86400)),
          o = a.GetTotalSummary().gross_sales_usd / N / 100,
          s = i.GetTotalSummary().gross_sales_usd / r / 100,
          m = i.GetTotalSummary().gross_sales_usd / 100,
          d = o > 0 ? s / o : 0;
        return l.createElement(
          "div",
          null,
          l.createElement(
            "div",
            { className: c().StatReportCtn },
            l.createElement(
              "div",
              { className: c().Stat },
              l.createElement("div", { className: c().BigStat }, r),
              l.createElement(
                "div",
                { className: c().SmallText },
                "Discount Days",
              ),
            ),
            l.createElement(
              "div",
              { className: c().Stat },
              l.createElement(
                "div",
                { className: c().BigStat },
                "$",
                m.toLocaleString(void 0, { maximumFractionDigits: 0 }),
              ),
              l.createElement(
                "div",
                { className: c().SmallText },
                "Total Discount Sales",
              ),
            ),
            l.createElement(
              "div",
              { className: c().Stat },
              l.createElement(
                "div",
                { className: c().BigStat },
                (100 * d).toLocaleString(void 0, { maximumFractionDigits: 0 }),
                "%",
              ),
              l.createElement(
                "div",
                { className: c().SmallText },
                "Change in daily avg.",
              ),
            ),
          ),
          l.createElement(
            "div",
            { className: c().IncreaseRateInfo },
            "Daily average revenue during sale period ($",
            s.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ") vs. average daily revenue over the previous year ($",
            o.toLocaleString(void 0, { maximumFractionDigits: 0 }),
            ").",
          ),
        );
      }
      var G = n(16783),
        L = n(83190),
        B = n(33278),
        x = n(60688);
      function M(e) {
        const { oEditablePlan: t } = e;
        return t.BHasArtworkOwner()
          ? t.BIsArtworkCompleted()
            ? l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: x.OwnerColCtn },
                  l.createElement(m.__, null, "Designer"),
                  l.createElement(
                    "div",
                    { className: x.OwnerCtn },
                    l.createElement(
                      "div",
                      null,
                      l.createElement(_.N, { accountID: t.GetArtworkOwner() }),
                    ),
                  ),
                  l.createElement("br", null),
                  l.createElement(m.__, null, "Completed:"),
                  l.createElement(J, { rtime: t.GetArtworkCompleteTime() }),
                ),
              )
            : l.createElement(
                l.Fragment,
                null,
                l.createElement(
                  "div",
                  { className: x.OwnerColCtn },
                  l.createElement(
                    m.__,
                    null,
                    "Designer",
                    l.createElement(
                      E.HP,
                      {
                        toolTipContent:
                          "This person will be downloading assets, creating necessary banners, and routing assets for localization.",
                      },
                      "(?)",
                    ),
                  ),
                  l.createElement(
                    "div",
                    { className: x.OwnerCtn },
                    l.createElement(
                      "div",
                      null,
                      l.createElement(_.N, { accountID: t.GetArtworkOwner() }),
                    ),
                  ),
                  l.createElement(
                    m.Yz,
                    {
                      onClick: (e) =>
                        (0, v.AM)(
                          l.createElement(O, {
                            oEditablePlan: t,
                            bTakeOwnership: !1,
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Clear Ownership",
                  ),
                  l.createElement(
                    m.Yz,
                    {
                      onClick: (e) =>
                        (0, v.AM)(
                          l.createElement(U, { oEditablePlan: t }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Mark As Completed",
                  ),
                ),
              )
          : l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                { className: x.OwnerColCtn },
                l.createElement(
                  m.__,
                  null,
                  "Designer",
                  l.createElement(
                    E.HP,
                    {
                      toolTipContent:
                        "This person will be downloading assets, creating necessary banners, and routing assets for localization.",
                    },
                    "(?)",
                  ),
                ),
                l.createElement(
                  m.Yz,
                  {
                    onClick: (e) =>
                      (0, v.AM)(
                        l.createElement(O, {
                          oEditablePlan: t,
                          bTakeOwnership: !0,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Claim",
                ),
              ),
            );
      }
      function O(e) {
        const { oEditablePlan: t, closeModal: n, bTakeOwnership: a } = e;
        return l.createElement(L.P, {
          strTitle: a
            ? "Claim Ownership of Production Design?"
            : "Remove ownership of production design",
          strDescription: a
            ? "Do you want to cliam ownership of the artwork and localizations required for this plans promotion?"
            : "Remove the current owner of the production design on this event?",
          closeModal: n,
          onOK: () => {
            a
              ? t.SetArtworkOwnerAccountID(b.L7.accountid)
              : t.SetArtworkOwnerAccountID(null);
          },
          onCancel: n,
        });
      }
      function F(e) {
        const { oEditablePlan: t, closeModal: n, bTakeOwnership: a } = e;
        return l.createElement(L.P, {
          strTitle: a
            ? "Claim Operations Ownership?"
            : "Remove operator ownership",
          strDescription: a
            ? "Do you want to cliam ownership of the operations for this plans promotion? This means reviewing and verifying all of require items are provided before the promotion needs to go live."
            : "Remove the current owner of the operations owner this promotion plan?",
          closeModal: n,
          onOK: () => {
            a
              ? t.SetOperatorOwnerAccountID(b.L7.accountid)
              : t.SetOperatorOwnerAccountID(null);
          },
          onCancel: n,
        });
      }
      function U(e) {
        const { oEditablePlan: t, closeModal: n } = e;
        return l.createElement(
          L.P,
          {
            strTitle: "Complete the production Design",
            strDescription:
              "Please verify the production design aspect is completed. All of the localized artwork is uploading into each of the appropriate featuring for this plan.",
            closeModal: n,
            onOK: () =>
              t.SetArtworkCompleted(Math.floor(new Date().getTime() / 1e3)),
          },
          l.createElement("br", null),
          l.createElement(B.o6, { oEditablePlan: t }),
        );
      }
      var H,
        V = n(26475),
        X = n(87380),
        j = n(65255);
      function q(e) {
        const { oEditablePlan: t } = e;
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: x.OwnerColCtn },
            l.createElement(
              m.__,
              null,
              "Operations",
              l.createElement(
                E.HP,
                {
                  toolTipContent:
                    "This person is making sure the plan is coming together and everything is reviewed and ready to run.",
                },
                "(?)",
              ),
            ),
            Boolean(t.BHasOperatorOwner())
              ? l.createElement(
                  l.Fragment,
                  null,
                  l.createElement(
                    "div",
                    { className: x.OwnerCtn },
                    l.createElement(
                      "div",
                      null,
                      l.createElement(_.N, {
                        accountID: t.GetOperatorAccountID(),
                      }),
                    ),
                  ),
                  l.createElement(
                    m.Yz,
                    {
                      onClick: (e) =>
                        (0, v.AM)(
                          l.createElement(F, {
                            oEditablePlan: t,
                            bTakeOwnership: !1,
                          }),
                          (0, D.RA)(e),
                        ),
                    },
                    "Clear Ownership",
                  ),
                )
              : l.createElement(
                  m.Yz,
                  {
                    onClick: (e) =>
                      (0, v.AM)(
                        l.createElement(F, {
                          oEditablePlan: t,
                          bTakeOwnership: !0,
                        }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Claim",
                ),
          ),
        );
      }
      function W(e) {
        const { oEditablePlan: t } = e,
          n = (0, X.eQ)(t.GetID()),
          [a, r] = (0, i.SZ)(() => [
            t.GetDeliveryReviewNotes(),
            t.GetAssociatedAssetURL(),
          ]);
        return (n && n.submitting_accountid && n.input_artwork_url) || r
          ? l.createElement(
              "div",
              null,
              l.createElement(z, { oEditablePlan: t }),
              Boolean((null == a ? void 0 : a.trim().length) > 0) &&
                l.createElement(
                  "div",
                  null,
                  l.createElement(m.__, null, "Operation Notes on Assets"),
                  l.createElement("textarea", {
                    value: a,
                    disabled: !0,
                    className: x.AssetNotes,
                  }),
                ),
              l.createElement(m.II, {
                type: "text",
                label: "Partner Provided Assets",
                tooltip:
                  "Asset URL submitted by the partner; the same as the one found in the asset request tab",
                value: n.input_artwork_url || r,
                mustBeURL: !0,
                onChange: () => {},
                bShowCopyAction: !0,
              }),
            )
          : null;
      }
      function z(e) {
        const { oEditablePlan: t } = e,
          [n, a] = (0, i.SZ)(() => [
            t.BIsDeliveryReviewed(),
            t.GetEndDate() < r.JW.GetTimeNowWithOverride(),
          ]);
        return a
          ? null
          : l.createElement(
              l.Fragment,
              null,
              Boolean(n)
                ? l.createElement(Q, { oEditablePlan: t })
                : l.createElement(K, { oEditablePlan: t }),
            );
      }
      function Z(e) {
        const { oEditablePlan: t } = e,
          n = (0, X.eQ)(t.GetID()),
          a = (0, l.useMemo)(
            () =>
              t.GetArtworkCompleteTime()
                ? H.k_LocalizationDone
                : t.GetArtworkLocalizationTaskID()
                  ? H.k_DesignComplete
                  : t.GetDeliveryReviewTime()
                    ? H.k_DeliveryReviewed
                    : (null == n ? void 0 : n.submitting_rtime) ||
                        t.GetAssociatedAssetURL()
                      ? H.k_AssetSubmitted
                      : H.k_AwaitingPartner,
            [t, n],
          );
        return l.createElement(
          l.Fragment,
          null,
          l.createElement("h2", null, "Asset Process"),
          l.createElement(
            "div",
            { className: x.AssetTimelineCtn },
            l.createElement(
              "div",
              { className: (0, S.Z)(a == H.k_AssetSubmitted && x.ActiveState) },
              "Partner Submitted",
            ),
            l.createElement(
              "div",
              {
                className: (0, S.Z)(a == H.k_DeliveryReviewed && x.ActiveState),
              },
              "Delivery Approved",
            ),
            l.createElement(
              "div",
              { className: (0, S.Z)(a == H.k_DesignComplete && x.ActiveState) },
              "Design Complete",
            ),
            l.createElement(
              "div",
              {
                className: (0, S.Z)(a == H.k_LocalizationDone && x.ActiveState),
              },
              "Localization Complete",
            ),
          ),
        );
      }
      function K(e) {
        const { oEditablePlan: t } = e;
        return l.createElement(
          "div",
          { className: (0, S.Z)(x.StatusCtn, x.Incomplete) },
          l.createElement(
            m.zx,
            {
              className: x.StatusBtn,
              onClick: (e) =>
                (0, v.AM)(
                  l.createElement(Y, { oEditablePlan: t, bReviewVerify: !0 }),
                  (0, D.RA)(e),
                ),
            },
            "Review Asset Delivery",
          ),
        );
      }
      function Q(e) {
        const { oEditablePlan: t } = e,
          [n, a] = (0, i.SZ)(() => [
            t.GetDeliveryReviewTime(),
            t.GetDeliveryReviewAccount(),
          ]);
        return l.createElement(
          "div",
          { className: (0, S.Z)(x.StatusCtn, x.Complete) },
          l.createElement(
            "div",
            { className: x.ReviewedCtn },
            l.createElement(
              "div",
              { className: x.OwnerCtn },
              l.createElement(
                "div",
                null,
                l.createElement(_.N, { accountID: a }),
              ),
              l.createElement(
                m.zx,
                {
                  className: x.StatusBtn,
                  onClick: (e) =>
                    (0, v.AM)(
                      l.createElement(Y, {
                        oEditablePlan: t,
                        bReviewVerify: !1,
                      }),
                      (0, D.RA)(e),
                    ),
                },
                "Clear Asset Status",
              ),
            ),
            l.createElement(
              "div",
              null,
              "Reviewed: ",
              (0, f.$1)(n),
              "@ ",
              (0, y.Sc)(n, { bForce24HourClock: !1 }),
            ),
          ),
        );
      }
      function Y(e) {
        const { oEditablePlan: t, closeModal: n, bReviewVerify: a } = e,
          i = (0, X.eQ)(t.GetID()),
          [r, o] = (0, l.useState)(t.GetDeliveryReviewNotes());
        return l.createElement(
          L.P,
          {
            strTitle: a
              ? "Asset Delivery Review?"
              : "Clear Assert Delivery Review Status",
            strDescription: a
              ? "Is the Asset Delivery Reviewed?"
              : "Remove the asset delivery review status from this plan?",
            closeModal: n,
            bAllowFullSize: !0,
            onOK: () => {
              a
                ? t.SetDeliveryReviewedAccountAndTime(
                    j.L7.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                    r,
                  )
                : t.ClearDeliveryReviewedStatus();
            },
          },
          Boolean(a) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "p",
                null,
                "Have you verified the following in their URL folder?",
                l.createElement(
                  "ol",
                  null,
                  l.createElement(
                    "li",
                    null,
                    "Does it include layered PSD file",
                  ),
                  l.createElement("li", null, "Are assets high quality"),
                  l.createElement("li", null, "No burned in dates"),
                  l.createElement(
                    "li",
                    null,
                    "No burned in discounts (unless publisher/franchie sales)",
                  ),
                  l.createElement("li", null, "Font file recommended?"),
                  l.createElement("li", null, "No logo or trademark parade"),
                ),
              ),
              l.createElement(
                "div",
                null,
                "Optional: Notes for Art Team about Assets",
              ),
              l.createElement("textarea", {
                cols: 120,
                rows: 10,
                onChange: (e) => o(e.currentTarget.value),
                value: r,
                autoFocus: !0,
              }),
              l.createElement(m.II, {
                type: "text",
                label: "Partner Provided Assets",
                tooltip:
                  "Asset URL submitted by the partner; the same as the one found in the asset request tab",
                value: i.input_artwork_url,
                mustBeURL: !0,
                onChange: () => {},
                bShowCopyAction: !0,
              }),
            ),
        );
      }
      function J(e) {
        return l.createElement(
          l.Fragment,
          null,
          (0, f.$1)(e.rtime),
          "\t@",
          (0, y.Sc)(e.rtime, { bForce24HourClock: !1 }),
        );
      }
      function $(e) {
        const { oEditablePlan: t } = e,
          [n, a] = (0, i.SZ)(() => [
            t.BOnWatchList(b.L7.accountid),
            t.GetOwnerAccountID(),
          ]);
        return l.createElement(
          "div",
          { className: c().RightCol },
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(ae, { oEditablePlan: t }),
            l.createElement(ie, { oEditablePlan: t }),
          ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              "div",
              { className: x.OwnersRowCtn },
              l.createElement(q, { oEditablePlan: t }),
              l.createElement(M, { oEditablePlan: t }),
              l.createElement(
                "div",
                { className: x.OwnerColCtn },
                l.createElement(
                  m.__,
                  null,
                  "Biz",
                  l.createElement(
                    E.HP,
                    {
                      toolTipContent:
                        "This person is typically in contact with the external partner, and responsible for answering questions about the promotion for internal Art and Operations teams.",
                    },
                    "(?)",
                  ),
                ),
                l.createElement(
                  "div",
                  { className: x.OwnerCtn },
                  l.createElement(
                    "div",
                    null,
                    l.createElement(_.N, { accountID: t.GetOwnerAccountID() }),
                  ),
                ),
                l.createElement(
                  m.Yz,
                  {
                    onClick: (e) =>
                      (0, v.AM)(
                        l.createElement(ee, { oEditablePlan: t }),
                        (0, D.RA)(e),
                      ),
                  },
                  "Change",
                ),
              ),
            ),
          ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(Z, { oEditablePlan: t }),
            l.createElement(
              "div",
              { className: (0, S.Z)(x.LinkCtn, x.AssetField) },
              l.createElement(V.j_, {
                name: "Internal Asset Location",
                placeHolder:
                  "Any path where you can find the assets associated with this promo, like on Valve file server; no validation done.",
                id: t.GetAssociatedAssetURL(),
                fnSetID: t.SetAssociatedAssetURL,
                fnGetURL: (e) => e,
              }),
            ),
            l.createElement(W, { oEditablePlan: t }),
          ),
          Boolean(t.GetPlan().create_time) &&
            l.createElement(
              "div",
              { className: c().SectionCtn },
              l.createElement(m.__, null, "Plan initially created By:"),
              l.createElement(
                "div",
                { className: x.UserCtn },
                l.createElement(
                  "div",
                  { className: x.OwnerCtn },
                  l.createElement(
                    "div",
                    null,
                    l.createElement(_.N, {
                      accountID: t.GetPlan().creator_account_id,
                    }),
                  ),
                ),
              ),
              "Created at ",
              l.createElement(J, { rtime: t.GetPlan().create_time }),
            ),
          Boolean(t.GetPlan().last_modified_account) &&
            l.createElement(
              "div",
              { className: c().SectionCtn },
              l.createElement(m.__, null, "Last Updated By:"),
              l.createElement(
                "div",
                { className: x.UserCtn },
                l.createElement(
                  "div",
                  { className: x.OwnerCtn },
                  l.createElement(
                    "div",
                    null,
                    l.createElement(_.N, {
                      accountID: t.GetPlan().last_modified_account,
                    }),
                  ),
                ),
              ),
              "Updated at ",
              l.createElement(J, { rtime: t.GetPlan().last_modified_time }),
            ),
          l.createElement(
            "div",
            { className: c().SectionCtn },
            l.createElement(
              m.zx,
              {
                onClick: () => {
                  t.BOnWatchList(b.L7.accountid)
                    ? t.RemoveFromWatchList(b.L7.accountid)
                    : t.AddToWatchList(b.L7.accountid);
                },
              },
              n ? "Remove from my watch list" : "Add to my watch list",
            ),
          ),
          l.createElement(ce, { oEditablePlan: t }),
        );
      }
      function ee(e) {
        const { oEditablePlan: t, closeModal: n } = e,
          [a, i] = (0, l.useState)(t.GetOwnerAccountID());
        return l.createElement(
          g.uH,
          {
            strTitle: "Change Plan Owner",
            strDescription:
              "Change the primary contact and person responsible for this promotion",
            closeModal: n,
            bOKDisabled: !a,
            onOK: () => t.SetPlanOwnerAccountID(a),
          },
          l.createElement(te, { nAccountID: a, fnSetAccountFilter: i }),
        );
      }
      function te(e) {
        const {
            nAccountID: t,
            fnSetAccountFilter: n,
            rgAdditional: i,
            rgAccountListFilter: r,
            className: o,
          } = e,
          s = a.J.map((e) => ({
            label: l.createElement(ne, {
              key: e.id,
              accountID: e.id,
              displayName: e.displayName,
            }),
            data: e.id,
          }));
        let c = [];
        return (
          r
            ? s.map((e) => {
                m.V$(e) && -1 != r.findIndex((t) => e.data == t) && c.push(e);
              })
            : c.push(...s),
          i && i.forEach((e) => c.push(e)),
          l.createElement(
            "div",
            { className: (0, S.Z)(G.AccountSelectCtn, o) },
            l.createElement(m.ry, {
              strDropDownClassName: (0, S.Z)(p().DropDownScroll, G.AccountList),
              rgOptions: c,
              selectedOption: t ? Number.parseInt("" + t) : null,
              onChange: (e) => n(e.data),
              bDisableMouseOverlay: !0,
              contextMenuPositionOptions: { bDisableMouseOverlay: !0 },
            }),
          )
        );
      }
      function ne(e) {
        const { accountID: t, displayName: n } = e,
          { data: a } = (0, o.IE)(t);
        return l.createElement(
          l.Fragment,
          null,
          l.createElement("b", null, n),
          " (",
          a ? a.m_strPlayerName : t,
          ")",
        );
      }
      function ae(e) {
        const t = new URLSearchParams(),
          { oEditablePlan: n } = e;
        return (
          t.set("name", n.GetModel().name),
          t.set("promotionplanid", n.GetID()),
          t.set("start", "" + n.GetStartDate()),
          l.createElement(
            "a",
            {
              href:
                b.De.PARTNER_BASE_URL +
                "public/downloadics.php?" +
                t.toString(),
              className: x.CalDownload,
            },
            l.createElement(h.EWE, null),
          )
        );
      }
      function ie(e) {
        const { oEditablePlan: t } = e,
          [n, a] = (0, i.SZ)(() => [
            t.BIsReviewed(),
            t.GetEndDate() < r.JW.GetTimeNowWithOverride(),
          ]);
        return l.createElement(
          l.Fragment,
          null,
          Boolean(a) && l.createElement(oe, { oEditablePlan: t }),
          Boolean(!a && n) && l.createElement(re, { oEditablePlan: t }),
          Boolean(!a && !n) && l.createElement(le, { oEditablePlan: t }),
        );
      }
      function le(e) {
        const { oEditablePlan: t } = e;
        return l.createElement(
          "div",
          { className: (0, S.Z)(x.StatusCtn, x.Incomplete) },
          l.createElement(
            "div",
            { className: x.ReviewState },
            l.createElement("span", null, "Incomplete"),
          ),
          l.createElement(
            m.zx,
            {
              className: x.StatusBtn,
              onClick: (e) =>
                (0, v.AM)(
                  l.createElement(se, { oEditablePlan: t, bReviewVerify: !0 }),
                  (0, D.RA)(e),
                ),
            },
            "Mark as Reviewed",
          ),
        );
      }
      function re(e) {
        const { oEditablePlan: t } = e,
          n = t.GetReviewedAccount();
        return l.createElement(
          "div",
          { className: (0, S.Z)(x.StatusCtn, x.Complete) },
          l.createElement(
            "div",
            { className: x.ReviewedCtn },
            l.createElement(
              "div",
              { className: x.ReviewState },
              l.createElement(h.MCw, null),
              l.createElement("span", null, " Reviewed and ready to go! "),
            ),
            l.createElement(
              "div",
              { className: x.OwnerCtn },
              l.createElement(
                "div",
                null,
                l.createElement(_.N, { accountID: n }),
              ),
              l.createElement(
                m.zx,
                {
                  className: x.StatusBtn,
                  onClick: (e) =>
                    (0, v.AM)(
                      l.createElement(se, {
                        oEditablePlan: t,
                        bReviewVerify: !1,
                      }),
                      (0, D.RA)(e),
                    ),
                },
                "Clear Reviewed Status",
              ),
            ),
            l.createElement(
              "div",
              null,
              "Reviewed At ",
              (0, f.$1)(t.GetReviewedTime()),
              "@ ",
              (0, y.Sc)(t.GetReviewedTime(), { bForce24HourClock: !1 }),
            ),
          ),
        );
      }
      function oe(e) {
        const { oEditablePlan: t } = e,
          [n, a, r, o, s, c, m, u, p] = (0, i.SZ)(() => [
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            t.GetFeaturedItemID(),
            t.GetFeaturedItemType(),
            t.GetStartDate(),
            t.GetEndDate(),
            t.GetDiscountEventID(),
            t.GetOptInID(),
            t.GetType(),
          ]),
          [_, h] = (0, l.useMemo)(
            () => [new Date(1e3 * s), new Date(1e3 * c)],
            [s, c],
          ),
          g = `?dateStart=${_.getFullYear()}-${(_.getMonth() + 1).toString().padStart(2, "0")}-${_.getDate().toString().padStart(2, "0")}&dateEnd=${h.getFullYear()}-${(h.getMonth() + 1).toString().padStart(2, "0")}-${h.getDate().toString().padStart(2, "0")}`;
        return l.createElement(
          "div",
          { className: (0, S.Z)(x.StatusCtn, x.Past) },
          l.createElement(
            "div",
            { className: x.ReviewedCtn },
            l.createElement(
              "div",
              { className: x.ReviewState },
              l.createElement("span", null, " This promo is over "),
            ),
            Boolean(n || r || u) &&
              l.createElement(
                "div",
                null,
                Boolean(u) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      d.SV,
                      null,
                      l.createElement(
                        k.F,
                        { pageid: u },
                        l.createElement(I.RG, { bShowOnlySummary: !0 }),
                        l.createElement(
                          "a",
                          {
                            href: `${b.De.PARTNER_BASE_URL}optin/admin/analysis/${u}`,
                          },
                          "Theme Sale Detailed Sales Stats",
                        ),
                        l.createElement(C.k, { bShowOnlySummary: !0 }),
                        l.createElement(
                          "a",
                          {
                            href: `${b.De.PARTNER_BASE_URL}optin/admin/demo_analysis/${u}`,
                          },
                          "Theme Sale Demo Play Stats",
                        ),
                      ),
                    ),
                  ),
                Boolean(m) &&
                  l.createElement(
                    d.SV,
                    null,
                    l.createElement(T, { strDiscountEventID: m }),
                    l.createElement("br", null),
                  ),
                Boolean(n && a) &&
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}sales/details/?gid=${a}&clanid=${n}`,
                        target: "_blank",
                      },
                      "See detailed sale page promo stats",
                    ),
                  ),
                Boolean(0 == o) &&
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}app/details/${r}/${g}`,
                        target: "_blank",
                      },
                      "See detailed game promo stats",
                    ),
                  ),
                Boolean(1 == o) &&
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}package/details/${r}/${g}`,
                        target: "_blank",
                      },
                      "Package stats here",
                    ),
                  ),
                Boolean(2 == o) &&
                  l.createElement(
                    "div",
                    null,
                    l.createElement(
                      "a",
                      {
                        href: `${b.De.STATS_BASE_URL}bundles/details/${r}/${g}`,
                        target: "_blank",
                      },
                      "Bundle stats here",
                    ),
                  ),
              ),
          ),
        );
      }
      function se(e) {
        const { oEditablePlan: t, closeModal: n, bReviewVerify: a } = e;
        return l.createElement(
          L.P,
          {
            strTitle: a ? "Plan Review?" : "Clear Plan Review Status",
            strDescription: a
              ? "Is the Plan Reviewed?"
              : "Remove the review status from this plan?",
            closeModal: n,
            onOK: () => {
              a
                ? t.SetReviewedAccountAndTime(
                    b.L7.accountid,
                    Math.floor(new Date().getTime() / 1e3),
                  )
                : t.ClearReviewedStatus();
            },
          },
          Boolean(a) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "p",
                null,
                "Have you verified the dates, settings, discounts, and assets are ready for all of the links below?",
              ),
              l.createElement(B.o6, { oEditablePlan: t }),
            ),
        );
      }
      function ce(e) {
        const { oEditablePlan: t } = e,
          [n, a, r] = (0, i.SZ)(() => [
            t.BRequireBroadcastModeration(),
            t.GetBroadcastModerationNotes(),
            t.BIsModerationScheduled(),
          ]);
        return l.createElement(
          "div",
          { className: c().SectionCtn },
          l.createElement(m.__, null, "Broadcast Moderation"),
          l.createElement(
            "p",
            null,
            "Record whether we would like to have Keywords support broadcast chat moderation for this event. Still requires external coordination.",
          ),
          l.createElement(m.ji, {
            label: "Broadcast Moderation Needed",
            checked: n,
            onChange: t.SetRequireBroadcastModeration,
          }),
          Boolean(n) &&
            l.createElement(
              "div",
              { className: c().Indent },
              l.createElement(
                "div",
                { className: x.BroadcastNotes },
                l.createElement(m.__, null, "Broadcast Schedule Notes:"),
                l.createElement("textarea", {
                  className: "DialogTextInputBase",
                  value: a || "",
                  onChange: (e) => {
                    var n;
                    return t.SetBroadcastModerationNotes(
                      (null === (n = null == e ? void 0 : e.currentTarget) ||
                      void 0 === n
                        ? void 0
                        : n.value) || "",
                    );
                  },
                }),
              ),
              l.createElement(m.ji, {
                label: "Has Moderation Been Scheduled?",
                checked: r,
                onChange: t.SetModerationIsScheduled,
              }),
              l.createElement(
                "a",
                {
                  href: "https://confluence.valve.org/display/STEAM/How+to+Request+Moderation",
                },
                "How to Request Broadcast Moderation",
              ),
            ),
        );
      }
      !(function (e) {
        (e[(e.k_AwaitingPartner = 0)] = "k_AwaitingPartner"),
          (e[(e.k_AssetSubmitted = 1)] = "k_AssetSubmitted"),
          (e[(e.k_DeliveryReviewed = 2)] = "k_DeliveryReviewed"),
          (e[(e.k_DesignComplete = 3)] = "k_DesignComplete"),
          (e[(e.k_LocalizationDone = 4)] = "k_LocalizationDone");
      })(H || (H = {}));
    },
    69176: (e, t, n) => {
      "use strict";
      n.d(t, { N: () => C });
      var a = n(85556),
        i = n(87380),
        l = n(47427),
        r = n(8285),
        o = n(64936),
        s = n(51915),
        c = n(1485),
        m = n(71741),
        d = n.n(m),
        u = n(13129),
        p = n(65255),
        _ = n(22412),
        h = n(82701),
        g = n(24040),
        v = n(26475),
        E = n(24289),
        S = n(46984);
      function D(e) {
        const { countDownUntil: t, fnCallbackOnZero: n } = e,
          i = (0, a._T)(e, ["countDownUntil", "fnCallbackOnZero"]),
          [r, o] = (0, l.useState)(
            Math.floor(Math.max(0, t.getTime() - E.zO()) / 1e3),
          ),
          s = l.useRef(null);
        l.useEffect(() => (b(s, t, o), () => y(s)), [t]),
          l.useEffect(() => {
            0 == r && n && n();
          }, [n, r]);
        const c = Math.floor(r / S._H.PerHour),
          m = Math.floor((r - c * S._H.PerHour) / S._H.PerMinute),
          d = Math.floor(r - (c * S._H.PerHour + m * S._H.PerMinute));
        return l.createElement(
          "span",
          Object.assign({ style: { fontFamily: "monospace" } }, i),
          f(c),
          ":",
          f(m),
          ":",
          f(d),
        );
      }
      function f(e) {
        return e.toString().padStart(2, "0");
      }
      function y(e) {
        (null == e ? void 0 : e.current) &&
          (window.clearTimeout(e.current), (e.current = null));
      }
      function b(e, t, n) {
        y(e);
        const a = E.zO(),
          i = Math.floor(Math.max(0, t.getTime() - a) / 1e3);
        n(i),
          i >= 0 && e && (e.current = window.setTimeout(() => b(e, t, n), 1e3));
      }
      var I = n(46882);
      function C(e) {
        const {
            planIDs: t,
            bExcludeHideButton: n,
            bHideTypeField: a,
            bShowProgress: r,
            sortByUnclaimedField: s,
            bHideDoneByDefault: m,
            bAllowAutoRefresh: p,
            nUrgentWindowInSeconds: _,
          } = e,
          [g, v] = (0, l.useState)(!0),
          [E, S] = (0, l.useState)(m),
          [D, f] = (0, l.useState)(!0),
          y = (0, l.useMemo)(() => {
            let e = 0;
            return (
              t.forEach((t) => {
                (0, i.J2)(t).reviewed_by_account && (e += 1);
              }),
              e
            );
          }, [t]);
        if (0 == (null == t ? void 0 : t.length))
          return l.createElement(
            "div",
            { className: h.NoResults },
            "No Items to Show",
          );
        const b = o.JW.GetTimeNowWithOverride();
        return l.createElement(
          l.Fragment,
          null,
          l.createElement(
            "div",
            { className: d().FlexRowContainer },
            !n &&
              l.createElement(c.ji, {
                label: "Hide Past Events",
                checked: g,
                onChange: v,
              }),
            l.createElement(c.ji, {
              label: `Hide Fully Reviewed (${y})`,
              checked: E,
              onChange: S,
            }),
            Boolean(s) &&
              l.createElement(c.ji, {
                label: "Sort Unclaimed First",
                checked: D,
                onChange: f,
              }),
            Boolean(p) && l.createElement(N, null),
          ),
          l.createElement(
            "div",
            { className: (0, u.Z)(h.Row, h.Primary, h.HeaderRow) },
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.ItemName) },
              "Plan Name",
            ),
            !a &&
              l.createElement(
                "div",
                { className: (0, u.Z)(h.Col, h.Type) },
                "Promo Type",
              ),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Date) },
              "Date Range",
            ),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Creator) },
              "Plan Owner",
            ),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Creator) },
              "Operator",
            ),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Creator) },
              "Production Designer",
            ),
          ),
          l.createElement(
            "div",
            null,
            t
              .filter((e) => {
                var t;
                return (
                  !g ||
                  (null === (t = (0, i.J2)(e)) || void 0 === t
                    ? void 0
                    : t.end_date) > b
                );
              })
              .filter((e) => {
                var t;
                return (
                  !E ||
                  !(null === (t = (0, i.J2)(e)) || void 0 === t
                    ? void 0
                    : t.reviewed_by_account)
                );
              })
              .sort((e, t) => {
                const n = (0, i.J2)(e),
                  a = (0, i.J2)(t);
                if (D && s) {
                  if (!n[s]) return -1;
                  if (!a[s]) return 1;
                }
                return (
                  (null == n ? void 0 : n.start_date) -
                  (null == a ? void 0 : a.start_date)
                );
              })
              .map((e) =>
                l.createElement(k, {
                  key: e,
                  planID: e,
                  bHideTypeField: a,
                  bShowProgress: r,
                  nUrgentWindowInSeconds: _,
                }),
              ),
          ),
        );
      }
      function k(e) {
        const {
            planID: t,
            bHideTypeField: n,
            bShowProgress: a,
            nUrgentWindowInSeconds: o,
          } = e,
          s = (0, i.ve)(t),
          c = (0, r.k6)(),
          m = Math.floor(Date.now() / 1e3) + o,
          d = o && s.start_date < m;
        return l.createElement(
          "div",
          {
            className: (0, u.Z)(h.RowCtn, d ? h.Soon : ""),
            onClick: (e) => {
              const n = !/promotion\/dashboard/.test(window.location.href);
              e.ctrlKey || e.metaKey || n
                ? window.open(
                    `${p.De.PARTNER_BASE_URL}/promotion/${g.PromotionRoutes.PromotionPlanEditor(t)}`,
                    e.ctrlKey || e.metaKey ? "_blank" : void 0,
                  )
                : c.push(g.PromotionRoutes.PromotionPlanEditor(t));
            },
            style: (0, v.Z4)({ promotionPlan: s }).style,
          },
          l.createElement(
            "div",
            { className: (0, u.Z)(h.Row, h.Primary) },
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.ItemName) },
              s.name,
              a && l.createElement(w, { planAdmin: s }),
            ),
            !n &&
              l.createElement(
                "div",
                { className: (0, u.Z)(h.Col, h.Type) },
                s.type,
              ),
            l.createElement(_.Z, {
              className: (0, u.Z)(h.Col, h.Date, d ? h.Soon : ""),
              rtStartDate: s.start_date,
              rtEndDate: s.end_date,
            }),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Creator) },
              l.createElement(P, {
                accountid: s.owner_account_id || s.creator_account_id,
              }),
            ),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Creator) },
              l.createElement(P, { accountid: s.operator_account_id }),
            ),
            l.createElement(
              "div",
              { className: (0, u.Z)(h.Col, h.Creator) },
              l.createElement(P, { accountid: s.artwork_owner_account_id }),
            ),
            l.createElement(
              "div",
              null,
              Boolean(s.reviewed_by_account) &&
                l.createElement("span", null, ""),
            ),
          ),
        );
      }
      function A(e) {
        return !(null == e ? void 0 : e.some((e) => !e));
      }
      function w(e) {
        var t, n, a, i, r, o;
        const { planAdmin: s } = e;
        return s.reviewed_by_account
          ? l.createElement("div", null, " Fully Reviewed")
          : l.createElement(
              "div",
              null,
              s.discount_event_id &&
                l.createElement(
                  "span",
                  null,
                  s.discount_event_reviewed ? "" : "",
                  " Discount Event",
                ),
              (null === (t = s.takeover_ids) || void 0 === t
                ? void 0
                : t.length) > 0 &&
                l.createElement(
                  "span",
                  null,
                  A(s.takeover_reviewed) ? "" : "",
                  " Takeover",
                ),
              (null === (n = s.takeunder_ids) || void 0 === n
                ? void 0
                : n.length) > 0 &&
                l.createElement(
                  "span",
                  null,
                  A(s.takeunder_reviewed) ? "" : "",
                  " Takeunder Banner",
                ),
              (null === (a = s.spotlight_ids) || void 0 === a
                ? void 0
                : a.length) > 0 &&
                l.createElement(
                  "span",
                  null,
                  A(s.spotlight_reviewed) ? "" : "",
                  " Spotlight",
                ),
              (null === (i = s.marketing_message_ids) || void 0 === i
                ? void 0
                : i.length) > 0 &&
                l.createElement(
                  "span",
                  null,
                  A(s.marketing_message_reviewed) ? "" : "",
                  " Marketing Message",
                ),
              (null === (r = s.steamchina_takeover_ids) || void 0 === r
                ? void 0
                : r.length) > 0 &&
                l.createElement(
                  "span",
                  null,
                  A(s.steamchina_takeover_reviewed) ? "" : "",
                  " Steam China Takeover",
                ),
              (null === (o = s.contenthub_takeover_ids) || void 0 === o
                ? void 0
                : o.length) > 0 &&
                l.createElement(
                  "span",
                  null,
                  A(s.contenthub_takeover_reviewed) ? "" : "",
                  " Content Hub Takeover",
                ),
              s.main_capsule_id &&
                l.createElement(
                  "span",
                  null,
                  s.main_capsule_reviewed ? "" : "",
                  " Main Capsule",
                ),
              s.opt_in_id &&
                l.createElement(
                  "span",
                  null,
                  s.opt_in_reviewed ? "" : "",
                  " OptIn",
                ),
              s.giveaway_id &&
                l.createElement(
                  "span",
                  null,
                  s.giveaway_reviewed ? "" : "",
                  " Giveaway",
                ),
              s.advertising_appid &&
                l.createElement(
                  "span",
                  null,
                  s.advertising_appid_reviewed ? "" : "",
                  " Advertising App",
                ),
              s.sale_clan_account &&
                l.createElement(
                  "span",
                  null,
                  s.sale_page_reviewed ? "" : "",
                  " Sale Page",
                ),
            );
      }
      function P(e) {
        const { accountid: t } = e,
          n = (0, s.IE)(t);
        return n && n.data
          ? l.createElement("span", null, n.data.m_strPlayerName)
          : l.createElement("span", null, t);
      }
      const T = 60;
      function N(e) {
        const [t, n] = (0, l.useState)(!0),
          [r, o] = (0, l.useState)(() => new Date(Date.now() + 1e3 * T)),
          [s, m] = (0, l.useState)(!1),
          { fnRefreshPlans: d } = (0, i.$H)(),
          [u, p] = (0, l.useState)(!1);
        (0, l.useEffect)(() => {
          t && (o(new Date(Date.now() + 1e3 * T)), m(!1));
        }, [t]);
        const _ = (0, l.useCallback)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              m(!0), console.log("refreshing promotion plans");
              (yield d((0, i.Qt)()))
                ? o(new Date(Date.now() + 1e3 * T))
                : (console.error("refreshing promotion plans failed"), p(!0)),
                m(!1);
            }),
          [d],
        );
        return u
          ? l.createElement("div", null, "Error Refreshing; check console")
          : s
            ? l.createElement(c.ji, {
                checked: t,
                disabled: !0,
                label: l.createElement(
                  "span",
                  null,
                  "Refreshing ",
                  l.createElement(I.V, { size: "small" }),
                ),
              })
            : l.createElement(c.ji, {
                checked: t,
                onChange: n,
                label: t
                  ? l.createElement(
                      l.Fragment,
                      null,
                      "Refresh Plans Automatically (",
                      l.createElement(D, {
                        countDownUntil: r,
                        fnCallbackOnZero: _,
                      }),
                      " until next Refresh)",
                    )
                  : l.createElement(
                      l.Fragment,
                      null,
                      "Refresh Plans Automatically",
                    ),
              });
      }
    },
    22364: (e, t, n) => {
      "use strict";
      n.d(t, { E: () => R, c: () => L });
      var a = n(30750),
        i = n(47427),
        l = n(29292),
        r = n(1485),
        o = n(85556),
        s = n(80751),
        c = n.n(s),
        m = n(77936),
        d = n(95315),
        u = n(35427),
        p = n(93243),
        _ = n(58670),
        h = n(54842),
        g = n(37563);
      class v {
        BHasSolrEvent(e) {
          return this.m_mapEventGIDToSolrData.has(e);
        }
        GetAllSolrEvents() {
          return this.m_listEvents;
        }
        static Get() {
          return v.s_Singleton || (v.s_Singleton = new v()), v.s_Singleton;
        }
        constructor() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array()),
            (0, h.rC)(this);
        }
        ClearAllSolrEvents() {
          (this.m_mapEventGIDToSolrData = new Map()),
            (this.m_listEvents = new Array());
        }
        LoadPartnerEventForQueryIncremental(
          e,
          t = 0,
          n = 10,
          a,
          i,
          l,
          r,
          s,
          c,
        ) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const o = yield this.GetLatestPartnerEvents(
              e,
              t,
              n,
              a,
              i,
              l,
              r,
              s,
              c,
            );
            let m = new Array();
            return (
              (0, h.z)(() => {
                o.forEach((e) => {
                  this.m_mapEventGIDToSolrData.has(e.unique_id) ||
                    (m.push(e),
                    this.m_mapEventGIDToSolrData.set(e.unique_id, e),
                    this.m_listEvents.push(e));
                });
              }),
              m
            );
          });
        }
        GetLatestPartnerEvents(e, t = 0, n = 10, a, i, l, r, s, m, d, u, p, _) {
          return (0, o.mG)(this, void 0, void 0, function* () {
            const o =
                g.De.STORE_BASE_URL + "events_admin/ajaxgetlatestpartnerevents",
              h = {
                page: t,
                count: n,
                date: r,
                appids: void 0 === a ? void 0 : a.join(","),
                required_tags: void 0 === i ? void 0 : i.join(","),
                exclude_tags: void 0 === l ? void 0 : l.join(","),
                eventtypefilter: void 0 === s ? void 0 : s.join(","),
                orderByVisibility: m || void 0,
                creator_home_clan_id: void 0 === d ? void 0 : d.join(","),
                showUnpublished: void 0 === p ? void 0 : p,
                sale_only: void 0 === _ ? void 0 : _,
                term: void 0 === u ? void 0 : u,
              },
              v = yield c().get(o, {
                params: h,
                withCredentials: !0,
                cancelToken: e ? e.token : void 0,
              });
            return v.data ? v.data.docs : [];
          });
        }
      }
      (0, o.gn)([h.LO], v.prototype, "m_mapEventGIDToSolrData", void 0),
        (0, o.gn)([h.LO], v.prototype, "m_listEvents", void 0),
        (0, o.gn)([h.aD], v.prototype, "ClearAllSolrEvents", null);
      var E = n(44174),
        S = n(22042),
        D = n(31846),
        f = n(80445),
        y = n(45284),
        b = n(6582);
      function I(e) {
        const {
            fnSetEvent: t,
            strLabel: n,
            strPlaceholder: a,
            strToolTip: l,
            bShowHidden: s,
            strFilterClanSteamID: h,
            bFilterToSales: I,
          } = e,
          [C, k] = i.useState(null),
          A = i.useRef(),
          w = i.useRef(null),
          P = i.useCallback(
            (e) => {
              var n;
              const a = (0, d.yV)(
                i.createElement(
                  S.xV,
                  { className: b.SearchResults },
                  e.map((e) =>
                    i.createElement(
                      S.Zo,
                      {
                        key: e.gidClanEvent,
                        onSelected: () => {
                          (A.current.element.value = ""), t(e);
                        },
                      },
                      i.createElement(
                        "div",
                        { style: { display: "flex", alignItems: "center" } },
                        (0, y.HA)(e.name),
                        "",
                        i.createElement("span", null, "(", e.gidClanEvent, ")"),
                        "",
                        i.createElement(
                          "span",
                          { className: b.SmallText },
                          "(",
                          (0, f.Sq)(e.type),
                          ")",
                        ),
                      ),
                    ),
                  ),
                ),
                null === (n = null == A ? void 0 : A.current) || void 0 === n
                  ? void 0
                  : n.element,
                {
                  bOverlapHorizontal: !0,
                  bMatchWidth: !0,
                  bFitToWindow: !0,
                  bDisablePopTop: !0,
                  bNoFocusWhenShown: !0,
                  bSkipFocusWhenReady: !0,
                },
              );
              k(a);
            },
            [t],
          ),
          T = i.useCallback(
            (e) =>
              (0, o.mG)(this, void 0, void 0, function* () {
                const t = String(e.target.value);
                if (!t || 0 == t.trim().length) return;
                const n = (0, m.jM)(g.De.LANGUAGE);
                if (
                  t.toLocaleLowerCase().startsWith(g.De.STORE_BASE_URL) ||
                  t.toLocaleLowerCase().startsWith(g.De.COMMUNITY_BASE_URL) ||
                  t
                    .toLocaleLowerCase()
                    .startsWith("https://store.steampowered.com/") ||
                  t
                    .toLocaleLowerCase()
                    .startsWith("https://store.steamchina.com/") ||
                  t
                    .toLocaleLowerCase()
                    .startsWith("https://steamcommunity.com/")
                ) {
                  const e = [],
                    a = /app\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                    i = /group\/(\d+)\/view\/(\d+)\/?$/.exec(t),
                    l =
                      /groups\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                        t,
                      ),
                    r = /games\/(\d+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                      t,
                    ),
                    o =
                      /games\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                        t,
                      ),
                    c =
                      /groups\/([A-Za-z0-9\-@#!$_]+)\/partnerevents\/edit\/(\d+)+/.exec(
                        t,
                      ),
                    m = /games\/(\d+)\/partnerevents\/edit\/(\d+)+/.exec(t),
                    d =
                      /games\/([A-Za-z0-9\-@#!$_]+)\/announcements\/detail\/(\d+)+\/?$/.exec(
                        t,
                      );
                  let _ = null,
                    h = null,
                    g = null,
                    v = null,
                    S = null,
                    D = null;
                  if ((null == a ? void 0 : a.length) >= 3)
                    (_ = Number.parseInt(a[1])), (v = a[2]);
                  else if ((null == i ? void 0 : i.length) >= 3)
                    (g = Number.parseInt(i[1])), (v = i[2]);
                  else if ((null == l ? void 0 : l.length) >= 3)
                    (h = l[1]), (S = l[2]);
                  else if ((null == r ? void 0 : r.length) >= 3)
                    (_ = Number.parseInt(r[1])), (S = r[2]);
                  else if ((null == o ? void 0 : o.length) >= 3) {
                    let e = o[1];
                    S = o[2];
                    let t = yield p.sV.LoadOGGClanInfoForIdentifier(e);
                    t && (_ = t.appid);
                  } else if ((null == c ? void 0 : c.length) >= 3)
                    (h = c[1]), (v = c[2]);
                  else if ((null == m ? void 0 : m.length) >= 3)
                    (_ = Number.parseInt(m[1])), (v = m[2]);
                  else if ((null == d ? void 0 : d.length) >= 3) {
                    const e = d[1];
                    S = d[2];
                    const t = yield p.sV.LoadOGGClanInfoForIdentifier(e);
                    t && (_ = t.appid);
                  }
                  if (_)
                    v
                      ? (D = yield E.j1.LoadPartnerEventFromClanEventGID(
                          _,
                          v,
                          0,
                        ))
                      : S &&
                        (D = yield E.j1.LoadPartnerEventFromAnnoucementGID(
                          _,
                          S,
                          0,
                        ));
                  else {
                    let e = null;
                    if ((g && (e = u.K.InitFromClanID(g)), h)) {
                      e = (yield p.sV.LoadOGGClanInfoForGroupVanity(h))
                        .clanSteamID;
                    }
                    if (s) {
                      const t = !0;
                      S && e
                        ? (D =
                            yield E.j1.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                              e,
                              S,
                              0,
                              t,
                            ))
                        : v &&
                          e &&
                          (D =
                            yield E.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                              e,
                              v,
                              0,
                              t,
                            ));
                    } else
                      S && e
                        ? (D =
                            yield E.j1.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(
                              e,
                              S,
                              0,
                            ))
                        : v &&
                          e &&
                          (D =
                            yield E.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(
                              e,
                              v,
                              0,
                            ));
                  }
                  if (D)
                    return (
                      e.push({
                        name: D.GetNameWithFallback(n),
                        type: D.GetEventType(),
                        clanSteamID: D.clanSteamID,
                        gidClanAnnouncement: D.GetAnnouncementGID(),
                        gidClanEvent: D.GID,
                      }),
                      void P(e)
                    );
                  w.current &&
                    (window.clearTimeout(w.current), (w.current = null));
                }
                w.current = window.setTimeout(
                  () =>
                    (0, o.mG)(this, void 0, void 0, function* () {
                      let e = null;
                      if (h) {
                        const n = _.bq.GetCreatorHome(new u.K(h));
                        e = yield v
                          .Get()
                          .GetLatestPartnerEvents(
                            c().CancelToken.source(),
                            0,
                            20,
                            n.GetAppIDList(),
                            void 0,
                            void 0,
                            void 0,
                            void 0,
                            !0,
                            [n.GetClanAccountID()],
                            t,
                            !0,
                            I,
                          );
                      } else
                        e = yield v
                          .Get()
                          .GetLatestPartnerEvents(
                            c().CancelToken.source(),
                            0,
                            20,
                            void 0,
                            void 0,
                            void 0,
                            void 0,
                            void 0,
                            !0,
                            void 0,
                            t,
                            !0,
                            I,
                          );
                      const n = e.map((e) => ({
                        name: e.event_name,
                        type: Number.parseInt(e.event_type),
                        clanSteamID: new u.K(e.clan_steamid),
                        gidClanAnnouncement: e.announcement_gid,
                        gidClanEvent: e.unique_id,
                      }));
                      P(n);
                    }),
                  300,
                );
              }),
            [I, s, P, h],
          );
        return i.createElement(r.II, {
          onBlur: (e) => setTimeout(() => (null == C ? void 0 : C.Hide()), 200),
          onFocus: (e) => {
            console.log("We are focussed");
          },
          ref: A,
          type: "text",
          label: null != n ? n : (0, D.Xx)("#Sale_EnterEventsURL_Common"),
          placeholder: a,
          onChange: T,
          tooltip:
            null != l ? l : (0, D.Xx)("#Sale_EnterEventsURL_Tooltip_Common"),
        });
      }
      var C = n(77178),
        k = n(90069),
        A = n(50423),
        w = n(61850),
        P = n(26475),
        T = n(60688),
        N = n(56164);
      function R(e) {
        const { oEditablePlan: t } = e,
          { eventModel: n } = (0, l.Mx)(
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            !0,
          ),
          [o, s] = (0, a.SZ)(() => [
            t.BHasAssociatedSaleEvent(),
            t.BRequiresSalePage(),
          ]);
        return i.createElement(
          "div",
          { className: T.LinkCtn },
          Boolean(o) &&
            i.createElement(
              "div",
              { className: T.SalePageLinkCtn },
              i.createElement(r.__, null, "Associated Sale Event:"),
              i.createElement(
                "div",
                { className: T.ButtonRow },
                null == n ? void 0 : n.GetSaleVanity(),
                i.createElement(
                  "a",
                  { href: t.GetSaleEditEventURL(), target: "_blank" },
                  "Edit Associated Sale Page",
                ),
                i.createElement(L, { oEditablePlan: t }),
              ),
              i.createElement("hr", null),
            ),
          i.createElement(
            N.ug,
            {
              title: "Link A Sale Page:",
              bStartMinimized: t.BHasAssociatedSaleEvent(),
            },
            i.createElement(
              "p",
              null,
              "Sale pages do not have to be public to be linked, but you must be logged in to the Steam Store with Valve Admin.",
            ),
            i.createElement(I, {
              strLabel: "",
              strPlaceholder:
                "eg. http://steamcommunity.com/groups/Valve/partnerevents/edit/79358903956603577",
              fnSetEvent: (e) =>
                t.SetSaleEvent(e.gidClanEvent, e.clanSteamID.GetAccountID()),
              bFilterToSales: !0,
              bShowHidden: !0,
            }),
            i.createElement("br", null),
            i.createElement(r.ji, {
              label: "Promotion Requires a Sale page?",
              tooltip:
                "Use this flag to remind us to complete this promotion a sale page is required to be added and reviewed. When creating this item, we may not have had the sale page created yet.",
              checked: s,
              onChange: t.SetRequiresSalePage,
            }),
            i.createElement(
              "div",
              null,
              i.createElement("br", null),
              i.createElement(r.__, null, "Create New Sale Page:"),
              i.createElement(
                "p",
                null,
                "Send the partner this url where they can create a ticket with necessary information to create the sale page. Keywords will help them with creating sale page and their sale related questions.",
                i.createElement("br", null),
                i.createElement(
                  "a",
                  {
                    href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                  },
                  "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                ),
              ),
              i.createElement(
                "div",
                { className: T.ButtonRow },
                Boolean(o) &&
                  i.createElement(
                    r.zx,
                    { onClick: (e) => t.ClearSalePage() },
                    "Clear Associated Sale Page",
                  ),
                i.createElement(
                  r.zx,
                  {
                    onClick: (e) => {
                      (0, k.AM)(
                        i.createElement(G, { oEditablePlan: t }),
                        (0, A.RA)(e),
                      );
                    },
                  },
                  "Create New Sale Page",
                ),
              ),
            ),
          ),
        );
      }
      function G(e) {
        const { oEditablePlan: t, closeModal: n } = e,
          [a, l] = (0, i.useState)(t.BHasAssociatedSaleEvent());
        return a
          ? i.createElement(C.uH, {
              strTitle: "Create New Sale Page?",
              strDescription: `You already have Sale Page with ID ${t.GetSaleEditEventURL()} associated with this promotion plan.  Are you sure you want to create a new one?`,
              onCancel: n,
              onOK: () => l(!1),
              strOKButtonText: "Create New Sale Page Anyways",
            })
          : i.createElement(w.s, {
              fnSetSalePageInfo: t.SetSaleEvent,
              closeModal: n,
            });
      }
      function L(e) {
        const { oEditablePlan: t } = e,
          { eventModel: n } = (0, l.Mx)(
            t.GetSaleClanAccountID(),
            t.GetSaleClanEventGID(),
            !0,
          );
        return n
          ? i.createElement(P.id, {
              name: n.GetSaleVanity(),
              type: "Sale Store Page",
              id: n.GetSaleVanity(),
              fnGetURL: (e) => n.GetSaleURL(),
            })
          : null;
      }
    },
    83891: (e, t, n) => {
      "use strict";
      n.d(t, { i: () => I, M: () => b });
      var a = n(1698);
      const i = ["Weekend Deal", "Now Available", "Pre-Purchase", ""];
      var l = n(20840),
        r = n(41710),
        o = n(47427),
        s = n(15459),
        c = n(15690),
        m = n(86437),
        d = n(80886),
        u = n(1485),
        p = n(83743),
        _ = n(77178),
        h = n(90069),
        g = n(46882),
        v = n(16649),
        E = n(50423),
        S = n(31846),
        D = n(37563),
        f = n(26475),
        y = n(60688);
      function b(e) {
        const { oEditablePlan: t, index: n } = e;
        return o.createElement(
          "div",
          { className: y.LinkCtn },
          o.createElement(f.UR, {
            name: "Spotlight ID",
            placeHolder: "/admin/store/spotlight/<grab this ID>",
            id: t.GetSpotlightIDs(n),
            index: n,
            fnSetID: t.SetSpotlightID,
            fnGetURL: a.tA.GetSpotlightEditURL,
          }),
          o.createElement(
            "div",
            { className: y.ButtonRow },
            o.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, h.AM)(
                    o.createElement(C, { oEditablePlan: t, index: n }),
                    (0, E.RA)(e),
                  );
                },
              },
              "Create new",
            ),
            o.createElement(
              u.zx,
              {
                onClick: (e) => {
                  (0, h.AM)(
                    o.createElement(w, { oEditablePlan: t, index: n }),
                    (0, E.RA)(e),
                  );
                },
              },
              "Select from existing",
            ),
          ),
        );
      }
      function I(e, t, n, a, i, l, r) {
        const o = {
          name: e,
          type: t,
          creator: D.L7.account_name,
          visibility: { visible: !1, startdate: n, enddate: a },
          location: { genres: [], hubTargets: [] },
          title: i,
          body: { english: l },
        };
        return (
          r &&
            ((o.association = (0, m.Bo)(r.GetID(), r.GetStoreItemType())),
            (o.association_type = (0, m.bg)(r.GetStoreItemType()))),
          o
        );
      }
      function C(e) {
        const { oEditablePlan: t, closeModal: n, index: a } = e,
          l = t.GetType(),
          [s, c] = (0, o.useState)(t.GetName()),
          [m, h] = (0, o.useState)("Weekend Deal"),
          g = (0, o.useMemo)(() => i.map((e) => ({ label: e, data: e })), []),
          [E] = (0, d.jk)(t.GetFeaturedItemID(), t.GetFeaturedItemType(), {
            include_platforms: !0,
          }),
          [S, D] = (0, o.useState)(t.BHasSpotlightIDs(a)),
          [f, b] = (0, o.useState)(
            "midweek" == l
              ? "#spotlight_midweek_madness"
              : "#spotlight_weekend_deal",
          ),
          [C, w] = (0, o.useState)("#promo_ends_custom"),
          { fnAddNewSpotlight: P } = (0, r.Oo)(),
          T = (0, p.tx)();
        return T.bLoading
          ? o.createElement(p.NT, {
              state: T,
              strDialogTitle: "Create New Spotlight?",
              closeModal: n,
            })
          : S
            ? o.createElement(_.uH, {
                strTitle: "Create New Spotlight?",
                strDescription: `You already have spotlight with ID ${t.GetSpotlightIDs(a)} associated with this promotion plan.  Are you sure you want to create a new one?`,
                onCancel: n,
                onOK: () => D(!1),
                strOKButtonText: "Create New Spotlight Anyways",
              })
            : o.createElement(
                _.uH,
                {
                  strTitle: "Create New Spotlight?",
                  strDescription:
                    "Create and link a spotlight from date range and featured item from the existing plan? Any additional customization can be done in the spotlight editor directly.",
                  onCancel: n,
                  className: y.CreationDialogCtn,
                  bOKDisabled:
                    0 == s.trim().length ||
                    0 == f.trim().length ||
                    0 == C.trim().length ||
                    (!t.BHasAssociatedSaleEvent() && !E) ||
                    T.bLoading,
                  bAllowFullSize: !0,
                  onOK: () => {
                    T.fnSetLoading(!0);
                    const e = I(
                      s,
                      m,
                      t.GetStartDate(),
                      t.GetEndDate(),
                      f,
                      f,
                      E,
                    );
                    P(e)
                      .then((e) => {
                        e
                          ? (t.SetSpotlightID(e, a),
                            T.fnSetStrSuccess(
                              "Create Spotlight Successful. Remember to Save the Promotion Plan.",
                            ))
                          : T.fnSetStrError(
                              "Create Spotlight failed. Check console output",
                            );
                      })
                      .catch((e) => {
                        const t =
                          "spotlight Creation Failed: " +
                          (0, v.l)(e).strErrorMsg +
                          ". ";
                        console.log("spotlight create failed", (0, v.l)(e), e),
                          T.fnSetStrError(t);
                      });
                  },
                },
                o.createElement("br", null),
                o.createElement("br", null),
                o.createElement(u.II, {
                  value: s,
                  onChange: (e) => c(e.currentTarget.value),
                  label: "Internal Name",
                }),
                o.createElement(u.ry, {
                  label: "Type",
                  rgOptions: g,
                  selectedOption: m,
                  onChange: (e) => h(e.data),
                }),
                o.createElement(k, { selected: f, fnSetSelected: b }),
                o.createElement(
                  "div",
                  { className: y.LargeSelectorCtn },
                  o.createElement(A, { selected: C, fnSetSelected: w }),
                ),
              );
      }
      function k(e) {
        const { selected: t, fnSetSelected: n } = e,
          a = (0, o.useMemo)(
            () =>
              [
                "#spotlight_weekend_deal",
                "#spotlight_midweek_madness",
                "#spotlight_weeklong_sale",
                "#spotlight_weeklong_header1",
              ].map((e) => ({ value: e, label: (0, S.Xx)(e) })),
            [],
          );
        return o.createElement(
          o.Fragment,
          null,
          o.createElement(u.__, null, "Spotlight Title:"),
          o.createElement(s.ZP, {
            options: a,
            value: a.find((e) => e.value === t),
            onChange: (e) => n(e.value),
            isSearchable: !0,
          }),
        );
      }
      function A(e) {
        const { selected: t, fnSetSelected: n } = e,
          a = (0, l.X)(),
          i = (0, o.useMemo)(
            () =>
              Object.keys(a || [])
                .filter((e) => "string" == typeof a[e] && "language" != e)
                .map((e) => ({ label: `${a[e]} (#${e})`, value: `#${e}` })),
            [a],
          );
        return a
          ? o.createElement(
              o.Fragment,
              null,
              o.createElement(u.__, null, "Spotlight Body:"),
              o.createElement(s.ZP, {
                options: i,
                value: i.find((e) => e.value === t),
                onChange: (e) => n(e.value),
                isSearchable: !0,
              }),
            )
          : o.createElement(g.V, {
              string: "Loading Marketing Tokens",
              position: "center",
              size: "medium",
            });
      }
      function w(e) {
        const { oEditablePlan: t, closeModal: n, index: a } = e,
          [i, l] = (0, o.useState)(null),
          d = (0, r.Og)();
        (0, o.useEffect)(() => {
          if (d) {
            const e = ["application", "bundle", "package"],
              t = d.filter(
                (t) => t.association && e.includes(t.association_type),
              );
            c.Z.Get().QueueMultipleStoreItemRequests(
              t.map((e) => (0, m.u$)(e.association)),
              t.map((e) => (0, m.Uc)(e.association_type)),
              {},
            );
          }
        }, [d]);
        const p = (0, o.useMemo)(
          () => d.map((e) => ({ label: e.name, value: e.id, spotlight: e })),
          [d],
        );
        return o.createElement(
          _.uH,
          {
            strTitle: "Select an Existing Spotlight",
            strDescription:
              "This only surfaces active or upcoming spotlight. This doesn't have access to archived spotlights.",
            onCancel: n,
            closeModal: n,
            onOK: () => {
              t.SetSpotlightID(i, a);
            },
            bOKDisabled: Boolean(!i),
          },
          o.createElement(u.__, null, "Choose Spotlight:"),
          o.createElement(s.ZP, {
            options: p,
            value: p.find((e) => e.value === i),
            onChange: (e) => l((null == e ? void 0 : e.value) || null),
            isSearchable: !0,
            isMulti: !1,
            isClearable: !0,
            filterOption: (e, t) => {
              if (!Boolean(t)) return !0;
              const n = t.toLowerCase(),
                a = e.data.spotlight,
                i = c.Z.Get().GetStoreItem(
                  (0, m.u$)(a.association),
                  (0, m.Uc)(a.association_type),
                );
              return (
                e.label.toLowerCase().search(n) >= 0 ||
                a.creator.toLowerCase().search(n) >= 0 ||
                (null == i ? void 0 : i.GetName().toLowerCase().search(n)) >= 0
              );
            },
          }),
        );
      }
    },
    61850: (e, t, n) => {
      "use strict";
      n.d(t, { s: () => V });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(3675),
        o = n(27605),
        s = n(37485),
        c = n.n(s),
        m = n(47427),
        d = n(35427),
        u = n(58670),
        p = n(62210),
        _ = n(16649),
        h = n(16997),
        g = n(45492),
        v = n(20417),
        E = n(37563);
      const S = "new_event_gid";
      class D {
        constructor() {
          (this.m_mapOriginalJSON = new Map()),
            (this.m_mapPrivateData = new Map()),
            (this.m_mapPrivateDataCallback = new Map()),
            (this.m_inflightRequests = new Map()),
            (this.m_gidDirty = null),
            (this.m_clanAccountIDDirty = null);
        }
        GetPrivateData(e, t) {
          const n = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.get(n) || { jsonData: {} };
        }
        GetPrivateDataCopy(e, t) {
          const n = this.HandleNewEventGID(t);
          return JSON.parse(JSON.stringify(this.GetPrivateData(e, n)));
        }
        GetPrivateDataChangeCallback(e, t) {
          const n = this.HandleNewEventGID(t);
          return (
            this.m_mapPrivateDataCallback.has(n) ||
              this.m_mapPrivateDataCallback.set(n, new g.pB()),
            this.m_mapPrivateDataCallback.get(n)
          );
        }
        UpdatePrivateData(e, t, n, a) {
          const i = this.HandleNewEventGID(t),
            l = this.GetPrivateData(e, i);
          if (!this.BIsEqual(l.jsonData, n)) {
            if (null != this.m_gidDirty && i != this.m_gidDirty) {
              const e = this.m_mapPrivateData.get(this.m_gidDirty),
                t = this.m_mapOriginalJSON.get(this.m_gidDirty),
                n = Object.assign(Object.assign({}, e), { jsonData: t });
              this.m_mapPrivateData.set(this.m_gidDirty, n),
                this.DispatchUpdate(this.m_clanAccountIDDirty, this.m_gidDirty);
            }
            (l.jsonData = n),
              a && ((this.m_gidDirty = i), (this.m_clanAccountIDDirty = e)),
              this.DispatchUpdate(e, i);
          }
        }
        BIsEqual(e, t) {
          return JSON.stringify(e) === JSON.stringify(t);
        }
        BLoaded(e, t) {
          const n = this.HandleNewEventGID(t);
          return this.m_mapPrivateData.has(n);
        }
        BIsDirty() {
          return Boolean(this.m_gidDirty);
        }
        BIsEventDirty(e) {
          const t = this.HandleNewEventGID(e);
          return this.m_gidDirty == t;
        }
        DiscardChanges() {
          if (this.m_gidDirty) {
            const e = this.m_clanAccountIDDirty,
              t = this.m_gidDirty;
            (this.m_clanAccountIDDirty = null), (this.m_gidDirty = null);
            const n = this.m_mapPrivateData.get(t),
              a = this.m_mapOriginalJSON.get(t);
            this.m_mapPrivateData.set(
              t,
              Object.assign(Object.assign({}, n), { jsonData: a }),
            ),
              this.DispatchUpdate(e, t);
          }
        }
        DispatchUpdate(e, t) {
          const n = this.HandleNewEventGID(t),
            a = this.GetPrivateDataCopy(e, n);
          this.GetPrivateDataChangeCallback(e, n).Dispatch(a);
        }
        HandleNewEventGID(e) {
          return null == e || null == e || "" == e ? S : e;
        }
        LoadPrivateData(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = this.HandleNewEventGID(t);
            return (
              this.m_inflightRequests.has(n) ||
                this.m_inflightRequests.set(
                  n,
                  this.InternalLoadPrivateData(e, n),
                ),
              yield this.m_inflightRequests.get(n)
            );
          });
        }
        InternalLoadPrivateData(e, t) {
          var n, i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = this.HandleNewEventGID(t);
            if (this.m_mapPrivateData.has(a))
              return this.m_mapPrivateData.get(a);
            if (a == S) {
              const e = { jsonData: {} };
              return (
                this.m_mapPrivateData.set(a, e),
                this.m_mapOriginalJSON.set(a, {}),
                e
              );
            }
            try {
              const t =
                  E.De.COMMUNITY_BASE_URL +
                  "partnereventdata/ajaxgetprivatedata",
                r = { clanAccountID: e.GetAccountID(), gidClanEvent: a },
                o = yield l().get(t, { params: r, withCredentials: !0 });
              if (
                1 ===
                  (null === (n = null == o ? void 0 : o.data) || void 0 === n
                    ? void 0
                    : n.success) &&
                o.data.data
              ) {
                const e = {
                  rtLastUpdateTime: o.data.data.time_written,
                  nAccountLastUpdate: o.data.data.account_writer,
                  jsonData: o.data.data.json_data,
                };
                return (
                  this.m_mapPrivateData.set(a, e),
                  this.m_mapOriginalJSON.set(a, e.jsonData),
                  e
                );
              }
              if (
                42 ===
                (null === (i = null == o ? void 0 : o.data) || void 0 === i
                  ? void 0
                  : i.success)
              ) {
                const e = { jsonData: {} };
                return (
                  this.m_mapPrivateData.set(a, e),
                  this.m_mapOriginalJSON.set(a, {}),
                  e
                );
              }
              {
                const e = (0, _.l)(o);
                console.error(
                  "CPartnerEventPrivateDataStore.InternalLoadPrivateData: response with " +
                    e.strErrorMsg,
                  e,
                );
              }
            } catch (e) {
              const t = (0, _.l)(e);
              console.error(
                "CPartnerEventPrivateDataStore.InternalLoadPrivateData: failed with " +
                  t.strErrorMsg,
                t,
              );
            }
            return null;
          });
        }
        SaveDirtyChanges(e) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (
              ((0, p.X)(
                null != e && null != e && "" != e,
                "CPartnerEventPrivateDataStore: GID not supplied.",
              ),
              this.BIsDirty())
            ) {
              const t = d.K.InitFromClanID(this.m_clanAccountIDDirty),
                n = this.m_mapPrivateData.get(this.m_gidDirty).jsonData;
              if (this.m_gidDirty == e || this.m_gidDirty == S)
                return (
                  this.m_gidDirty == S &&
                    (this.m_mapOriginalJSON.set(e, {}),
                    this.m_mapPrivateData.set(e, this.m_mapPrivateData.get(S)),
                    this.m_mapPrivateData.delete(S)),
                  this.SavePrivateData(t, e, n)
                );
              console.warn(
                "CPartnerEventPrivateDataStore: Dirty not matching input GID:" +
                  e +
                  " " +
                  this.m_gidDirty,
              );
            } else
              console.warn(
                "CPartnerEventPrivateDataStore: Attempting to save private when not dirty: " +
                  e +
                  " " +
                  this.m_gidDirty,
              );
            return 1;
          });
        }
        SavePrivateData(e, t, n) {
          var i;
          return (0, a.mG)(this, void 0, void 0, function* () {
            if (
              ((0, p.X)(
                null != t && null != t && "" != t,
                "CPartnerEventPrivateDataStore: GID not supplied.",
              ),
              !this.m_mapPrivateData.has(t))
            )
              return 42;
            if (this.BIsEqual(n, this.m_mapOriginalJSON.get(t))) return 1;
            try {
              const a = new FormData();
              a.append("sessionid", E.De.SESSIONID),
                a.append("clanAccountID", "" + e.GetAccountID()),
                a.append("gidClanEvent", "" + t),
                a.append("jsonData", JSON.stringify(n));
              const r =
                  E.De.COMMUNITY_BASE_URL +
                  "partnereventdata/ajaxsetprivatedata",
                o = yield l().post(r, a, { withCredentials: !0 });
              if (
                1 ===
                (null === (i = null == o ? void 0 : o.data) || void 0 === i
                  ? void 0
                  : i.success)
              ) {
                const a = {
                  nAccountLastUpdate: E.L7.accountid,
                  rtLastUpdateTime: Math.floor(Date.now() / 1e3),
                  jsonData: n,
                };
                return (
                  this.m_mapPrivateData.set(t, a),
                  this.m_mapOriginalJSON.set(t, n),
                  (this.m_clanAccountIDDirty = null),
                  (this.m_gidDirty = null),
                  this.DispatchUpdate(e.GetAccountID(), t),
                  o.data.success
                );
              }
              {
                const e = (0, _.l)(o);
                console.error(
                  "CPartnerEventPrivateDataStore.SavePrivateData: response with " +
                    e.strErrorMsg,
                  e,
                );
              }
            } catch (e) {
              const t = (0, _.l)(e);
              console.error(
                "CPartnerEventPrivateDataStore.SavePrivateData: failed with " +
                  t.strErrorMsg,
                t,
              );
            }
            return 2;
          });
        }
        static Get() {
          return (
            D.s_Singleton ||
              ((D.s_Singleton = new D()),
              D.s_Singleton.Init(),
              "dev" == E.De.WEB_UNIVERSE &&
                (window.g_PartnerEventPrivateDataStore = D.s_Singleton)),
            D.s_Singleton
          );
        }
        Init() {
          let e = (0, E.kQ)("privatedata", "application_config");
          this.ValidateStoreDefault(e) &&
            e.forEach((e) => {
              const t = {
                rtLastUpdateTime: e.data.time_written,
                nAccountLastUpdate: e.data.account_writer,
                jsonData: e.data.json_data || {},
              };
              this.m_mapOriginalJSON.set(e.gid, t.jsonData),
                this.m_mapPrivateData.set(e.gid, t);
            });
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "string" == typeof t[0].gid &&
            "number" == typeof t[0].clanAccountID &&
            "object" == typeof t[0].data
          );
        }
      }
      function f(e, t) {
        const n = D.Get(),
          [a, i] = (0, m.useState)(n.GetPrivateDataCopy(e, t));
        (0, v.Qg)(n.GetPrivateDataChangeCallback(e, t), i);
        const [l, r] = (0, m.useState)(!n.BLoaded(e, t));
        (0, m.useEffect)(() => {
          if (!n.BLoaded(e, t)) {
            const a = d.K.InitFromClanID(e);
            n.LoadPrivateData(a, t).then((e) => {
              i(e), r(!1);
            });
          }
        }, [e, t, n]);
        return {
          oPrivateData: a,
          fnSetPrivateJon: (0, m.useCallback)(
            (a) => {
              n.UpdatePrivateData(e, t, a, !0);
            },
            [e, t, n],
          ),
          bLoading: l,
          fnSetPrivateJsonNoDirty: (0, m.useCallback)(
            (a) => {
              n.UpdatePrivateData(e, t, a, !1);
            },
            [e, t, n],
          ),
        };
      }
      function y(e, t) {
        var n, a, i, l, r;
        const { oPrivateData: o, fnSetPrivateJon: s, bLoading: c } = f(e, t),
          d = D.Get(),
          u = (0, m.useCallback)(
            (n) =>
              s(
                Object.assign(
                  Object.assign({}, d.GetPrivateData(e, t).jsonData),
                  { bPublishRequiresValveApproval: n },
                ),
              ),
            [e, s, t, d],
          ),
          p = (0, m.useCallback)(
            (n) =>
              s(
                Object.assign(
                  Object.assign({}, d.GetPrivateData(e, t).jsonData),
                  {
                    nAccountApproved: n,
                    rtApprovalTime: Math.floor(Date.now() / 1e3),
                  },
                ),
              ),
            [e, s, t, d],
          ),
          _ = (0, m.useCallback)(
            (n) =>
              s(
                Object.assign(
                  Object.assign({}, d.GetPrivateData(e, t).jsonData),
                  { bRequiresHostDisclaimer: n },
                ),
              ),
            [e, s, t, d],
          );
        return {
          bLoading: c,
          bPublishRequiresValveApproval: Boolean(
            null === (n = null == o ? void 0 : o.jsonData) || void 0 === n
              ? void 0
              : n.bPublishRequiresValveApproval,
          ),
          bHasSettingForRequiresValveApproval:
            void 0 !==
            (null === (a = null == o ? void 0 : o.jsonData) || void 0 === a
              ? void 0
              : a.bPublishRequiresValveApproval),
          bRequiresHostDisclaimer: Boolean(
            null === (i = null == o ? void 0 : o.jsonData) || void 0 === i
              ? void 0
              : i.bRequiresHostDisclaimer,
          ),
          nAccountApproved:
            null === (l = null == o ? void 0 : o.jsonData) || void 0 === l
              ? void 0
              : l.nAccountApproved,
          rtApprovalTime:
            null === (r = null == o ? void 0 : o.jsonData) || void 0 === r
              ? void 0
              : r.rtApprovalTime,
          fnSetStorePublishingRequiresValveApproval: u,
          fnSetAccountApproved: p,
          fnSetStoreRequireHostDisclaimer: _,
        };
      }
      (0, a.gn)([h.a], D.prototype, "BIsEventDirty", null),
        (0, a.gn)([h.a], D.prototype, "DiscardChanges", null),
        (0, a.gn)([h.a], D.prototype, "SaveDirtyChanges", null);
      var b = n(1485),
        I = n(10162),
        C = n(21167),
        k = n(92012),
        A = (n(71741), n(77178)),
        w = (n(90069), n(46882));
      n(42855);
      var P = n(31846),
        T = n(59728);
      n(27599), n(83743), n(58704), n(14609);
      function N(e) {
        const { clanSteamID: t, gidClanEvent: n } = e,
          { bLoading: a } = y(t.GetAccountID(), n);
        return a
          ? m.createElement(w.V, { string: (0, P.Xx)("#Loading") })
          : m.createElement(R, Object.assign({}, e));
      }
      function R(e) {
        const { clanSteamID: t, gidClanEvent: n, fnOkCallbackList: a } = e,
          {
            bPublishRequiresValveApproval: i,
            fnSetStorePublishingRequiresValveApproval: l,
            bRequiresHostDisclaimer: r,
            fnSetStoreRequireHostDisclaimer: o,
            bHasSettingForRequiresValveApproval: s,
          } = y(t.GetAccountID(), n),
          [c, d] = (0, m.useState)(!s || i),
          [u, p] = (0, m.useState)(r);
        return (
          (0, v.Qg)(a, () => {
            l(c), o(u);
          }),
          m.createElement(
            m.Fragment,
            null,
            m.createElement(b.ji, {
              checked: a ? c : !s || i,
              onChange: (e) => {
                d(e), a || l(e);
              },
              label:
                "Require Approval by Valve Admin in order to publish this sales events",
              tooltip:
                "They will see a warning indicating they cannot publish until Valve approves the page. Approval is done by Valve Admin in the same place.",
            }),
            m.createElement(b.ji, {
              checked: a ? u : r,
              onChange: (e) => {
                p(e), a || o(e);
              },
              label: (0, P.Xx)("#SalePresented_By_Admin"),
              tooltip: (0, P.Xx)("#SalePresneted_By_Admin_ttip"),
            }),
          )
        );
      }
      var G = n(95315),
        L = n(22042),
        B = n(7765),
        x = n(45284),
        M = n(65534);
      const O = (e) => {
          const {
              strLabel: t,
              strToolTip: n,
              fnSetCurator: i,
              bLimitToCreatorHome: r,
            } = e,
            o = (0, m.useRef)(null),
            s = (0, m.useRef)(null),
            c = (0, m.useRef)(0),
            d = (0, m.useRef)();
          (0, m.useEffect)(
            () => () => {
              window.clearTimeout(c.current),
                o.current && o.current("SearchForCurator: unmounting"),
                s.current && s.current.Hide();
            },
            [],
          );
          const p = (0, m.useCallback)(
            (e) =>
              (0, a.mG)(void 0, void 0, void 0, function* () {
                const t = e.target.value;
                t &&
                  0 != t.trim().length &&
                  (window.clearTimeout(c.current),
                  o.current && o.current("SearchForCurator: new request"),
                  (c.current = window.setTimeout(
                    () =>
                      (0, a.mG)(void 0, void 0, void 0, function* () {
                        const e = l().CancelToken.source();
                        o.current = e.cancel;
                        try {
                          const n = yield u.bq.SearchCreatorHomeStore(t, r, e);
                          if (e.token.reason) return;
                          s.current = (0, G.yV)(
                            m.createElement(F, { list: n, fnSetCurator: i }),
                            d.current.element,
                            {
                              bOverlapHorizontal: !0,
                              bMatchWidth: !0,
                              bFitToWindow: !0,
                              bDisablePopTop: !0,
                              bNoFocusWhenShown: !0,
                              bSkipFocusWhenReady: !0,
                            },
                          );
                        } catch (t) {
                          if (e.token.reason) return;
                          const n = (0, _.l)(t);
                          console.log(
                            "SearchForCurator.SearchCreatorHomeStore error " +
                              n.strErrorMsg,
                            n,
                          );
                        }
                      }),
                    300,
                  )));
              }),
            [i, r],
          );
          return m.createElement(
            I.SV,
            null,
            m.createElement(b.II, {
              type: "text",
              label: t,
              onChange: p,
              onBlur: (e) =>
                setTimeout(() => s.current && s.current.Hide(), 200),
              ref: d,
              tooltip: n,
            }),
          );
        },
        F = (e) => {
          const { list: t, fnSetCurator: n } = e;
          return m.createElement(
            L.xV,
            { className: M.SearchResults },
            t.map((e) =>
              m.createElement(
                L.Zo,
                {
                  key: "curatorresult" + e.GetClanAccountID(),
                  onSelected: () => n(e),
                },
                m.createElement(
                  "div",
                  { style: { display: "flex", alignItems: "center" } },
                  m.createElement(
                    "div",
                    { className: B.GameImageContainer },
                    m.createElement("img", {
                      src: e.GetAvatarURLFullSize(),
                      className: B.AvatarImage,
                    }),
                  ),
                  (0, x.HA)(e.GetName()),
                ),
              ),
            ),
          );
        };
      var U = n(62613),
        H = n(35479);
      const V = (0, o.Pi)((e) => {
          const t = () => e.closeModal && e.closeModal(),
            n = (0, m.useRef)(null),
            [i, o] = (0, m.useState)(null),
            [s, p] = (0, m.useState)(""),
            [_, h] = (0, m.useState)("");
          let g = new Date();
          g.setHours(10), g.setMinutes(0), g.setSeconds(0);
          const [v, S] = (0, m.useState)(Math.floor(g.getTime() / 1e3));
          let f = new Date();
          f.setDate(f.getDate() + 1),
            f.setHours(10),
            f.setMinutes(0),
            f.setSeconds(0);
          const [y, C] = (0, m.useState)(Math.floor(f.getTime() / 1e3)),
            [k, w] = (0, m.useState)(null),
            [T, N] = (0, m.useState)(null),
            [R, G, L] = (function () {
              const e = D.Get();
              return [e.BIsEventDirty, e.DiscardChanges, e.SaveDirtyChanges];
            })();
          "dev" == E.De.WEB_UNIVERSE &&
            (0, m.useEffect)(() => {
              const e = window.location.search;
              if (e && e.length > 0) {
                const t = new URLSearchParams("?" == e[0] ? e.substring(1) : e);
                if (
                  (t.has("eventName") && p(t.get("eventName")),
                  t.has("vanity") && h(t.get("vanity")),
                  t.has("startTime"))
                ) {
                  const e = t.get("startTime");
                  let n = /^\d+$/.test(e)
                    ? c().unix(Number.parseInt(e))
                    : c()(e);
                  S(Math.floor(n.unix()));
                }
                if (t.has("endTime")) {
                  const e = t.get("endTime");
                  let n = /^\d+$/.test(e)
                    ? c().unix(Number.parseInt(e))
                    : c()(e);
                  C(Math.floor(n.unix()));
                }
                if (t.has("clan_account_id")) {
                  const e = l().CancelToken.source();
                  n.current = e.cancel;
                  const i = d.K.InitFromClanID(
                    Number.parseInt(t.get("clan_account_id")),
                  );
                  (() =>
                    (0, a.mG)(void 0, void 0, void 0, function* () {
                      let t = yield u.bq.LoadCreatorHome(i, e);
                      e.token.reason || o(t);
                    }))();
                }
              }
              return () => {
                n.current &&
                  n.current("NewPartnerEventSalePageDialog: unmounting");
              };
            }, []);
          let B = new Array(),
            x = !1;
          if (null == i)
            B.push(
              m.createElement(
                "div",
                { className: H.MinWidthCtn },
                m.createElement(
                  "div",
                  { className: H.StepOneTitle },
                  (0, P.Xx)("#Sale_New_ChooseCreator"),
                ),
                m.createElement(O, {
                  key: "SearchForCurator",
                  strLabel: (0, P.Xx)("#Sale_New_ChooseCreator_Label"),
                  strToolTip: (0, P.Xx)("#Sale_New_ChooseCreator_ttip"),
                  bLimitToCreatorHome: !0,
                  fnSetCurator: o,
                }),
              ),
            );
          else if (T)
            B.push(m.createElement("div", { key: "failedtocreatevent" }, T));
          else if (k) {
            let e =
              E.De.COMMUNITY_BASE_URL +
              "gid/" +
              k.clanSteamID.ConvertTo64BitString() +
              "/partnerevents/edit/" +
              k.GID +
              "?tab=sale";
            B.push(
              m.createElement(
                "div",
                { key: "eventcreatedsuccess" },
                m.createElement("p", null, (0, P.Xx)("#Sale_New_Success")),
                m.createElement(
                  "a",
                  { href: e, target: E.De.IN_CLIENT ? void 0 : "_blank" },
                  e,
                ),
              ),
            );
          } else if (
            (B.push(
              m.createElement(X, {
                key: "DisplayCreator_" + i.GetClanAccountID(),
                creatorHome: i,
                fnSetCreatorHome: o,
              }),
            ),
            i.BIsPartnerEventEditorEnabled())
          ) {
            B.push(
              m.createElement(
                "div",
                { key: "Verified" },
                (0, P.Xx)("#Sale_New_Verify_PE_Enabled"),
                m.createElement(
                  "div",
                  { className: H.VerifyCtn },
                  m.createElement(
                    "div",
                    { className: H.VerifyCheck },
                    m.createElement(U.JrY, null),
                  ),
                ),
              ),
            );
            const e = i.GetClanSteamID();
            B.push(
              m.createElement(q, {
                key: "saleinput",
                strEventName: s,
                fnSetEventName: p,
                strVanity: _,
                fnSetVanity: h,
                rtStartTime: v,
                fnSetRTStartTime: S,
                rtEndTime: y,
                fnSetRTEndTime: C,
                clanSteamID: e,
              }),
            ),
              (x =
                s.trim().length > 0 && _.trim().length > 0 && v > 0 && y > v);
          } else
            B.push(
              m.createElement(j, {
                key: "EnablePartnerInfo_" + i.GetClanAccountID(),
                creatorHome: i,
              }),
            );
          return m.createElement(
            I.SV,
            null,
            m.createElement(
              A.e1,
              { onEscKeypress: t },
              m.createElement(
                b.VY,
                null,
                m.createElement(b.h4, null, (0, P.Xx)("#Sale_New_Title")),
                m.createElement(b.uT, null, m.createElement(b.Ac, null, B)),
                m.createElement(
                  b.$_,
                  null,
                  m.createElement(b.o9, {
                    onCancel: t,
                    bOKDisabled: !x,
                    strOKText: (0, P.Xx)("#Sale_New_CreateEvent"),
                    strCancelText: k ? (0, P.Xx)("#Button_OK") : void 0,
                    onOK: () =>
                      (0, a.mG)(void 0, void 0, void 0, function* () {
                        n.current && n.current();
                        const t = l().CancelToken.source();
                        n.current = t.cancel;
                        let a = yield r.U.Get().CreateSalePartnerEvent(
                          i.GetClanAccountID(),
                          s,
                          _,
                          v,
                          y,
                          t,
                        );
                        if (!t.token.reason)
                          if (a)
                            if (
                              (e.fnSetSalePageInfo &&
                                e.fnSetSalePageInfo(
                                  a.GID,
                                  a.clanSteamID.GetAccountID(),
                                ),
                              R(null))
                            ) {
                              1 == (yield L(a.GID))
                                ? w(a)
                                : N("Failed to Save Private Event Data");
                            } else w(a);
                          else N((0, P.Xx)("#Sale_New_Errors"));
                      }),
                  }),
                ),
              ),
            ),
          );
        }),
        X = (e) => {
          const { creatorHome: t, fnSetCreatorHome: n } = e;
          return m.createElement(
            "div",
            { className: H.MinWidthCtn },
            m.createElement("div", null, (0, P.Xx)("#Sale_New_ChosenCreator")),
            m.createElement(
              T.HP,
              { toolTipContent: (0, P.Xx)("#Sale_New_ClearCreator_ttip") },
              m.createElement(
                "div",
                {
                  className: "DialogInput_ClearAction",
                  onClick: () => n(null),
                },
                m.createElement(U.pVO, null),
              ),
            ),
            m.createElement(C.oZ, {
              creatorID: t.GetCreatorHomeIdentifier(),
              bHideCreatorType: !0,
            }),
          );
        },
        j = (e) => {
          const { creatorHome: t } = e,
            [n, i] = (0, m.useState)(!1);
          return m.createElement(
            I.SV,
            null,
            m.createElement(
              "div",
              null,
              (0, P.Xx)("#Sale_New_Verify_PE_Enabled"),
              m.createElement(
                "div",
                { className: H.FailCheck },
                m.createElement(U.pVO, null),
              ),
              m.createElement(
                "div",
                null,
                (0, P.kQ)(
                  "#Sale_New_Enable_PartnerEventBeta",
                  m.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/STEAM/Creator+home+and+Partner+Events+Beta",
                      target: "_blank",
                    },
                    (0, P.Xx)("#EventEmail_Button_ClickForMoreDetails"),
                  ),
                ),
              ),
              m.createElement(
                b.zx,
                {
                  onClick: () =>
                    (0, a.mG)(void 0, void 0, void 0, function* () {
                      i(!0), yield t.EnablePartnerEventEditorFlag(), i(!1);
                    }),
                },
                (0, P.Xx)("#Button_Accept"),
              ),
              n && m.createElement(w.V, { size: "small" }),
            ),
          );
        },
        q = (e) => {
          const {
            clanSteamID: t,
            strEventName: n,
            fnSetEventName: a,
            strVanity: i,
            fnSetVanity: l,
            rtStartTime: r,
            fnSetRTStartTime: o,
            rtEndTime: s,
            fnSetRTEndTime: c,
          } = e;
          return m.createElement(
            "div",
            null,
            m.createElement("div", null, (0, P.Xx)("#Sale_New_SetupEvent")),
            m.createElement(
              "div",
              { className: H.BasicInfoCtn },
              m.createElement(b.II, {
                type: "text",
                label: (0, P.Xx)("#Sale_New_EnterEventName"),
                tooltip: (0, P.Xx)("#Sale_New_EnterEventName_ttip"),
                value: n,
                onChange: (e) => a(e.target.value),
              }),
              m.createElement(b.II, {
                type: "text",
                label: (0, P.Xx)("#Sale_New_EnterVanity"),
                tooltip: (0, P.Xx)("#Sale_New_EnterVanity_ttip"),
                value: i,
                onChange: (e) => l(e.target.value),
              }),
              m.createElement(
                "div",
                { className: H.DateCtn },
                m.createElement(k.A, {
                  strDescription: (0, P.Xx)("#Sale_New_Start"),
                  nEarliestTime: 0,
                  fnGetTimeToUpdate: () => r,
                  fnSetTimeToUpdate: o,
                  fnIsValidDateTime: () => !0,
                  bShowTimeZone: !0,
                }),
                m.createElement(k.A, {
                  strDescription: (0, P.Xx)("#Sale_New_End"),
                  nEarliestTime: 0,
                  fnGetTimeToUpdate: () => s,
                  fnSetTimeToUpdate: c,
                  fnIsValidDateTime: () => !0,
                  bShowTimeZone: !0,
                }),
              ),
              m.createElement(N, { clanSteamID: t, gidClanEvent: null }),
            ),
          );
        };
    },
    34797: (e, t, n) => {
      "use strict";
      n.d(t, { K: () => En, n: () => Sn });
      var a = n(67675),
        i = n(7492),
        l = n(47427),
        r = n(47316),
        o = n.n(r),
        s = n(8285),
        c = n(42855),
        m = n(44174),
        d = n(1485),
        u = n(10162),
        p = n(90069),
        _ = n(23665),
        h = n(46882),
        g = n(50423),
        v = n(31846),
        E = n(37563),
        S = n(3675),
        D = n(61850),
        f = n(77681),
        y = n.n(f),
        b = n(98255),
        I = n.n(b),
        C = n(85556),
        k = n(16997);
      class A {
        bIsPublisherApp(e) {
          return this.m_mapAppIDs.has(e);
        }
        static Get() {
          return (
            A.s_Singleton ||
              ((A.s_Singleton = new A()),
              ("dev" != E.De.WEB_UNIVERSE && "beta" != E.De.WEB_UNIVERSE) ||
                (window.g_CPublisherAppStore = A.s_Singleton)),
            A.s_Singleton
          );
        }
        constructor() {
          this.m_mapAppIDs = new Map();
          let e = (0, E.kQ)("publisher_appids", "application_config");
          this.ValidateStoreDefault(e) &&
            (e.forEach((e) => this.m_mapAppIDs.set(e, !0)),
            ("dev" != E.De.WEB_UNIVERSE && "beta" != E.De.WEB_UNIVERSE) ||
              console.log(
                `CPublisherAppStore received ${e.length} into map ${this.m_mapAppIDs.size}`,
                this.m_mapAppIDs,
              ));
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            t && Array.isArray(t) && t.length > 0 && "number" == typeof t[0]
          );
        }
      }
      function w() {
        return { fnBIsPublisherApp: A.Get().bIsPublisherApp };
      }
      (0, C.gn)([k.a], A.prototype, "bIsPublisherApp", null);
      var P = n(12999),
        T = n(6683),
        N = n(77936),
        R = n(35427),
        G = n(62698),
        L = n(93243),
        B = n(80751),
        x = n.n(B),
        M = n(54842),
        O = n(16649);
      class F {
        constructor(e) {
          (this.m_stats = void 0),
            (this.m_lastUpdateTime = void 0),
            (0, M.rC)(this),
            (this.m_stats = Object.assign(
              {
                event_gid: "0",
                library_overview_shown: 0,
                library_overview_read: 0,
                app_details_spotlight_shown: 0,
                app_details_spotlight_read: 0,
                app_details_activity_shown: 0,
                app_details_activity_read: 0,
                store_app_page_shown: 0,
                store_app_page_read: 0,
                store_front_page_shown: 0,
                store_front_page_read: 0,
                community_hub_shown: 0,
                community_hub_read: 0,
                news_hub_shown: 0,
                news_hub_read: 0,
                event_scroller_read: 0,
              },
              e,
            )),
            (this.m_stats.total_showm =
              this.m_stats.library_overview_shown +
              this.m_stats.app_details_activity_shown +
              this.m_stats.app_details_spotlight_shown +
              this.m_stats.store_app_page_shown +
              this.m_stats.store_front_page_shown +
              this.m_stats.community_hub_shown +
              this.m_stats.news_hub_shown),
            (this.m_stats.total_read =
              this.m_stats.library_overview_read +
              this.m_stats.app_details_activity_read +
              this.m_stats.app_details_spotlight_read +
              this.m_stats.store_app_page_read +
              this.m_stats.store_front_page_read +
              this.m_stats.community_hub_read +
              this.m_stats.news_hub_read +
              this.m_stats.event_scroller_read),
            (this.m_lastUpdateTime = e ? Math.floor(Date.now() / 1e3) : 0);
        }
        reset(e) {
          (this.m_stats.library_overview_shown = e.library_overview_shown),
            (this.m_stats.library_overview_read = e.library_overview_read),
            (this.m_stats.app_details_spotlight_shown =
              e.app_details_spotlight_shown),
            (this.m_stats.app_details_spotlight_read =
              e.app_details_spotlight_read),
            (this.m_stats.app_details_activity_shown =
              e.app_details_activity_shown),
            (this.m_stats.app_details_activity_read =
              e.app_details_activity_read),
            (this.m_stats.store_app_page_shown = e.store_app_page_shown),
            (this.m_stats.store_app_page_read = e.store_app_page_read),
            (this.m_stats.store_front_page_shown = e.store_front_page_shown),
            (this.m_stats.store_front_page_read = e.store_front_page_read),
            (this.m_stats.community_hub_shown = e.community_hub_shown),
            (this.m_stats.community_hub_read = e.community_hub_read),
            (this.m_stats.news_hub_shown = e.news_hub_shown),
            (this.m_stats.news_hub_read = e.news_hub_read),
            (this.m_stats.event_scroller_read = e.event_scroller_read),
            (this.m_stats.total_showm =
              e.library_overview_shown +
              e.app_details_activity_shown +
              e.app_details_spotlight_shown +
              e.store_app_page_shown +
              e.store_front_page_shown +
              e.community_hub_shown +
              e.news_hub_shown),
            (this.m_stats.total_read =
              e.library_overview_read +
              e.app_details_activity_read +
              e.app_details_spotlight_read +
              e.store_app_page_read +
              e.store_front_page_read +
              e.community_hub_read +
              e.news_hub_read +
              e.event_scroller_read),
            (this.m_lastUpdateTime = Date.now() / 1e3);
        }
      }
      (0, C.gn)([M.LO], F.prototype, "m_stats", void 0),
        (0, C.gn)([M.LO], F.prototype, "m_lastUpdateTime", void 0);
      class U {
        constructor() {
          (this.m_mapPerEventStats = new Map()),
            (this.m_mapSummaryStats = new Map()),
            (this.m_bLoadedFromConfig = !1),
            (0, M.rC)(this);
        }
        LazyInit() {
          if (!this.m_bLoadedFromConfig) {
            let e = (0, E.kQ)("trackingdatasummary", "application_config");
            this.ValidateStoreDefault(e) &&
              this.m_mapSummaryStats.set(e.clan_account_id, new F(e));
            let t = (0, E.kQ)("trackingdataevents", "application_config");
            this.ValidateStoreDefaultList(t) &&
              t.forEach((e) => {
                let t = R.K.InitFromClanID(e.clan_account_id),
                  n = this.GetKey(t, e.event_gid);
                this.m_mapPerEventStats.set(n, new F(e));
              }),
              (this.m_bLoadedFromConfig = !0);
          }
        }
        ValidateStoreDefault(e) {
          const t = e;
          return (
            !(!t || "object" != typeof t || !t.clan_account_id) &&
            "number" == typeof t.clan_account_id &&
            t.clan_account_id > 0
          );
        }
        ValidateStoreDefaultList(e) {
          const t = e;
          return (
            !!(
              t &&
              Array.isArray(t) &&
              t.length > 0 &&
              "object" == typeof t[0]
            ) &&
            "number" == typeof t[0].clan_account_id &&
            t[0].clan_account_id > 0
          );
        }
        GetStatsFor(e, t) {
          this.LazyInit();
          let n = this.GetKey(e, t);
          return (
            this.m_mapPerEventStats.has(n) ||
              this.m_mapPerEventStats.set(n, new F(null)),
            this.m_mapPerEventStats.get(n)
          );
        }
        GetTotalStats(e) {
          return (
            this.LazyInit(),
            this.m_mapSummaryStats.has(e.GetAccountID()) ||
              this.m_mapSummaryStats.set(e.GetAccountID(), new F(null)),
            this.m_mapSummaryStats.get(e.GetAccountID())
          );
        }
        GetKey(e, t) {
          return e.GetAccountID() + "_" + t;
        }
        LoadStatsForEvents(e, t, n) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            this.LazyInit();
            let a = Date.now() / 1e3,
              i = t.filter((t) => {
                let n = this.GetKey(e, t),
                  i = this.m_mapPerEventStats.get(n);
                return !i || null == i.m_stats || i.m_lastUpdateTime < a - 3600;
              });
            if (!i || 0 == i.length) return !0;
            let l = (0, E.Kc)() + "actions/ajaxgetpartnereventsreport",
              r = {
                sessionid: E.De.SESSIONID,
                clan_account_id: e.GetAccountID(),
                gidlist: i.join(","),
              };
            try {
              let t = yield x().get(l, {
                params: r,
                withCredentials: !0,
                cancelToken: null == n ? void 0 : n.token,
              });
              return (
                (0, M.z)(() => {
                  this.m_mapSummaryStats.set(
                    e.GetAccountID(),
                    new F(t.data.summary),
                  ),
                    t.data.events_detail.forEach((t) => {
                      let n = this.GetKey(e, t.event_gid);
                      if (this.m_mapPerEventStats.has(n)) {
                        this.m_mapPerEventStats.get(n).reset(t);
                      } else this.m_mapPerEventStats.set(n, new F(t));
                    });
                }),
                !0
              );
            } catch (e) {
              let t = (0, O.l)(e);
              console.error("CPartnerEventReportingStore " + t.strErrorMsg, t);
            }
            return !1;
          });
        }
        BHasEventStats(e, t) {
          let n = R.K.InitFromClanID(e),
            a = this.GetKey(n, t),
            i = this.m_mapPerEventStats.get(a);
          return Boolean(i && i.m_stats);
        }
      }
      (0, C.gn)([M.LO], U.prototype, "m_mapPerEventStats", void 0),
        (0, C.gn)([M.LO], U.prototype, "m_mapSummaryStats", void 0),
        (0, C.gn)([M.aD], U.prototype, "LazyInit", null);
      const H = new U();
      var V,
        X = n(15690),
        j = n(80886),
        q = n(21167),
        W = n(85305),
        z = n(71741),
        Z = n(68542),
        K = n.n(Z),
        Q = n(27605),
        Y = n(16610),
        J = n(82493),
        $ = n(91618),
        ee = n(51688),
        te = n(77151),
        ne = n(62210),
        ae = n(45492),
        ie = n(20417);
      class le {
        GetNewInteractionCallback() {
          return this.m_interactionCallback;
        }
        AddInteraction(e, t) {
          const n = `${this.m_nActiveTabID}_${e}_${t}`,
            a = !this.m_setInteractions.has(n);
          this.m_setInteractions.add(n),
            a &&
              ("dev" == E.De.WEB_UNIVERSE &&
                this.m_bDebugMode &&
                console.log(
                  "CSaleInteractionStore new: " +
                    n +
                    " count: " +
                    this.m_setInteractions.size,
                ),
              this.m_interactionCallback.Dispatch(
                { tabid: this.m_nActiveTabID, sectionid: e, elementIndex: t },
                this.m_setInteractions,
              ));
        }
        SetActiveTab(e) {
          this.m_nActiveTabID = e;
        }
        static Get() {
          return (
            le.s_Singleton ||
              ((le.s_Singleton = new le()),
              le.s_Singleton.Init(),
              "dev" == E.De.WEB_UNIVERSE &&
                (window.g_SaleInteractionStore = le.s_Singleton)),
            le.s_Singleton
          );
        }
        constructor() {
          (this.m_setInteractions = new Set()),
            (this.m_nActiveTabID = -1),
            (this.m_interactionCallback = new ae.pB()),
            (this.m_bDebugMode = !0);
        }
        Init() {}
      }
      !(function (e) {
        (e[(e.k_EDiscoveryAction_Invalid = 0)] = "k_EDiscoveryAction_Invalid"),
          (e[(e.k_EDiscoveryAction_OpenStorePage = 1)] =
            "k_EDiscoveryAction_OpenStorePage"),
          (e[(e.k_EDiscoveryAction_OpenDoor = 2)] =
            "k_EDiscoveryAction_OpenDoor");
      })(V || (V = {}));
      class re {
        GetMatchingInsertion(e, t) {
          return this.m_mapMaterializedInsertion.get(this.GetKeyFromID(e, t));
        }
        GetChangeCallback(e, t) {
          const n = this.GetKey({ sectionID: e, tabID: t });
          return this.GetChangeCallbackByKey(n);
        }
        GetChangeCallbackByKey(e) {
          return (
            this.m_mapInsertCallback.has(e) ||
              this.m_mapInsertCallback.set(e, new ae.pB()),
            this.m_mapInsertCallback.get(e)
          );
        }
        GetKey(e) {
          return e ? e.sectionID + "_" + (e.tabID || "-1") : null;
        }
        GetKeyFromID(e, t) {
          return e + "_" + (t || "-1");
        }
        ReplaceInsertion(e) {
          e.forEach((e) => {
            const t = this.GetKey(e);
            this.m_mapMaterializedInsertion.forEach((e) => {
              const n = this.GetKey(e);
              n && n != t && this.DispatchInsertion(e, !0);
            }),
              this.m_mapMaterializedInsertion.clear(),
              (this.m_rgFutureInsertions = Array()),
              this.AppendInsertion(e);
          });
        }
        AppendInsertion(e) {
          (null == e ? void 0 : e.sectionID)
            ? (this.m_mapMaterializedInsertion.set(this.GetKey(e), e),
              this.DispatchInsertion(e))
            : this.m_rgFutureInsertions.push(e);
        }
        DispatchInsertion(e, t) {
          e.sectionID &&
            this.GetChangeCallback(e.sectionID, e.tabID).Dispatch(t ? null : e);
        }
        AppCapsuleFound(e) {
          this.m_rgFutureInsertions = this.m_rgFutureInsertions.filter(
            (t) => !(!t.sectionID && t.insertion_requirement && t.appid == e),
          );
        }
        GetAnyNonMaterializedInsertionRequest() {
          const e = this.m_rgFutureInsertions.length;
          return e > 0
            ? this.m_rgFutureInsertions[Math.floor(e * Math.random())]
            : null;
        }
        SaleInteractionCallback(e, t) {
          if (this.m_rgFutureInsertions.length > 0)
            for (let n = 0; n < this.m_rgFutureInsertions.length; ++n)
              if (this.AreWeAllowedToDeploy(this.m_rgFutureInsertions[n], t)) {
                const t = this.DeployCapsuleIfPossible(
                  e,
                  this.m_rgFutureInsertions[n],
                );
                t &&
                  ((0, ne.X)(
                    Boolean(t.sectionID),
                    "Expected to have a materialized insertion at this poiunt: " +
                      t.sectionID,
                  ),
                  this.AppendInsertion(t));
              }
        }
        AreWeAllowedToDeploy(e, t) {
          if (
            !e.sectionID &&
            e.insertion_requirement &&
            t.size >= e.insertion_requirement.min_interactions
          ) {
            if (t.size >= e.insertion_requirement.max_interactions) return !0;
            const n =
              e.insertion_requirement.max_interactions -
              e.insertion_requirement.min_interactions;
            return 0 == Math.floor(n * Math.random());
          }
          return !1;
        }
        BIsInsertableSectionType(e) {
          if (e) {
            if ("contenthubsections" == e.section_type) return !0;
            if ("sale_item_browser" == e.section_type) return !0;
            if ("items" == e.section_type)
              return (
                !e.smart_section ||
                ("wishlist" != e.smart_section_type &&
                  "wishlist_onsale" != e.smart_section_type)
              );
          }
          return !1;
        }
        BHasExistingInsertion(e) {
          return Boolean(this.GetMatchingInsertion(e.sectionid, e.tabid));
        }
        DeployCapsuleIfPossible(e, t) {
          if (this.BHasExistingInsertion(e)) return null;
          if (E.Wj.ANNOUNCEMENT_GID) {
            const n = m.j1.GetClanEventFromAnnouncementGID(
                E.Wj.ANNOUNCEMENT_GID,
              ),
              a = null == n ? void 0 : n.GetSaleSectionByID(e.sectionid);
            if (this.BIsInsertableSectionType(a)) {
              if (
                t.insertion_requirement.additional_adds > 0 &&
                t.insertion_requirement.delta_interactions > 0
              ) {
                const e = Object.assign({}, t);
                (e.insertion_requirement = Object.assign(
                  {},
                  t.insertion_requirement,
                )),
                  (e.insertion_requirement.additional_adds -= 1),
                  (e.insertion_requirement.max_interactions +=
                    t.insertion_requirement.delta_interactions),
                  (e.insertion_requirement.min_interactions +=
                    t.insertion_requirement.delta_interactions),
                  this.AppendInsertion(e);
              }
              return (
                (t.sectionID = e.sectionid),
                (t.tabID = e.tabid),
                (t.insertionIndex = e.elementIndex),
                t
              );
            }
          }
          return null;
        }
        static Get() {
          return (
            re.s_Singleton ||
              ((re.s_Singleton = new re()),
              re.s_Singleton.Init(),
              "dev" == E.De.WEB_UNIVERSE &&
                (window.g_DynamicCapsuleInsertStore = re.s_Singleton)),
            re.s_Singleton
          );
        }
        constructor() {
          (this.m_mapMaterializedInsertion = new Map()),
            (this.m_mapInsertCallback = new Map()),
            (this.m_rgFutureInsertions = new Array()),
            (0, M.rC)(this);
        }
        Init() {
          const e = (0, E.ip)("capsuleinsert", "application_config");
          re.ValidateData(e) &&
            (e.sectionID
              ? this.m_mapMaterializedInsertion.set(this.GetKey(e), e)
              : e.insertion_requirement
                ? (this.m_rgFutureInsertions.push(e),
                  (null == e ? void 0 : e.appid) &&
                    X.Z.Get()
                      .QueueAppRequest(e.appid, {
                        include_assets: !0,
                        include_release: !0,
                        include_trailers: !0,
                      })
                      .then(() => {
                        var t, n;
                        const a = X.Z.Get().GetApp(e.appid);
                        !a ||
                          (null ===
                            (n =
                              null === (t = a.GetBestPurchaseOption()) ||
                              void 0 === t
                                ? void 0
                                : t.formatted_final_price) || void 0 === n
                            ? void 0
                            : n.length) > 0 ||
                          a.ReplaceBestPurchaseOption({
                            packageid: 0,
                            bundleid: 0,
                            formatted_original_price: "CL.0R",
                            formatted_final_price: "TH.4X",
                            discount_pct: 50,
                          });
                      }))
                : "dev" == E.De.WEB_UNIVERSE &&
                  console.error(
                    "CDynamicCapsuleInsertStore: Payload not material and missing instructions.",
                    e,
                  ),
            "dev" == E.De.WEB_UNIVERSE &&
              console.log("CDynamicCapsuleInsertStore loaded ", e)),
            le
              .Get()
              .GetNewInteractionCallback()
              .Register(this.SaleInteractionCallback);
        }
        static ValidateData(e) {
          const t = e;
          return (
            t &&
            ("number" == typeof t.sectionID ||
              "object" == typeof t.insertion_requirement) &&
            "number" == typeof t.appid &&
            "number" == typeof t.action
          );
        }
      }
      function oe(e, t) {
        return re.Get().GetChangeCallback(e, t);
      }
      (0, C.gn)([ie.ak], re.prototype, "SaleInteractionCallback", null),
        (0, C.gn)([M.aD], re.prototype, "DeployCapsuleIfPossible", null);
      var se = n(68785),
        ce = n(86437);
      const me = new se.sO("SalePage"),
        de = 50;
      class ue {
        constructor() {
          (this.m_mapResults = new Map()), (this.m_mapPromises = new Map());
        }
        static Get() {
          return (
            ue.s_singleton ||
              ((ue.s_singleton = new ue()),
              "dev" === E.De.WEB_UNIVERSE &&
                (window.g_SaleItemBrowserStore = ue.s_singleton)),
            ue.s_singleton
          );
        }
        GetItemsSoFar(e, t, n, a, i, l, r, o, s, c) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            let m;
            if (l === (null == e ? void 0 : e.nNextSolrIndex)) {
              const d = yield this.GetItemsFiltered(t, n, a, i, l, r, o, s, c);
              (m = Object.assign(Object.assign({}, d), {
                rgItems: this.DedupeItems(e.rgItems.concat(d.rgItems)),
              })),
                me.Debug(
                  `GetItemsSoFar (continuing) start ${l} count ${r} items ${m.rgItems.length} next ${m.nNextSolrIndex}`,
                );
            } else
              (m = yield this.GetItemsFiltered(t, n, a, i, l, r, o, s, c)),
                me.Debug(
                  `GetItemsSoFar (new) start ${l} count ${r} items ${m.rgItems.length} next ${m.nNextSolrIndex}`,
                );
            return m;
          });
        }
        GetItemsFiltered(e, t, n, a, i, l, r, o, s) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            let c = {
                rgItems: [],
                nMatchCount: 0,
                bMoreAvailable: !1,
                nNextSolrIndex: 0,
              },
              m = i,
              d = l;
            const u = Math.floor(m / de);
            for (let i = 0; i < 10; ++i) {
              let p = yield this.GetItemsPaged(e, t, n, m, d, r, o, s);
              if (
                ((p.rgItems = yield this.FilterItems(p.rgItems, a)),
                me.Debug(`iteration ${i} matches ${p.rgItems.length}`),
                (c = Object.assign(Object.assign({}, p), {
                  rgItems: c.rgItems.concat(p.rgItems),
                })),
                !p.bMoreAvailable)
              )
                break;
              if (c.rgItems.length >= l) break;
              if (Math.floor((m + d - 1) / de) - u + 1 > 2) break;
              (m = c.nNextSolrIndex), (d = l - c.rgItems.length);
            }
            return (
              me.Debug(
                `GetItemsFiltered start ${i} count ${l} items ${c.rgItems.length} next ${c.nNextSolrIndex}`,
              ),
              c
            );
          });
        }
        GetItemsPaged(e, t, n, a, i, l, r, o) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            const s = Math.floor(a / de),
              c = Math.floor((a + i - 1) / de),
              m = [];
            for (let a = s; a <= c; ++a)
              m.push(this.GetItems(e, t, n, a * de, de, l, r, o));
            const d = yield Promise.all(m);
            let u = Object.assign(Object.assign({}, d[d.length - 1]), {
                rgItems: [],
              }),
              p = [];
            for (const e of d) p = p.concat(e.rgItems);
            return (
              (u.rgItems = p.slice(a - s * de, a + i - s * de)),
              (u.bMoreAvailable =
                d[d.length - 1].bMoreAvailable ||
                a + i - 1 - s * de < p.length),
              (u.nNextSolrIndex = a + i),
              me.Debug(
                `GetItemsPaged start ${a} count ${i} items ${u.rgItems.length} next ${u.nNextSolrIndex}`,
              ),
              u
            );
          });
        }
        GetItems(e, t, n, a, i, l, r, o) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            const s = this.GetItemBrowserQueryKey(t, n, a, i);
            return (
              this.m_mapResults.has(s) ||
                this.m_mapPromises.has(s) ||
                this.m_mapPromises.set(
                  s,
                  this.InternalGetItems(e, t, n, a, i, l, r, o),
                ),
              this.m_mapPromises.get(s)
            );
          });
        }
        DedupeItems(e) {
          const t = [],
            n = new Set();
          for (const a of e) {
            const e = `${a.type}_${a.id}`;
            n.has(e) || (t.push(a), n.add(e));
          }
          return t;
        }
        FilterItems(e, t) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            const n = this.DedupeItems(e);
            return t(n);
          });
        }
        InternalGetItems(e, t, n, a, i, l, r, o) {
          var s, c, m, d, u, p, _, h;
          return (0, C.mG)(this, void 0, void 0, function* () {
            if (o) return o(e, t, n, a, i, l, r);
            const g = this.GetItemBrowserQueryKeyForConfig(t, n, a, i),
              v = this.GetItemBrowserQueryKey(t, n, a, i);
            me.Debug(v);
            const S = (0, E.kQ)(g, "application_config");
            if (S) {
              const e = [];
              for (const t of S.store_item_keys) {
                const n = t.split("_");
                e.push({ type: (0, ce.TM)(n[0]), id: Number(n[1]) });
              }
              return (
                this.m_mapResults.set(v, {
                  rgItems: e,
                  faceting: S.faceting,
                  multifaceting: S.multifaceting,
                  nMatchCount: S.match_count,
                  bMoreAvailable: S.possible_has_more,
                  nNextSolrIndex: a + i,
                  strRequest:
                    ("dev" === E.De.WEB_UNIVERSE && S.request) || void 0,
                }),
                this.m_mapResults.get(v)
              );
            }
            const D =
                E.De.STORE_BASE_URL +
                (l
                  ? "saleaction/ajaxpreviewsaledynamicappquery"
                  : "saleaction/ajaxgetsaledynamicappquery"),
              f = {
                cc: E.De.COUNTRY,
                l: E.De.LANGUAGE,
                clanAccountID:
                  (null == e ? void 0 : e.clanSteamID.GetAccountID()) || null,
                clanAnnouncementGID:
                  (null == e ? void 0 : e.AnnouncementGID) || null,
                flavor: t,
                strFacetFilter:
                  null === (s = n.facetFilter) || void 0 === s
                    ? void 0
                    : s.GetQuery(),
                start: a,
                count: i,
                tabuniqueid: n.nTabUniqueID,
                sectionuniqueid: n.nSectionUniqueID,
                return_capsules: !0,
                search: n.strSearch || void 0,
                origin: self.origin,
                strContentHubType:
                  null === (c = n.contentHub) || void 0 === c ? void 0 : c.type,
                strContentHubCategory:
                  null === (m = n.contentHub) || void 0 === m
                    ? void 0
                    : m.category,
                nContentHubTagID:
                  null === (d = n.contentHub) || void 0 === d
                    ? void 0
                    : d.tagid,
                bContentHubDiscountedOnly: n.bContentHubDiscountedOnly,
                strTabFilter: n.strTabFilter,
                strSectionFilter: n.strSectionFilter,
                bPrioritizeDiscounts: n.bPrioritizeDiscounts,
                bRequestFacetCounts: n.bRequestFacetCounts,
                prune_list_optin_name:
                  (null == e ? void 0 : e.jsondata.prune_list_optin_name) ||
                  void 0,
                optin_tagid:
                  (null === (u = null == e ? void 0 : e.jsondata) ||
                  void 0 === u
                    ? void 0
                    : u.optin_tagid) || void 0,
                optin_prune_tagid:
                  (null === (p = null == e ? void 0 : e.jsondata) ||
                  void 0 === p
                    ? void 0
                    : p.optin_prune_tagid) || void 0,
                optin_only:
                  (null === (_ = null == e ? void 0 : e.jsondata) ||
                  void 0 === _
                    ? void 0
                    : _.optin_only) || void 0,
                controller_category: Number(n.eControllerCategory) || void 0,
              };
            let y = null;
            try {
              const e = yield x().get(D, {
                params: f,
                withCredentials: l,
                cancelToken: null == r ? void 0 : r.token,
              });
              if (
                200 === (null == e ? void 0 : e.status) &&
                1 ===
                  (null === (h = e.data) || void 0 === h
                    ? void 0
                    : h.success) &&
                e.data.store_item_keys
              ) {
                const t = [];
                for (const n of e.data.store_item_keys) {
                  const e = n.split("_");
                  t.push({ type: (0, ce.TM)(e[0]), id: Number(e[1]) });
                }
                return (
                  this.m_mapResults.set(v, {
                    rgItems: t,
                    faceting: e.data.faceting,
                    multifaceting: e.data.multifaceting,
                    nMatchCount: e.data.match_count,
                    bMoreAvailable: e.data.possible_has_more,
                    nNextSolrIndex: a + i,
                    strRequest:
                      ("dev" === E.De.WEB_UNIVERSE && e.data.request) || void 0,
                  }),
                  me.Debug(
                    `GetItems start ${a} count ${i} items ${t.length} next ${a + i}`,
                  ),
                  this.m_mapResults.get(v)
                );
              }
              this.m_mapPromises.delete(v), (y = (0, O.l)(e));
            } catch (e) {
              if (
                (this.m_mapPromises.delete(v),
                (y = (0, O.l)(e)),
                x().isCancel(e))
              )
                return (
                  console.log(
                    "CSaleItemBrowserStore.InternalGetItems: " +
                      (null == y ? void 0 : y.strErrorMsg),
                  ),
                  null
                );
            }
            return (
              console.error(
                "CSaleItemBrowserStore.InternalGetItems failed: " +
                  (null == y ? void 0 : y.strErrorMsg),
                y,
              ),
              null
            );
          });
        }
        GetItemBrowserQueryKeyForConfig(e, t, n, a) {
          var i;
          return `browser_${e}_${n}_${a}_${t.nSectionUniqueID || "*"}_${t.nTabUniqueID || "*"}_${(null === (i = t.facetFilter) || void 0 === i ? void 0 : i.GetURLParam()) || "*"}_${t.strSearch || "*"}_${t.eControllerCategory || "*"}`;
        }
        GetItemBrowserQueryKey(e, t, n, a) {
          let i = this.GetItemBrowserQueryKeyForConfig(e, t, n, a);
          return (
            t.contentHub &&
              ((i += "_" + t.contentHub.type),
              "category" === t.contentHub.type
                ? (i += "_" + t.contentHub.category)
                : "tags" === t.contentHub.type &&
                  (i += "_" + t.contentHub.tagid)),
            i
          );
        }
      }
      var pe = n(13129),
        _e = n(37082),
        he = n.n(_e);
      function ge(e) {
        const {
          capsules_per_row: t,
          is_spotlights: n,
          is_item_browser: a,
          is_maincap: i,
          is_expanded_maincap: r,
        } = e;
        if (!t) return null;
        if (n)
          return l.createElement(
            "div",
            { className: he().GhostCtn },
            l.createElement(
              "div",
              { className: he().SpotlightsRow },
              l.createElement("div", { className: he().PlaceholderCap }),
              l.createElement("div", { className: he().PlaceholderCap }),
              l.createElement(
                "div",
                { className: he().DailyDealsColumn },
                l.createElement("div", { className: he().PlaceholderCap }),
                l.createElement("div", { className: he().PlaceholderCap }),
              ),
            ),
          );
        if (i)
          return l.createElement(
            "div",
            { className: he().GhostCtn },
            l.createElement(
              "div",
              {
                className: (0, pe.Z)({
                  [he().MainCapRow]: !0,
                  [he().MainCapRowExpanded]: r,
                }),
              },
              l.createElement("div", { className: he().PlaceholderCap }),
              l.createElement(
                "div",
                { className: (0, pe.Z)(he().DetailsPlaceholder) },
                l.createElement("div", {
                  className: (0, pe.Z)(
                    he().PlaceholderTitle,
                    he().PlaceholderCap,
                  ),
                }),
                l.createElement("div", {
                  className: (0, pe.Z)(
                    he().PlaceholderSubtitle,
                    he().PlaceholderCap,
                  ),
                }),
                l.createElement("div", {
                  className: (0, pe.Z)(
                    he().PlaceholderRelease,
                    he().PlaceholderCap,
                  ),
                }),
                l.createElement("div", {
                  className: (0, pe.Z)(
                    he().PlaceholderReviews,
                    he().PlaceholderCap,
                  ),
                }),
                l.createElement("div", {
                  className: (0, pe.Z)(
                    he().PlaceholderTags,
                    he().PlaceholderCap,
                  ),
                }),
              ),
            ),
          );
        if (a) {
          const e = [];
          for (let n = 0; n < t[0]; n++)
            e.push(
              l.createElement(
                "div",
                {
                  key: "item_browse_ghost_" + n,
                  className: he().ItemBrowserCapsule,
                },
                l.createElement("div", { className: he().PlaceholderCap }),
              ),
            );
          return l.createElement("div", { className: he().GhostCtn }, e);
        }
        return 1 == (null == t ? void 0 : t.length)
          ? 1 == t[0]
            ? l.createElement(
                "div",
                { className: he().GhostCtn },
                l.createElement(
                  "div",
                  { className: he().CapsuleRowSuperCapsule },
                  l.createElement("div", { className: he().PlaceholderCap }),
                ),
              )
            : 4 == t[0]
              ? l.createElement(
                  "div",
                  { className: he().GhostCtn },
                  l.createElement(
                    "div",
                    { className: he().CapsuleRow4 },
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                  ),
                )
              : l.createElement(
                  "div",
                  { className: he().GhostCtn },
                  l.createElement(
                    "div",
                    { className: he().CapsuleRow3 },
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                  ),
                )
          : 2 == (null == t ? void 0 : t.length)
            ? 3 == t[0] && 3 == t[1]
              ? l.createElement(
                  "div",
                  { className: he().GhostCtn },
                  l.createElement(
                    "div",
                    { className: he().CapsuleRow23 },
                    l.createElement(
                      "div",
                      { className: (0, pe.Z)(he().CapRow, he().Caps3) },
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                    ),
                    l.createElement(
                      "div",
                      { className: (0, pe.Z)(he().CapRow, he().Caps3) },
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                    ),
                  ),
                )
              : l.createElement(
                  "div",
                  { className: he().GhostCtn },
                  l.createElement(
                    "div",
                    { className: he().CapsuleRow23 },
                    l.createElement(
                      "div",
                      { className: (0, pe.Z)(he().CapRow, he().Caps2) },
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                    ),
                    l.createElement(
                      "div",
                      { className: (0, pe.Z)(he().CapRow, he().Caps3) },
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                      l.createElement("div", {
                        className: he().PlaceholderCap,
                      }),
                    ),
                  ),
                )
            : l.createElement(
                "div",
                { className: he().GhostCtn },
                l.createElement(
                  "div",
                  { className: he().CapsuleRow234 },
                  l.createElement(
                    "div",
                    { className: (0, pe.Z)(he().CapRow, he().Caps2) },
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                  ),
                  l.createElement(
                    "div",
                    { className: (0, pe.Z)(he().CapRow, he().Caps3) },
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                  ),
                  l.createElement(
                    "div",
                    { className: (0, pe.Z)(he().CapRow, he().Caps4) },
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                    l.createElement("div", { className: he().PlaceholderCap }),
                  ),
                ),
              );
      }
      var ve = n(92936),
        Ee = n(62613),
        Se = n(59728),
        De = n(25006),
        fe = n(83059),
        ye = n(30750);
      function be(e) {
        const t = Object.assign({}, e);
        if (!t) return t;
        if (
          t.type === ee.PJ.k_EStoreFilterClauseTypeOr ||
          t.type === ee.PJ.k_EStoreFilterClauseTypeAnd
        ) {
          if (!t.rgSubexpressions || 0 === t.rgSubexpressions.length)
            return null;
          if (
            ((t.rgSubexpressions = t.rgSubexpressions.map((e) => be(e))),
            !t.bNegated && 1 === t.rgSubexpressions.length)
          )
            return t.rgSubexpressions[0];
          if (!t.bNegated) {
            let e = [];
            for (const n of t.rgSubexpressions)
              n.bNegated || n.type !== t.type
                ? e.push(n)
                : (e = e.concat(n.rgSubexpressions));
            t.rgSubexpressions = e;
          }
        }
        return t;
      }
      var Ie = n(74031),
        Ce = n(50369),
        ke = n(11578),
        Ae = n(87676);
      function we(e, t) {
        const n = new Set(e);
        return (
          t.forEach((e) => {
            n.add(e);
          }),
          n
        );
      }
      function Pe(e, t) {
        const n = new Set();
        return (
          e.forEach((e) => {
            t.has(e) && n.add(e);
          }),
          n
        );
      }
      function Te(e, t) {
        const n = new Set(e);
        return (
          t.forEach((t) => {
            e.delete(t);
          }),
          n
        );
      }
      function Ne(e, t) {
        const n = e.values();
        let a = n.next();
        for (; !a.done; ) {
          if (!t.has(a.value)) return !1;
          a = n.next();
        }
        return !0;
      }
      class Re {
        constructor(e, t, n, a, i, l) {
          (this.m_facets = []),
            (this.m_priceStopInfo = []),
            (this.m_bServerSideFiltering = !1),
            (this.m_bUnboundedScope = !1),
            (this.m_nMinMatches = 1),
            (this.m_facetSortKey = ee.bS.k_ESortFacetsByMatchCount),
            (this.m_language = -1),
            (this.m_sortedFacets = []),
            (0, M.rC)(this),
            (this.m_nMinMatches = t),
            (this.m_facetSortKey = n),
            (this.m_language = a),
            (this.m_bServerSideFiltering = i),
            (this.m_bUnboundedScope = l),
            this.LoadPriceStops(),
            (this.m_facets = []),
            e.forEach((e) => {
              const t = [];
              e.facetValues.forEach((e) => {
                t.push({
                  facetValue: e,
                  bEnabled: Boolean(e.bEnabledByDefault),
                  nPriceStopIndex: Boolean(this.m_priceStopInfo)
                    ? this.m_priceStopInfo.length - 1
                    : void 0,
                  matchingCapsulesSet: Boolean(e.matchingCapsules)
                    ? new Set(e.matchingCapsules.map(je))
                    : void 0,
                  bDeactivated: !1,
                  nMatchingFilteredCapsules: null,
                  bHiddenBySearch: !1,
                });
              }),
                this.m_facets.push({
                  facet: e,
                  facetValues: t,
                  matchingCapsules: null,
                  matchingCapsulesInOtherFacets: null,
                });
            }),
            this.PruneFacets(),
            this.UpdateFilter(),
            (this.m_bHasHideIgnoredItemsFacetValue = e.some((e) =>
              e.facetValues.some(
                (e) =>
                  e.type === ee.HL.k_EUserPreference &&
                  e.userPreference === ee.oL.k_EHideIgnoredItems,
              ),
            )),
            this.SortFacets();
        }
        BHasHideIgnoredItemsFacetValue() {
          return this.m_bHasHideIgnoredItemsFacetValue;
        }
        GetFacets() {
          return this.m_facets;
        }
        GetQuery() {
          return this.m_strQuery;
        }
        GetURLParam() {
          return this.m_strURLParam;
        }
        GetSelectedOptionsCount() {
          return this.m_nSelectedOptions;
        }
        BIsUserPreferenceEnabled(e) {
          return this.m_userPreferences.has(e);
        }
        BIsAnyUserPreferenceEnabled() {
          return this.m_userPreferences.size > 0;
        }
        GetSortedFacets() {
          return this.m_sortedFacets;
        }
        GetPriceStops() {
          return this.m_priceStopInfo;
        }
        GetMatchCount() {
          return this.m_nFilteredCapsuleCount;
        }
        Reset() {
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          }),
            this.UpdateFilter();
        }
        SetFromURLParam(e) {
          if (e === this.m_strURLParam) return;
          this.m_facets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bEnabled = Boolean(e.facetValue.bEnabledByDefault);
            });
          });
          ((null == e ? void 0 : e.split(",")) || []).forEach((e) => {
            const t = e.split(":"),
              n = Number(t[0]);
            t[1].split("|").forEach((e) => {
              if (e.includes("_")) {
                const t = e.split("_");
                (this.m_facets[n].facetValues[Number(t[0])].bEnabled = !0),
                  (this.m_facets[n].facetValues[Number(t[0])].nPriceStopIndex =
                    Number(t[1]));
              } else
                this.m_facets[n].facetValues[Number(e)].bEnabled =
                  !this.m_facets[n].facetValues[Number(e)].facetValue
                    .bEnabledByDefault;
            });
          }),
            this.UpdateFilter();
        }
        SetPotentiallyVisibleCapsules(e) {
          (this.m_potentiallyVisibleCapsules = new Set(e.map(je))),
            this.PruneFacets();
        }
        SetFacetCounts(e) {
          if (((this.m_facetCounts = new Map()), e))
            for (const t of Object.keys(e))
              this.m_facetCounts.set(Number(t), Number(e[t]));
        }
        SetMultiFacetCounts(e) {
          if (((this.m_mapMultiFacetCounts = new Map()), e))
            for (const t of Object.keys(e)) {
              const n = e[t],
                a = new Map();
              if ("discounted" === t) {
                let e = 0;
                for (const t of Object.keys(n)) e += Number(n[t]);
                a.set("true", e);
              } else for (const e of Object.keys(n)) a.set(e, Number(n[e]));
              this.m_mapMultiFacetCounts.set(t, a);
            }
        }
        FilterCapsules(e) {
          return null == this.m_matchingReferencedCapsules
            ? e
            : e.filter((e) => this.m_matchingReferencedCapsules.has(je(e)));
        }
        SetSolrMatchCount(e) {
          this.m_nSolrMatchCount = e;
        }
        SetFacetValueSearchString(e, t, n) {
          var a;
          for (const e of this.m_facets)
            for (const t of e.facetValues) t.bHiddenBySearch = !1;
          if (!e) return;
          const i = e.toLocaleLowerCase().trim();
          if (0 !== i.length)
            for (const e of this.m_facets)
              for (const l of e.facetValues) {
                (
                  (null === (a = Me(l.facetValue, t, n)) || void 0 === a
                    ? void 0
                    : a.toLocaleLowerCase().trim()) || ""
                ).includes(i) || (l.bHiddenBySearch = !0);
              }
        }
        UpdateFilter() {
          this.UpdateMatchingReferencedCapsules(),
            this.UpdateQuery(),
            this.UpdateURLParam(),
            this.UpdateSelectedOptionsCount(),
            this.UpdateUserPreferenceFilters();
        }
        UpdateMatchingReferencedCapsules() {
          this.m_facets.forEach((e) => {
            (e.matchingCapsules = null),
              e.facetValues.some((e) => null == e.matchingCapsulesSet) ||
                e.facetValues.forEach((t) => {
                  if (t.bEnabled)
                    if (null == e.matchingCapsules)
                      e.matchingCapsules = t.matchingCapsulesSet;
                    else {
                      const n = e.facet.logical_and ? Pe : we;
                      e.matchingCapsules = n(
                        e.matchingCapsules,
                        t.matchingCapsulesSet,
                      );
                    }
                });
          }),
            this.m_facets.forEach((e) => {
              const t = this.m_facets.filter(
                (t) => t !== e && null != t.matchingCapsules,
              );
              (e.matchingCapsulesInOtherFacets = null),
                t.forEach((t) => {
                  null == e.matchingCapsulesInOtherFacets
                    ? (e.matchingCapsulesInOtherFacets = t.matchingCapsules)
                    : (e.matchingCapsulesInOtherFacets = Pe(
                        e.matchingCapsulesInOtherFacets,
                        t.matchingCapsules,
                      ));
                });
            }),
            (this.m_matchingReferencedCapsules = null),
            this.m_facets.forEach((e) => {
              null != e.matchingCapsules &&
                (null == this.m_matchingReferencedCapsules
                  ? (this.m_matchingReferencedCapsules = e.matchingCapsules)
                  : (this.m_matchingReferencedCapsules = Pe(
                      this.m_matchingReferencedCapsules,
                      e.matchingCapsules,
                    )));
            });
        }
        static BFacetHasEnabledOptTags(e) {
          for (const t of e.facetValues)
            if (t.bEnabled && null != t.facetValue.filter)
              for (const e of t.facetValue.filter.clauses)
                for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
          return !1;
        }
        UpdateQuery() {
          let e = {
            type: ee.PJ.k_EStoreFilterClauseTypeAnd,
            rgSubexpressions: new Array(),
          };
          this.m_facets.forEach((t) => {
            if (Re.BFacetHasEnabledOptTags(t)) return;
            const n = {
              type: t.facet.logical_and
                ? ee.PJ.k_EStoreFilterClauseTypeAnd
                : ee.PJ.k_EStoreFilterClauseTypeOr,
              rgSubexpressions: new Array(),
            };
            t.facetValues.forEach((e) => {
              if (e.bEnabled && Boolean(e.facetValue.rgStoreTagFilter)) {
                if (e.facetValue.type === ee.HL.k_EUserPreference) return;
                const t = Object.assign({}, e.facetValue.rgStoreTagFilter);
                e.facetValue.type === ee.HL.k_EPrice &&
                  (t.value = Boolean(this.m_priceStopInfo)
                    ? this.m_priceStopInfo[e.nPriceStopIndex].price
                    : void 0),
                  (e.facetValue.type !== ee.HL.k_EPrice ||
                    Boolean(this.m_priceStopInfo)) &&
                    n.rgSubexpressions.push(t);
              }
            }),
              0 !== n.rgSubexpressions.length && e.rgSubexpressions.push(n);
          }),
            (e = be(e)),
            (this.m_strQuery = Boolean(e) ? JSON.stringify(e) : "");
        }
        UpdateURLParam() {
          const e = [];
          this.m_facets.forEach((t, n) => {
            const a = [];
            if (
              (t.facetValues.forEach((e, t) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  (e.facetValue.type === ee.HL.k_EPrice
                    ? a.push(t + "_" + e.nPriceStopIndex)
                    : a.push(t.toString()));
              }),
              0 === a.length)
            )
              return;
            const i = a.join("|");
            e.push(n + ":" + i);
          }),
            (this.m_strURLParam = e.length > 0 ? e.join(",") : void 0);
        }
        UpdateSelectedOptionsCount() {
          (this.m_nSelectedOptions = 0),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) &&
                  ++this.m_nSelectedOptions;
              });
            });
        }
        UpdateUserPreferenceFilters() {
          (this.m_userPreferences = new Set()),
            this.m_facets.forEach((e) => {
              e.facetValues.forEach((e) => {
                e.facetValue.type === ee.HL.k_EUserPreference &&
                  e.bEnabled &&
                  this.m_userPreferences.add(e.facetValue.userPreference);
              });
            });
        }
        PruneFacets() {
          (this.m_prunedFacets = []),
            this.m_bServerSideFiltering || !this.m_potentiallyVisibleCapsules
              ? this.m_facets.forEach((e) => {
                  e.facetValues.forEach((e) => {
                    (e.bDeactivated = !1), (e.nMatchingFilteredCapsules = null);
                  }),
                    this.m_prunedFacets.push({
                      facet: e,
                      facetValues: e.facetValues,
                    });
                })
              : this.m_facets.forEach((e) => {
                  let t = [];
                  e.facetValues.forEach((e) => {
                    let n = !1;
                    if (null != e.matchingCapsulesSet) {
                      const t = Pe(
                        e.matchingCapsulesSet,
                        this.m_potentiallyVisibleCapsules,
                      );
                      (t.size < this.m_nMinMatches ||
                        this.m_potentiallyVisibleCapsules.size <= t.size) &&
                        (n = !0);
                    }
                    n ||
                      ((e.bDeactivated = !1),
                      (e.nMatchingFilteredCapsules = null),
                      t.push(e));
                  }),
                    t.length > 0 &&
                      this.m_prunedFacets.push({ facet: e, facetValues: t });
                }),
            this.PruneFacetsForCurrentUser();
        }
        PruneFacetsForCurrentUser() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues = e.facetValues.filter((e) =>
              e.facetValue.type === ee.HL.k_EContentDescriptor
                ? !te.jg.Get().BIsLoaded() ||
                  te.jg
                    .Get()
                    .BIncludesContentDescriptor(e.facetValue.contentDescriptor)
                : e.facetValue.type === ee.HL.k_ELanguage
                  ? !te.jg.Get().BIsLoaded() ||
                    0 === e.facetValue.language ||
                    ((0 !== te.jg.Get().GetSecondaryLanguages().size ||
                      0 !== te.jg.Get().GetPrimaryLanguage()) &&
                      (te.jg.Get().GetPrimaryLanguage() ===
                        e.facetValue.language ||
                        te.jg
                          .Get()
                          .GetSecondaryLanguages()
                          .has(e.facetValue.language)))
                  : e.facetValue.type !== ee.HL.k_EUserPreference ||
                    (E.L7.logged_in && te.jg.Get().BIsLoaded()),
            );
          }),
            (this.m_prunedFacets = this.m_prunedFacets.filter(
              (e) => e.facetValues.length > 0,
            ));
        }
        UpdateMatchingFilteredCapsuleCounts() {
          this.m_bServerSideFiltering
            ? this.m_prunedFacets.forEach((e) => {
                e.facetValues.forEach((e) => {
                  e.nMatchingFilteredCapsules =
                    this.GetMatchCountForFacetValue(e);
                });
              })
            : this.m_prunedFacets.forEach((e) => {
                e.facetValues.forEach((e) => {
                  this.m_filteredCapsules && e.matchingCapsulesSet
                    ? (e.nMatchingFilteredCapsules = Pe(
                        this.m_filteredCapsules,
                        e.matchingCapsulesSet,
                      ).size)
                    : (e.nMatchingFilteredCapsules = null);
                });
              });
        }
        GetMatchCountForFacetValue(e) {
          var t,
            n,
            a,
            i,
            l,
            r,
            o,
            s,
            c,
            m,
            d,
            u,
            p,
            _,
            h,
            g,
            v,
            E,
            S,
            D,
            f,
            y,
            b,
            I;
          if (this.m_mapMultiFacetCounts) {
            const I = "402",
              C = "401",
              k = "9",
              A = "28",
              w = "18",
              P = "41",
              T = "42",
              R = "43",
              G = "44",
              L = "61",
              B = "37";
            switch (e.facetValue.type) {
              case ee.HL.k_ESaleTagFilter:
              case void 0:
                if (
                  (null === (t = e.facetValue.rgStoreTagFilter) || void 0 === t
                    ? void 0
                    : t.type) === ee.PJ.k_EStoreFilterClauseTypeStoreTag &&
                  e.facetValue.nAtomicStoreTagID
                )
                  return null ===
                    (n = this.m_mapMultiFacetCounts.get("tagidset")) ||
                    void 0 === n
                    ? void 0
                    : n.get(e.facetValue.nAtomicStoreTagID.toString());
                if (
                  (null === (a = e.facetValue.rgStoreTagFilter) || void 0 === a
                    ? void 0
                    : a.type) === ee.PJ.k_EStoreFilterClauseTypeFeatureTag
                )
                  switch (e.facetValue.rgStoreTagFilter.value) {
                    case "windows":
                      return null ===
                        (i = this.m_mapMultiFacetCounts.get("platform_win")) ||
                        void 0 === i
                        ? void 0
                        : i.get("true");
                    case "linux":
                      return null ===
                        (l =
                          this.m_mapMultiFacetCounts.get("platform_linux")) ||
                        void 0 === l
                        ? void 0
                        : l.get("true");
                    case "mac":
                      return null ===
                        (r = this.m_mapMultiFacetCounts.get("platform_mac")) ||
                        void 0 === r
                        ? void 0
                        : r.get("true");
                    case "vr":
                      return null ===
                        (o = this.m_mapMultiFacetCounts.get("vrsupport")) ||
                        void 0 === o
                        ? void 0
                        : o.get(I);
                    case "vr only":
                      return null ===
                        (s = this.m_mapMultiFacetCounts.get("vrsupport")) ||
                        void 0 === s
                        ? void 0
                        : s.get(C);
                    case "full controller":
                      return null ===
                        (c = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === c
                        ? void 0
                        : c.get(A);
                    case "any controller":
                      return (
                        (null ===
                          (m = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === m
                          ? void 0
                          : m.get(A)) ||
                        (null ===
                          (d = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === d
                          ? void 0
                          : d.get(w))
                      );
                    case "remote play":
                      return Math.max(
                        null ===
                          (u = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === u
                          ? void 0
                          : u.get(P),
                        null ===
                          (p = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === p
                          ? void 0
                          : p.get(T),
                        null ===
                          (_ = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === _
                          ? void 0
                          : _.get(R),
                        null ===
                          (h = this.m_mapMultiFacetCounts.get("category")) ||
                          void 0 === h
                          ? void 0
                          : h.get(G),
                      );
                    case "remote play together":
                      return null ===
                        (g = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === g
                        ? void 0
                        : g.get(G);
                    case "free":
                      return null ===
                        (v = this.m_mapMultiFacetCounts.get("genre")) ||
                        void 0 === v
                        ? void 0
                        : v.get(B);
                    case "discounted":
                      return null ===
                        (E = this.m_mapMultiFacetCounts.get("discounted")) ||
                        void 0 === E
                        ? void 0
                        : E.get("true");
                    case "coop":
                      return null ===
                        (S = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === S
                        ? void 0
                        : S.get(k);
                    case "hdr":
                      return null ===
                        (D = this.m_mapMultiFacetCounts.get("category")) ||
                        void 0 === D
                        ? void 0
                        : D.get(L);
                  }
                break;
              case ee.HL.k_EAppType:
                return null === (f = this.m_mapMultiFacetCounts.get("type")) ||
                  void 0 === f
                  ? void 0
                  : f.get(e.facetValue.appType);
              case ee.HL.k_ELanguage:
                const x = (0, N.j_)(e.facetValue.language);
                return null ===
                  (y = this.m_mapMultiFacetCounts.get("supportedlang_" + x)) ||
                  void 0 === y
                  ? void 0
                  : y.get("true");
              case ee.HL.k_EContentDescriptor:
                return null ===
                  (b = this.m_mapMultiFacetCounts.get("descids")) ||
                  void 0 === b
                  ? void 0
                  : b.get(e.facetValue.contentDescriptor.toString());
            }
          } else if (this.m_facetCounts)
            return null === (I = this.m_facetCounts) || void 0 === I
              ? void 0
              : I.get(e.facetValue.nAtomicStoreTagID);
          return null;
        }
        DeactivateFacetValues() {
          this.m_prunedFacets.forEach((e) => {
            e.facetValues.forEach((e) => {
              e.bDeactivated = !1;
            });
          }),
            this.m_bServerSideFiltering
              ? this.m_prunedFacets.forEach((e) => {
                  const t = ze(e.facet.facet);
                  e.facetValues.forEach((e) => {
                    let n = e.nMatchingFilteredCapsules;
                    e.bDeactivated = !(
                      e.bEnabled ||
                      t ||
                      0 !== n ||
                      e.facetValue.type === ee.HL.k_EUserPreference
                    );
                  });
                })
              : this.m_prunedFacets.forEach((e) => {
                  e.facetValues.forEach((t) => {
                    if (null != t.matchingCapsulesSet && !t.bEnabled)
                      if (null != e.facet.matchingCapsules) {
                        let n = t.matchingCapsulesSet;
                        null != e.facet.matchingCapsulesInOtherFacets &&
                          (n = Pe(n, e.facet.matchingCapsulesInOtherFacets)),
                          Boolean(this.m_filteredCapsules) &&
                            Ne(n, this.m_filteredCapsules) &&
                            (t.bDeactivated = !0);
                      } else
                        Boolean(this.m_filteredCapsules) &&
                          (!(function (e, t) {
                            if (
                              (!Boolean(e) && Boolean(t)) ||
                              (Boolean(e) && !Boolean(t))
                            )
                              return !0;
                            if (!Boolean(e) && !Boolean(t)) return !1;
                            const n = e.values();
                            let a = n.next();
                            for (; !a.done; ) {
                              if (t.has(a.value)) return !1;
                              a = n.next();
                            }
                            return !0;
                          })(t.matchingCapsulesSet, this.m_filteredCapsules)
                            ? Ne(
                                this.m_filteredCapsules,
                                t.matchingCapsulesSet,
                              ) && (t.bDeactivated = !0)
                            : (t.bDeactivated = !0));
                  });
                });
        }
        SortFacets() {
          this.UpdateMatchingFilteredCapsuleCounts(),
            this.DeactivateFacetValues(),
            (this.m_sortedFacets = []),
            this.m_prunedFacets.forEach((e) => {
              const t = e.facetValues.slice();
              t.sort((e, t) => {
                if (
                  e.facetValue.type === ee.HL.k_EPrice &&
                  t.facetValue.type !== ee.HL.k_EPrice
                )
                  return 1;
                if (
                  e.facetValue.type !== ee.HL.k_EPrice &&
                  t.facetValue.type == ee.HL.k_EPrice
                )
                  return -1;
                if (e.bEnabled !== t.bEnabled) return t.bEnabled ? 1 : -1;
                if (e.bDeactivated !== t.bDeactivated)
                  return e.bDeactivated ? 1 : -1;
                if (!e.bEnabled && !e.bDeactivated) {
                  if (
                    e.facetValue.type === ee.HL.k_ELanguage &&
                    t.facetValue.type === ee.HL.k_ELanguage
                  )
                    return t.facetValue.language ===
                      te.jg.Get().GetPrimaryLanguage()
                      ? 1
                      : -1;
                  const n = e.nMatchingFilteredCapsules || 0,
                    a = t.nMatchingFilteredCapsules || 0;
                  if (
                    this.m_facetSortKey === ee.bS.k_ESortFacetsByMatchCount &&
                    n !== a
                  )
                    return a - n;
                }
                if (this.m_facetSortKey === ee.bS.k_ESortFacetsByName) {
                  const n = v.LZ.GetWithFallback(
                      e.facetValue.name,
                      this.m_language,
                    ),
                    a = v.LZ.GetWithFallback(
                      t.facetValue.name,
                      this.m_language,
                    );
                  return n.localeCompare(a);
                }
                return 0;
              }),
                this.m_sortedFacets.push(
                  Object.assign(Object.assign({}, e), { facetValues: t }),
                );
            });
        }
        LoadPriceStops() {
          var e, t, n;
          return (0, C.mG)(this, void 0, void 0, function* () {
            const a = (0, E.ip)("pricestops", "application_config");
            if (a) this.m_priceStopInfo = a;
            else {
              const a = E.De.STORE_BASE_URL + "saleaction/ajaxgetpricestops";
              let i;
              try {
                if (
                  ((i = yield x().get(a)),
                  1 !==
                    (null === (e = null == i ? void 0 : i.data) || void 0 === e
                      ? void 0
                      : e.success))
                )
                  return (
                    console.error(
                      "Unable to load price stop data: ",
                      null === (t = null == i ? void 0 : i.data) || void 0 === t
                        ? void 0
                        : t.success,
                    ),
                    null
                  );
              } catch (e) {
                return (
                  console.error(
                    "Unable to load price stop data: ",
                    null === (n = null == i ? void 0 : i.data) || void 0 === n
                      ? void 0
                      : n.success,
                  ),
                  null
                );
              }
              this.m_priceStopInfo = i.data.rgPriceStops;
            }
            this.m_priceStopInfo[0].price = 0;
          });
        }
        ApplyOptInFilters(e) {
          if (
            ((this.m_setCapsulesRemovedByOptInFilters = new Set()),
            !this.m_bServerSideFiltering)
          )
            return e;
          if (this.m_bUnboundedScope) return e;
          let t;
          for (const e of this.m_facets)
            Re.BFacetHasEnabledOptTags(e) &&
              (t = null == t ? e.matchingCapsules : Pe(t, e.matchingCapsules));
          if (null == t) return e;
          const n = [];
          for (const a of e) {
            const e = je(a);
            t.has(e)
              ? n.push(a)
              : this.m_setCapsulesRemovedByOptInFilters.add(e);
          }
          return n;
        }
        ApplyPriceFilters(e) {
          if (
            ((this.m_setCapsulesRemovedByPriceFilters = new Set()),
            this.m_bServerSideFiltering)
          )
            return e;
          let t;
          for (const e of this.m_facets) {
            for (const n of e.facetValues)
              if (n.facetValue.type === ee.HL.k_EPrice) {
                t = n;
                break;
              }
            if (null != t) break;
          }
          if (null == t) return e;
          if (null == this.m_priceStopInfo) return e;
          const n =
            null != t.nPriceStopIndex
              ? t.nPriceStopIndex
              : this.m_priceStopInfo.length - 1;
          if (n === this.m_priceStopInfo.length - 1) return e;
          const a = this.m_priceStopInfo[n].price,
            i = [];
          for (const t of e) {
            let e = !1,
              n = 0;
            const l = X.Z.Get().GetStoreItem(t.id, (0, ce.TM)(t.type));
            l && (n = l.GetBestPurchasePriceInCents()),
              e
                ? n <= 100 * a
                  ? i.push(t)
                  : this.m_setCapsulesRemovedByPriceFilters.add(je(t))
                : i.push(t);
          }
          return i;
        }
        ApplyUserPreferenceFilters(e, t, n) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            const a = this.BHasHideIgnoredItemsFacetValue(),
              i = this.BIsUserPreferenceEnabled(ee.oL.k_EHideOwnedItems),
              l = this.BIsUserPreferenceEnabled(ee.oL.k_EHideWishlistedItems),
              r = this.BIsUserPreferenceEnabled(ee.oL.k_EHideIgnoredItems);
            let o = [];
            const s = yield (0, Ce.MN)(e, t, i, l, a, r, o);
            if (
              ((this.m_setCapsulesRemovedByUserPreferenceFilters = new Set(
                o.map(je),
              )),
              n)
            )
              for (const e of o) n.push(e);
            return s;
          });
        }
        UpdateMatchCount(e, t) {
          var n, a, i;
          this.m_bServerSideFiltering ||
            ((this.m_filteredCapsules = null),
            null != this.m_potentiallyVisibleCapsules &&
              ((this.m_filteredCapsules = this.m_potentiallyVisibleCapsules),
              null != this.m_matchingReferencedCapsules &&
                (this.m_filteredCapsules = Pe(
                  this.m_filteredCapsules,
                  this.m_matchingReferencedCapsules,
                )),
              null != this.m_setCapsulesRemovedByPriceFilters &&
                (this.m_filteredCapsules = Te(
                  this.m_filteredCapsules,
                  this.m_setCapsulesRemovedByPriceFilters,
                )),
              null != this.m_setCapsulesRemovedByUserPreferenceFilters &&
                (this.m_filteredCapsules = Te(
                  this.m_filteredCapsules,
                  this.m_setCapsulesRemovedByUserPreferenceFilters,
                )))),
            e
              ? this.m_bServerSideFiltering
                ? ((this.m_nFilteredCapsuleCount = this.m_nSolrMatchCount),
                  (this.m_nFilteredCapsuleCount -=
                    (null === (a = this.m_setCapsulesRemovedByOptInFilters) ||
                    void 0 === a
                      ? void 0
                      : a.size) || 0),
                  (this.m_nFilteredCapsuleCount -=
                    (null ===
                      (i = this.m_setCapsulesRemovedByUserPreferenceFilters) ||
                    void 0 === i
                      ? void 0
                      : i.size) || 0))
                : (this.m_nFilteredCapsuleCount =
                    (null === (n = this.m_filteredCapsules) || void 0 === n
                      ? void 0
                      : n.size) || 0)
              : (this.m_nFilteredCapsuleCount = t),
            this.SortFacets();
        }
      }
      (0, C.gn)([M.LO], Re.prototype, "m_facets", void 0),
        (0, C.gn)([M.LO], Re.prototype, "m_priceStopInfo", void 0),
        (0, C.gn)([M.LO], Re.prototype, "m_sortedFacets", void 0),
        (0, C.gn)([M.aD], Re.prototype, "Reset", null),
        (0, C.gn)([M.aD], Re.prototype, "SetFromURLParam", null),
        (0, C.gn)([M.aD], Re.prototype, "SetPotentiallyVisibleCapsules", null),
        (0, C.gn)([M.aD], Re.prototype, "SetFacetCounts", null),
        (0, C.gn)([M.aD], Re.prototype, "SetMultiFacetCounts", null),
        (0, C.gn)([M.aD], Re.prototype, "SetSolrMatchCount", null),
        (0, C.gn)([M.aD], Re.prototype, "SetFacetValueSearchString", null),
        (0, C.gn)([M.aD], Re.prototype, "UpdateMatchCount", null);
      const Ge = (0, Q.Pi)((e) => {
          var t, n;
          const {
              language: a,
              linkColor: i,
              headingColor: r,
              background: o,
              styleOverrides: s,
              facetFilterState: c,
              fnOnUpdateFilter: m,
              onInitFilter: u,
            } = e,
            [p, _] = (0, l.useState)(""),
            { data: h } = (0, Ie.NH)((0, N.j_)(a));
          let g, E;
          (null == s ? void 0 : s.menu) ||
            (g = { background: o, color: i || "white" }),
            (null == s ? void 0 : s.menuTitle) ||
              (E = {
                borderBottom: "0px solid " + (i || "white"),
                color: r || "white",
              });
          const S = (0, l.useRef)(null),
            D = () => {
              c.UpdateFilter(), m();
            };
          return (
            l.useEffect(() => {
              !c && u && u();
            }, [c, u]),
            l.useEffect(() => {
              var t;
              c &&
                e.rgItems &&
                (c.SetFacetCounts(e.faceting),
                c.SetMultiFacetCounts(e.multifaceting),
                c.SetSolrMatchCount(e.nMatchCount),
                c.UpdateMatchCount(
                  e.bMoreAvailable,
                  null === (t = e.rgItems) || void 0 === t ? void 0 : t.length,
                ));
            }, [
              c,
              e.bMoreAvailable,
              e.faceting,
              e.multifaceting,
              e.nMatchCount,
              e.rgItems,
              null === (t = e.rgItems) || void 0 === t ? void 0 : t.length,
            ]),
            c
              ? l.createElement(
                  "div",
                  {
                    ref: S,
                    className:
                      (null == s ? void 0 : s.menu) || Ae.FacetedBrowseControls,
                    style: g,
                  },
                  l.createElement(
                    "div",
                    {
                      className:
                        (null == s ? void 0 : s.menuTitle) || Ae.FacetMenuTitle,
                      style: E,
                    },
                    (0, v.Xx)("#FacetedBrowse_Heading"),
                  ),
                  Boolean(c) &&
                    l.createElement(
                      "div",
                      {
                        className:
                          (null == s ? void 0 : s.matchCount) ||
                          Ae.FacetedBrowseMatchCount,
                      },
                      null != c.GetMatchCount() &&
                        (0, v.kb)(
                          "#FacetedBrowse_MatchCount",
                          c.GetMatchCount(),
                        ),
                    ),
                  l.createElement(
                    "div",
                    { className: Ae.FacetValueSearch },
                    l.createElement(d.II, {
                      type: "text",
                      value: p,
                      placeholder: (0, v.Xx)(
                        "#FacetedBrowse_SearchFacetValues",
                      ),
                      onChange: (e) => {
                        _(e.target.value),
                          c.SetFacetValueSearchString(e.target.value, a, h);
                      },
                      bShowClearAction: !0,
                    }),
                  ),
                  l.createElement(
                    Le,
                    Object.assign(
                      {
                        facets: null == c ? void 0 : c.GetSortedFacets(),
                        onUpdateFilter: D,
                      },
                      e,
                    ),
                  ),
                  l.createElement(
                    "div",
                    {
                      className:
                        (null == s ? void 0 : s.reset) || Ae.FacetedBrowseReset,
                    },
                    l.createElement(
                      "a",
                      {
                        onClick: (e) => {
                          e.preventDefault(),
                            (0, M.z)(() => {
                              c.Reset(), m();
                            });
                        },
                      },
                      (0, v.Xx)("#FacetedBrowse_Reset"),
                    ),
                  ),
                  null === (n = null == c ? void 0 : c.GetSortedFacets()) ||
                    void 0 === n
                    ? void 0
                    : n.map((t, n) =>
                        l.createElement(xe, {
                          key:
                            "facet_" +
                            v.LZ.GetWithFallback(t.facet.facet.name, a) +
                            "_" +
                            n,
                          facet: t,
                          facetFilterState: c,
                          nFacetIndex: n,
                          language: a,
                          nMaxFacetValues: e.nMaxFacetValues,
                          highlightedFacetColor: e.highlightedFacetColor,
                          linkColor: e.linkColor,
                          headingColor: e.headingColor,
                          fnOnUpdateFilter: D,
                          styleOverrides: s,
                          bSearching: (null == p ? void 0 : p.length) > 0,
                        }),
                      ),
                  l.createElement(
                    "div",
                    {
                      className:
                        (null == s ? void 0 : s.reset) || Ae.FacetedBrowseReset,
                    },
                    l.createElement(
                      "a",
                      {
                        onClick: (e) => {
                          e.preventDefault();
                          const t =
                            S.current.getBoundingClientRect().top +
                            window.scrollY;
                          window.scrollTo(0, t);
                        },
                      },
                      (0, v.Xx)("#FacetedBrowse_ReturnToTop"),
                    ),
                  ),
                )
              : null
          );
        }),
        Le = (0, Q.Pi)((e) => {
          const { facets: t } = e,
            [n, a] = (0, l.useState)([]);
          return (
            (0, l.useEffect)(() => {
              const e = [];
              if (t)
                for (const n of t)
                  for (const t of n.facetValues)
                    t.bEnabled &&
                      t.facetValue.type !== ee.HL.k_EPrice &&
                      e.push(t);
              a(e);
            }, [t]),
            n
              ? l.createElement(
                  l.Fragment,
                  null,
                  l.createElement(
                    "div",
                    { className: Ae.SelectedFacetValuesTitle },
                    (0, v.Xx)("#FacetedBrowse_SelectedFacetValues"),
                  ),
                  l.createElement(
                    "div",
                    { className: Ae.SelectedFacetValuesList },
                    n.map((t, n) =>
                      l.createElement(
                        Be,
                        Object.assign(
                          {
                            key: t.facetValue.unique_id + "_" + n,
                            facetValue: t,
                          },
                          e,
                        ),
                      ),
                    ),
                  ),
                )
              : null
          );
        }),
        Be = (0, Q.Pi)((e) => {
          const { facetValue: t, language: n, onUpdateFilter: a } = e,
            i = Oe(t.facetValue, n);
          return l.createElement(
            "a",
            {
              className: Ae.SelectedFacetValueCtn,
              onClick: (e) => {
                e.preventDefault(), (t.bEnabled = !1), a && a();
              },
            },
            l.createElement(Ee.XBH, null),
            l.createElement("span", { className: Ae.SelectedFacetValue }, i),
          );
        }),
        xe = (0, Q.Pi)((e) => {
          const {
              language: t,
              linkColor: n,
              headingColor: a,
              facet: i,
              nFacetIndex: r,
              styleOverrides: o,
              bSearching: s,
            } = e,
            [c, m] = (0, l.useState)(Boolean(0 !== r)),
            [d, u] = (0, l.useState)(!1);
          if (i.facetValues.every((e) => e.bHiddenBySearch)) return null;
          let p;
          (null == o ? void 0 : o.facetName) ||
            (p = {
              borderBottom: "0px solid " + (n || "white"),
              color: a || "white",
            });
          const _ = (0, v.Xx)(
            v.LZ.GetWithFallback(i.facet.facet.name, t).trim(),
          );
          let h = e.nMaxFacetValues;
          const g = i.facetValues.reduce(
            (e, t) => e + (t.bDeactivated ? 1 : 0),
            0,
          );
          h = Math.min(h, i.facetValues.length - g);
          const E = i.facetValues.reduce(
              (e, t) =>
                e +
                (t.bEnabled || t.facetValue.type === ee.HL.k_EPrice ? 1 : 0),
              0,
            ),
            S = i.facetValues.some((e) => !e.bEnabled && !e.bDeactivated);
          h = Math.max(h, E + (S ? 1 : 0));
          const D = i.facetValues.length > h;
          let f = !D || d || s ? i.facetValues : i.facetValues.slice(0, h);
          c && !s && (f = f.filter((e) => e.bEnabled));
          const y = f.every((e) => {
            var n;
            return (
              !Boolean(e.facetValue.subtitle) ||
              (null === (n = v.LZ.GetWithFallback(e.facetValue.subtitle, t)) ||
              void 0 === n
                ? void 0
                : n.length) <= 0
            );
          });
          return l.createElement(
            "div",
            { className: Ae.Facet },
            l.createElement(
              "div",
              { className: Ae.FacetTitleCtn, onClick: () => m(!c) },
              l.createElement(
                "div",
                {
                  className:
                    (null == o ? void 0 : o.facetName) || Ae.FacetTitle,
                  style: p,
                },
                _,
              ),
              l.createElement(Ee.ret, { angle: c ? 270 : 0 }),
            ),
            f.map((t, n) =>
              l.createElement(
                Fe,
                Object.assign(
                  {
                    key: "facet_" + _ + "_value_" + n,
                    facetValue: t,
                    styleOverrides: o,
                    showMatchCounts: y && !ze(i.facet.facet),
                  },
                  e,
                ),
              ),
            ),
            !c &&
              D &&
              !s &&
              l.createElement(
                "div",
                {
                  className:
                    (null == o ? void 0 : o.showMore) || Ae.FacetValueShowMore,
                  onClick: () => u(!d),
                },
                d
                  ? (0, v.Xx)("#Bbcode_Expand_ShowMore_Expanded")
                  : (0, v.Xx)("#Bbcode_Expand_ShowMore_Collapsed"),
              ),
          );
        });
      function Me(e, t, n) {
        var a, i;
        const l = e.name;
        if (
          (null == l ? void 0 : l.length) > 0 &&
          (null === (a = l[0]) || void 0 === a
            ? void 0
            : a.startsWith("#tagid_"))
        ) {
          const e = parseInt(l[0].substring(7));
          if (e > 0)
            return null === (i = null == n ? void 0 : n.get(e)) || void 0 === i
              ? void 0
              : i.name;
        }
        return (0, v.Xx)(v.LZ.GetWithFallback(l, t).trim());
      }
      function Oe(e, t) {
        var n, a;
        const i = e.name;
        let l;
        (null == i ? void 0 : i.length) > 0 &&
          (null === (n = i[0]) || void 0 === n
            ? void 0
            : n.startsWith("#tagid_")) &&
          (l = parseInt(i[0].substring(7)));
        const r =
          null === (a = (0, Ie.wj)(l, (0, N.j_)(t))) || void 0 === a
            ? void 0
            : a.name;
        return l ? r : (0, v.Xx)(v.LZ.GetWithFallback(i, t).trim());
      }
      const Fe = (0, Q.Pi)((e) => {
          const {
              language: t,
              highlightedFacetColor: n,
              linkColor: a,
              facetValue: i,
              facetFilterState: r,
              styleOverrides: o,
              fnOnUpdateFilter: s,
              showMatchCounts: c,
            } = e,
            m = Oe(i.facetValue, t);
          if (i.facetValue.type === ee.HL.k_EPrice && null == r.m_priceStopInfo)
            return null;
          if (i.bHiddenBySearch) return null;
          const u = i.bEnabled,
            p = i.bDeactivated,
            _ = {
              color: n || "darkorange",
              borderLeft: "4px solid " + (n || "darkorange"),
            };
          let h, g;
          (null == o ? void 0 : o.facetValue) || (h = u ? _ : {}),
            (null == o ? void 0 : o.facetValueName) ||
              (g = { color: a || "white" });
          const E = (e) => {
              e.preventDefault(),
                (0, M.z)(() => {
                  p || ((i.bEnabled = !i.bEnabled), s());
                });
            },
            S = (e) => {
              (0, M.z)(() => {
                i.nPriceStopIndex = Math.floor(e);
              });
            },
            D = () => {
              (0, M.z)(() => {
                (i.bEnabled = Boolean(
                  i.nPriceStopIndex !== r.m_priceStopInfo.length - 1,
                )),
                  s();
              });
            },
            f = m,
            y = Boolean(i.facetValue.subtitle)
              ? v.LZ.GetWithFallback(i.facetValue.subtitle, t)
              : null;
          if (i.facetValue.type === ee.HL.k_EPrice) {
            const e =
              null != i.nPriceStopIndex
                ? i.nPriceStopIndex
                : r.m_priceStopInfo.length - 1;
            return l.createElement(d.DS, {
              className: Ae.FacetValuePriceSlider,
              min: 0,
              max: r.m_priceStopInfo.length - 1,
              value: e,
              label: r.m_priceStopInfo[e].label,
              onChange: S,
              onChangeComplete: D,
            });
          }
          {
            const e = (null == o ? void 0 : o.facetValue) || Ae.FacetValue,
              t =
                (null == o ? void 0 : o.facetValueEnabled) ||
                Ae.FacetValueEnabled,
              n =
                (null == o ? void 0 : o.facetValueDeactivated) ||
                Ae.FacetValueDeactivated,
              a = (null == o ? void 0 : o.facetValueName) || Ae.FacetValueName;
            return l.createElement(
              "div",
              { className: u ? t : p ? n : e, style: h },
              l.createElement(
                "a",
                { className: a, style: g, onClick: E, href: "" },
                f,
              ),
              c &&
                !i.bDeactivated &&
                Boolean(i.nMatchingFilteredCapsules) &&
                l.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.facetValueDesc) ||
                      Ae.FacetValueDescription,
                  },
                  i.nMatchingFilteredCapsules,
                ),
              Boolean(y) &&
                l.createElement(
                  "div",
                  {
                    className:
                      (null == o ? void 0 : o.facetValueDesc) ||
                      Ae.FacetValueDescription,
                  },
                  y,
                ),
            );
          }
        }),
        Ue = (0, Q.Pi)((e) => {
          const {
              background: t,
              labelColor: n,
              headingColor: a,
              buttonColor: i,
              highlightedFacetColor: r,
            } = e,
            [o, s] = (0, l.useState)(!1);
          return l.createElement(
            "div",
            { className: Ae.FacetedBrowseCtn },
            Ve() &&
              l.createElement(He, {
                buttonColor: i,
                bShowControls: o,
                fnOnToggleControls: () => {
                  s(!o);
                },
              }),
            l.createElement(
              "div",
              { className: Ae.FacetedBrowseInnerCtn },
              o || !Ve()
                ? l.createElement(
                    Ge,
                    Object.assign(
                      {
                        highlightedFacetColor: r,
                        linkColor: n,
                        headingColor: a,
                        background: t,
                      },
                      e,
                    ),
                  )
                : null,
              l.createElement(
                "div",
                { className: Ae.FacetedBrowseItems },
                e.children,
              ),
            ),
          );
        }),
        He = (0, Q.Pi)((e) => {
          const { buttonColor: t, bShowControls: n, fnOnToggleControls: a } = e,
            i = { color: t || "white" };
          return l.createElement(
            "div",
            { className: Ae.FacetedBrowsePopupCtn, onClick: () => a() },
            n
              ? l.createElement(
                  l.Fragment,
                  null,
                  l.createElement(
                    "div",
                    { className: Ae.FacetedBrowsePopup, style: i },
                    l.createElement(Ee.XBH, null),
                  ),
                  l.createElement(
                    "div",
                    { className: Ae.FacetedBrowsePopupLabel },
                    (0, v.Xx)("#Button_Close"),
                  ),
                )
              : l.createElement(
                  l.Fragment,
                  null,
                  l.createElement(
                    "div",
                    { className: Ae.FacetedBrowsePopup, style: i },
                    l.createElement(Ee.wn$, null),
                  ),
                  l.createElement(
                    "div",
                    { className: Ae.FacetedBrowsePopupLabel },
                    (0, v.Xx)("#FacetedBrowse_Heading"),
                  ),
                ),
          );
        }),
        Ve = () => window.innerWidth < parseInt(Ae.strWidescreenWidth);
      function Xe(e) {
        const { section: t, event: n } = e,
          [a, i, r] = (0, ye.SZ)(() => [
            t.label_color,
            t.heading_color,
            t.highlighted_facet_color,
          ]),
          o = (0, E.id)(),
          s = (0, ke.V)(t, n, o).background;
        return l.createElement(
          Ue,
          Object.assign(
            {
              labelColor: a,
              headingColor: i,
              buttonColor: a,
              highlightedFacetColor: r,
              background: s,
            },
            e,
          ),
        );
      }
      function je(e) {
        return e.type + e.id;
      }
      function qe(e) {
        return (
          !("items" !== e.section_type || !e.smart_section) ||
          "sale_item_browser" === e.section_type
        );
      }
      function We(e, t) {
        return !(
          !qe(t) ||
          null == e.jsondata.item_source_type ||
          e.jsondata.item_source_type === ee.J7.k_ETaggedItems
        );
      }
      function ze(e) {
        for (const t of e.facetValues)
          if (null != t.filter)
            for (const e of t.filter.clauses)
              for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0;
        return !1;
      }
      var Ze = n(71472),
        Ke = n(88436),
        Qe = n.n(Ke);
      class Ye extends l.Component {
        constructor() {
          super(...arguments),
            (this.state = {
              bInScroll: !1,
              nStartXPos: 0,
              nStartScrollLeft: 0,
            }),
            (this.m_hSlider = l.createRef());
        }
        OnPointerDown(e) {
          const t = this.m_hSlider.current;
          t &&
            (t.scrollWidth <= t.clientWidth ||
              (this.setState({
                bInScroll: !1,
                nStartXPos: e.pageX - t.offsetLeft,
                nStartScrollLeft: t.scrollLeft,
              }),
              t.addEventListener("pointerup", this.OnPointerUp),
              t.addEventListener("pointerleave", this.OnPointerUp),
              t.addEventListener("pointercapturelost", this.OnPointerUp),
              t.addEventListener("pointermove", this.OnPointerMove)));
        }
        OnPointerUp(e) {
          const t = this.m_hSlider.current;
          t &&
            (this.state.bInScroll &&
              (t.releasePointerCapture(e.pointerId),
              document.body.classList.remove(
                Qe().HorizontalScrollInDragForceCursor,
              ),
              this.props.dragClassName &&
                t.classList.remove(this.props.dragClassName)),
            t.removeEventListener("pointerup", this.OnPointerUp),
            t.removeEventListener("pointerleave", this.OnPointerUp),
            t.removeEventListener("pointercapturelost", this.OnPointerUp),
            t.removeEventListener("pointermove", this.OnPointerMove));
        }
        OnPointerMove(e) {
          const t = this.m_hSlider.current;
          if (!t) return;
          e.preventDefault();
          const n =
              (e.pageX - t.offsetLeft - this.state.nStartXPos) *
              (this.props.scrollMultiplier || Ye.knDefaultScrollMultiplier),
            a = this.state.nStartScrollLeft - n,
            i = Math.abs(a - this.state.nStartScrollLeft),
            l = this.props.minDragPixels || Ye.knDefaultMinDragPixels;
          !this.state.bInScroll &&
            i >= l &&
            ((t.scrollLeft = a),
            this.setState({ bInScroll: !0 }),
            document.body.classList.add(Qe().HorizontalScrollInDragForceCursor),
            this.props.dragClassName &&
              t.classList.add(this.props.dragClassName),
            t.setPointerCapture(e.pointerId)),
            this.state.bInScroll && (t.scrollLeft = a);
        }
        render() {
          return l.createElement(
            $.s,
            {
              ref: this.m_hSlider,
              className: this.props.className,
              onPointerDown: this.OnPointerDown,
            },
            this.props.children,
          );
        }
      }
      (Ye.knDefaultScrollMultiplier = 1),
        (Ye.knDefaultMinDragPixels = 20),
        (0, C.gn)([ie.ak], Ye.prototype, "OnPointerDown", null),
        (0, C.gn)([ie.ak], Ye.prototype, "OnPointerUp", null),
        (0, C.gn)([ie.ak], Ye.prototype, "OnPointerMove", null);
      var Je = n(15980),
        $e = n(3669),
        et = n.n($e),
        tt = n(55999),
        nt = n(7769),
        at = n.n(nt);
      function it(e) {
        const { id: t, type: n } = e,
          [a] = (0, j.jk)(t, (0, ce.TM)(n), {});
        return l.createElement(
          "div",
          { className: at().SaleItemBrowserRow },
          l.createElement(
            tt.ju,
            Object.assign({}, e, {
              bLoadShortDescription: !0,
              bShowReviewSummary: !0,
              bShowDemoButton:
                e.bShowDemoButton || 1 == (null == a ? void 0 : a.GetAppType()),
            }),
          ),
        );
      }
      var lt = n(43589),
        rt = n(77178),
        ot = n(64936);
      class st {
        GetLastDoorOpen() {
          return this.m_strLastDoorOpenKey;
        }
        GetRawDoorData() {
          return this.m_userData;
        }
        BIsDoorOpened(e) {
          return (
            null != e &&
            null != e &&
            !!this.m_userData &&
            Boolean(e < this.m_userData.length && this.m_userData[e].opened)
          );
        }
        BCanUserOpenDoor(e) {
          let t = ot.JW.GetTimeNowWithOverride();
          return (
            E.L7.logged_in &&
            this.m_userData &&
            e < this.m_userData.length &&
            t >= this.m_userData[e].rtime_start &&
            t <= this.m_userData[e].rtime_end
          );
        }
        GetDoorCount() {
          return this.m_userData ? this.m_userData.length : 0;
        }
        BIsAnyDoorOpened() {
          return this.m_bIsAnyDoorOpened;
        }
        GetIsAnyDoorOpenChange() {
          return this.m_bIsAnyDoorOpenChangeCallback;
        }
        GetLargestDoorOpenIndex() {
          return this.m_nHighestDoorOpened;
        }
        GetLargestDoorIndexChange() {
          return this.m_largestDoorChangeCallback;
        }
        GetDoorStateChangeCallback(e) {
          return (
            this.m_mapChangeCallback.has(e) ||
              this.m_mapChangeCallback.set(e, new ae.pB()),
            this.m_mapChangeCallback.get(e)
          );
        }
        GetDoorStateInitializedChangeCallback() {
          return this.m_doorInitializedChangedCallback;
        }
        BIsInitialized() {
          return this.m_bLoadedDuringInit;
        }
        GetMaxDoor() {
          return 9;
        }
        SetInMemoryUpdateDoorOpenUpto(e) {
          for (let t = 0; t < 9; ++t) {
            const n = t <= e;
            this.m_userData[t].opened != n &&
              ((this.m_userData[t].opened = n),
              this.GetDoorStateChangeCallback(t).Dispatch(n));
          }
          this.RecomputeState();
        }
        SetInMemorySpecificDoorState(e, t) {
          e < 9
            ? this.m_userData[e].opened != t &&
              ((this.m_userData[e].opened = t),
              this.GetDoorStateChangeCallback(e).Dispatch(t),
              this.RecomputeState())
            : console.error("CDoorStore: Wrong door being set " + e);
        }
        RecomputeState() {
          var e;
          let t = -1;
          null === (e = this.m_userData) ||
            void 0 === e ||
            e.forEach((e) => {
              e.opened && e.day > t && (t = e.day);
            });
          const n = -1 != t;
          n != this.m_bIsAnyDoorOpened &&
            ((this.m_bIsAnyDoorOpened = n),
            this.GetIsAnyDoorOpenChange().Dispatch(n)),
            t != this.m_nHighestDoorOpened &&
              ((this.m_nHighestDoorOpened = t),
              this.GetLargestDoorIndexChange().Dispatch(t));
        }
        OpenDoor(e, t = !0, n = "", a = !1) {
          var i;
          return (0, C.mG)(this, void 0, void 0, function* () {
            return !E.L7.logged_in ||
              !this.m_userData ||
              e > this.m_userData.length ||
              e < 0
              ? ("dev" == E.De.WEB_UNIVERSE &&
                  console.log(
                    "CDoorStore.OpenDoor Early fail settings:",
                    E.L7.logged_in,
                    this.m_userData,
                    e,
                    null === (i = this.m_userData) || void 0 === i
                      ? void 0
                      : i.length,
                  ),
                null)
              : this.m_mapDoorOpenPromise.has(e)
                ? this.m_mapDoorOpenPromise.get(e)
                : this.m_userData[e].opened == t
                  ? {}
                  : (this.m_mapDoorOpenPromise.has(e) ||
                      this.m_mapDoorOpenPromise.set(
                        e,
                        this.InternalOpenDoor(e, t, n, a),
                      ),
                    this.m_mapDoorOpenPromise.get(e));
          });
        }
        InternalOpenDoor(e, t = !0, n, a = !1) {
          var i;
          return (0, C.mG)(this, void 0, void 0, function* () {
            let l = E.De.STORE_BASE_URL + "saleaction/ajaxopendoor";
            const r = new FormData();
            r.append("sessionid", E.De.SESSIONID),
              n && r.append("datarecord", n),
              a && r.append("fake_open", "" + a),
              r.append("door_index", "" + e),
              r.append("clan_accountid", "" + E.JA.CLANACCOUNTID),
              t || r.append("open_door", "0");
            let o = null;
            try {
              let n = yield x().post(l, r, { withCredentials: !0 });
              if (
                200 == (null == n ? void 0 : n.status) &&
                1 ==
                  (null === (i = null == n ? void 0 : n.data) || void 0 === i
                    ? void 0
                    : i.success)
              )
                return (
                  (this.m_userData[e].opened = t),
                  (this.m_strLastDoorOpenKey = "door_" + (t ? e : e - 1)),
                  n.data.capsuleinsert &&
                    ((s = [n.data.capsuleinsert]),
                    re.Get().ReplaceInsertion(s)),
                  this.GetDoorStateChangeCallback(e).Dispatch(t),
                  this.RecomputeState(),
                  n.data
                );
              o = (0, O.l)(n);
            } catch (e) {
              o = (0, O.l)(e);
            }
            var s;
            return (
              this.m_mapDoorOpenPromise.delete(e),
              console.error("OpenDoor hit error: " + o.strErrorMsg, o),
              null
            );
          });
        }
        LoadDoorData() {
          return (0, C.mG)(this, void 0, void 0, function* () {
            return this.m_bLoadedDuringInit
              ? this.m_userData
              : (this.m_initialLoadPromise ||
                  (this.m_initialLoadPromise = this.InternalLoadDoorData()),
                this.m_initialLoadPromise);
          });
        }
        InternalLoadDoorData() {
          var e;
          return (0, C.mG)(this, void 0, void 0, function* () {
            const t = E.De.STORE_BASE_URL + "saleaction/ajaxgetopendoor";
            let n = null;
            try {
              const a = yield x().get(t, { withCredentials: !0 });
              if (
                200 == a.status &&
                (null === (e = a.data) || void 0 === e ? void 0 : e.doordata)
              ) {
                (this.m_userData = a.data.doordata),
                  (this.m_bLoadedDuringInit = !0);
                for (let e = 0; e < 9; ++e)
                  this.GetDoorStateChangeCallback(e).Dispatch(
                    this.m_userData[e].opened,
                  );
                return (
                  this.GetDoorStateInitializedChangeCallback().Dispatch(
                    this.m_bLoadedDuringInit,
                  ),
                  this.RecomputeState(),
                  this.m_userData
                );
              }
              n = (0, O.l)(a);
            } catch (e) {
              n = (0, O.l)(e);
            }
            return (
              console.error(
                "CDoorStore.LoadDoorData failed: " +
                  (null == n ? void 0 : n.strErrorMsg),
                n,
              ),
              null
            );
          });
        }
        CloseAllDoors() {
          var e;
          return (0, C.mG)(this, void 0, void 0, function* () {
            let t = E.De.STORE_BASE_URL + "saleaction/ajaxclosealldoor";
            const n = new FormData();
            n.append("sessionid", E.De.SESSIONID);
            let a = null;
            try {
              let i = yield x().post(t, n, { withCredentials: !0 });
              if (
                200 == i.status &&
                1 ==
                  (null === (e = null == i ? void 0 : i.data) || void 0 === e
                    ? void 0
                    : e.success)
              ) {
                console.log("CDoorStore - closed " + i.data.count);
                for (let e = 0; e < 9; ++e)
                  (this.m_userData[e].opened = !1),
                    this.GetDoorStateChangeCallback(e).Dispatch(
                      this.m_userData[e].opened,
                    );
                return this.RecomputeState(), !0;
              }
              a = (0, O.l)(i);
            } catch (e) {
              a = (0, O.l)(e);
            }
            return (
              console.error(
                "CDoorStore.CloseAllDoors failed: " +
                  (null == a ? void 0 : a.strErrorMsg),
                a,
              ),
              null
            );
          });
        }
        static Get() {
          return (
            st.s_Singleton ||
              ((st.s_Singleton = new st()),
              st.s_Singleton.Init(),
              "dev" == E.De.WEB_UNIVERSE &&
                (window.g_EventDoorStore = st.s_Singleton)),
            st.s_Singleton
          );
        }
        constructor() {
          (this.m_bLoadedDuringInit = !1),
            (this.m_strLastDoorOpenKey = "video_noneset"),
            (this.m_bIsAnyDoorOpened = !1),
            (this.m_nHighestDoorOpened = -1),
            (this.m_mapDoorOpenPromise = new Map()),
            (this.m_mapChangeCallback = new Map()),
            (this.m_doorInitializedChangedCallback = new ae.pB()),
            (this.m_largestDoorChangeCallback = new ae.pB()),
            (this.m_bIsAnyDoorOpenChangeCallback = new ae.pB()),
            (0, M.rC)(this);
        }
        Init() {
          (this.m_userData = (0, E.kQ)("doorinfo", "application_config")),
            this.m_userData &&
              ((this.m_bLoadedDuringInit = !0),
              this.RecomputeState(),
              "dev" == E.De.WEB_UNIVERSE &&
                console.log("CDoorStore Loading - ", this.m_userData));
        }
      }
      function ct() {
        const [e, t] = (0, l.useState)(st.Get().BIsInitialized());
        return (
          (0, l.useEffect)(() => {
            e || st.Get().LoadDoorData();
          }, [e]),
          (0, ie.Qg)(st.Get().GetDoorStateInitializedChangeCallback(), t),
          e
        );
      }
      (0, C.gn)([M.LO], st.prototype, "m_bIsAnyDoorOpened", void 0),
        (0, C.gn)([M.LO], st.prototype, "m_nHighestDoorOpened", void 0),
        (0, C.gn)([ie.ak], st.prototype, "BIsDoorOpened", null),
        (0, C.gn)([ie.ak], st.prototype, "OpenDoor", null);
      var mt = n(84478),
        dt = n(13499);
      function ut(e, t, n) {
        if (t.some((t) => t.id == e.appid && "game" == t.type)) return;
        const a = {
          id: e.appid,
          type: "game",
          overrideNavigation: (t) => {
            var a;
            (a = e.appid),
              re.Get().AppCapsuleFound(a),
              (0, p.AM)(
                l.createElement(pt, {
                  iDoorIndex: e.payload,
                  datarecord: e.datarecord,
                  bPreviewMode: Boolean(n || e.force_preview_mode),
                }),
                window,
              );
          },
        };
        e.insertionIndex
          ? t.splice(e.insertionIndex, 0, a)
          : "dev" == E.De.WEB_UNIVERSE
            ? t.unshift(a)
            : t.splice(Math.floor(Math.random() * t.length), 0, a);
      }
      function pt(e) {
        const {
            closeModal: t,
            iDoorIndex: n,
            datarecord: a,
            bPreviewMode: i,
          } = e,
          r = (function (e) {
            const t = ct(),
              [n, a] = (0, l.useState)(t ? st.Get().BIsDoorOpened(e) : void 0);
            return (0, ie.Qg)(st.Get().GetDoorStateChangeCallback(e), a), n;
          })(n),
          { fnOpenDoor: o } = { fnOpenDoor: st.Get().OpenDoor },
          [s, c] = (0, l.useState)(!r),
          [m, d] = (0, l.useState)(null),
          [u, p] = (0, l.useState)(!1);
        (0, l.useEffect)(() => {
          const e = x().CancelToken.source();
          return (
            o(n, !0, a, i).then((t) => {
              e.token.reason || (d(t), p(null == t), c(!1));
            }),
            () => e.cancel("unmounting SummerSale2022FoundItem")
          );
        }, [i, a, o, n]);
        const _ = Math.floor(5 * Math.random()) + 1;
        return l.createElement(
          rt.uH,
          {
            strTitle: (0, v.Xx)(`#Sale_Minigame_FoundIt_${_}`),
            bDisableBackgroundDismiss: !0,
            closeModal: t,
            strOKButtonText: (0, v.Xx)("#Sale_Minigame_ContineQuest"),
            bOKDisabled: s,
            strCancelButtonText: (0, v.Xx)("#Sale_Minigame_ContineShopping"),
            modalClassName: "SummerSale2022",
            onOK: () => {
              window.location.href = `${E.De.STORE_BASE_URL}sale/clorthax_quest`;
            },
          },
          l.createElement(
            "div",
            { className: lt.Ctn },
            l.createElement(
              "div",
              null,
              Boolean(u)
                ? l.createElement(
                    l.Fragment,
                    null,
                    (0, v.Xx)("#GrantAwardError_Busy"),
                  )
                : l.createElement(
                    l.Fragment,
                    null,
                    Boolean(s)
                      ? l.createElement(
                          "div",
                          null,
                          l.createElement(h.V, {
                            size: "small",
                            position: "center",
                          }),
                          l.createElement(
                            "span",
                            null,
                            (0, v.Xx)("#Sale_Minigame_LoadingReward"),
                          ),
                        )
                      : l.createElement(
                          "div",
                          null,
                          l.createElement(
                            "div",
                            { className: lt.DetailText },
                            (0, v.Xx)("#Sale_Minigame_FoundIt_Earn"),
                          ),
                          Boolean(
                            null == m ? void 0 : m.sale_pg_context_token,
                          ) &&
                            l.createElement(
                              "div",
                              { className: lt.RewardText },
                              (0, v.Xx)(m.sale_pg_context_token),
                            ),
                          Boolean(
                            (null == m ? void 0 : m.sale_pg_background_mp4) &&
                              (null == m ? void 0 : m.sale_pg_background_webm),
                          ) &&
                            l.createElement(mt.Y, {
                              bAutoPlay: !0,
                              bMuted: !0,
                              bLoop: !0,
                              bControls: !1,
                              video: {
                                sPoster: (0, dt.et)(
                                  m.sale_pg_background_override,
                                ),
                                rgVideoSources: [
                                  {
                                    sURL: (0, dt.et)(m.sale_pg_background_webm),
                                    sFormat: "video/webm",
                                  },
                                  {
                                    sURL: (0, dt.et)(m.sale_pg_background_mp4),
                                    sFormat: "video/mp4",
                                  },
                                ],
                              },
                            }),
                          l.createElement(
                            "div",
                            { className: lt.PostText },
                            (0, v.Xx)(
                              n < 10
                                ? "#Summer2022_hunt_quest_return_clue"
                                : "#Summer2022_hunt_quest_return_gift",
                            ),
                          ),
                        ),
                  ),
            ),
          ),
        );
      }
      var _t = n(76245);
      class ht {
        GetTimerSecondsLeft() {
          const e = Math.floor(
            (this.m_nTimeStartedMS +
              1e3 * this.m_nExpirationTime -
              Date.now()) /
              1e3,
          );
          return this.m_timer.IsScheduled() && e >= 0 ? e : void 0;
        }
        GetNewEventGIDs(e) {
          return this.m_mapSectionToNewEvents.get(e);
        }
        GetNewCapsules(e) {
          return this.m_mapSectionToNewCapsules.get(e);
        }
        GetTimerWaitTimeMS() {
          const e = Math.floor(20 * Math.random());
          return 1e3 * (this.m_nExpirationTime + e);
        }
        IncrementalSectionNeedingReveal(e, t, n) {
          (0, ne.X)(
            !this.m_clanSteamID ||
              this.m_clanSteamID.GetAccountID() == e.GetAccountID(),
            "mismatch clan steam id",
          ),
            (0, ne.X)(
              !this.m_gidClanEvent || this.m_gidClanEvent == t,
              "Mismatch clan event gid",
            ),
            (this.m_clanSteamID = e),
            (this.m_gidClanEvent = t),
            (this.m_bPreviewMode = n),
            (this.m_nActiveSectionCount += 1),
            this.m_nActiveSectionCount > 0 &&
              !this.m_timer.IsScheduled() &&
              ((this.m_nTimeStartedMS = Date.now()),
              this.m_timer.Schedule(
                this.GetTimerWaitTimeMS(),
                this.TimerAction,
              ));
        }
        DecrementSectionNeedingReveal() {
          (this.m_nActiveSectionCount -= 1),
            this.m_nActiveSectionCount <= 0 && this.m_timer.Cancel();
        }
        AddSaleCapsules(e, t) {
          let n = this.m_mapSectionToExistingCapsules.has(e)
            ? this.m_mapSectionToExistingCapsules.get(e)
            : [];
          null == t ||
            t.forEach((e) => {
              n.findIndex((t) => e.id == t.id && e.type == t.type) < 0 &&
                !(0, Ce.K$)(e) &&
                n.push(e);
            }),
            this.m_mapSectionToExistingCapsules.has(e) ||
              this.m_mapSectionToExistingCapsules.set(e, n);
        }
        AddEvents(e, t) {
          let n = this.m_mapSectionToExistingClanEventGIDs.has(e)
            ? this.m_mapSectionToExistingClanEventGIDs.get(e)
            : [];
          null == t ||
            t.forEach((e) => {
              !n.includes(e) && m.j1.BHasClanEventModel(e) && n.push(e);
            }),
            this.m_mapSectionToExistingClanEventGIDs.has(e) ||
              this.m_mapSectionToExistingClanEventGIDs.set(e, n);
        }
        SetTestMode(e, t) {
          "dev" == E.De.WEBAPI_BASE_URL &&
            console.log(
              `CDynamicRevealStore Test Mode Cur ${this.m_bTestMode.get(e)} setting to ${t}`,
            ),
            this.m_bTestMode.set(e, t),
            this.m_mapSectionToExistingCapsules.has(e) &&
              this.m_mapSectionToExistingCapsules.set(e, []),
            this.m_mapSectionToExistingClanEventGIDs.has(e) &&
              this.m_mapSectionToExistingClanEventGIDs.set(e, []);
        }
        BIsInTestMode(e) {
          return this.m_bTestMode.get(e);
        }
        FireRequestNow() {
          (0, ne.X)(
            this.m_bTestMode,
            "We should only use CDynamicRevealStore::FireRequestNow in test mode",
          ),
            this.TimerAction();
        }
        TimerAction() {
          this.m_nActiveSectionCount > 0 &&
            (this.m_timer.Cancel(),
            (this.m_promise = this.LoadRevealedItems(
              this.m_clanSteamID,
              this.m_gidClanEvent,
            )),
            this.m_promise
              .then((e) => {
                e.forEach((e) => {
                  var t, n, a, i;
                  if (
                    "events" == e.section_type &&
                    (null === (t = e.events) || void 0 === t
                      ? void 0
                      : t.length) > 0
                  ) {
                    const t =
                        this.m_mapSectionToExistingClanEventGIDs.get(
                          e.unique_id,
                        ) || [],
                      n = e.events
                        .filter((e) => !t.includes(e.event_gid))
                        .map((e) => e.event_gid);
                    m.j1
                      .LoadBatchPartnerEventsByEventGIDsOrAnnouncementGIDs(
                        n,
                        null,
                      )
                      .then((t) => {
                        const n = t
                          .map((e) => e.appid)
                          .filter((e) => Boolean(e))
                          .map((e) => ({ id: e, type: "game" }));
                        (0, Ce.qr)(n, Y.bk).then(() => {
                          const n = t
                            .filter(
                              (e) =>
                                Boolean(e.appid) &&
                                !(0, Ce.K$)({ id: e.appid, type: "game" }),
                            )
                            .map((e) => e.GID);
                          this.m_mapSectionToNewEvents.set(e.unique_id, n);
                        });
                      });
                  }
                  if (
                    "items" == e.section_type &&
                    ((null === (n = e.appids) || void 0 === n
                      ? void 0
                      : n.length) > 0 ||
                      (null === (a = e.packageids) || void 0 === a
                        ? void 0
                        : a.length) > 0 ||
                      (null === (i = e.bundledid) || void 0 === i
                        ? void 0
                        : i.length) > 0)
                  ) {
                    const t = (0, Ce.Ot)(e.appids, e.packageids, e.bundledid),
                      n =
                        this.m_mapSectionToExistingCapsules.get(e.unique_id) ||
                        [],
                      a = t.filter(
                        (e) =>
                          n.findIndex((t) => t.id == e.id && t.type == e.type) <
                          0,
                      );
                    (0, Ce.qr)(a, Y.bk).then(() => {
                      const t = new Array();
                      a.forEach((e) => {
                        (0, Ce.K$)(e) || t.push(e);
                      }),
                        this.m_mapSectionToNewCapsules.set(e.unique_id, t);
                    });
                  }
                });
              })
              .finally(() => {
                (this.m_nTimeStartedMS = Date.now()),
                  this.m_timer.Schedule(
                    this.GetTimerWaitTimeMS(),
                    this.TimerAction,
                  );
              }));
        }
        LoadRevealedItems(e, t) {
          var n;
          return (0, C.mG)(this, void 0, void 0, function* () {
            this.m_rtimeLastServiceCallStarted = Date.now();
            try {
              const a = {
                  clan_event_gid: t,
                  clan_account_id: e.GetAccountID(),
                  origin: self.origin,
                  testmode: Array.from(this.m_bTestMode.values()).some(
                    (e) => e,
                  ),
                },
                i = this.m_bPreviewMode
                  ? E.De.STORE_BASE_URL +
                    "saleaction/ajaxgetdynamicrevealspreview"
                  : E.De.STORE_BASE_URL + "saleaction/ajaxgetdynamicreveals",
                l = yield x().get(i, { params: a });
              if (
                200 == (null == l ? void 0 : l.status) &&
                1 ==
                  (null === (n = null == l ? void 0 : l.data) || void 0 === n
                    ? void 0
                    : n.success)
              )
                return (
                  (this.m_nExpirationTime = Math.max(
                    l.data.expiration_time || 45,
                    10,
                  )),
                  l.data.dynamic_data
                );
            } catch (e) {
              const t = (0, O.l)(e);
              console.error(
                "CDynamicRevealStore.LoadRevealedItems: failed with " +
                  t.strErrorMsg,
                t,
              );
            } finally {
              (this.m_rtimeLastServiceCallComplete = Date.now()),
                "dev" == E.De.WEB_UNIVERSE &&
                  console.log(
                    `LoadRevealedItems: started ${Math.floor(this.m_rtimeLastServiceCallStarted / 1e3)} and completed ${Math.floor(this.m_rtimeLastServiceCallComplete / 1e3)} taking ${this.m_rtimeLastServiceCallComplete - this.m_rtimeLastServiceCallStarted} MS`,
                  );
            }
            return [];
          });
        }
        static Get() {
          return (
            ht.s_Singleton ||
              ((ht.s_Singleton = new ht()),
              ("dev" != E.De.WEB_UNIVERSE && "beta" != E.De.WEB_UNIVERSE) ||
                (window.g_DynamicRevealStore = ht.s_Singleton)),
            ht.s_Singleton
          );
        }
        constructor() {
          (this.m_mapSectionToExistingCapsules = new Map()),
            (this.m_mapSectionToExistingClanEventGIDs = new Map()),
            (this.m_mapSectionToNewCapsules = new Map()),
            (this.m_mapSectionToNewEvents = new Map()),
            (this.m_clanSteamID = null),
            (this.m_gidClanEvent = null),
            (this.m_nActiveSectionCount = 0),
            (this.m_timer = new ae.Ar()),
            (this.m_nTimeStartedMS = 0),
            (this.m_nExpirationTime = 45),
            (this.m_rtimeLastServiceCallStarted = 0),
            (this.m_rtimeLastServiceCallComplete = 0),
            (this.m_promise = null),
            (this.m_bTestMode = new Map()),
            (this.m_bPreviewMode = !1),
            (0, M.rC)(this);
        }
      }
      function gt(e, t = null) {
        var n, a;
        if (!e || (0, Ce.TR)(e)) return !0;
        if (null == t ? void 0 : t.BUsesContentHubForItemSource()) {
          if (
            (null ===
              (a =
                null === (n = _t.Q.Get()) || void 0 === n
                  ? void 0
                  : n.GetHomeView()) || void 0 === a
              ? void 0
              : a.games_already_in_library) &&
            (function (e, t = null) {
              if (null == t ? void 0 : t.BUsesContentHubForItemSource())
                switch (e.GetStoreItemType()) {
                  case 0:
                    if (te.jg.Get().BIsGameOwned(e.GetAppID())) return !0;
                    break;
                  case 1:
                  case 2:
                    if (
                      e
                        .GetIncludedAppIDs()
                        .every((e) => te.jg.Get().BIsGameOwned(e))
                    )
                      return !0;
                }
              return !1;
            })(e, t)
          )
            return !0;
          if (
            0 === e.GetStoreItemType() &&
            1 === e.GetAppType() &&
            te.jg.Get().BIsGameOwned(e.GetParentAppID())
          )
            return !0;
        }
        return !1;
      }
      (0, C.gn)([M.LO], ht.prototype, "m_mapSectionToNewCapsules", void 0),
        (0, C.gn)([M.LO], ht.prototype, "m_mapSectionToNewEvents", void 0),
        (0, C.gn)([k.a], ht.prototype, "FireRequestNow", null),
        (0, C.gn)([k.a], ht.prototype, "TimerAction", null);
      var vt = n(82093);
      let Et = class extends l.Component {
        constructor(e) {
          super(e),
            (this.state = {
              currentFlavor: this.GetDefaultTab(),
              bInitialLoadComplete: !1,
              rgCapsules: [],
              nOriginalStartIndex: -1,
              nNumRequestedLastTime: 0,
              bIsMoreAvailable: !1,
              bAwaitingMoreRowsLoading: !1,
              nHiddenCapsules: 0,
              strSearchQuery: "",
              strRawSearch: "",
              bIsNarrowScreen: (0, fe.p)(),
              fnUnregisterCallback: null,
              results: null,
            }),
            (this.m_timerForChange = new ae.Ar()),
            (this.m_cancelSignal = x().CancelToken.source());
        }
        componentDidMount() {
          window.addEventListener("resize", this.OnResize), this.LoadCapsules();
          const { section: e, activeTab: t } = this.props;
          this.setState({
            fnUnregisterCallback: oe(
              e.unique_id,
              null == t ? void 0 : t.GetActiveTabUniqueID(),
            ).Register(this.OnDynamicCapsuleInsert).Unregister,
          });
        }
        componentWillUnmount() {
          this.m_timerForChange.Cancel(),
            this.state.fnUnregisterCallback &&
              this.state.fnUnregisterCallback(),
            this.m_cancelSignal.cancel("SaleItemBrowser component unmounted");
        }
        componentDidUpdate(e) {
          var t, n, a, i, l, r;
          const o = this.props.section
            ? (0, Ze.ks)(
                this.props.history,
                "facets" +
                  (null === (t = this.props.section) || void 0 === t
                    ? void 0
                    : t.unique_id),
              )
            : "";
          let s = this.GetDefaultTab();
          if (this.props.section && this.props.browseInfo) {
            const e = (0, Ze.ks)(this.props.history, "flavor");
            (null === (n = this.GetFlavorsForActiveTab()) || void 0 === n
              ? void 0
              : n.includes(e)) && (s = e);
          }
          if (
            this.props.browseInfo != e.browseInfo ||
            this.props.event != e.event ||
            this.props.section != e.section ||
            (null === (a = this.props.activeTab) || void 0 === a
              ? void 0
              : a.GetActiveTabUniqueID()) !=
              (null === (i = e.activeTab) || void 0 === i
                ? void 0
                : i.GetActiveTabUniqueID()) ||
            this.state.strFacetUrlParam !== o ||
            this.state.currentFlavor !== s ||
            this.props.controllerCategory !== e.controllerCategory
          ) {
            (null === (l = this.props.section) || void 0 === l
              ? void 0
              : l.enable_faceted_browsing) &&
              this.state.facetFilterState &&
              this.state.strFacetUrlParam !== o &&
              this.state.facetFilterState.SetFromURLParam(o);
            const { section: t, activeTab: n } = this.props;
            let a = this.state.fnUnregisterCallback;
            (t.unique_id == e.section.unique_id &&
              (null == n ? void 0 : n.GetActiveTabUniqueID()) ==
                (null === (r = e.activeTab) || void 0 === r
                  ? void 0
                  : r.GetActiveTabUniqueID())) ||
              (a && a(),
              (a = oe(
                t.unique_id,
                null == n ? void 0 : n.GetActiveTabUniqueID(),
              ).Register(this.OnDynamicCapsuleInsert).Unregister)),
              this.setState(
                {
                  bInitialLoadComplete: !1,
                  rgCapsules: [],
                  nOriginalStartIndex: -1,
                  results: null,
                  nNumRequestedLastTime: 0,
                  bIsMoreAvailable: !0,
                  bAwaitingMoreRowsLoading: !0,
                  strFacetUrlParam: o,
                  currentFlavor: s,
                  fnUnregisterCallback: a,
                },
                () => this.LoadCapsules(),
              );
          }
        }
        OnDynamicCapsuleInsert(e) {
          const { activeTab: t, section: n } = this.props;
          if (
            e &&
            e.sectionID == n.unique_id &&
            (null == t ? void 0 : t.GetActiveTabUniqueID()) == e.tabID
          ) {
            const t = this.state.rgCapsules ? [...this.state.rgCapsules] : [];
            ut(e, t, 2 == this.context.eLocation),
              this.setState({ rgCapsules: t });
          }
        }
        ShowMoreRows() {
          var e, t, n;
          this.m_timerForChange.Cancel(),
            this.m_cancelSignal.token.reason ||
              (le
                .Get()
                .AddInteraction(
                  this.props.section.unique_id,
                  null === (e = this.state.results) || void 0 === e
                    ? void 0
                    : e.nNextSolrIndex,
                ),
              (0, Ze.i9)(
                this.props.history,
                "offset",
                null ==
                  (null === (t = this.state.results) || void 0 === t
                    ? void 0
                    : t.nNextSolrIndex) ||
                  null === (n = this.state.results) ||
                  void 0 === n
                  ? void 0
                  : n.nNextSolrIndex.toString(),
              ),
              this.setState({ bAwaitingMoreRowsLoading: !0 }, () =>
                (0, C.mG)(this, void 0, void 0, function* () {
                  this.LoadCapsules();
                }),
              ));
        }
        FilterItems(e) {
          return (0, C.mG)(this, void 0, void 0, function* () {
            const { event: t, section: n, activeTab: a } = this.props,
              { facetFilterState: i } = this.state;
            let l = e.map((e) => ({
              id: e.id,
              type: 0 === e.type ? "game" : (0, ce.Hy)(e.type),
            }));
            yield (0, Ce.qr)(l, Y.bk),
              this.state.strSearchQuery ||
                t.BUsesContentHubForItemSource() ||
                (l = l.filter((e) => !a || a.ShouldShowCapsule(e)));
            let r = new Array();
            return (
              (null == n ? void 0 : n.enable_faceted_browsing) &&
                i &&
                ((l = i.ApplyOptInFilters(l)),
                (l = yield i.ApplyUserPreferenceFilters(l, !1, r))),
              (l = yield (0, Ce.A$)(l, !1, r, (e) => gt(e, t))),
              l.map((e) => ({ id: e.id, type: (0, ce.TM)(e.type) }))
            );
          });
        }
        LoadCapsules() {
          var e;
          return (0, C.mG)(this, void 0, void 0, function* () {
            const {
              event: t,
              activeTab: n,
              section: a,
              controllerCategory: i,
            } = this.props;
            let {
              currentFlavor: l,
              rgCapsules: r,
              nHiddenCapsules: o,
              strSearchQuery: s,
              facetFilterState: c,
            } = this.state;
            const m = 2 == this.context.eLocation;
            yield Promise.all([te.jg.Get().HintLoad(), (0, Ce.qr)(r, Y.bk)]),
              a.enable_faceted_browsing && c && (0, M.z)(() => c.PruneFacets());
            const d = parseInt((0, Ze.ks)(this.props.history, "offset")) || 0;
            let u,
              p = !0;
            try {
              const o = {
                  nSectionUniqueID: a.unique_id,
                  strSectionFilter: (0, ee.B3)(a),
                  nTabUniqueID:
                    Boolean(s) || null == n ? void 0 : n.GetActiveTabUniqueID(),
                  strTabFilter:
                    Boolean(s) || null == n ? void 0 : n.GetStoreFilter(),
                  facetFilter: c,
                  contentHub: t.GetContentHub(),
                  bContentHubDiscountedOnly: t.BContentHubDiscountedOnly(),
                  strSearch: s,
                  bRequestFacetCounts: a.enable_faceted_browsing,
                  eControllerCategory: i,
                },
                _ = Boolean(s) ? "search" : l;
              let h;
              (u = yield ue
                .Get()
                .GetItemsSoFar(
                  this.state.results,
                  t,
                  _,
                  o,
                  this.FilterItems,
                  d,
                  12,
                  m,
                  this.m_cancelSignal,
                  h,
                )),
                (r =
                  null === (e = u.rgItems) || void 0 === e
                    ? void 0
                    : e.map((e) => ({
                        id: e.id,
                        type: 0 === e.type ? "game" : (0, ce.Hy)(e.type),
                      }))),
                (p = u.bMoreAvailable);
            } catch (e) {
              return void (
                this.m_cancelSignal.token.reason ||
                (console.error("Failed to load games for browser;" + e.message),
                this.setState({
                  bInitialLoadComplete: !0,
                  bAwaitingMoreRowsLoading: !1,
                }))
              );
            }
            if (this.m_cancelSignal.token.reason) return;
            const _ =
              ((h = a.unique_id),
              (g = null == n ? void 0 : n.GetActiveTabUniqueID()),
              re.Get().GetMatchingInsertion(h, g));
            var h, g;
            _ && ut(_, r, 2 == this.context.eLocation),
              this.setState({
                bInitialLoadComplete: !0,
                rgCapsules: r,
                nOriginalStartIndex:
                  this.state.nOriginalStartIndex >= 0
                    ? this.state.nOriginalStartIndex
                    : d,
                bIsMoreAvailable: p,
                bAwaitingMoreRowsLoading: !1,
                nHiddenCapsules: o,
                results: u,
              });
          });
        }
        OnFlavorLabelClick(e) {
          this.m_timerForChange.Cancel(),
            this.m_cancelSignal.token.reason ||
              (0, Ze.Wo)(this.props.history, { flavor: e, offset: void 0 });
        }
        GetFlavorsForActiveTab() {
          const { activeTab: e, browseInfo: t } = this.props,
            n = null == e ? void 0 : e.GetActiveTabUniqueID();
          return n &&
            (null == t ? void 0 : t.tabs) &&
            (null == t ? void 0 : t.show_flavor_on_sale_tabs)
            ? t.tabs.filter(
                (e) =>
                  !(e in t.show_flavor_on_sale_tabs) ||
                  0 === t.show_flavor_on_sale_tabs[e].length ||
                  t.show_flavor_on_sale_tabs[e].includes(n),
              )
            : null == t
              ? void 0
              : t.tabs;
        }
        GetDefaultTab() {
          const e = this.GetFlavorsForActiveTab();
          if (!e) return null;
          const t = (0, Ze.ks)(this.props.history, "flavor");
          if (t && e.includes(t)) return t;
          return e.find((e) => ee.z5.find((t) => t.flavor === e)) || null;
        }
        RenderTabHeaders() {
          const { currentFlavor: e, strRawSearch: t } = this.state,
            n = this.GetFlavorsForActiveTab();
          if (!n) return null;
          const a = Boolean(t) ? "search" : e;
          return n
            .map((e) => ee.z5.find((t) => t.flavor === e))
            .filter((e) => !!e)
            .map((e) => {
              var t, n, i;
              let r = e.label,
                o = e.tooltip;
              return (
                (null === (t = this.props.event) || void 0 === t
                  ? void 0
                  : t.BUsesContentHubForItemSource()) &&
                  "contenthub_popular" === e.flavor &&
                  ("controller" ===
                  (null === (n = this.props.event) || void 0 === n
                    ? void 0
                    : n.GetContentHubType())
                    ? ((r =
                        "#Sale_BrowserSortOption_ContentHub_Popular_Controller"),
                      (o =
                        "#Sale_BrowserSortOption_ContentHub_Popular_Controller_ttip"))
                    : "greatondeck" ===
                        (null === (i = this.props.event) || void 0 === i
                          ? void 0
                          : i.GetContentHubType()) &&
                      ((r =
                        "#Sale_BrowserSortOption_ContentHub_Popular_GreatOnDeck"),
                      (o =
                        "#Sale_BrowserSortOption_ContentHub_Popular_GreatOnDeck_ttip"))),
                l.createElement(
                  Se.HP,
                  {
                    key: e.flavor,
                    toolTipContent: o,
                    onClick: () => this.OnFlavorLabelClick(e.flavor),
                    className: (0, pe.Z)(
                      et().FlavorLabel,
                      a == e.flavor && et().SelectedFlavor,
                    ),
                  },
                  (0, v.Xx)(r),
                )
              );
            });
        }
        OnApplySearch(e) {
          this.m_cancelSignal.token.reason ||
            ((0, Ze.i9)(this.props.history, "offset", void 0),
            this.setState(
              {
                bInitialLoadComplete: !1,
                rgCapsules: [],
                nOriginalStartIndex: -1,
                results: null,
                nNumRequestedLastTime: 0,
                bIsMoreAvailable: !0,
                bAwaitingMoreRowsLoading: !0,
                strSearchQuery: e,
              },
              () => this.LoadCapsules(),
            ));
        }
        OnUpdateSearch(e) {
          if (this.m_cancelSignal.token.reason) return;
          const t = e.target.value && e.target.value.trim().toLocaleLowerCase();
          this.setState({ strRawSearch: e.target.value });
          this.m_timerForChange.Schedule(200, () => this.OnApplySearch(t));
        }
        GetSNRFeature() {
          if (this.state.strRawSearch) return "saleitemsearch";
          if (this.state.currentFlavor) {
            let e = this.state.currentFlavor;
            switch (e) {
              case "contenthub_newandtrending":
                e = "newandtrending";
                break;
              case "contenthub_topsellers":
                e = "topsellers";
                break;
              case "contenthub_popular":
                e = "popularpurchased";
                break;
              case "contenthub_toprated":
                e = "toprated";
                break;
              case "contenthub_upcoming":
                e = "popularcomingsoon";
                break;
              case "contenthub_all":
                e = "all";
            }
            return "salebrowse" + e;
          }
          return "saleitembrowse";
        }
        GetSNRData() {
          var e;
          const { section: t } = this.props;
          if (null == t ? void 0 : t.enable_faceted_browsing) {
            const t =
              null === (e = this.state.facetFilterState) || void 0 === e
                ? void 0
                : e.GetSelectedOptionsCount();
            if (t) return { feature: "salefacetbrowse", depth: t };
          }
          return { feature: this.GetSNRFeature() };
        }
        OnUpdateFacetFilter() {
          var e;
          this.m_cancelSignal.token.reason ||
            (this.state.facetFilterState &&
              (0, Ze.Wo)(this.props.history, {
                [`facets${null === (e = this.props.section) || void 0 === e ? void 0 : e.unique_id}`]:
                  this.state.facetFilterState.GetURLParam(),
                offset: null,
              }));
        }
        OnResize() {
          this.setState({ bIsNarrowScreen: (0, fe.p)() });
        }
        render() {
          var e;
          const {
              browseInfo: t,
              section: n,
              event: a,
              language: i,
              activeTab: r,
            } = this.props,
            {
              bInitialLoadComplete: o,
              rgCapsules: s,
              nOriginalStartIndex: c,
              bIsMoreAvailable: m,
              bAwaitingMoreRowsLoading: u,
              strRawSearch: p,
              nHiddenCapsules: _,
            } = this.state,
            h = Boolean(p),
            g = this.RenderTabHeaders();
          if (!g || 0 == g.length) return null;
          const { feature: S, depth: D } = this.GetSNRData(),
            f =
              c > 0
                ? () => {
                    (0, Ze.i9)(this.props.history, "offset", void 0),
                      this.setState(
                        {
                          bInitialLoadComplete: !1,
                          rgCapsules: [],
                          nOriginalStartIndex: -1,
                          results: null,
                          nNumRequestedLastTime: 0,
                          bIsMoreAvailable: !0,
                          bAwaitingMoreRowsLoading: !0,
                        },
                        () => this.LoadCapsules(),
                      );
                  }
                : void 0;
          let y = l.createElement(
            l.Fragment,
            null,
            "dev" === E.De.WEB_UNIVERSE &&
              (null === (e = this.state.results) || void 0 === e
                ? void 0
                : e.strRequest) &&
              l.createElement(St, { request: this.state.results.strRequest }),
            o &&
              l.createElement(Dt, {
                browseInfo: t,
                rgCapsules: s,
                fnOnRestartBrowse: f,
                fnBIsPermittedApp: this.props.fnBIsPermittedApp,
                feature: S,
                depth: D,
                activeTab: r,
              }),
            o &&
              0 == s.length &&
              l.createElement(
                "div",
                { className: et().EmptyResults },
                (0, v.Xx)("#Sale_EmptySearchResultsOrLoadFailure"),
              ),
            (!o || m) &&
              l.createElement(
                "div",
                {
                  className: (0, pe.Z)(
                    et().ShowContentsContainer,
                    !o && et().Loading,
                  ),
                },
                !o || u
                  ? l.createElement(ge, {
                      capsules_per_row: [12],
                      is_item_browser: !0,
                    })
                  : l.createElement(
                      J.wl,
                      {
                        onClick: this.ShowMoreRows,
                        className: et().ShowContentsButton,
                      },
                      (0, v.Xx)("#Sale_ShowMore"),
                    ),
              ),
          );
          return (
            (null == n ? void 0 : n.enable_faceted_browsing) &&
              (y = l.createElement(
                Xe,
                Object.assign(
                  {
                    language: i,
                    section: n,
                    event: a,
                    facetFilterState: this.state.facetFilterState,
                    nMaxFacetValues: n.max_facet_values_for_facet || 100,
                    fnOnUpdateFilter: this.OnUpdateFacetFilter,
                    onInitFilter: () => {
                      this.setState({
                        facetFilterState: new Re(
                          this.props.section.facets,
                          this.props.section
                            .min_capsule_matches_for_facet_values || 1,
                          this.props.section.facet_sort_order ||
                            ee.bS.k_ESortFacetsByMatchCount,
                          this.props.language,
                          qe(this.props.section),
                          We(this.props.event, this.props.section),
                        ),
                      });
                    },
                  },
                  this.state.results,
                ),
                y,
              )),
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "div",
                { className: Je.SaleSectionTitleCtn },
                l.createElement(
                  ve.AO,
                  Object.assign(
                    { section: n, event: a, nHiddenCapsules: _ },
                    this.props,
                  ),
                ),
              ),
              l.createElement(
                "div",
                { className: et().SaleItemBrowserContainer },
                l.createElement(
                  Ye,
                  { className: et().SaleItemBrowserHeaderContainer },
                  l.createElement(
                    $.s,
                    {
                      "flow-children": "row",
                      className: et().SaleItemBrowserHeader,
                    },
                    g,
                    t.enable_search &&
                      !this.props.bInGamepadUI &&
                      l.createElement(
                        "div",
                        { className: et().SuggestContainer },
                        l.createElement(Ee.YtI, null),
                        l.createElement(d.II, {
                          type: "text",
                          onChange: this.OnUpdateSearch,
                          bAlwaysShowClearAction: h,
                          value: p,
                        }),
                      ),
                  ),
                ),
                y,
              ),
            )
          );
        }
      };
      function St(e) {
        const [t, n] = l.useState(),
          [a, i] = l.useState(),
          [r, o] = l.useState(!1);
        return (
          l.useEffect(() => {
            const t = e.request
              .split("&")
              .map((e) => e.split("="))
              .filter((e) => !e[0].startsWith("facet"));
            n(t.map((e) => e.join("=")).join("&")),
              i(
                t.map((e) => [
                  e[0],
                  decodeURIComponent(e[1].replace(/\+/g, " ")),
                ]),
              );
          }, [e.request]),
          "dev" !== E.De.WEB_UNIVERSE
            ? null
            : t && a
              ? l.createElement(
                  "div",
                  { className: et().SaleItemBrowserDebug },
                  l.createElement(
                    J.Ks,
                    { className: et().ShowHideLink, onClick: () => o(!r) },
                    r ? "Hide" : "Show",
                    " Solr Query Details",
                  ),
                  r &&
                    l.createElement(
                      l.Fragment,
                      null,
                      Boolean(a) &&
                        a.map((e, t) =>
                          l.createElement(
                            "div",
                            { key: "filter_" + t, className: et().QueryTerm },
                            l.createElement(
                              "div",
                              { className: et().Name },
                              e[0],
                            ),
                            l.createElement("div", null, e[1]),
                          ),
                        ),
                      l.createElement(
                        J.IS,
                        {
                          className: et().WGTesterLink,
                          target: "_blank",
                          href:
                            "https://local.steam.dev:4443/wg?reqname=QuerySolr&request=" +
                            encodeURIComponent(
                              "['request' => 'QuerySolr', 'core' => 'store', 'query' => '" +
                                t +
                                "']",
                            ),
                        },
                        "Open in WG Tester",
                      ),
                    ),
                )
              : null
        );
      }
      function Dt(e) {
        const {
            browseInfo: t,
            rgCapsules: n,
            fnBIsPermittedApp: a,
            fnOnRestartBrowse: i,
            feature: r,
            depth: o,
            activeTab: s,
          } = e,
          c = (0, fe.p)();
        return l.createElement(
          De.ZP,
          { feature: r, depth: o },
          Boolean(i) && l.createElement(ft, { onClick: i }),
          n
            .slice(0)
            .filter(
              (e) => !a || ("sub" != e.type && "bundle" != e.type && a(e.id)),
            )
            .map((e) => {
              let n;
              return (
                !c &&
                  "overrideNavigation" in e &&
                  (n = (t) => (
                    e.overrideNavigation(t),
                    t && (t.preventDefault(), t.stopPropagation()),
                    !1
                  )),
                l.createElement(it, {
                  key: "saleitem_browser_" + e.type + "_" + e.id,
                  bShowDemoButton:
                    t.show_as_demos ||
                    (null == s ? void 0 : s.BFilterRequiresFeatureDemo()),
                  bShowDeckCompatibilityDialog:
                    t.show_deck_compability_details ||
                    (null == s
                      ? void 0
                      : s.BFilterRequiresSteamDeckVerifiedOrPlayable()),
                  id: e.id,
                  type: e.type || "game",
                  fnOnClickOverride: n,
                })
              );
            }),
        );
      }
      function ft(e) {
        const { onClick: t } = e,
          n = l.useRef();
        return (
          l.useLayoutEffect(() => {
            var e;
            null === (e = null == n ? void 0 : n.current) ||
              void 0 === e ||
              e.scrollIntoView();
          }, []),
          l.createElement(
            J.IS,
            {
              ref: n,
              className: et().ResetItemsCtn,
              onClick: (e) => {
                t && t(), e.preventDefault(), e.stopPropagation();
              },
            },
            l.createElement(Ee.Lao, null),
            l.createElement(
              "span",
              { className: et().ResetItems },
              (0, v.Xx)("#Sale_ItemBrowser_ShowFromBeginning"),
            ),
          )
        );
      }
      (Et.contextType = vt.DF),
        (0, C.gn)([ie.ak], Et.prototype, "OnDynamicCapsuleInsert", null),
        (0, C.gn)([ie.ak], Et.prototype, "ShowMoreRows", null),
        (0, C.gn)([ie.ak], Et.prototype, "FilterItems", null),
        (0, C.gn)([ie.ak], Et.prototype, "OnUpdateSearch", null),
        (0, C.gn)([ie.ak], Et.prototype, "OnUpdateFacetFilter", null),
        (0, C.gn)([ie.ak], Et.prototype, "OnResize", null),
        (Et = (0, C.gn)([Q.Pi], Et));
      var yt = n(47242),
        bt = n(24827),
        It = n(29480);
      function Ct(e, t) {
        return `${e}|${t}`;
      }
      class kt {
        constructor() {
          (this.m_mapSaleDetails = new Map()), (0, M.rC)(this);
        }
        static Get() {
          return (
            kt.s_globalSingletonStore ||
              ((kt.s_globalSingletonStore = new kt()),
              kt.s_globalSingletonStore.Init()),
            kt.s_globalSingletonStore
          );
        }
        Init() {}
        BHasSaleDetails(e, t) {
          return this.m_mapSaleDetails.has(Ct(e, t));
        }
        GetSaleDetails(e, t) {
          const n = Ct(e, t);
          return (
            this.m_mapSaleDetails.has(n) || this.FetchSalePageDetails(e, t),
            this.m_mapSaleDetails.get(n)
          );
        }
        FetchSalePageDetails(e, t, n) {
          var a;
          return (0, C.mG)(this, void 0, void 0, function* () {
            const i = Ct(e, t);
            if (this.m_mapSaleDetails.has(i)) return;
            this.m_mapSaleDetails.set(i, {});
            const l = { clanid: e, gid: t },
              r =
                E.De.PARTNER_BASE_URL +
                "actions/ajaxgetpartnereventssaledetails";
            let o = null;
            try {
              const e = yield x().get(r, {
                params: l,
                withCredentials: !0,
                cancelToken: null == n ? void 0 : n.token,
              });
              if (
                1 ==
                  (null === (a = null == e ? void 0 : e.data) || void 0 === a
                    ? void 0
                    : a.success) &&
                e.data.details
              )
                return void this.m_mapSaleDetails.set(i, e.data.details);
              o = (0, O.l)(null == e ? void 0 : e.data);
            } catch (e) {
              o = (0, O.l)(e);
            }
            console.warn("ajax request for " + i + " failed with error", o);
          });
        }
      }
      (0, C.gn)([M.LO.shallow], kt.prototype, "m_mapSaleDetails", void 0);
      var At = n(52108),
        wt = n(53390),
        Pt = n.n(wt),
        Tt = n(93727);
      const Nt = (e) => {
        const { event: t } = e,
          n = (0, Tt.Iw)(t.GetSaleVanity());
        if (t.BHasSaleVanity()) {
          const e = new Array(),
            i = Math.floor(Date.now() / 1e3),
            r = a.G.Get().GetVanityFeaturing(t.GetSaleVanity());
          r &&
            r.length > 0 &&
            r.forEach((n) => {
              const a = t.GetSaleVanity().toLowerCase(),
                r = n.clusters[0],
                o = r.page_bg_url && -1 != r.page_bg_url.indexOf(a);
              e.push(
                l.createElement(
                  "div",
                  { key: n.cluster_name },
                  l.createElement(
                    "a",
                    {
                      className: o
                        ? Pt().FeaturingActive
                        : Pt().FeaturingMainCapsule,
                      target: "_blank",
                      href:
                        E.De.PARTNER_BASE_URL +
                        "admin/store/pageclusteredit/" +
                        n.cluster_name +
                        "/" +
                        n.clusters[0].id +
                        "?activetab=tab_capsules",
                    },
                    Boolean(!r.visible || i < r.startdate) &&
                      l.createElement(
                        "span",
                        { className: Pt().FeaturingMissing },
                        (0, v.Xx)("#Sale_FeaturingHidden"),
                      ),
                    (o ? "" : (0, v.Xx)("#Sale_CapsuleFeaturing")) +
                      n.cluster_name,
                  ),
                ),
              );
            });
          const o = a.G.Get().GetVanitySpotlight(t.GetSaleVanity());
          o &&
            e.push(
              l.createElement(
                "div",
                { key: o.id },
                l.createElement(
                  "a",
                  {
                    className: (0, pe.Z)(Pt().FeaturingSpotlight),
                    href:
                      E.De.PARTNER_BASE_URL + "admin/store/spotlight/" + o.id,
                    target: "_blank",
                  },
                  Boolean(!o.visible || i < o.startdate) &&
                    l.createElement(
                      "span",
                      { className: Pt().FeaturingMissing },
                      (0, v.Xx)("#Sale_FeaturingHidden"),
                    ),
                  (0, v.Xx)("#Sale_HasSpotlight"),
                ),
              ),
            );
          const s = a.G.Get().GetVanityIM(t.GetSaleVanity());
          if (
            (s &&
              e.push(
                l.createElement(
                  "div",
                  { key: s.gid },
                  l.createElement(
                    "a",
                    {
                      className: (0, pe.Z)(Pt().FeaturingIM),
                      href:
                        E.De.PARTNER_BASE_URL + "marketing/message/" + s.gid,
                      target: "_blank",
                    },
                    Boolean(i < s.startdate) &&
                      l.createElement(
                        "span",
                        { className: Pt().FeaturingMissing },
                        (0, v.Xx)("#Sale_FeaturingHidden"),
                      ),
                    (0, v.Xx)("#Sale_HasIM"),
                  ),
                ),
              ),
            (null == n ? void 0 : n.length) > 0 &&
              n.forEach((t) => {
                e.push(
                  l.createElement(
                    "div",
                    { key: t.gid },
                    l.createElement(
                      "a",
                      {
                        className: (0, pe.Z)(Pt().FeaturingDailyDeal),
                        href:
                          E.De.PARTNER_BASE_URL +
                          "admin/store/dailydeal/" +
                          t.gid,
                        target: "_blank",
                      },
                      Boolean(i < t.rtime32_start_time) &&
                        l.createElement(
                          "span",
                          { className: Pt().FeaturingMissing },
                          (0, v.Xx)("#Sale_FeaturingHidden"),
                        ),
                      (0, v.Xx)("#Sale_DailyDeal"),
                    ),
                  ),
                );
              }),
            t.BHasSaleProductBanners())
          ) {
            const n = l.createElement(
                "div",
                { className: Pt().BannerCtn },
                l.createElement(
                  "span",
                  null,
                  (0, v.Xx)("#Sale_HasProductBanner_ttip"),
                ),
                l.createElement("br", null),
                Boolean(t.GetImageURL("product_banner", 0)) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      "h2",
                      null,
                      (0, v.Xx)("#Sale_ArtworkType_product_banner"),
                    ),
                    l.createElement("img", {
                      src: t.GetImageURL("product_banner", 0),
                    }),
                  ),
                l.createElement("br", null),
                l.createElement("br", null),
                Boolean(t.GetImageURL("product_mobile_banner", 0)) &&
                  l.createElement(
                    l.Fragment,
                    null,
                    l.createElement(
                      "h2",
                      null,
                      (0, v.Xx)("#Sale_ArtworkType_product_mobile_banner"),
                    ),
                    l.createElement("img", {
                      src: t.GetImageURL("product_mobile_banner", 0),
                    }),
                  ),
              ),
              a = 604800;
            e.push(
              l.createElement(
                "div",
                { key: t.GID + "banner" },
                l.createElement(
                  Se.HP,
                  { toolTipContent: n },
                  l.createElement(
                    "a",
                    {
                      className: Pt().FeaturingProductBanner,
                      href:
                        E.De.COMMUNITY_BASE_URL +
                        "gid/" +
                        t.clanSteamID.ConvertTo64BitString() +
                        "/partnerevents/edit/" +
                        t.GID +
                        "?tab=sale#SalePageEdit_SaleBanner",
                    },
                    Boolean(
                      !t.BIsVisibleEvent() ||
                        i < t.startTime ||
                        t.endTime < i ||
                        t.startTime + a < i,
                    ) &&
                      l.createElement(
                        "span",
                        { className: Pt().FeaturingMissing },
                        (0, v.Xx)("#Sale_FeaturingHidden"),
                      ),
                    (0, v.Xx)("#Sale_HasProductBanner"),
                  ),
                ),
              ),
            );
          }
          return l.createElement(
            "div",
            { className: Pt().Featuring },
            l.createElement(
              "div",
              null,
              (0, v.Xx)(
                t.BIsVisibleEvent()
                  ? "#Sale_ActiveFeaturing"
                  : "#Sale_UpcomingFeaturing",
              ),
            ),
            Boolean((null == e ? void 0 : e.length) > 0)
              ? e
              : (0, v.Xx)("#Sale_NoFeaturing"),
          );
        }
        return l.createElement(
          Se.HP,
          { toolTipContent: (0, v.Xx)("#Sale_NoVanity_ttip") },
          l.createElement(
            "div",
            { className: Pt().Featuring },
            l.createElement(
              "span",
              { className: Pt().FeaturingMissing },
              (0, v.Xx)("#Sale_NoVanity"),
            ),
          ),
        );
      };
      function Rt(e) {
        const { eventModel: t, fnBIsPublisherApp: n } = e,
          [a, i] = l.useState(
            Array.from(t.GetSaleFeaturedApps(n)).map((e) => ({
              id: e,
              type: "game",
            })),
          );
        return l.createElement(
          "div",
          null,
          a.map((e) =>
            l.createElement(tt.ju, {
              key: e.type + "_" + e.id,
              id: e.id,
              type: e.type || "game",
              bShowDemoButton: !1,
              bLoadShortDescription: !1,
            }),
          ),
        );
      }
      var Gt = n(45284),
        Lt = n(80310),
        Bt = n.n(Lt);
      const xt = (0, Q.Pi)((e) => {
          const { saleDesc: t, bDetailsAreVisible: n, fnToggleDetails: a } = e,
            [i, r] = (0, l.useState)(jt(t)),
            o = l.useRef(x().CancelToken.source());
          (0, l.useEffect)(() => {
            jt(t) &&
              kt
                .Get()
                .FetchSalePageDetails(
                  t.clanAccountID,
                  t.clanEventGID,
                  o.current,
                )
                .then(() => r(!1));
          }, [t]);
          const s = Date.now() / 1e3;
          if (!(t.bVisible && t.rtStartTime < s && !i)) return null;
          const c = kt.Get().GetSaleDetails(t.clanAccountID, t.clanEventGID),
            m = c && Number(c.grossSalesUSD),
            d = Number.isNaN(m) ? (0, v.Xx)("#Sale_Stats_NoData") : Kt(m);
          return l.createElement(
            "div",
            { className: (0, pe.Z)(K().SaleDetails) },
            l.createElement("div", { className: (0, pe.Z)(I().BigNumber) }, d),
            l.createElement(
              "span",
              {
                "data-tooltip-text": (0, v.Xx)("#Sale_Stats_GrossSales_ttip"),
                className: z.HelperTooltip,
              },
              (0, v.Xx)("#Sale_Stats_GrossSales"),
            ),
            !Number.isNaN(m) &&
              l.createElement(
                "div",
                { onClick: a, className: Bt().DetailedStatsButton },
                (0, v.Xx)(
                  n
                    ? "#Sale_Stats_HideDetailedStatsButton"
                    : "#Sale_Stats_SeeDetailedStatsButton",
                ),
              ),
          );
        }),
        Mt = (0, Q.Pi)((e) => {
          const t = kt
            .Get()
            .GetSaleDetails(e.saleDesc.clanAccountID, e.saleDesc.clanEventGID);
          if (!t) return null;
          const n = [
              {
                title: "App ID",
                formatter: function (e, t, n) {
                  return (
                    "<a style='font-weight:bold' target='_blank' href='" +
                    E.De.PARTNER_BASE_URL +
                    "apps/landing/" +
                    e.getValue() +
                    "'>" +
                    e.getValue() +
                    "</a>"
                  );
                },
                field: "appid",
                width: 100,
              },
              {
                title: "Name",
                formatter: function (e, t, n) {
                  return (
                    "<a style='font-weight:bold' target='_blank' href='" +
                    E.De.STORE_BASE_URL +
                    "app/" +
                    e.getRow().getCells()[0].getValue() +
                    "'>" +
                    e.getValue() +
                    "</a>"
                  );
                },
                field: "name",
                width: 300,
              },
              {
                title: "Total US$",
                formatter: Qt,
                field: "gross_sales_usd",
                width: 120,
              },
              {
                title: "Total Units",
                formatter: Zt,
                field: "gross_units_sold",
                width: 120,
              },
              { title: "Discounts", field: "discounts", width: 120 },
              {
                title: "Impressions",
                formatter: Zt,
                field: "impressions",
                width: 120,
              },
              {
                title: "Non-owners",
                formatter: Zt,
                field: "no_impressions",
                width: 120,
              },
              {
                title: "Page Visits",
                formatter: Zt,
                field: "views",
                width: 120,
              },
              {
                title: "Non-owners",
                formatter: Zt,
                field: "no_views",
                width: 120,
              },
            ],
            a = l.useRef(null);
          let i,
            r = [];
          for (const e in t.rgApps) {
            const n =
                Number(t.rgNavMetrics[e].total_impressions) -
                Number(t.rgNavMetrics[e].owner_total_impressions),
              a =
                Number(t.rgNavMetrics[e].total_views) -
                Number(t.rgNavMetrics[e].owner_total_views);
            (i = {
              appid: t.rgApps[e].id,
              name: t.rgApps[e].name,
              gross_sales_usd: t.rgAppSaleSummaries[e].gross_sales_usd,
              gross_units_sold: t.rgAppSaleSummaries[e].gross_units_sold,
              discounts: Vt(t.rgApps[e].subs, t),
              impressions: t.rgNavMetrics[e].total_impressions,
              no_impressions: n,
              views: t.rgNavMetrics[e].total_views,
              no_views: a,
            }),
              r.push(i);
          }
          const o = Date.now() / 1e3,
            s = (0, v.yW)(o - t.rtime_written),
            c = t.totalImpressions - t.ownerTotalImpressions,
            m = t.totalViews - t.ownerTotalViews,
            p =
              (t.rgExplicitAppIDs
                .slice()
                .sort((e, n) => (0, Gt.tN)(t.rgApps[e].name, t.rgApps[n].name)),
              t.rgExplicitPackageIDs
                .slice()
                .sort((e, n) =>
                  (0, Gt.tN)(t.rgPackages[e].name, t.rgPackages[n].name),
                )),
            _ = t.rgExplicitBundleIDs
              .slice()
              .sort((e, n) =>
                (0, Gt.tN)(t.rgBundles[e].name, t.rgBundles[n].name),
              );
          return l.createElement(
            "div",
            { className: Bt().DetailedStats },
            l.createElement(
              "div",
              { className: Bt().DetailedStatsTopBar },
              l.createElement(
                Ot,
                { name: (0, v.Xx)("#Sale_Stats_GrossSales") },
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_SalesUSD"),
                  value: Kt(t.grossSalesUSD),
                }),
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_SalesUnits"),
                  value: zt(t.grossUnitsSold),
                }),
              ),
              l.createElement(
                Ot,
                { name: (0, v.Xx)("#Sale_Stats_DiscountedGrossSales") },
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_SalesUSD"),
                  value: Kt(t.discountedGrossSalesUSD),
                }),
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_SalesUnits"),
                  value: zt(t.discountedGrossUnitsSold),
                }),
              ),
              l.createElement(
                Ot,
                { name: (0, v.Xx)("#Sale_Stats_ImpressionCount") },
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_TotalProductCount"),
                  value: zt(t.totalImpressions),
                }),
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_NonOwnerProductCount"),
                  value: zt(c),
                }),
              ),
              l.createElement(
                Ot,
                { name: (0, v.Xx)("#Sale_Stats_ViewCount") },
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_TotalProductCount"),
                  value: zt(t.totalViews),
                }),
                l.createElement(Ft, {
                  name: (0, v.Xx)("#Sale_Stats_NonOwnerProductCount"),
                  value: zt(m),
                }),
              ),
              l.createElement(
                "div",
                { className: Bt().DetailedStatsTimestamp },
                l.createElement(
                  bt.Zg,
                  {
                    className: I().Timestamp,
                    rtFullDate: t.rtime_written,
                    stylesmodule: I(),
                  },
                  (0, v.Xx)("#Sale_Stats_DetailTimestamp", s),
                ),
              ),
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatsRows },
              l.createElement(
                "div",
                { className: Bt().DetailedStatsSectionHeader },
                l.createElement(
                  "div",
                  { className: Bt().SectionHeaderName },
                  (0, v.Xx)("#Sale_Stats_AppDetailsHeader"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().SectionHeaderDescription },
                  (0, v.Xx)("#Sale_Stats_AppDetailsDescription"),
                ),
              ),
              l.createElement(
                u.SV,
                null,
                l.createElement(T.ReactTabulator, {
                  ref: a,
                  columns: n,
                  data: r,
                  options: {
                    downloadDataFormatter: (e) => e,
                    downloadReady: (e, t) => t,
                    initialSort: [{ column: "gross_sales_usd", dir: "desc" }],
                  },
                }),
                l.createElement("br", null),
              ),
              l.createElement(
                d.zx,
                {
                  id: "download-csv",
                  onClick: function () {
                    a.current.table.download("csv", "data.csv");
                  },
                  style: { width: "120px" },
                },
                "Download CSV",
              ),
              l.createElement(
                "div",
                { className: Bt().DetailedStatsSectionHeader },
                l.createElement(
                  "div",
                  { className: Bt().SectionHeaderName },
                  (0, v.Xx)("#Sale_Stats_PackageDetailsHeader"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().SectionHeaderDescription },
                  (0, v.Xx)("#Sale_Stats_PackageDetailsDescription"),
                ),
              ),
              l.createElement(
                "div",
                {
                  className: (0, pe.Z)(
                    Bt().DetailedStatsRow,
                    Bt().DetailedStatsRowHeader,
                  ),
                },
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_PackageId"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatLong },
                  (0, v.Xx)("#Sale_Stats_ItemName"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_ListedAppsHeader"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_SalesUSD"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_SalesUnits"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_DiscountRange"),
                ),
              ),
              p.map((e) =>
                l.createElement(Ut, {
                  key: `package-${e}`,
                  packageid: e,
                  saleDetails: t,
                }),
              ),
              l.createElement(
                "div",
                { className: Bt().DetailedStatsSectionHeader },
                l.createElement(
                  "div",
                  { className: Bt().SectionHeaderName },
                  (0, v.Xx)("#Sale_Stats_BundleDetailsHeader"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().SectionHeaderDescription },
                  (0, v.Xx)("#Sale_Stats_BundleDetailsDescription"),
                ),
              ),
              l.createElement(
                "div",
                {
                  className: (0, pe.Z)(
                    Bt().DetailedStatsRow,
                    Bt().DetailedStatsRowHeader,
                  ),
                },
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_BundleId"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatLong },
                  (0, v.Xx)("#Sale_Stats_ItemName"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_ListedAppsHeader"),
                ),
                l.createElement(
                  "div",
                  { className: Bt().DetailedStatShort },
                  (0, v.Xx)("#Sale_Stats_PackageDetailsHeader"),
                ),
              ),
              _.map((e) =>
                l.createElement(Ht, {
                  key: `app-${e}`,
                  bundleid: e,
                  saleDetails: t,
                }),
              ),
            ),
          );
        }),
        Ot = (e) =>
          l.createElement(
            "div",
            { className: Bt().TopBarSection },
            l.createElement(
              "div",
              { className: Bt().TopBarSectionName },
              e.name,
            ),
            l.createElement(
              "div",
              { className: Bt().TopBarSubSections },
              e.children,
            ),
          ),
        Ft = (e) =>
          l.createElement(
            "div",
            { className: Bt().TopBarSubSection },
            l.createElement("div", { className: Bt().SubSectionName }, e.name),
            l.createElement(
              "div",
              { className: Bt().SubSectionValue },
              e.value,
            ),
          ),
        Ut = (e) => {
          const { packageid: t, saleDetails: n } = e;
          return l.createElement(
            "div",
            { className: Bt().DetailedStatsRow },
            l.createElement("div", { className: Bt().DetailedStatShort }, t),
            l.createElement(
              "div",
              { className: Bt().DetailedStatLong },
              n.rgPackages[t].name,
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatShort },
              n.rgPackages[t].contains_apps.length,
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatShort },
              Kt(n.rgPackageSaleSummaries[t].gross_sales_usd),
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatShort },
              zt(n.rgPackageSaleSummaries[t].gross_units_sold),
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatShort },
              l.createElement(Xt, { rgPackageIds: [t], saleDetails: n }),
            ),
          );
        },
        Ht = (e) => {
          const { bundleid: t, saleDetails: n } = e;
          return l.createElement(
            "div",
            { className: Bt().DetailedStatsRow },
            l.createElement("div", { className: Bt().DetailedStatShort }, t),
            l.createElement(
              "div",
              { className: Bt().DetailedStatLong },
              n.rgBundles[t].name,
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatShort },
              n.rgBundles[t].contains_packages.length,
            ),
            l.createElement(
              "div",
              { className: Bt().DetailedStatShort },
              n.rgBundles[t].contains_apps.length,
            ),
          );
        };
      function Vt(e, t) {
        let n, a;
        for (const i of e) {
          const e = t.rgPackageDiscounts[Number(i)];
          if (null == e ? void 0 : e.length)
            for (const t of e)
              (void 0 === n || n > t.percentage) && (n = t.percentage),
                (void 0 === a || a < t.percentage) && (a = t.percentage);
        }
        return void 0 === n
          ? (0, v.Xx)("#Sale_Stats_NoDiscounts")
          : n == a
            ? `${n}%`
            : `${n}%-${a}%`;
      }
      const Xt = (e) => {
        const { rgPackageIds: t, saleDetails: n } = e;
        return l.createElement("div", null, Vt(t, n));
      };
      function jt(e) {
        const t = Date.now() / 1e3;
        return (
          e.bVisible &&
          e.rtStartTime < t &&
          !kt.Get().BHasSaleDetails(e.clanAccountID, e.clanEventGID)
        );
      }
      let qt, Wt;
      function zt(e) {
        return (
          qt || (qt = new Intl.NumberFormat("en-US")), qt.format(Number(e))
        );
      }
      function Zt(e, t, n) {
        return zt(e.getValue());
      }
      function Kt(e) {
        return (
          Wt ||
            (Wt = new Intl.NumberFormat("en-US", {
              style: "currency",
              currency: "USD",
            })),
          Wt.format(Math.round(Number(e) / 100)).slice(0, -3)
        );
      }
      function Qt(e, t, n) {
        return Kt(e.getValue());
      }
      var Yt = n(2467),
        Jt = n(16450),
        $t = n.n(Jt);
      function en(e) {
        const t = e.event.GetValveAccessLog(),
          { fnHintLoadPartnerUserInfo: n } = (0, Yt.AV)();
        return (
          (0, l.useEffect)(() => {
            t && n(t.map((e) => e.strSteamID));
          }, [t, n]),
          l.createElement(
            "div",
            { className: $t().AccessLog },
            l.createElement(
              "div",
              { className: $t().AccessLogHeader },
              (0, v.Xx)("#Sale_AccessLogHeader"),
            ),
            (null == t ? void 0 : t.length) > 0
              ? t
                  .slice()
                  .sort((e, t) => t.rtUpdated - e.rtUpdated)
                  .map((e) =>
                    l.createElement(tn, {
                      key: "log-" + e.strSteamID + e.rtUpdated,
                      entry: e,
                    }),
                  )
              : (0, v.Xx)("#Sale_AccessLog_Empty"),
          )
        );
      }
      function tn(e) {
        const { strSteamID: t, rtUpdated: n, strNotes: a } = e.entry,
          i = t,
          r = (0, Yt.XB)(t),
          o = Date.now() / 1e3,
          s = (0, v.yW)(o - n);
        return l.createElement(
          "div",
          { className: $t().AccessLogEntry },
          l.createElement(
            "div",
            { className: I().Name },
            r
              ? l.createElement(Se.HP, { toolTipContent: r.email }, r.persona)
              : i,
          ),
          "-",
          l.createElement(
            bt.Zg,
            { className: I().Timestamp, rtFullDate: n, stylesmodule: I() },
            s,
          ),
          Boolean(a) && l.createElement("div", null, a),
        );
      }
      var nn = n(33687);
      function an(e) {
        const { saleDescList: t, fnSetFilteredSaleDescList: n } = e,
          [a, i] = (0, Ze.Ar)("search", ""),
          r = l.useRef();
        return (
          (0, l.useEffect)(() => {
            if (!a) return n(t);
            const e = t.filter(
              (e) =>
                (e.strEventName || "").toLocaleLowerCase().includes(a) ||
                (e.strVanity || "").toLocaleLowerCase().includes(a),
            );
            n(e);
          }, [a, t, n]),
          l.createElement(d.II, {
            ref: r,
            type: "text",
            label: "Search by Sale Page Name",
            placeholder: "type at least 2 characters..",
            onChange: (e) => {
              const t = String(e.target.value).toLocaleLowerCase();
              (!t || t.trim().length < 2) && i(null), i(t.trim());
            },
          })
        );
      }
      const ln = (e) => {
        const {
            saleDescList: t,
            bShowAppBrowse: n,
            bShowFeaturing: a,
            descriptionToken: i,
            hiddenSaleDescList: r,
            bShowRankView: o,
          } = e,
          [s, c] = (0, l.useState)(() => t);
        return l.createElement(
          "div",
          { className: (0, pe.Z)(K().SectionContainer) },
          l.createElement(an, {
            saleDescList: t,
            fnSetFilteredSaleDescList: c,
          }),
          Boolean(i) &&
            l.createElement(
              "div",
              { className: K().SaleSectionDesc },
              (0, v.Xx)(i),
            ),
          s.map((e) =>
            l.createElement(
              u.SV,
              { key: e.clanEventGID },
              l.createElement(
                yt.Y,
                { placeholderHeight: "160px", rootMargin: "0px 0px 200px 0px" },
                l.createElement(on, {
                  saleDesc: e,
                  bShowAppBrowse: n,
                  bShowFeaturing: a,
                  bShowRankView: o,
                }),
              ),
            ),
          ),
          Boolean(0 == s.length) &&
            l.createElement(
              "div",
              { className: K().Empty },
              (0, v.Xx)("#Sale_EventStats_Empty"),
            ),
          Boolean((null == r ? void 0 : r.length) > 0) &&
            r.map((e) =>
              l.createElement(
                u.SV,
                { key: e.clanEventGID },
                l.createElement(sn, { saleDesc: e }),
              ),
            ),
        );
      };
      function rn(e) {
        const { saleDesc: t } = e,
          n = (0, c.J)(t.clanAccountID),
          a =
            E.De.COMMUNITY_BASE_URL +
            "gid/" +
            R.K.InitFromClanID(t.clanAccountID).ConvertTo64BitString() +
            "/partnerevents/edit/" +
            t.clanEventGID;
        return l.createElement(
          "div",
          { className: K().TileContainer },
          l.createElement(
            "div",
            { className: K().Tile },
            (0, v.Xx)("#Loading"),
            ":",
            l.createElement("br", null),
            (0, v.Xx)("#Sale_Section_Preload_Name"),
            " ",
            t.strEventName,
            l.createElement("br", null),
            "Community Group Account ID: ",
            t.clanAccountID,
            l.createElement("br", null),
            "EventGID: ",
            t.clanEventGID,
            l.createElement("br", null),
            Boolean(n.can_edit) &&
              l.createElement(
                l.Fragment,
                null,
                (0, v.Xx)("#Sale_Section_Type_links"),
                ": ",
                l.createElement(
                  "a",
                  { href: a },
                  (0, v.Xx)("#EventEditor_Edit"),
                ),
              ),
          ),
          l.createElement("div", { className: K().Footer }),
        );
      }
      function on(e) {
        const {
            saleDesc: t,
            bShowAppBrowse: n,
            bShowFeaturing: a,
            bShowRankView: r,
          } = e,
          [o, s] = l.useState(!0),
          c = (0, i.Z)(),
          [d, p] = l.useState(!1);
        if (
          ((0, l.useEffect)(() => {
            const e = R.K.InitFromClanID(t.clanAccountID),
              n = [
                m.j1.QueueLoadPartnerEvent(t.clanAccountID, t.clanEventGID, !0),
                L.sV.LoadClanInfoForClanSteamID(e),
              ];
            !c &&
              jt(t) &&
              n.push(
                kt.Get().FetchSalePageDetails(t.clanAccountID, t.clanEventGID),
              ),
              Promise.all(n).then(() => s(!1));
          }, [c, t]),
          o)
        )
          return l.createElement(rn, {
            saleDesc: t,
            bShowAppBrowse: e.bShowAppBrowse,
            bShowFeaturing: !c,
          });
        const _ = m.j1.GetClanEventModel(t.clanEventGID);
        if (!_)
          return l.createElement(
            l.Fragment,
            null,
            l.createElement(
              "div",
              null,
              "Failed to load event. Are you logged into the Steam Store?",
            ),
            l.createElement(rn, {
              saleDesc: t,
              bShowAppBrowse: e.bShowAppBrowse,
              bShowFeaturing: !c,
            }),
          );
        const h = (0, N.jM)(E.De.LANGUAGE),
          g = _.GetSaleURL();
        return l.createElement(
          u.SV,
          null,
          l.createElement(
            "div",
            { className: (0, pe.Z)(K().TileContainer) },
            l.createElement(vn, { clanAccountID: t.clanAccountID }),
            l.createElement(gn, {
              saleDesc: t,
              strSaleURL: _.GetSaleURL(),
              strEventName: _.GetNameWithFallback(h),
            }),
            l.createElement(
              "div",
              { className: (0, pe.Z)(K().EventDetailsCtn) },
              l.createElement(
                Se.HP,
                { toolTipContent: _.GetSummaryWithFallback(h) },
                l.createElement(
                  "a",
                  { href: g, target: "_blank" },
                  l.createElement("img", {
                    className: (0, pe.Z)(K().CapsuleImg),
                    src: _.GetImageURLWithFallback(
                      "capsule",
                      h,
                      G.FN.capsule_main,
                    ),
                  }),
                ),
              ),
              l.createElement(
                "div",
                { className: (0, pe.Z)(K().TopStatsCtn) },
                l.createElement(pn, {
                  eventModel: _,
                  bShowAppBrowse: n,
                  bShowRankView: !c && r,
                }),
                Boolean(_.BIsVisibleEvent() && c) &&
                  l.createElement(cn, { eventModel: _ }),
                Boolean(_.BIsVisibleEvent() && !c) &&
                  l.createElement(mn, { eventModel: _ }),
                Boolean(!c) &&
                  l.createElement(xt, {
                    saleDesc: t,
                    bDetailsAreVisible: d,
                    fnToggleDetails: () => p(!d),
                  }),
              ),
              l.createElement(dn, { eventModel: _ }),
              l.createElement(un, { eventModel: _ }),
              Boolean(!c && a) && l.createElement(Nt, { event: _ }),
              Boolean(!c) && l.createElement(en, { event: _ }),
            ),
            d && l.createElement(Mt, { saleDesc: t }),
          ),
        );
      }
      function sn(e) {
        const { saleDesc: t } = e,
          n = t.bFeaturedNextSeasonalSale
            ? E.De.STORE_BASE_URL + "sale/" + t.strVanity
            : E.De.STORE_BASE_URL +
              "curator/" +
              t.clanAccountID +
              "/sale/" +
              t.strVanity;
        return l.createElement(
          "div",
          { className: (0, pe.Z)(K().TileContainer) },
          l.createElement(gn, {
            saleDesc: t,
            strSaleURL: n,
            strEventName: t.strEventName,
          }),
          l.createElement(
            "div",
            { className: (0, pe.Z)(K().EventDetailsCtn) },
            (0, v.Xx)("#Sale_InDraftModeNoAccess"),
          ),
          l.createElement(vn, { clanAccountID: t.clanAccountID }),
        );
      }
      function cn(e) {
        const { eventModel: t } = e;
        return (0, c.J)(t.clanSteamID.GetAccountID()).can_edit
          ? l.createElement(mn, { eventModel: t })
          : null;
      }
      function mn(e) {
        const { eventModel: t } = e,
          n = t.GID,
          a = t.clanSteamID.GetAccountID(),
          [i, r] = l.useState(!H.BHasEventStats(a, n)),
          o = (0, It.T)("SaleEventRowTile");
        return (
          l.useEffect(() => {
            if (i && m.j1.GetClanEventModel(n).BIsVisibleEvent()) {
              const e = R.K.InitFromClanID(a);
              H.LoadStatsForEvents(e, [n], o).finally(() => r(!1));
            }
            return () =>
              null == o ? void 0 : o.cancel("unloading SaleEventRowTile");
          }, [i, o, a, n]),
          i
            ? l.createElement(h.V, { string: (0, v.Xx)("#Loading") })
            : l.createElement(
                "div",
                { className: (0, pe.Z)(K().EventStats) },
                l.createElement(
                  "div",
                  { className: (0, pe.Z)(I().BigNumber) },
                  H.GetStatsFor(
                    t.clanSteamID,
                    n,
                  ).m_stats.store_app_page_read.toLocaleString(),
                ),
                l.createElement(
                  "span",
                  {
                    "data-tooltip-text": (0, v.Xx)("#Sale_EventStats_Read"),
                    className: (0, pe.Z)(z.HelperTooltip, I().StatText),
                  },
                  (0, v.Xx)("#Sale_EventStats_Read_Title"),
                ),
              )
        );
      }
      function dn(e) {
        const { eventModel: t } = e,
          n = t.GetSaleSectionCount(),
          a = t.GetSaleFeaturedAppsCount(),
          i = t.GetSaleFeaturedBundlesCount(),
          r = t.GetSaleFeaturedPackagesCount();
        return l.createElement(
          "div",
          { className: (0, pe.Z)(K().BasicStatsCtn) },
          (0, v.Xx)("#Sale_Stats_Section", n),
          l.createElement("br", null),
          (0, v.Xx)("#Sale_Stats_Apps_featured", a),
          l.createElement("br", null),
          (0, v.Xx)("#Sale_Stats_Bundles", i),
          l.createElement("br", null),
          (0, v.Xx)("#Sale_Stats_Packages", r),
          l.createElement("br", null),
        );
      }
      function un(e) {
        const t = (0, i.Z)(),
          { eventModel: n } = e,
          a = (0, c.J)(n.clanSteamID.GetAccountID()),
          r = n.clanSteamID.GetAccountID(),
          o = n.GID,
          s = n.GetSaleURL(),
          m =
            E.De.COMMUNITY_BASE_URL +
            "gid/" +
            n.clanSteamID.ConvertTo64BitString() +
            "/partnerevents/edit/" +
            o +
            "?tab=sale",
          d = E.De.STORE_BASE_URL + "newshub/group/" + r + "/view",
          u =
            E.De.COMMUNITY_BASE_URL +
            "gid/" +
            n.clanSteamID.ConvertTo64BitString() +
            "/partnerevents/preview/" +
            o,
          p = new Date(1e3 * n.GetStartTimeAndDateUnixSeconds()),
          _ = new Date(1e3 * n.GetEndTimeAndDateUnixSeconds()),
          h =
            E.De.INTERNAL_STATS_BASE_URL +
            "sales/details/?gid=" +
            o +
            "&clanid=" +
            r +
            "&dateStart=" +
            p.getFullYear() +
            "-" +
            (p.getMonth() + 1) +
            "-" +
            p.getDate() +
            "&dateEnd=" +
            p.getFullYear() +
            "-" +
            (_.getMonth() + 1) +
            "-" +
            _.getDate();
        return l.createElement(
          "div",
          { className: (0, pe.Z)(K().LinkCtn) },
          Boolean(a.can_edit) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "a",
                { href: m, target: "_blank" },
                (0, v.Xx)("#EventEditor_Edit"),
              ),
              l.createElement("br", null),
            ),
          Boolean(n.BIsVisibleEvent()) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "a",
                { href: d, target: "_blank" },
                (0, v.Xx)("#Sale_Link_PostviewEvent"),
              ),
              l.createElement("br", null),
            ),
          Boolean(!n.BIsVisibleEvent() && a.can_edit) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "a",
                { href: u, target: "_blank" },
                (0, v.Xx)("#Sale_Link_PreviewEvent"),
              ),
              l.createElement("br", null),
            ),
          Boolean(n.BIsVisibleEvent()) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "a",
                { href: s, target: "_blank" },
                (0, v.Xx)("#Sale_Link_SalePage"),
              ),
              l.createElement("br", null),
            ),
          Boolean(!t) &&
            l.createElement(
              l.Fragment,
              null,
              l.createElement(
                "a",
                { href: h, target: "_blank" },
                (0, v.Xx)("#Sale_Link_Stats"),
              ),
              l.createElement("br", null),
            ),
        );
      }
      function pn(e) {
        const { eventModel: t, bShowAppBrowse: n, bShowRankView: a } = e,
          { fnBIsPublisherApp: r } = w(),
          o = (0, i.Z)();
        let s = t.GetSaleFeaturedAppsCount(o ? r : void 0);
        const c = (0, l.useCallback)(
          (e) => {
            (0, p.AM)(
              l.createElement(_n, { nPartnerID: o, eventModel: t }),
              (0, g.RA)(e),
            );
          },
          [t, o],
        );
        return l.createElement(
          "div",
          { className: (0, pe.Z)(K().FeaturedApps) },
          l.createElement("div", { className: (0, pe.Z)(I().BigNumber) }, s),
          l.createElement(
            "span",
            {
              "data-tooltip-text": (0, v.Xx)(
                o ? "#Sale_Stats_Apps_Partner_Ttip" : "#Sale_Stats_Apps_Ttip",
              ),
              className: (0, pe.Z)(z.HelperTooltip, I().StatText),
            },
            (0, v.Xx)(o ? "#Sale_Stats_Apps_Partner" : "#Sale_Stats_Apps"),
            "",
            n &&
              l.createElement(
                "span",
                { onClick: c, className: (0, pe.Z)(K().BrowseLink) },
                "(",
                (0, v.Xx)("#Sale_DashBoard_SeeList"),
                ")",
              ),
            a &&
              l.createElement(
                "span",
                {
                  onClick: (e) => {
                    (0, p.AM)(
                      l.createElement(hn, { eventModel: t }),
                      (0, g.RA)(e),
                    );
                  },
                  className: (0, pe.Z)(K().BrowseLink, z.ValveOnlyBackground),
                },
                "(Sales Rank)",
              ),
          ),
        );
      }
      function _n(e) {
        const { closeModal: t, nPartnerID: n, eventModel: a } = e,
          { fnBIsPublisherApp: i } = w();
        return l.createElement(
          rt.RG,
          { bAllowFullSize: !0, closeModal: t },
          l.createElement(
            d.h4,
            null,
            (0, v.Xx)("#Sale_DashBoard_ShowLiveData"),
          ),
          l.createElement(
            d.uT,
            null,
            l.createElement(
              u.SV,
              null,
              l.createElement(
                "div",
                { className: I().QuickViewCtn },
                n
                  ? l.createElement(Rt, { eventModel: a, fnBIsPublisherApp: i })
                  : l.createElement(
                      vt.QI,
                      { location: 2 },
                      l.createElement(Et, {
                        key: a.GID,
                        event: a,
                        browseInfo: {
                          enable_search: !0,
                          show_as_demos: !1,
                          tabs: [
                            "popularpurchased",
                            "recentlyreleased",
                            "popularcomingsoon",
                            "topwishlisted",
                            "trendingwishlisted",
                            "mostplayeddemo",
                            "dailyactiveuserdemo",
                            "playednowdemo",
                          ],
                        },
                        language: (0, N.jM)(E.De.LANGUAGE),
                        activeTab: null,
                        fnBIsPermittedApp: i,
                      }),
                    ),
              ),
            ),
          ),
        );
      }
      function hn(e) {
        const { closeModal: t, eventModel: n } = e,
          a = (0, l.useMemo)(() => Array.from(n.GetSaleFeaturedApps()), [n]),
          i = (0, P.l)(a),
          r = (0, nn.oC)("dummy_optin", a, "dummy_discountid"),
          o = l.useRef(null),
          s = [
            { title: "App ID", formatter: At.L2, field: "appid", width: 100 },
            { title: "Name", formatter: At.IX, field: "name", width: 300 },
            {
              title: "Long Term Sales Rank",
              formatter: At.AV,
              field: "long_term_sales_rank",
              width: 120,
            },
            {
              title: "has discount",
              formatter: At.sN,
              field: "discount_info",
              width: 450,
            },
          ],
          c = (0, j.wZ)(a, { include_release: !0 }),
          m = (0, l.useMemo)(
            () =>
              1 == c || i.bLoading || !r
                ? null
                : a.map((e) => {
                    const t = X.Z.Get().GetApp(e);
                    return {
                      appid: e,
                      name: (null == t ? void 0 : t.GetName()) || "Unknonw",
                      long_term_sales_rank: i.fnbHasSomeLongTermSaleRankForApp(
                        e,
                      )
                        ? i.fnGetLongTermSaleRankForApp(e)
                        : 1e7,
                      discount_info: (0, nn.Lr)(
                        e,
                        r,
                        n.GetStartTimeAndDateUnixSeconds(),
                        n.GetEndTimeAndDateUnixSeconds(),
                        "dummy_discountid",
                      ),
                    };
                  }),
            [c, i, a, r, n],
          );
        return 1 != c && m && !i.bLoading && r
          ? l.createElement(
              rt.RG,
              { bAllowFullSize: !0, closeModal: t },
              l.createElement(
                d.h4,
                null,
                (0, v.Xx)("#Sale_DashBoard_ShowLiveData"),
              ),
              l.createElement(
                d.uT,
                null,
                l.createElement(
                  u.SV,
                  null,
                  l.createElement(T.ReactTabulator, {
                    ref: o,
                    columns: s,
                    data: m,
                    options: {
                      downloadDataFormatter: (e) => e,
                      downloadReady: (e, t) => t,
                      initialSort: [
                        { column: "long_term_sales_rank", dir: "asc" },
                      ],
                    },
                  }),
                  l.createElement("br", null),
                ),
              ),
            )
          : l.createElement(h.V, {
              string: (0, v.Xx)("#Loading"),
              size: "medium",
              position: "center",
            });
      }
      function gn(e) {
        const { saleDesc: t, strSaleURL: n, strEventName: a } = e;
        return l.createElement(
          "div",
          { className: (0, pe.Z)(K().EventNameCtn) },
          l.createElement(
            "a",
            { href: n, target: "_blank", className: K().EventName },
            a,
          ),
          l.createElement(
            "div",
            { className: (0, pe.Z)(K().DatesCtn) },
            (0, v.kQ)(
              "#Sale_Dates",
              t.rtStartTime &&
                l.createElement(bt.H6, {
                  dateAndTime: t.rtStartTime,
                  bSingleLine: !0,
                }),
              t.rtEndTime &&
                l.createElement(bt.H6, {
                  dateAndTime: t.rtEndTime,
                  bSingleLine: !0,
                }),
            ),
          ),
        );
      }
      function vn(e) {
        const { clanAccountID: t } = e,
          [n, a] = (0, L.KU)(t);
        return n || !a
          ? l.createElement(
              "div",
              { className: (0, pe.Z)(K().ClanInfoCtn) },
              l.createElement(h.V, {
                string: (0, v.Xx)("#Loading"),
                size: "medium",
                position: "center",
              }),
            )
          : l.createElement(
              "div",
              { className: (0, pe.Z)(K().ClanInfoCtn) },
              l.createElement(
                "div",
                { className: K().ClanInfoName },
                a.group_name,
              ),
              l.createElement(
                W.tl,
                {
                  className: K().HoverCtn,
                  hoverProps: {
                    direction: "left",
                    style: { minWidth: "350px" },
                  },
                  hoverContent: l.createElement(q.pL, {
                    clanInfo: a,
                    bAddLinkToMemberList: !0,
                  }),
                },
                l.createElement("img", {
                  className: (0, pe.Z)(K().Avatar),
                  src: a.avatar_full_url,
                }),
              ),
            );
      }
      function En(e) {
        const { publisherid: t } = (0, s.UO)(),
          [n, a] = l.useState(!0);
        if (
          (l.useEffect(() => {
            n &&
              (m.j1.Init(),
              S.U.Get(),
              Promise.all([c.cb.InitGlobal()]).then(() => a(!1)));
          }, [n]),
          n)
        )
          return l.createElement(h.V, {
            string: (0, v.Xx)("#Loading"),
            position: "center",
          });
        const r = (0, E.kQ)("partner_name", "application_config");
        return l.createElement(
          "div",
          { className: o()(I().DashboardCtn, y().AdminPageCtn) },
          l.createElement(
            "div",
            { className: y().PageTitle },
            (0, v.Xx)("#Sale_Partner_Dashboard") +
              ((null == r ? void 0 : r.length) > 0 ? ": " + r : ""),
          ),
          l.createElement("hr", null),
          l.createElement(
            "div",
            { className: I().DashboardDesc },
            (0, v.Xx)("#Sale_Partner_Dashboard_Desc"),
          ),
          l.createElement("br", null),
          l.createElement("br", null),
          l.createElement(
            i.X.Provider,
            { value: Number.parseInt(t) },
            l.createElement(Dn, null),
          ),
        );
      }
      function Sn(e) {
        const [t, n] = l.useState(!0);
        l.useEffect(() => {
          t &&
            (m.j1.Init(),
            a.G.Get(),
            S.U.Get(),
            Promise.all([c.cb.InitGlobal()]).then(() => n(!1)));
        }, [t]);
        return t
          ? l.createElement(h.V, {
              string: (0, v.Xx)("#Loading"),
              position: "center",
            })
          : l.createElement(
              "div",
              { className: I().DashboardCtn },
              l.createElement("h1", null, (0, v.Xx)("#Sale_DashBoard")),
              l.createElement("hr", null),
              l.createElement(
                "p",
                null,
                (0, v.kQ)(
                  "#Sale_DashBoard_Desc",
                  l.createElement(
                    "a",
                    {
                      href: "https://confluence.valve.org/display/SteamBiz/New+Sales+Page+Feature+-+How+to+invite+partners",
                      target: "_blank",
                    },
                    (0, v.Xx)("#Sale_DashBoard_Desc_Link"),
                  ),
                  l.createElement(
                    "a",
                    {
                      href: "https://partner.steamgames.com/doc/resources/Sales_Feature_Beta",
                      target: "_blank",
                    },
                    (0, v.Xx)("#Sale_DashBoard_Desc_Link2"),
                  ),
                ),
              ),
              l.createElement("hr", null),
              l.createElement(
                d.KM,
                {
                  className: I().CreateNewSaleButton,
                  onClick: (e) => {
                    (0, p.AM)(l.createElement(D.s, null), (0, g.RA)(e));
                  },
                },
                (0, v.Xx)("#Sale_New_Title"),
              ),
              l.createElement(
                "p",
                null,
                l.createElement(
                  "a",
                  {
                    href: "https://help.steampowered.com/en/wizard/HelpWithPublishing?issueid=938",
                  },
                  "The best way is for the Partner to create a ticket. Keywords will help them with creating sale page and their sale related questions.",
                ),
              ),
              l.createElement(
                i.X.Provider,
                { value: null },
                l.createElement(Dn, null),
              ),
            );
      }
      function Dn(e) {
        var t;
        const n = (0, i.Z)(),
          a = (e) => window.sessionStorage.setItem("saletab", `?tab=${e.key}`),
          r = [
            {
              name: (0, v.Xx)(
                "#Sale_Summary_Active",
                S.U.Get().GetActiveEvents().length.toLocaleString(),
              ),
              key: "active",
              contents: l.createElement(
                u.SV,
                null,
                l.createElement(
                  "div",
                  { className: I().DashboardSectionActive },
                  l.createElement(ln, {
                    saleDescList: S.U.Get().GetActiveEvents(),
                    bShowAppBrowse: !0,
                    bShowFeaturing: !0,
                  }),
                ),
              ),
              onClick: a,
            },
          ];
        return (
          (S.U.Get().GetSeasonFeaturedEvents().length > 0 ||
            (null === (t = S.U.Get().GetSeasonFeaturedHiddenEvents()) ||
            void 0 === t
              ? void 0
              : t.length) > 0) &&
            r.push({
              name: (0, v.Xx)(
                "#Sale_Summary_SeasonalSaleFeatured",
                S.U.Get().GetSeasonFeaturedEvents().length.toLocaleString(),
              ),
              key: "seasonal",
              contents: l.createElement(
                u.SV,
                null,
                l.createElement(
                  "div",
                  { className: I().DashboardSectionFeatured },
                  l.createElement(ln, {
                    saleDescList: S.U.Get().GetSeasonFeaturedEvents(),
                    descriptionToken: "#Sale_Summary_SeasonalSaleFeatured_Desc",
                    bShowAppBrowse: !0,
                    hiddenSaleDescList:
                      S.U.Get().GetSeasonFeaturedHiddenEvents(),
                  }),
                ),
              ),
              onClick: a,
            }),
          r.push({
            name: (0, v.Xx)(
              "#Sale_Summary_Upcoming",
              S.U.Get().GetUpcomingEvents().length.toLocaleString(),
            ),
            key: "upcoming",
            contents: l.createElement(
              u.SV,
              null,
              l.createElement(ln, {
                saleDescList: S.U.Get().GetUpcomingEvents(),
                bShowFeaturing: !0,
                bShowAppBrowse: Boolean(n),
                bShowRankView: !0,
              }),
            ),
            onClick: a,
          }),
          r.push({
            name: (0, v.Xx)(
              "#Sale_Summary_Draft",
              S.U.Get().GetDraftEvents().length.toLocaleString(),
            ),
            key: "draft",
            contents: l.createElement(
              u.SV,
              null,
              l.createElement(ln, {
                saleDescList: S.U.Get().GetDraftEvents(),
                bShowFeaturing: !0,
                bShowAppBrowse: Boolean(n),
                bShowRankView: !0,
              }),
            ),
            onClick: a,
          }),
          S.U.Get().GetOldDraftEvents().length > 0 &&
            r.push({
              name: (0, v.Xx)(
                "#Sale_Summary_OldDraft",
                S.U.Get().GetOldDraftEvents().length.toLocaleString(),
              ),
              key: "olddraft",
              contents: l.createElement(
                u.SV,
                null,
                l.createElement(ln, {
                  saleDescList: S.U.Get().GetOldDraftEvents(),
                  bShowAppBrowse: Boolean(n),
                }),
              ),
              onClick: a,
            }),
          r.push({
            name: (0, v.Xx)(
              "#Sale_Summary_Archived",
              S.U.Get().GetArchiveEvents().length.toLocaleString(),
            ),
            key: "archived",
            contents: l.createElement(
              u.SV,
              null,
              l.createElement(ln, {
                saleDescList: S.U.Get().GetArchiveEvents(),
                bShowAppBrowse: Boolean(n),
              }),
            ),
            onClick: a,
          }),
          l.createElement(_.n, { tabs: r })
        );
      }
    },
    50900: (e, t, n) => {
      "use strict";
      n.d(t, {
        $: () => c,
        $d: () => o,
        GB: () => s,
        K4: () => d,
        Kd: () => m,
        Rf: () => p,
        Xq: () => h,
        g8: () => _,
        lw: () => r,
        wv: () => u,
      });
      var a = n(46984),
        i = n(31846);
      const l = n(98973);
      function r(e) {
        if (e.internal_json) {
          let t = JSON.parse(e.internal_json);
          return t.hasOwnProperty("notes") && t.notes.length > 0;
        }
        return !1;
      }
      function o(e) {
        if (e.internal_json) {
          let t = JSON.parse(e.internal_json);
          return t.hasOwnProperty("notes") ? t.notes : "";
        }
        return "";
      }
      function s(e) {
        return e.appid
          ? { store_item_id: e.appid, store_item_type: 0 }
          : e.bundleid
            ? { store_item_id: e.bundleid, store_item_type: 2 }
            : e.packageid
              ? { store_item_id: e.packageid, store_item_type: 1 }
              : {};
      }
      function c(e) {
        let t = {};
        return (
          0 == e.store_item_type && (t.appid = e.store_item_id),
          2 == e.store_item_type && (t.bundleid = e.store_item_id),
          1 == e.store_item_type && (t.packageid = e.store_item_id),
          t
        );
      }
      function m(e) {
        return 0 == e ? 0 : 2 == e ? 2 : 1 == e ? 1 : -1;
      }
      function d(e) {
        return 0 == e.store_item_type
          ? [e.store_item_id, 0]
          : 2 == e.store_item_type
            ? [e.store_item_id, 2]
            : 1 == e.store_item_type
              ? [e.store_item_id, 1]
              : [0, -1];
      }
      function u(e) {
        const t = l.unix(e).tz("America/Los_Angeles").day();
        return p((e -= a._H.PerDay * t));
      }
      function p(e) {
        let t = l.unix(e).tz("America/Los_Angeles");
        return (
          t.set({ hour: 10, minute: 0, second: 0, milliseconds: 0 }),
          t.valueOf() / 1e3
        );
      }
      function _(e) {
        let t = { year: void 0, timeZone: "America/Los_Angeles" };
        return (0, i.vX)(e, t);
      }
      function h(e) {
        return (
          "Daily Deal" +
          ((null == e ? void 0 : e.GetName()) ? ` - ${e.GetName()}` : "")
        );
      }
    },
    47986: (e, t, n) => {
      "use strict";
      n.d(t, { u: () => _ });
      var a = n(85556),
        i = n(80751),
        l = n.n(i),
        r = n(47427),
        o = n(80886),
        s = n(1485),
        c = n(45492),
        m = n(13129),
        d = n(31846),
        u = n(37563),
        p = n(48674);
      function _(e) {
        const {
            fnSetItemID: t,
            strLabel: n,
            itemType: i,
            fnFilterID: o,
            className: _,
            tooltip: g,
            autoFocus: v,
          } = e,
          [E, S] = r.useState(""),
          [D] = r.useState(new c.Ar()),
          [f, y] = r.useState(new Array()),
          [b, I] = r.useState(new Array()),
          [C, k] = r.useState(new Array()),
          A = (0, r.useCallback)(
            (e) =>
              (0, a.mG)(this, void 0, void 0, function* () {
                var t, n, a, r;
                if (e.trim().length > 0) {
                  const s = { json: 1, term: e, bexcluderetired: !0 };
                  let c = `${u.De.PARTNER_BASE_URL}apps/suggestapps`;
                  switch (i) {
                    case 1:
                      c = `${u.De.PARTNER_BASE_URL}admin/store/suggestpackage`;
                      break;
                    case 2:
                      c = `${u.De.PARTNER_BASE_URL}bundles/suggestbundle`;
                  }
                  const m = yield l().get(c, {
                    params: s,
                    withCredentials: !0,
                  });
                  200 == (null == m ? void 0 : m.status) &&
                    1 ==
                      (null === (t = m.data) || void 0 === t
                        ? void 0
                        : t.success) &&
                    (o
                      ? (y(
                          (null === (n = m.data.matches) || void 0 === n
                            ? void 0
                            : n.filter((e) => o(e.id))) || [],
                        ),
                        I(
                          (null === (a = m.data.package_matches) || void 0 === a
                            ? void 0
                            : a.filter((e) => o(e.packageid))) || [],
                        ),
                        k(
                          (null === (r = m.data.bundle_matches) || void 0 === r
                            ? void 0
                            : r.filter((e) => o(e.bundleid))) || [],
                        ))
                      : (y(m.data.matches || []),
                        I(m.data.package_matches || []),
                        k(m.data.bundle_matches || [])));
                } else y([]), I([]), k([]);
              }),
            [o, i],
          ),
          w = (0, r.useCallback)(
            (e) => {
              var t, n;
              const a =
                null ===
                  (n =
                    null === (t = null == e ? void 0 : e.target) || void 0 === t
                      ? void 0
                      : t.value) || void 0 === n
                  ? void 0
                  : n.toLocaleLowerCase();
              if (a) {
                S(a);
                const e = 200;
                D.Schedule(e, () => A(a));
              } else S("");
            },
            [A, D],
          );
        let P;
        switch (i) {
          case 1:
            P = (0, d.Xx)("#StoreAdmin_Search_Placeholder_package");
            break;
          case 2:
            P = (0, d.Xx)("#StoreAdmin_Search_Placeholder_bundle");
            break;
          default:
            P = (0, d.Xx)("#StoreAdmin_Search_Placeholder");
        }
        return r.createElement(
          "div",
          { className: (0, m.Z)(p.AppSearchInput, _) },
          r.createElement(s.II, {
            type: "text",
            label: n,
            tooltip: g,
            placeholder: P,
            onChange: w,
            value: E,
            bAlwaysShowClearAction: E.length > 0,
            focusOnMount: v,
          }),
          r.createElement(
            "div",
            { className: p.Results },
            Boolean((null == f ? void 0 : f.length) > 0) &&
              f.map((e) =>
                r.createElement(h, {
                  key: e.id,
                  name: e.match,
                  id: e.id,
                  is_visible: !0,
                  type: 0,
                  fnSetItemID: (e) => {
                    y([]), t(e);
                  },
                }),
              ),
            Boolean((null == b ? void 0 : b.length) > 0) &&
              b.map((e) =>
                r.createElement(h, {
                  key: e.packageid,
                  name: e.name,
                  id: e.packageid,
                  type: 1,
                  is_visible: e.is_visible,
                  fnSetItemID: (e) => {
                    I([]), t(e);
                  },
                }),
              ),
            Boolean((null == C ? void 0 : C.length) > 0) &&
              C.map((e) =>
                r.createElement(h, {
                  key: e.bundleid,
                  name: e.name,
                  id: e.bundleid,
                  type: 2,
                  is_visible: e.is_visible,
                  fnSetItemID: (e) => {
                    k([]), t(e);
                  },
                }),
              ),
          ),
        );
      }
      function h(e) {
        var t;
        const { name: n, id: a, type: i, is_visible: l, fnSetItemID: s } = e,
          [c] = (0, o.jk)(a, i, { include_assets: !0 });
        let u = "#DailyDeals_HeaderArtMissing";
        switch (i) {
          case 1:
            u = "#DailyDeals_PackageHeaderArtMissing";
            break;
          case 2:
            u = "#DailyDeals_BundleHeaderArtMissing";
        }
        return r.createElement(
          "div",
          { className: p.ResultRow, onClick: () => s(a) },
          r.createElement(
            "div",
            { className: (0, m.Z)(p.AvatarImageCtn, "AvatarImageCtn") },
            r.createElement("img", {
              src:
                null === (t = null == c ? void 0 : c.GetAssets()) ||
                void 0 === t
                  ? void 0
                  : t.GetHeaderURL(),
              className: p.AvatarImage,
              alt: (0, d.Xx)(u),
            }),
          ),
          r.createElement(
            "div",
            { className: p.GameName },
            Boolean(!l) && r.createElement("span", null, "(Not Visible) "),
            n,
            1 == i ? ` (${a})` : "",
          ),
        );
      }
    },
    71738: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => a });
      const a =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAc9JREFUeNrsmz1Lw1AUhnP8qB+Qkk0pItbVxcX/IM6Cky7iFH+Jk79BwclBB3+AszgUwdVNBxFaCw1E7fW9cAep5pa0NiT3vgdeLjRJm/Ocm/NRiCilAp9tKvDcCIAACIAAsiyEzqAepCqqnvEhzHJSLGVQX7jvSKDPoYO8ADS9BUcAJNBiXgCudUjCJEgABPDLZip2v12obwIXur4DdBK+MeVrHaqJSB2KzKqT2izUgLZd2wH30CF8bFnTusgnlhdUsjmXAFxBe3Au9TEJ3hXpfNkA9M22T4v80TIBuIbzDz73ARe+9wG31pqo1DSWGNqBlgcO16oO4A3b/3XIOafQ8b9PSCWZBh8BYMMSfd3wvEPzrk6DH0OON8Z0vvLDkHAaJAACIICJJJeCy+Aa1Pnj8y+Uwa6lDOpA1S3fewSdjJJIi26EOnC0nTtKInpQalsALfn+CDQJgAA8BYDnP8IS+bwDmuNcXHQVWDURG7QUmf7ZEmV9nysZh7dcGIdbALBpAaD7h6dJDFRshQmAAAiAAAiAAAiAAAiAAAiAAAiAAAjgpyUO+ZmMAuDSIQCZvtj+E4zNuhtU98WJxDgfZ50gfHOUSZAACIAAPLZvAQYAZ32YkpymkAcAAAAASUVORK5CYII=";
    },
    80289: (e, t, n) => {
      "use strict";
      n.d(t, { Z: () => a });
      const a =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABApJREFUeNrsm2tIFUEUx2evRl5ISnugZuULIwoVtIykIIkgowdmERERUh9CqQ/Rh+gFCX4oKCIjyi8VQtETsoLoARViJEokRYlako9Iy4JKfLX9hz2CwXrv7t6ZvbvcPfDjwr3uzJ7/npk5c3ZUVFVlkWw+FuHmCeAJ4AngCeAJ4AkQwRbtgnucBzJALPgNPoJ28FdI6zwTdCDp4DToUvWtF1SDHIPtFUz0m5GLp9noeAw4BYZV43YFxOm05QNF4DmosirADNABMm1wPgE0qdasHWSAKJALKkAr/TYIUq0KcIAa4Y0lS3Q+HjSroVk/+Knz/eFAfQe7sfpxDckU4bYqx2opKsb6UcwIMElnLPLhsECw8xskOc9F9RPFoIaGyX/9B8oDknSWybmgHhQJXOaOSlg634AP4AH4Dm6Bh6DVzDKYE0ThSoqSUJ5+lmqPVUx0D4EioDeIygdBA8gL4UmtsiGROhcoygIJ8AUMBGk8G7wC1SDRws1lSXb+OCjngW5FgFHw0kAnCthF6ekZkGLiBhMlOT4ENoNjoW6GrpvoNAbsBW3gLtgKpgS5ZkCSAD3gpojdYA34ZmGHuQ5cpWtrSZilJNJ46w/3TksxUBbfDS4K6m+ElqdO0A3mg2WSlsFsUQLwMX4DbHLRNr/eqLCBhkAm2EgC7ABPXCRAr9E/DFQQ8YM7FK61FAUJYKELBGgTIUA3fSaDPS6rdBkWIFgm+M6lpb4mUUXRey50fhA0ihLgLBh2mQANlAkKEaCTNhNusvuiEyE/7QmyXCJAhqhJcHy+vtZMo2G0RrP3afTNEB8KBeCpwwUwnbIrJo/I8KxwJzgCUh3mfD/lLH9kRAC3eLCIabW1FWA/bTudYufNOm82AuJAF02KzIFPPw38MHuhz2Qnlxw69iutOG9lDuDDoAVMd5Dzb0EuZYBMZgRw4zV2XuoadYjz/BV5qVXnrQjA7THY7pAU+STTqtKWTQnhpCjPCy6D9DA5/wIUMq3MFhYBxtJkXncvY9pJDrusAywBX0NtSBF0VthHe4Xl9FnK5J0/6qPoaxF146Imo9dUQFkj2flCUc6LFIDvwK7RBDlbYtjzCGsW2Wiop8TyafxvA1ESx3wdKGHa+0oWTgGmgsVgNVjPtBcbMo1PUCdo8yVl2dUTYBY4BOYw7VxeLGWAKbTbUmya6d8z7aVrnVyJ9Q8ORINy0KPab31gn4DDF4YItgz66SmU2RDun0AVuAB+2ZVQGM0DeNivBFtAMZgpcBvLi5j8LfQjJur4q+REiM/2eSRIPiU+aQZzhc+UL/DS9TOmFVtHWBhNVCY4mWmnypJo2IwdjBikp8xTVl5XHGIOM8X7t7kIN08ATwBPAE8ATwBPgAi2fwIMABJGc33swO3GAAAAAElFTkSuQmCC";
    },
  },
]);
