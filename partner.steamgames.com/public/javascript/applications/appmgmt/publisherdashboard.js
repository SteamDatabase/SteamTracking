/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkappmgmt_storeadmin =
  self.webpackChunkappmgmt_storeadmin || []).push([
  [8523],
  {
    1936: (e) => {
      e.exports = {
        SectionContainer: "_1PiBdCCjO150Q3hTAufdO-",
        CalendarContainer: "_1Q9Esj5HeM-zR9xwNwZbLz",
        CalendarMovingRegion: "_3z91JA_guW8Kol6_3JYdsK",
        Sticky: "y0zs1X6cJnOeGGGHMnykj",
        ListArea: "gbif2hEiU91nZaM6kXn4Z",
        FilterHeader: "_2MXeDRYOqlELNsek990_rP",
        FilterOptionsContainer: "_1ZcqFkHkuRJ22gzZ4fORx_",
        FilterOption: "XvuAsXIIOXpunZZFsbG1J",
        Highlighted: "_1EjDsvA9MZZb2AvmujSv3u",
        FilterTextArea: "JkxeAXegHM_QgtpOvm_AH",
        FilterTextInput: "_2RGPezbGnjjotWULS4Gk3E",
        FilterTextIcon: "hydxe4hXqJfIxrt7409Iz",
        FilterTextClearButton: "vAsUAkbX_RoNYnnfJISZR",
        ListContainer: "_2KG00jfx602luW_vdQRBzE",
        List: "weIDXAqztYzqoIwepmsqa",
        Overflows: "DkGpNkRj4z7mW_dfjSvRq",
        Expanded: "_2jreD9S_Xh_xvWoqzS6bWg",
        ListMonthContainer: "_2ZwvtkeX0URO2_-2taBoRV",
        ListMonthCalendarMovingContainer: "_3lJsS_dw0OHW1NVfxmu4ec",
        ListMonthCalendar: "_3IydHRCeAWvMa9BsrKO8wD",
        ListMonthCalendarAlt: "_1CfSWUeq7BwPIyOkYQpgJU",
        ListMonthCalendarAltFlag: "_2bbnwMGGRiyd5ZDbXEZSqW",
        Live: "_6ee9pUIbo29-Ff4xoo1Vq",
        Past: "_8ry_ijicR9Z_4y8MHNTj9",
        ListMonthCalendarAltLiveText: "_1P0U5YrXZxfa-C_FHPiFSd",
        ListMonthCalendarAltPastText: "_9AyZNx9V_HPQuM_vtiYvb",
        ListMonth: "_3okkw7x-z0qZCEK1NAahdQ",
        EmptyMonth: "_3lyfmIZ1z2WSjSGhWIPf3O",
        ListDay: "_3nICiFsbiDeF2mpxzd7IwS",
        ListDayGroup: "_352WWYgRAg5jmv-U2SnWfB",
        ListEvent: "_3MRpE4hb3oHP-SJc6vi4yU",
        Dimmed: "_3exR8ToQYk5rc15u6VEoUa",
        DeadlineUrgent: "_2gM5oc8dylrxJTQo2jP4rs",
        ListEventEventElement: "_266M20K-owSPOzkiuGBsBf",
        ListEventHeader: "_1Vdp0aCwns6iiwo5MG0vNI",
        ValveOnly: "_28655jUVT6o-ebdfQQ1vyx",
        Edit: "_1dnVPTtaahO2JQS3OE3SYY",
        Spacer: "_1MLZKEQOuWsi2BTjmjlOBh",
        Dismiss: "_2odt96_ZRUgmstGH4SoHb3",
        ListDayNumber: "_2Ncx_BvvudD_IcBVx_LvxT",
        Deadline: "wtQr51ScyM_XVTch64sH_",
        DLCRelease: "_2NkJJG4Hwuh-stavQ37q8c",
        GameRelease: "_1VysaKhxfy4cBLdjI6JsyG",
        Event: "_2xxX0s3uxEU627JFdaQYDJ",
        ListEventType: "_37eU9658-vqcNosEYTJkcp",
        ListEventEventSection: "_3wlVa8x4AS1PHWwY_wi-k-",
        ListEventEventGutter: "_382iDNo-Drucmr1EywHor6",
        Loading: "_1BsxVDOWwiT4onflhO4bAR",
        ExpandButton: "_97EaAkAHVWnrq08EKad4J",
        AllEventsFiltered: "_3x4GpVBlBh7Scc9WVEWgU-",
        GroupPlaceholder: "h-0YMsaRZ9MTVsMb2fuWk",
        GroupPlaceholderCapsules: "ptApIyhzYXOYjPeSyazsK",
        ExpandContainer: "_1eSEFRNJRuuc3ywaWvSTAE",
        GroupPlaceholderCapsule: "C1qEKLBiqrSSmwKoRjABM",
        GroupPlaceholderCapsuleMissing: "cj9RQ9Fa8HRuAfXaBC-j8",
      };
    },
    27989: (e) => {
      e.exports = {
        ReleaseInfoCtn: "_3pyc1rLbsfwxBzJyo5sSGH",
        ReleaseInfoRow: "_3xlpWtlLHzeEs867WmkEco",
        ReleaseDateLabel: "_1c-xWcy3xU5-9w4WMDBaBk",
        ReleaseDateText: "Uds1EW8cCKznZViXJR7rK",
        AdvancedAccess: "_3DjEDzcUQfco8bzr0S8lKa",
        ItemReleaseInfoContainer: "_1foxJ51_vcGLTtrIYUsdBR",
        ItemReleaseStatusCtn: "lHnZkWzyYDDvLGib3I4dC",
        ItemReleaseStatusLabel: "lY-QD7LQpsurzqbEFbpsw",
        ItemReleaseStatusText: "_3tS9x4mCXvmP5SeWCFVOAI",
        Released: "_2hafZfeaVn-Ck28i_mCCJ6",
        Prerelease: "_3dm-qRXJQ5IvnxASEaUR-i",
      };
    },
    95013: (e) => {
      e.exports = {
        DateDesc: "_1ieLjZCscUCDEoq5WxDnos",
        StatusIndicatorSection: "EQDUb2VLFwQpPfjQ3skm3",
        StatusIndicator: "_35mLhsittFJqY9y-lWL7CS",
        Complete: "_1d04fBazUEIUkD2m2dR1gy",
        CapsuleContainer: "_tube1QAlHBP0R_WZC6dh",
        RecapCapsuleContainer: "_32lDgxMiFkyQH0J8KoHa-A",
        DailyDealTitle: "_37u7YGTUEm2-ajGx7pneh4",
        DailyDeal_RecapContainer: "_3vG59rd5Y0j_Pa-c5gTTXK",
        PromoTitle: "_1Cz2tiprzZPFDYi0LkcW8c",
        FeaturedDate: "_1b9mTzy-chexcZrxryciDC",
        DailyDeal_RecapTable: "_3-BsuwqeYHzZrvrMxr9f8l",
        Cell: "_3zi3mQCKUh5E-EVcrnE5W1",
        GameCount: "_1v3nuicMA4m8d-yT1Lxngj",
        SalesRow: "_3FYdeynVLeJjVl03fQxHZM",
        VerticalCell: "_2Tcw8t9uK7YLhiSbX2_G2e",
        HighlightHeader: "RUh8sWtNrvoTofQcmnk6b",
        ActiveSortColumn: "_39AoV7z9NYbz4kuO7UE8Im",
        HighlightValue: "og1MY8q_G9yAnCnV67kWf",
        HighlightText: "LB8RZGgOGPpYM_l0O2qMF",
        DailyDealLinkButtonContainer: "XH1ExHdILVi7Zr4DMv4TC",
      };
    },
    79198: (e) => {
      e.exports = {
        DeadlineWarning: "_3BQrnzyxSMAp9_XcJ5QXDi",
        DeadlineWarningUrgent: "_2imXbqSxgLF07RmC5yVqF1",
        CapsuleTax: "_3HedtZyM0AdhJpVYJd2Q0d",
      };
    },
    46406: (e) => {
      e.exports = { YoureRegistered: "_3Cq5dkjja40hD3OIyYgGTT" };
    },
    99661: (e) => {
      e.exports = {
        HeaderText: "Oe9oC2iVrZ7AB3HsaBubl",
        AppsCountToolTipSource: "qxDLjxP1x2ZNb4BNJAlSu",
        AppsCount: "_3Hr1U8j8JMaOg44NLkJB7V",
        AppsCountLabel: "HEzBa-bMLz3OzjR-oDLiA",
        AppsCountText: "LmhKHrKzvyM11tzm3FDiN",
        AppsCountTooltip: "_18_kvxy_eVzHR3zVcCH3d_",
      };
    },
    84865: (e) => {
      e.exports = {
        ItemDeadlineHeaderText: "_3fFB6RwbLIvb3W_fir7Fv3",
        Urgent: "_3feZl2DmA-9yyeeh-tmdf4",
        ItemWarning: "xmbXoWyepJf7XgOtlx24Q",
        StatusItemBox: "_2I9APf3zBd0y9Dy6m91yjj",
        Hidden: "j2neDc031KN1cmo26Ei6_",
        StatusItemBoxLabel: "_3M2fCNpPmbrNLgY80Bhk3M",
        StatusItemBoxText: "_2MTf_HzUX_pOLW_hVcWMvy",
        OptInGamesToolTipContainer: "_2wZAa6sQ5jUKKtGlmQZa-W",
        OptInGamesToolTipRegistered: "_2UcamIrl4fDV8Y3QluKc0x",
        AssetRequestDateLabel: "sWDKwjiyTGn96CJ0ZdvTx",
        AssetRequestDate: "_2ln4ptn8kLvItsyKLaJ540",
        RecapItemContainer: "_3vV4PdOkt6H3Yw2tTOMxXv",
        RecapItemImage: "cX4qxY3gY-nMmFoUjvaQW",
        RecapTextSection: "xdXlywbPh1SdznUFYFa9O",
        RecapTextHeader: "BBLLWhWNzK-dvqeY2Ovsw",
        RecapTextSummary: "_3ekRTHs6e0OqTpVnIDNmcM",
        RecapTextGameDescription: "SQ1uTbpEI6KOojtvBdxp5",
        RecapTextGameCount: "_1BOaL8odwV4gc58ghgHmFX",
        RecapTextGameAdditionalCount: "_1rKyO1IvboXJa--nsLfZLz",
        RecapTextFullSummaryButton: "_2Xox3wRxZgJxPUvZ3_MHh2",
        RecapBox: "_3-ZU0agFUhd91WH7-tT2i-",
        Plays: "_50Mf8lJB1o0WznsExh2of",
        Wishlists: "_2Z9kv2MrH07LEZ406knsTb",
        Conversions: "_34M1ZaK1GneG_3n5qvMF2x",
        RecapBoxDesc: "_3KIqQC9CBrvxKEXQQVJMJ3",
        Disabled: "Af1aLJDTNe8AI4DbSpoTz",
        RecapBoxCount: "_29-6ZFNwvCqNGYfH4DyPlg",
        RecapSurveyArea: "_20FGvb5Uu58MtRiGzdhNYt",
        RecapSurveyText: "_1w0h8JHJTV1cgSgcs63oVz",
        RecapSurveyButton: "_1DPl-Nj8358nc1vRjPsify",
      };
    },
    60103: (e) => {
      e.exports = {
        ImportantActions: "_3B6xrYury1Ts_o0GPsES40",
        ImportantAction: "_36_x3k8M7bu0VPnRw3kEKo",
        Urgent: "_2E-Xc2EIqw2Ys0CBmskA2f",
        Header: "_1oROkaRIwmWGZZhwR_K-3V",
        Image: "wCDccZ-H1N79RGSMAkd0s",
        Body: "_1nP1m4D-ktueuGdy0ZWCcs",
        Title: "_2JXyQG5OEaS_nB-9nL6djv",
        Description: "_1YIlp5jGDrHfOHv5l9JUm3",
        Button: "_3RzWyIa8BeEnaQhjZVP5xy",
      };
    },
    28325: (e) => {
      e.exports = {
        AppTileContainer: "_1MNwvHXvTQh_nlTEGVL-9G",
        NoRecentApps: "l73IMu5N0BMAEv5-wk3NU",
        ViewAppsContainer: "_3bhAuHTe2QDmn7qVPrbhTn",
        ViewAppsLink: "_1DXsI6kGhs4saDdMEB5Zhp",
        AppTile: "_1ET9Is2SXz9L6oBuMGkhyc",
        AppTileImage: "_2ib4C2NrFHUrt3df5FaIkA",
        AppTileImagePlaceholder: "_1v97yYXETM1gTfYqCF1MYJ",
        AppLabels: "_1gCoNWQfTPQf4Oo6uJLX9",
        AppType: "_2ZrhAQm3GQlhhKkqzdGwsF",
        DLC: "_3joD2YzY0xQ4OQFjl8vTK1",
        Playtest: "_2BpsHGvYJ2BpGraZ66oN_-",
        Demo: "_2RgXBp9gOVTZDwSY533Aiz",
        Music: "_1yUcqupOCPqJJkEMvpmNyu",
        AppRelease: "_1XsM2jNRjoVa7SfxlYIXAb",
      };
    },
    6853: (e) => {
      e.exports = {
        Section: "_1FrGxLLJNyWZswyE9TGS3N",
        Body: "_1CaApUvC8ichAOgldt6XZm",
        Header: "WnpaUxHTbHM6dHV4JNyog",
        Title: "f3pCBilbcCpf8q3EUD2fp",
        Count: "tYEaq1iQcl91w3W4gzbeX",
        BetaCallout: "_3F09B-c90Mi_ABQSFt8qlI",
      };
    },
    61318: (e) => {
      e.exports = {
        MonthPickerContainer: "_3RPpq_xpBk5aqnkSKWVHVs",
        MonthPickerToday: "_3Z1nRXcAXthFz1XwG4CG6_",
        Inactive: "_2wy3c-dsJGU8oH5Mc6NMBM",
        MonthPickerDate: "_3lblbnrG1uWyf8ojK1KAf9",
        Week: "KTqepp4E9ikcTpO5fCimg",
        DayName: "_19XW3yoje51USmF5O_vlm6",
        Day: "UsC29fNWjFaEowXT-tS0_",
        OtherMonth: "_2yLjZFQdmMnBeACk4bW4Es",
        Note: "jAqjN_z3kEcEHKRIk2_NF",
        Today: "_2tUBbw1tOXkA3VpPyrjwdM",
        Event: "_3hw9L-H1pFlrOzQgoSCNM8",
        Hovered: "rFU9Cu_E_GnoyNN1jVaas",
        DayTooltipContainer: "PNwYvjONfVxOKzAJtrCr-",
        DayTooltipDate: "_1LCnP6v7YPgx3OAgTx_nO1",
        DayTooltipEvent: "_337ZibrUsfSdN8cl0VELZe",
      };
    },
    74094: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => fa });
      var n = a(90626),
        s = a(78327),
        i = a(1936),
        r = a(95821),
        o = a(52038),
        l = a(61859),
        c = a(6853);
      const m = n.forwardRef((e, t) => {
        const {
          title: a,
          count: s,
          description: i,
          children: r,
          beta: o,
          headerElement: m,
        } = e;
        return n.createElement(
          "div",
          { className: c.Section, ref: t },
          n.createElement(
            "div",
            { className: c.Header },
            n.createElement(
              "div",
              { className: c.Title },
              a,
              null != s && n.createElement("span", { className: c.Count }, s),
              o &&
                n.createElement(
                  "span",
                  { className: c.BetaCallout },
                  (0, l.we)("#NewToolTitleSuffix_Beta"),
                ),
            ),
            m,
          ),
          i && n.createElement("div", { className: c.Body }, i),
          r,
        );
      });
      var d = a(73745),
        _ = a(65),
        p = a(61318),
        u = a(32754),
        E = a(64753);
      function v(e) {
        const { viewDate: t } = e,
          a = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "short",
          }).format(t);
        return n.createElement(
          "div",
          { className: p.MonthPickerContainer },
          n.createElement("div", { className: p.MonthPickerDate }, a),
        );
      }
      function g(e) {
        const {
            now: t,
            viewDate: a,
            events: s,
            filterVisibleEventIds: i,
            bShowPreceedingWeeks: r,
            bShowFollowingWeeks: l,
            fnScrollToDay: c,
            hoverEvent: m,
            compareEvents: d,
            colorPriority: u,
          } = e,
          E = (0, _.xi)(t),
          v = (0, _.bv)(s, (e) => (0, _.xi)(e.startDate)),
          g = (0, _.kO)(a, -a.getDay()),
          h = new Date(a.getFullYear(), a.getMonth() + 1, 0).getDate(),
          T =
            (h +
              a.getDay() +
              ((a.getDay() + h) % 7 != 0 ? 7 - ((a.getDay() + h) % 7) : 0)) /
            7,
          w = new Intl.DateTimeFormat(navigator.language, {
            year: "numeric",
            month: "long",
            day: "numeric",
          }),
          y = n.useMemo(
            () =>
              Array.from({ length: 7 * T }, (e, t) => t).map(() =>
                n.createRef(),
              ),
            [T],
          );
        n.useEffect(() => {
          for (let e = 0; e < T; e++) {
            const t = (0, _.kO)(g, 7 * e);
            for (let a = 0; a < 7; a++) {
              const n = (0, _.kO)(t, a),
                s = (0, _.xi)(n),
                i = v.get(Math.floor(s.getTime() / 1e3))?.sort(u);
              let r, o, l;
              if (i) {
                const e = i.find((e) => e.note);
                r = e ? e.color : void 0;
                const t = i.filter((e) => !e.note);
                o = t.length > 0 ? t[0].color : void 0;
                const a = t.filter((e) => e.color != o);
                l = a.length > 0 ? a[0].color : void 0;
              }
              r
                ? y[7 * e + a].current?.style.setProperty("--note-color", r)
                : y[7 * e + a].current?.style.removeProperty("--note-color"),
                o
                  ? y[7 * e + a].current?.style.setProperty("--day-color1", o)
                  : y[7 * e + a].current?.style.removeProperty("--day-color1"),
                (l ?? o)
                  ? y[7 * e + a].current?.style.setProperty(
                      "--day-color2",
                      l ?? o,
                    )
                  : y[7 * e + a].current?.style.removeProperty("--day-color2");
            }
          }
        }, [u, v, g, T, y]);
        const f = [];
        for (let e = 0; e < T; e++) {
          const t = [],
            s = (0, _.kO)(g, 7 * e);
          for (let u = 0; u < 7; u++) {
            const g = (0, _.kO)(s, u),
              h = (0, _.xi)(g),
              T = a.getMonth() === g.getMonth(),
              f =
                a.getMonth() === g.getMonth() || (r && g <= a) || (l && g >= a),
              R = h.getTime() === E.getTime(),
              b = v.get(Math.floor(h.getTime() / 1e3))?.sort(d),
              A = b?.every((e) => i.has(e.id)),
              C = b?.some((e) => e.note),
              S =
                m &&
                h.getTime() >= (0, _.xi)(m.startDate).getTime() &&
                h.getTime() <= (0, _.xi)(m.endDate).getTime(),
              N = (0, o.A)(
                p.Day,
                !T && !S && p.OtherMonth,
                !f && p.Inactive,
                R && p.Today,
                C && A && p.Note,
                !C && A && p.Event,
                S && f && p.Hovered,
              );
            t.push(
              n.createElement(
                D,
                { key: u, date: g, daysEvents: b, tooltipDateFormat: w },
                n.createElement(
                  "div",
                  { className: N, onClick: () => c(g), ref: y[7 * e + u] },
                  g.getDate(),
                ),
              ),
            );
          }
          f.push(n.createElement("div", { key: e, className: p.Week }, t));
        }
        return n.createElement(n.Fragment, null, f);
      }
      function D(e) {
        const { date: t, daysEvents: a, tooltipDateFormat: s, children: i } = e;
        if (!a) return n.createElement(n.Fragment, null, i);
        const r = n.createElement(
          "div",
          { className: p.DayTooltipContainer },
          n.createElement("div", { className: p.DayTooltipDate }, s.format(t)),
          a.map((e) => n.createElement(h, { key: e.id, event: e })),
        );
        return n.createElement(u.m9, { toolTipContent: r }, i);
      }
      function h(e) {
        const { event: t } = e;
        !(function (e) {
          const t = (0, E.CH)();
          n.useEffect(() => {
            const a = e.registerForChange?.(() => t());
            return () => a?.Unregister();
          }, [e, t]);
        })(t);
        const a = n.useRef(void 0);
        return (
          n.useEffect(() => {
            a.current?.style.setProperty("--event-color", t.color);
          }, [t.color]),
          n.createElement(
            "div",
            { className: p.DayTooltipEvent, ref: a },
            t.title,
            t.valveOnly &&
              n.createElement("span", { className: p.ValveOnly }, " (VO)"),
          )
        );
      }
      function T(e) {
        const t = new Intl.DateTimeFormat(navigator.language, {
            weekday: "short",
          }),
          a = [...Array(7).keys()].map((e) =>
            t.format(new Date(2024, 0, e + 7)),
          );
        return n.createElement(
          "div",
          { className: p.Week },
          a.map((e) =>
            n.createElement("div", { key: e, className: p.DayName }, e),
          ),
        );
      }
      var w = a(24484),
        y = a(6144);
      class f {
        m_eventsChanged = new y.lu();
        m_rgHiddenIds = new Set();
        m_rgAdditionalEvents = new Map();
        EventsChanged() {
          return this.m_eventsChanged;
        }
        GetHiddenIds() {
          return this.m_rgHiddenIds;
        }
        SetHidden(e, t) {
          t ? this.m_rgHiddenIds.add(e) : this.m_rgHiddenIds.delete(e),
            this.m_eventsChanged.Dispatch();
        }
        GetAdditionalEvents() {
          return Array.from(this.m_rgAdditionalEvents.values());
        }
        AddAdditionalEvent(e) {
          return (
            this.m_rgAdditionalEvents.set(e.id, e),
            this.m_eventsChanged.Dispatch(),
            () => this.RemoveAdditionalEvent(e.id)
          );
        }
        RemoveAdditionalEvent(e) {
          this.m_rgAdditionalEvents.delete(e), this.m_eventsChanged.Dispatch();
        }
      }
      var R = a(84811),
        b = a(85842),
        A = a(56545),
        C = a(81393),
        S = a(14771),
        N = a(96001);
      class I {
        m_accountId;
        m_partnerId;
        m_serviceTransport;
        m_eventsChanged = new y.lu();
        m_rgDismisses = new Map();
        m_setDismisses = new Set();
        static s_Singleton;
        static Get() {
          return (
            I.s_Singleton ||
              ((I.s_Singleton = new I()),
              "dev" == s.TS.WEB_UNIVERSE &&
                (window.g_PartnerDismissStore = I.s_Singleton)),
            I.s_Singleton
          );
        }
        async Init(e, t) {
          (this.m_accountId = e),
            (this.m_partnerId = t),
            (this.m_serviceTransport = N.z
              .Get()
              .GetPromotionTransport()
              .GetServiceTransport());
          const a = A.w.Init(b.rA);
          a.Body().set_accountid(this.m_accountId),
            a.Body().set_partnerid(this.m_partnerId),
            a
              .Body()
              .set_rtime_after(
                Math.floor(new Date().getTime() / 1e3 - 14 * S.Kp.PerDay),
              );
          const n = await b.eJ.GetDismissTimeRange(this.m_serviceTransport, a);
          if (n.BSuccess()) {
            for (const e of n.Body().dismiss_list())
              if (e.state() == b.tb.k_EPartnerDimiss_Dismiss) {
                const t = this.m_rgDismisses.get(e.key_json()) ?? [];
                t.push(e.dismiss_id()), this.m_rgDismisses.set(e.key_json(), t);
              }
            this.DismissesUpdated();
          }
        }
        DismissesUpdated() {
          (this.m_setDismisses = new Set(
            Array.from(this.m_rgDismisses).map(([e, t]) => e),
          )),
            this.m_eventsChanged.Dispatch();
        }
        EventsChanged() {
          return this.m_eventsChanged;
        }
        GetDismissedEvents() {
          return (
            (0, C.wT)(this.m_serviceTransport, "Must call Init first"),
            this.m_setDismisses
          );
        }
        GetDismissState(e) {
          return this.m_rgDismisses.get(e)?.length > 0;
        }
        async SetDismiss(e, t) {
          (0, C.wT)(this.m_serviceTransport, "Must call Init first");
          const a = this.m_rgDismisses.get(e) ?? [];
          a.push(null), this.m_rgDismisses.set(e, a), this.DismissesUpdated();
          const n = A.w.Init(b.RE),
            s = new b.HX();
          s.set_accountid(this.m_accountId),
            s.set_partnerid(this.m_partnerId),
            s.set_key_json(e),
            s.set_state(b.tb.k_EPartnerDimiss_Dismiss),
            s.set_rtime_create(Math.floor(new Date().getTime() / 1e3)),
            s.set_rtime_validity(Math.floor(t.getTime() / 1e3)),
            n.Body().add_dismiss_list(s);
          const i = await b.eJ.CreateDismiss(this.m_serviceTransport, n);
          if (i.BSuccess() && i.Body().dismiss_list().length > 0) {
            const t = (this.m_rgDismisses.get(e) ?? []).filter(
              (e) => null !== e,
            );
            t.push(i.Body().dismiss_list()[0].dismiss_id()),
              this.m_rgDismisses.set(e, t);
          }
        }
        async ClearDismiss(e) {
          (0, C.wT)(this.m_serviceTransport, "Must call Init first");
          const t = this.m_rgDismisses.get(e);
          if ((this.m_rgDismisses.delete(e), this.DismissesUpdated(), t))
            for (const e of t) {
              const t = A.w.Init(b.ei);
              t.Body().set_dismiss_id(e),
                await b.eJ.DeleteDismiss(this.m_serviceTransport, t);
            }
        }
      }
      var U,
        P = a(26408),
        M = a(95034),
        x = a(27989),
        k = a(55263),
        L = a(15161),
        G = a(91675),
        F = a(59403),
        B = a(38964);
      function H(e) {
        const { app: t } = e,
          [a] = (0, k.G6)(t.appid, L.c6.k_EStoreItemType_App, {
            include_assets: !0,
            include_release: !0,
          }),
          s = !!a?.GetName();
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(O, { app: t, storeItem: a, hasStoreItem: s }),
          n.createElement(W, { app: t, hasStoreItem: s }),
        );
      }
      function O(e) {
        const { app: t, storeItem: a, hasStoreItem: i } = e,
          r = s.TS.PARTNER_BASE_URL + "apps/landing/" + t.appid,
          c = i ? a.GetName() : t.name,
          m = a?.GetAssets().GetHeaderURL();
        return n.createElement(
          B.b1,
          { hasImage: !!m },
          n.createElement(B.zS, { imageUrl: m, url: r }),
          n.createElement(
            B.Q1,
            { hasImage: !!m },
            n.createElement(B.Pz, { text: c, url: r }),
            n.createElement(
              "div",
              { className: x.ReleaseInfoCtn },
              t.releaserequest &&
                n.createElement(
                  "div",
                  { className: x.ReleaseInfoRow },
                  n.createElement(
                    "span",
                    { className: x.ReleaseDateLabel },
                    (0, l.we)("#App_Landing_SpecifiedReleaseDate"),
                  ),
                  n.createElement(
                    "span",
                    { className: x.ReleaseDateText },
                    V(t.releaserequest.release_date),
                  ),
                ),
              i &&
                n.createElement(
                  "div",
                  { className: x.ReleaseInfoRow },
                  n.createElement(
                    "span",
                    { className: x.ReleaseDateLabel },
                    (0, l.we)("#App_Landing_CustomersSeeReleaseDate"),
                  ),
                  n.createElement(
                    "span",
                    { className: x.ReleaseDateText },
                    a.GetFormattedSteamReleaseDate(),
                  ),
                ),
              t.earliestadvancedaccessdate > 0 &&
                n.createElement(
                  "div",
                  { className: (0, o.A)(x.ReleaseInfoRow, x.AdvancedAccess) },
                  n.createElement(
                    "span",
                    { className: x.ReleaseDateLabel },
                    (0, l.we)("#App_Landing_AdvancedAccessDate"),
                    n.createElement(P.o, {
                      tooltip: (0, l.we)(
                        "#App_Landing_AdvancedAccessDate_ttip",
                      ),
                    }),
                  ),
                  n.createElement(
                    "span",
                    { className: x.ReleaseDateText },
                    V(t.earliestadvancedaccessdate),
                  ),
                ),
            ),
          ),
        );
      }
      function V(e) {
        return e
          ? `${(0, l.$z)(e)} ${(0, G.KC)(e, {}, { timeZoneName: "short" })}`
          : (0, l.we)("#App_Landing_UnsetReleaseDate");
      }
      function W(e) {
        const { app: t, hasStoreItem: a } = e,
          s = (0, F.pc)(t.releasestate, a),
          i = (0, o.A)(
            x.ItemReleaseStatusText,
            "prerelease" == t.releasestate && x.Prerelease,
            "released" == t.releasestate && x.Released,
          );
        return n.createElement(
          "div",
          { className: x.ItemReleaseInfoContainer },
          n.createElement(
            "div",
            { className: x.ItemReleaseStatusCtn },
            n.createElement(
              "div",
              { className: x.ItemReleaseStatusLabel },
              (0, l.we)("#Dashboard_UpcomingEvents_ReleaseStatusLabel"),
            ),
            n.createElement(
              "div",
              null,
              n.createElement("span", { className: i }, s.sText),
              s.sTooltip && n.createElement(P.o, { tooltip: s.sTooltip }),
            ),
          ),
        );
      }
      !(function (e) {
        (e[(e.BuildReview = 0)] = "BuildReview"),
          (e[(e.StorePageReview = 1)] = "StorePageReview"),
          (e[(e.SteamChina_BuildReview = 2)] = "SteamChina_BuildReview"),
          (e[(e.SteamChina_StorePageReview = 3)] =
            "SteamChina_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_StorePageReview = 4)] =
            "SteamChinaPlatformOperator_StorePageReview"),
          (e[(e.SteamChinaPlatformOperator_BuildReview = 5)] =
            "SteamChinaPlatformOperator_BuildReview"),
          (e[(e.SteamDeckCompatibilityReview = 6)] =
            "SteamDeckCompatibilityReview");
      })(U || (U = {}));
      var j = a(34629),
        q = a(84865),
        z = a(67239),
        Y = a(22837),
        Z = a(93095),
        $ = a(32011),
        Q = a(38390),
        J = a(86355),
        K = a(48996),
        X = a(20194);
      class ee {
        m_rgOptIns;
        m_rgOptInComputed = new Map();
        static async Construct() {
          const e = new ee();
          return await e.Init(), e;
        }
        async Init() {
          const e = await fetch(
            `${s.TS.PARTNER_BASE_URL}/optin/ajaxoptinsfordashboard`,
          );
          try {
            (this.m_rgOptIns = await e.json()),
              this.m_rgOptIns && ee.ExtractOptInDefinitions(this.m_rgOptIns);
          } catch (e) {
            this.m_rgOptIns = {};
          }
        }
        static ExtractOptInDefinitions(e) {
          for (const t of Object.keys(e)) {
            const a = e[t].description,
              n = (0, F.ap)(a?.jsondata);
            delete a?.jsondata, n && (e[t].description.definition = n);
          }
        }
        GetInfo(e) {
          if (!e) return;
          if (this.m_rgOptInComputed.has(e))
            return this.m_rgOptInComputed.get(e);
          const t = this.m_rgOptIns?.[e];
          if (!t) return void this.m_rgOptInComputed.set(e, void 0);
          const a = new Set(t.invited_appids),
            n = t.description.definition.invitation_only
              ? t.summary?.apps_eligible.filter((e) => a.has(e.appid))
              : t.summary?.apps_eligible,
            s = {
              description: t.description,
              rgEligibleApps: n,
              rgRegisteredApps: t.summary?.apps_in,
              rgFeaturedApps: t.featured_appids,
            };
          return this.m_rgOptInComputed.set(e, s), s;
        }
      }
      function te() {
        return (0, X.I)({
          queryKey: ["DashboardOptInStore"],
          queryFn: () => ee.Construct(),
          staleTime: 1 / 0,
        }).data;
      }
      function ae(e) {
        return te()?.GetInfo(e);
      }
      var ne = a(38149),
        se = a(22797),
        ie = a(76115),
        re = a(62490),
        oe = a(77155);
      function le(e) {
        const t = Ft(),
          a = te(),
          i = n.useMemo(() => {
            const n = (0, s.Tc)("rgPartnerPromotions", "application_config"),
              i = n?.rgPlans
                ?.map((e) => (0, F.ap)(e.partner_readonly_jsondata))
                .filter((e) => e && e.id),
              r = n?.rgPlans
                ?.map((e) => ({ plan: e, input: (0, F.ap)(e.input_jsondata) }))
                .filter((e) => !!e.input)
                .reduce(
                  (e, t) => e.set(t.plan.promotion_id, t.input),
                  new Map(),
                ),
              o = new Set(n?.rgHiddenPlanIDs ?? []);
            return (
              i
                ?.map((n) => {
                  if (!n.start_date) return null;
                  if (new Date(1e3 * n.end_date) < t && !de(t, n)) return null;
                  const s = r.get(n.id);
                  if (
                    "assetrequest" == n.type &&
                    new Date(1e3 * n.start_date) < t &&
                    s?.enable_input &&
                    s.submitting_accountid
                  )
                    return null;
                  if ("launchtracking" == n.type && !s?.enable_input)
                    return null;
                  const i = a?.GetInfo(n.opt_in_id),
                    l = "assetrequest" == n.type && s && !s.enable_input,
                    c =
                      o.has(n.id) ||
                      (("nextfest" == n.type || "themesale" == n.type) &&
                        a &&
                        !i) ||
                      l,
                    m = ("nextfest" == n.type || "themesale" == n.type) && !a,
                    d =
                      "seasonalsale" != n.type &&
                      i &&
                      i.rgEligibleApps &&
                      0 == i.rgEligibleApps.length &&
                      i.rgRegisteredApps &&
                      0 == i.rgRegisteredApps.length;
                  return new ce(
                    n.id,
                    e,
                    c,
                    n,
                    s,
                    i,
                    new Date(1e3 * n.start_date),
                    new Date(1e3 * n.end_date),
                    "event",
                    me(t, n),
                    m,
                    d,
                    _e,
                    pe,
                  );
                })
                .filter((e) => !!e) ?? []
            );
          }, [t, a, e]),
          r = (function (e) {
            const t = Ft(),
              [a] = (0, M.QD)("recap"),
              s = n.useCallback(
                (a, n) => {
                  const s = new Date(t.getTime() - 5 * S.Kp.PerDay * 1e3),
                    i = {
                      id: `fakerecap_${n}`,
                      name: n,
                      opt_in_id: a,
                      type: "nextfest",
                      sale_clan_account: 39049601,
                      sale_clan_event_gid: "4148451028995460854",
                      start_date: s.getTime() / 1e3,
                      end_date: s.getTime() / 1e3 + 3 * S.Kp.PerDay,
                    },
                    r = {
                      description: {
                        opt_in_name: a,
                        type: ie.Tj.k_EPartnerAppOptInType_PartnerEvent,
                        active: !0,
                        start_date: i.start_date,
                        end_date: i.end_date,
                        definition: {},
                      },
                      rgEligibleApps: [],
                      rgRegisteredApps: [],
                      rgFeaturedApps: [],
                    },
                    o = new ce(
                      i.id,
                      e,
                      !1,
                      i,
                      null,
                      r,
                      new Date(1e3 * r.description.start_date),
                      new Date(1e3 * r.description.end_date),
                      "event",
                      me(t, i),
                      !1,
                      !1,
                      _e,
                      void 0,
                    );
                  return (0, C.wT)(de(t, i), ""), o;
                },
                [t, e],
              ),
              i = n.useMemo(() => {
                if (!a) return [];
                const e = 1;
                return Array.from({ length: e }, (e, t) => s(a, `${a}_${t}`));
              }, [s, a]);
            return i;
          })(e);
        return n.useMemo(() => [...i, ...r], [i, r]);
      }
      class ce {
        m_changedCallbacks = new y.lu();
        m_partnerId;
        m_plan;
        m_assetInput;
        m_optIn;
        id;
        title;
        startDate;
        endDate;
        eventType;
        eventTypeName;
        valveOnly;
        editURL;
        loading = !1;
        dimmed = !1;
        getElement;
        getCapsuleElement;
        constructor(e, t, a, n, i, r, o, c, m, d, _, p, u, E) {
          (this.m_partnerId = t),
            (this.valveOnly = a),
            (this.m_plan = n),
            (this.m_assetInput = i),
            (this.m_optIn = r),
            (this.id = e),
            (this.title = (function (e, t, a, n) {
              let i = e;
              if ("seasonalsale" == t) {
                const e = new Date(1e3 * n),
                  t = e.getFullYear();
                i =
                  e >= new Date(t, 11, 10)
                    ? (0, l.we)(
                        "#Dashboard_UpcomingEvents_SeasonalSale_Winter",
                        t,
                      )
                    : e >= new Date(t, 8, 1)
                      ? (0, l.we)(
                          "#Dashboard_UpcomingEvents_SeasonalSale_Autumn",
                          t,
                        )
                      : e >= new Date(t, 4, 1)
                        ? (0, l.we)(
                            "#Dashboard_UpcomingEvents_SeasonalSale_Summer",
                            t,
                          )
                        : (0, l.we)(
                            "#Dashboard_UpcomingEvents_SeasonalSale_Spring",
                            t,
                          );
              } else {
                const e =
                  a?.description?.definition?.event_title?.[s.TS.LANGUAGE];
                if (e) i = e;
                else {
                  const e = [
                    "takeover",
                    "takeunder",
                    "midweek",
                    "midweek deal",
                    "weekend deal",
                  ];
                  for (const t of e)
                    i = i.replace(
                      new RegExp("^" + t + "\\s*[:-]\\s*", "i"),
                      "",
                    );
                }
              }
              return i;
            })(n.name, n.type, r, n.start_date)),
            (this.startDate = o),
            (this.endDate = c),
            (this.eventType = m),
            (this.eventTypeName = d),
            (this.editURL = `${s.TS.PARTNER_BASE_URL}promotion/planning/edit/${this.m_plan.id}`),
            (this.loading = _),
            (this.dimmed = p),
            (this.getElement = () => u({ eventData: this })),
            (this.getCapsuleElement = () => E?.({ eventData: this }));
        }
        passesFilter = (e) => e == bt.Events;
        dataChanged() {
          this.m_changedCallbacks.Dispatch();
        }
        registerForChange(e) {
          return this.m_changedCallbacks.Register(e);
        }
        clone(e, t, a, n, s) {
          const i = Object.assign(
            Object.create(Object.getPrototypeOf(this)),
            this,
          );
          return (
            (i.m_changedCallbacks = new y.lu()),
            (i.id = e),
            (i.startDate = t),
            (i.endDate = a),
            (i.eventType = n),
            (i.eventTypeName = s),
            i
          );
        }
      }
      function me(e, t) {
        if (de(e, t))
          return (0, l.we)(
            "#Dashboard_UpcomingEvents_EventType_PromotionPlan_recap",
          );
        switch (t.type) {
          case "midweek":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_midweek",
            );
          case "weekenddeal":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_weekenddeal",
            );
          case "saleevent":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_saleevent",
            );
          case "themesale":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_themesale",
            );
          case "nextfest":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_nextfest",
            );
          case "seasonalsale":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_seasonalsale",
            );
          case "informational":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_informational",
            );
          case "launchtracking":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_launchtracking",
            );
          case "dailydeal":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_dailydeal",
            );
          case "vacation":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_vacation",
            );
          case "important":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_important",
            );
          case "preload":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_preload",
            );
          case "assetrequest":
            return (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest",
            );
        }
      }
      function de(e, t) {
        return (
          "nextfest" == t.type &&
          new Date(1e3 * t.end_date).getTime() < e.getTime()
        );
      }
      function _e(e) {
        const { eventData: t } = e;
        return de(Ft(), t.m_plan) && "nextfest" == t.m_plan.type
          ? n.createElement(he, { eventData: t })
          : "nextfest" == t.m_plan.type || "themesale" === t.m_plan.type
            ? n.createElement(ve, { eventData: t })
            : n.createElement(ue, { eventData: t });
      }
      function pe(e) {
        const { eventData: t } = e;
        return de(Ft(), t.m_plan) && "nextfest" == t.m_plan.type
          ? n.createElement(we, { eventData: t })
          : "nextfest" == t.m_plan.type || "themesale" === t.m_plan.type
            ? n.createElement(ge, { eventData: t })
            : n.createElement(Ee, { eventData: t });
      }
      function ue(e) {
        const { eventData: t } = e,
          a = t.m_plan,
          [i] = (0, k.G6)(a.store_item_id, a.store_item_type, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          [r] = (0, k.G6)(a.advertising_appid, L.c6.k_EStoreItemType_App, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          o = i ?? r,
          c = "seasonalsale" == t.m_plan.type;
        De(t);
        let m =
            "seasonalsale" == a.type
              ? `${s.TS.PARTNER_BASE_URL}doc/marketing/discounts/seasonalsales`
              : void 0,
          d = o?.GetAssets().GetHeaderURL();
        m ??= o ? s.TS.PARTNER_BASE_URL + "apps/landing/" + o.GetAppID() : null;
        const _ = (0, Y.sf)(s.TS.LANGUAGE),
          { eventModel: p, bLoading: u } = (0, Q.B9)(
            a.sale_clan_account,
            a.sale_clan_event_gid,
          );
        (d ??= !u && p?.GetImageURL("capsule", _, J.wI.capsule_main)),
          (m ??= !u && p?.GetSaleURL());
        const E = [];
        t.valveOnly &&
          ("seasonalsale" == a.type ||
            !t.m_partnerId ||
            t.m_plan.store_item_id ||
            t.m_plan.discount_event_id ||
            E.push(
              "In order to be visible to partners, plans must have access through a linked store item or a discount event.",
            ),
          "assetrequest" == a.type &&
            t.m_assetInput &&
            !t.m_assetInput.enable_input &&
            E.push(
              'Asset request with "Enable requesting featuring assets from partner" disabled.',
            ));
        const v =
            a.discount_event_id && !t.m_assetInput?.enable_input
              ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${a.discount_event_id}`
              : void 0,
          g = n.createElement(
            n.Fragment,
            null,
            n.createElement(
              B.z9,
              { url: v },
              (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
              ),
            ),
            c &&
              n.createElement(
                B.z9,
                { url: m },
                (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_LearnMore",
                ),
              ),
            n.createElement(
              B.z9,
              { url: a.asset_kit_url },
              (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_OptIn_Button_AssetKit",
              ),
            ),
          ),
          D = (0, F.cG)(a);
        return n.createElement(
          B.b1,
          { dimmed: t.dimmed, backgroundColor: D, hasImage: !!d },
          n.createElement(ye, {
            warnings: E,
            eventName: t.title,
            startTime: a.start_date,
            endTime: a.end_date,
            eventUrl: m,
            imageUrl: d,
            additionalButtons: g,
            bigName: c,
          }),
          n.createElement(fe, { eventData: t }),
        );
      }
      function Ee(e) {
        const { eventData: t } = e,
          a = t.m_plan,
          [i] = (0, k.G6)(a.store_item_id, a.store_item_type, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          [r] = (0, k.G6)(a.advertising_appid, L.c6.k_EStoreItemType_App, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          o = i ?? r;
        let l = o?.GetAssets().GetHeaderURL();
        const c = (0, Y.sf)(s.TS.LANGUAGE),
          { eventModel: m, bLoading: d } = (0, Q.B9)(
            a.sale_clan_account,
            a.sale_clan_event_gid,
          );
        return (
          (l ??= !d && m?.GetImageURL("capsule", c, J.wI.capsule_main)),
          n.createElement(B.aV, { imageUrl: l })
        );
      }
      function ve(e) {
        const { eventData: t } = e,
          a = (0, Y.sf)(s.TS.LANGUAGE),
          i = t.m_plan,
          r = t.m_optIn,
          o = i.opt_in_id
            ? `${s.TS.PARTNER_BASE_URL}optin/sale/${i.opt_in_id?.replace("sale_", "")}`
            : void 0,
          c = [];
        let m;
        if (
          (t.valveOnly &&
            ((i.sale_clan_account && i.sale_clan_event_gid) ||
              c.push("no sale event"),
            i.opt_in_id || c.push("no opt-in")),
          "nextfest" == i.type && "deadline" == t.eventType)
        ) {
          const e = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(
            new Date(
              1e3 * t.m_optIn.description.definition.optin_deadline_date,
            ),
          );
          m = n.createElement(
            n.Fragment,
            null,
            n.createElement(
              "div",
              { className: q.ItemDeadlineHeaderText },
              (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_RegistrationCloses",
                e,
              ),
            ),
            n.createElement(
              "div",
              null,
              (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_RegistrationCloses_Description",
              ),
            ),
          );
        }
        !(function (e) {
          const t = Ft(),
            a = Bt();
          n.useEffect(() => {
            let s;
            if (
              !e.id.endsWith("_nextfestDeadline") &&
              "nextfest" == e.m_plan.type &&
              e.m_optIn?.description.definition.optin_deadline_date &&
              e.m_optIn.rgEligibleApps?.length > 0 &&
              e.m_optIn.rgRegisteredApps
            ) {
              const i = new Date(
                1e3 * e.m_optIn.description.definition.optin_deadline_date,
              );
              if (i && i > t) {
                const t = e.clone(
                  e.id + "_nextfestDeadline",
                  i,
                  i,
                  "deadline",
                  (0, l.we)(
                    "#Dashboard_UpcomingEvents_EventType_PromotionPlan_registration_reminder",
                  ),
                );
                (t.getElement = () => n.createElement(ve, { eventData: t })),
                  (s = a.AddAdditionalEvent(t));
              }
            }
            return s;
          }, [t, a, e]);
        })(t),
          De(t);
        const d = r?.description.start_date ?? i.start_date,
          _ = r?.description.end_date ?? i.end_date,
          p =
            r?.description?.definition?.localized_optin_banner?.[s.TS.LANGUAGE],
          u =
            r?.description.opt_in_name &&
            p &&
            (0, $.Yi)(r?.description.opt_in_name, a, p),
          E = n
            .useMemo(() => {
              const e = (0, s.Tc)(
                "rgPartnerDashboardAssets",
                "application_config",
              );
              return e
                ? Object.keys(e).reduce((t, a) => t.set(a, e[a]), new Map())
                : new Map();
            }, [])
            .get("optin_placeholder_banner"),
          v = u ?? E,
          g = u ? void 0 : (0, F._w)(i.id),
          D = (e, t) => e?.map((e) => ({ details: e, bRegistered: t })) ?? [],
          h = n.useMemo(
            () =>
              (0, F.Gx)(D(r?.rgEligibleApps, !1), D(r?.rgRegisteredApps, !0)),
            [r?.rgEligibleApps, r?.rgRegisteredApps],
          ),
          T = h?.length > 0;
        return n.createElement(
          B.b1,
          {
            buttonPosition: T ? "bottom" : void 0,
            backgroundImageUrl: v,
            backgroundColor: g,
            dimmed: t.dimmed,
          },
          n.createElement(ye, {
            warnings: c,
            eventName: t.title,
            eventDescription: m,
            startTime: d,
            endTime: _,
            eventUrl: o,
            inlineDate: !0,
          }),
          r &&
            n.createElement(Re, {
              eventData: t,
              eventUrl: o,
              optIn: r,
              invitedAndRegisteredApps: h,
            }),
        );
      }
      function ge(e) {
        const { eventData: t } = e,
          a = (0, Y.sf)(s.TS.LANGUAGE),
          i = t.m_optIn,
          r =
            i?.description?.definition?.localized_optin_banner?.[s.TS.LANGUAGE],
          o =
            i?.description.opt_in_name &&
            r &&
            (0, $.Yi)(i?.description.opt_in_name, a, r);
        return n.createElement(B.aV, { imageUrl: o });
      }
      function De(e) {
        const t = Bt(),
          a =
            ("seasonalsale" == e.m_plan.type || "themesale" == e.m_plan.type) &&
            "deadline" != e.eventType &&
            "deadline-urgent" != e.eventType &&
            e.m_optIn?.description?.opt_in_name &&
            e.m_optIn.rgEligibleApps &&
            e.m_optIn.rgRegisteredApps &&
            e.m_optIn.rgFeaturedApps &&
            e.m_optIn.description.definition
              .additional_featuring_section_enabled,
          s = n.useMemo(
            () =>
              e.m_optIn?.rgRegisteredApps?.map((e) => ({
                appid: e.appid,
                appName: e.app_name,
              })) ?? [],
            [e.m_optIn?.rgRegisteredApps],
          ),
          i = Se(e.m_partnerId, s, e.m_plan.start_date, e.m_plan.end_date),
          r = Gt(),
          o = Ft(),
          c = r.setManageDiscountsAppIDs;
        n.useEffect(() => {
          if (!(a && e.m_optIn?.rgFeaturedApps?.length > 0)) return;
          const s = [];
          for (const a of (0, F.Gx)(
            e.m_optIn.rgEligibleApps,
            e.m_optIn.rgRegisteredApps,
          )) {
            if (!e.m_optIn?.rgFeaturedApps.includes(a.appid)) continue;
            if (!c?.has(a.appid)) continue;
            const r = e.m_optIn.rgRegisteredApps?.some(
                (e) => e.appid == a.appid,
              ),
              m = i?.some((e) => e.appid == a.appid);
            if (r) {
              if (!m && "seasonalsale" == e.m_plan.type) {
                const i = new Date(
                    1e3 * e.m_optIn.description.definition.optin_deadline_date,
                  ),
                  r = new Date(1e3 * e.m_plan.start_date);
                if (i > o && r > o) {
                  const o = e.clone(
                    e.m_plan.id + "_featuredDiscountDeadline_" + a.appid,
                    r,
                    r,
                    "deadline-urgent",
                    (0, l.we)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Header",
                    ),
                  );
                  (o.getElement = () =>
                    n.createElement(Ce, {
                      eventData: o,
                      appId: a.appid,
                      registerByDate: i,
                      registrationType: "discount",
                    })),
                    s.push(t.AddAdditionalEvent(o));
                }
              }
            } else {
              if (
                e.m_optIn.description.definition.collect_trailer_permissions
              ) {
                const i = new Date(
                  1e3 * e.m_optIn.description.definition.collect_demo_deadline,
                );
                if (i > o) {
                  const r = e.clone(
                    e.m_plan.id + "_featuredTrailerDeadline_" + a.appid,
                    i,
                    i,
                    "deadline",
                    (0, l.we)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailer_Header",
                    ),
                  );
                  (r.getElement = () =>
                    n.createElement(Ce, {
                      eventData: r,
                      appId: a.appid,
                      registerByDate: i,
                      registrationType:
                        "seasonalsale" == e.m_plan.type
                          ? "trailer-seasonalsale"
                          : "trailer-themesale",
                    })),
                    s.push(t.AddAdditionalEvent(r));
                }
              }
              if ("seasonalsale" == e.m_plan.type) {
                const i = new Date(
                  1e3 * e.m_optIn.description.definition.optin_deadline_date,
                );
                if (i > o) {
                  const r = e.clone(
                    e.m_plan.id + "_featuredRegistrationDeadline_" + a.appid,
                    i,
                    i,
                    "deadline-urgent",
                    (0, l.we)(
                      "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Header",
                    ),
                  );
                  (r.getElement = () =>
                    n.createElement(Ce, {
                      eventData: r,
                      appId: a.appid,
                      registerByDate: i,
                      registrationType: "registration",
                    })),
                    s.push(t.AddAdditionalEvent(r));
                }
              }
            }
          }
          return s.length > 0 ? () => s.forEach((e) => e()) : void 0;
        }, [o, t, a, e, e.m_optIn?.rgFeaturedApps, i, c]);
      }
      function he(e) {
        const { eventData: t } = e,
          a = (0, Y.sf)(s.TS.LANGUAGE),
          i = t.m_plan,
          { eventModel: r, bLoading: c } = (0, Q.B9)(
            i.sale_clan_account,
            i.sale_clan_event_gid,
          ),
          m = (0, ne.S)(i.opt_in_id, t.m_partnerId),
          d = !c && r?.GetImageURL("capsule", a, J.wI.capsule_main),
          _ = !c && r?.GetSaleURL(),
          p = i.opt_in_id?.startsWith("sale_nextfest_")
            ? `${s.TS.PARTNER_BASE_URL}recap/nextfest/${i.opt_in_id.substring(14)}/${t.m_partnerId}`
            : void 0,
          u = Bt(),
          E = ae(i.opt_in_id),
          v = n.useMemo(
            () => re.Ew(m.data?.appIdsWithoutPermissions ?? []),
            [m.data?.appIdsWithoutPermissions],
          ),
          g = n.useMemo(() => {
            if (m.isLoading || !m.isSuccess) return null;
            const e = m.data.stats?.reduce(
              (e, t) => (t.rt_last_update_time > e ? t.rt_last_update_time : e),
              0,
            );
            if (!(e && e > i.end_date)) return null;
            const t =
                m.data.stats?.filter(
                  (t) => 0 != e && t.rt_last_update_time == e,
                ) ?? [],
              a = t.reduce((e, t) => e + t.demo_player_count, 0),
              n = t.reduce((e, t) => e + t.wishlist_count, 0),
              s = t.reduce((e, t) => e + t.player_wishlist_count, 0),
              r = t.reduce(
                (e, t) =>
                  t.demo_player_count >= e.count
                    ? { count: t.demo_player_count, appId: t.appid }
                    : e,
                { count: 0, appId: 0 },
              ).appId;
            return {
              nGamesWithStatsCount: t.length,
              nDemoPlayers: a,
              nWishlists: n,
              nConversions: s,
              nMostPopularAppId: r,
            };
          }, [i.end_date, m.data, m.isLoading, m.isSuccess]),
          D =
            g?.nMostPopularAppId > 0
              ? g.nMostPopularAppId
              : v.length > 0
                ? Math.max(...v)
                : 0,
          h = E?.rgRegisteredApps?.find((e) => e.appid == D)?.jsondata,
          T = h && JSON.parse(h),
          w =
            T && !T.survey_response?.some((e) => e.accountid == s.iA.accountid),
          y = (g?.nGamesWithStatsCount ?? 0) + v.length;
        if (
          (n.useEffect(() => {
            m.isLoading ||
              i.id.startsWith("fakerecap_") ||
              (m.isSuccess && (0 != y || w)) ||
              u.SetHidden(i.id, !0);
          }, [u, w, y, i.id, m.isLoading, m.isSuccess]),
          m.isLoading)
        )
          return n.createElement(se.t, null);
        if (0 == y && !w && !i.id.startsWith("fakerecap_")) return;
        const f = `${s.TS.PARTNER_BASE_URL}optin/survey/${i.opt_in_id}/${D}`,
          R = new Intl.NumberFormat((0, l.l4)()),
          b = n.createElement(
            "a",
            {
              href: `${s.TS.PARTNER_BASE_URL}doc/gettingstarted/managing_users`,
              target: "_blank",
            },
            (0, l.we)(
              "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_ViewFinancials",
            ),
          );
        return n.createElement(
          "div",
          { className: q.RecapItemContainer },
          g &&
            n.createElement(
              n.Fragment,
              null,
              d &&
                n.createElement(
                  "div",
                  { className: q.RecapItemImage },
                  n.createElement(
                    F.iN,
                    { href: _, target: "_blank" },
                    n.createElement("img", { src: d }),
                  ),
                ),
              n.createElement(
                "div",
                { className: q.RecapTextSection },
                n.createElement(
                  "div",
                  { className: q.RecapTextHeader },
                  (0, l.we)(
                    "#Dashboard_UpcomingEvents_RecapNextFest_TextHeader",
                  ),
                ),
                n.createElement(
                  "div",
                  { className: q.RecapTextSummary },
                  n.createElement(
                    "div",
                    { className: q.RecapTextGameDescription },
                    n.createElement(
                      "div",
                      { className: q.RecapTextGameCount },
                      (0, l.um)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_TextGameCount",
                        y,
                        n.createElement("b", null),
                      ),
                    ),
                    v.length > 0 &&
                      n.createElement(
                        "div",
                        { className: q.RecapTextGameAdditionalCount },
                        (0, l.TG)(
                          "#Dashboard_UpcomingEvents_RecapNextFest_PartialStats_TextGameCount",
                          v.length,
                          b,
                        ),
                      ),
                  ),
                  p && n.createElement(Te, { summaryURL: p }),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, o.A)(q.RecapBox, q.Plays) },
                n.createElement(
                  "div",
                  { className: q.RecapBoxCount },
                  R.format(g.nDemoPlayers),
                ),
                n.createElement(
                  "div",
                  { className: q.RecapBoxDesc },
                  (0, l.we)("#Recap_NextFest_TotalPlayers"),
                  n.createElement(P.o, {
                    tooltip: (0, l.we)("#Recap_NextFest_TotalPlayers_ttip"),
                  }),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, o.A)(q.RecapBox, q.Conversions) },
                n.createElement(
                  "div",
                  { className: q.RecapBoxCount },
                  R.format(g.nConversions),
                ),
                n.createElement(
                  "div",
                  { className: q.RecapBoxDesc },
                  (0, l.we)("#Recap_NextFest_PlayerWishlist"),
                  n.createElement(P.o, {
                    tooltip: (0, l.we)("#Recap_NextFest_PlayerWishlist_ttip"),
                  }),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, o.A)(q.RecapBox, q.Wishlists) },
                n.createElement(
                  "div",
                  { className: q.RecapBoxCount },
                  R.format(g.nWishlists),
                ),
                n.createElement(
                  "div",
                  { className: q.RecapBoxDesc },
                  (0, l.we)("#Recap_NextFest_TotalWishlist"),
                  n.createElement(P.o, {
                    tooltip: (0, l.we)("#Recap_NextFest_TotalWishlist_ttip"),
                  }),
                ),
              ),
            ),
          !g &&
            n.createElement(
              n.Fragment,
              null,
              d &&
                n.createElement(
                  "div",
                  { className: q.RecapItemImage },
                  n.createElement(
                    F.iN,
                    { href: _, target: "_blank" },
                    n.createElement("img", { src: d }),
                  ),
                ),
              n.createElement(
                "div",
                { className: q.RecapTextSection },
                n.createElement(
                  "div",
                  { className: q.RecapTextHeader },
                  (0, l.we)(
                    "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_TextHeader",
                  ),
                ),
                n.createElement(
                  "div",
                  { className: q.RecapTextSummary },
                  n.createElement(
                    "div",
                    { className: q.RecapTextGameDescription },
                    n.createElement(
                      "div",
                      { className: q.RecapTextGameCount },
                      (0, l.um)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_TextGameCount",
                        y,
                        n.createElement("b", null),
                      ),
                    ),
                    n.createElement(
                      "div",
                      { className: q.RecapTextGameAdditionalCount },
                      (0, l.PP)(
                        "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_NeedPermission",
                        b,
                      ),
                    ),
                  ),
                  p && n.createElement(Te, { summaryURL: p }),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, o.A)(q.RecapBox, q.Plays) },
                n.createElement(
                  "div",
                  { className: q.RecapBoxCount },
                  R.format(y),
                ),
                n.createElement(
                  "div",
                  { className: q.RecapBoxDesc },
                  (0, l.we)("#Recap_NextFest_Apps"),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, o.A)(q.RecapBox, q.Conversions, q.Disabled) },
                n.createElement("div", { className: q.RecapBoxCount }, "--"),
                n.createElement(
                  "div",
                  { className: q.RecapBoxDesc },
                  (0, l.we)("#Recap_NextFest_PlayerWishlist"),
                  n.createElement(P.o, {
                    tooltip: (0, l.we)(
                      "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_Tooltip",
                    ),
                  }),
                ),
              ),
              n.createElement(
                "div",
                { className: (0, o.A)(q.RecapBox, q.Wishlists, q.Disabled) },
                n.createElement("div", { className: q.RecapBoxCount }, "--"),
                n.createElement(
                  "div",
                  { className: q.RecapBoxDesc },
                  (0, l.we)("#Recap_NextFest_TotalWishlist"),
                  n.createElement(P.o, {
                    tooltip: (0, l.we)(
                      "#Dashboard_UpcomingEvents_RecapNextFest_NoStats_Tooltip",
                    ),
                  }),
                ),
              ),
            ),
          w &&
            n.createElement(
              "div",
              { className: q.RecapSurveyArea },
              n.createElement(
                "div",
                { className: q.RecapSurveyText },
                (0, l.we)("#Dashboard_UpcomingEvents_RecapNextFest_SurveyText"),
              ),
              n.createElement(
                "button",
                {
                  className: q.RecapSurveyButton,
                  onClick: () => window.open(f, "_blank"),
                },
                (0, l.we)(
                  "#Dashboard_UpcomingEvents_RecapNextFest_SurveyButton",
                ),
              ),
            ),
        );
      }
      function Te(e) {
        return n.createElement(
          "button",
          {
            className: q.RecapTextFullSummaryButton,
            onClick: () => window.open(e.summaryURL, "_blank"),
          },
          (0, l.we)("#Dashboard_UpcomingEvents_RecapNextFest_TextFullSummary"),
        );
      }
      function we(e) {
        const { eventData: t } = e,
          a = (0, Y.sf)(s.TS.LANGUAGE),
          i = t.m_plan,
          { eventModel: r, bLoading: o } = (0, Q.B9)(
            i.sale_clan_account,
            i.sale_clan_event_gid,
          ),
          l = !o && r?.GetImageURL("capsule", a, J.wI.capsule_main);
        return n.createElement(B.aV, { imageUrl: l });
      }
      function ye(e) {
        const {
          eventName: t,
          eventDescription: a,
          eventUrl: s,
          startTime: i,
          endTime: r,
          warnings: o,
          imageUrl: l,
          additionalButtons: c,
          inlineDate: m,
          bigName: d,
        } = e;
        return n.createElement(
          n.Fragment,
          null,
          n.createElement(B.zS, { imageUrl: l, url: s }),
          n.createElement(
            B.Q1,
            { hasImage: !!l },
            n.createElement(
              B.Hg,
              { inlineDate: m },
              n.createElement(B.Pz, { text: t, url: s, large: d }),
              n.createElement(B.ek, {
                startTimestamp: i,
                endTimestamp: r,
                largeDate: m,
              }),
            ),
            a,
            o?.length > 0 &&
              n.createElement(
                "div",
                { className: q.ItemWarning },
                o.join(", "),
              ),
          ),
          c && n.createElement(B.m2, null, c),
        );
      }
      function fe(e) {
        const { eventData: t } = e,
          a = t.m_plan.id
            ? `${s.TS.PARTNER_BASE_URL}promotion/assetportal/request/${t.m_plan.id}`
            : void 0,
          i = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          r =
            t.m_plan.start_date &&
            i.format(1e3 * (0, z.OS)(void 0, t.m_plan.start_date, "partner")),
          o = t.m_plan,
          [c] = (0, k.G6)(o.store_item_id, o.store_item_type, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          m = n.useMemo(
            () =>
              c ? [{ appid: c.GetAppID(), appName: c.GetName() }] : void 0,
            [c],
          ),
          d = Se(t.m_partnerId, m, o.start_date, o.end_date),
          _ = c && o.discount_event_id,
          p = o.discount_event_id
            ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${o.discount_event_id}`
            : void 0,
          u = (0, K.sk)(o.discount_event_id),
          E = (0, oe.uK)(t.m_plan, t.m_assetInput) > oe.mM.k_AwaitingPartner,
          v = !_ || d?.length > 0 || u?.length > 0;
        if (t.m_assetInput?.enable_input)
          return n.createElement(
            B.FV,
            null,
            n.createElement(B.hq, { complete: E && v, urgent: !0 }),
            n.createElement(B.Pj, {
              complete: E,
              urgent: !0,
              label: (0, l.we)(
                "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_duedate",
              ),
              status: r,
              actionStatus: E
                ? (0, l.we)(
                    "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button_submitted",
                  )
                : (0, l.we)(
                    "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button",
                  ),
              actionUrl: a,
            }),
            _ &&
              n.createElement(B.Pj, {
                complete: v,
                urgent: !0,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Action",
                ),
                status: r,
                actionStatus: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
                ),
                actionUrl: p,
              }),
          );
      }
      function Re(e) {
        const {
            eventData: t,
            eventUrl: a,
            optIn: i,
            invitedAndRegisteredApps: r,
          } = e,
          o = t.m_plan,
          c = n.useMemo(
            () =>
              i?.rgRegisteredApps?.map((e) => ({
                appid: e.appid,
                appName: e.app_name,
              })) ?? [],
            [i?.rgRegisteredApps],
          ),
          m = Se(t.m_partnerId, c, o.start_date, o.end_date),
          d = n.useMemo(
            () =>
              m?.length &&
              n.createElement(
                "div",
                { className: q.OptInGamesToolTipContainer },
                m
                  .sort((e, t) => e.appName.localeCompare(t.appName))
                  .map((e) =>
                    n.createElement(
                      "div",
                      { key: e.appid },
                      `${e.appName} (${(function (e) {
                        const t = new Intl.DateTimeFormat(navigator.language, {
                          month: "numeric",
                          day: "numeric",
                          year: "2-digit",
                        });
                        return (0, F.sq)(
                          e,
                          (e) => `${e.rtStartDate}_${e.rtEndDate}`,
                        )
                          .map(
                            (e) =>
                              `${t.format(new Date(1e3 * e.rtStartDate))} - ${t.format(new Date(1e3 * e.rtEndDate))}`,
                          )
                          .join(", ");
                      })(e.discountsDuring)})`,
                    ),
                  ),
              ),
            [m],
          ),
          _ = r?.length > 0,
          p = Gt().setManageDiscountsAppIDs,
          u = r?.some((e) => p.has(e.details.appid)),
          E =
            o.discount_event_id && u
              ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${o.discount_event_id}`
              : void 0,
          v = E && m,
          g = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }),
          D =
            "deadline" != t.eventType &&
            i.description.definition.optin_deadline_date &&
            i.description.definition.event_start_date -
              i.description.definition.optin_deadline_date >
              S.Kp.PerDay &&
            g.format(1e3 * i.description.definition.optin_deadline_date);
        return n.createElement(
          n.Fragment,
          null,
          _ &&
            n.createElement(
              B.FV,
              null,
              n.createElement(be, {
                text: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_EligibleGames",
                ),
                count: r.length,
                tooltip: n.createElement(Ae, { apps: r }),
              }),
              n.createElement(be, {
                text: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_RegisteredGames",
                ),
                count: i.rgRegisteredApps?.length ?? 0,
                tooltip: n.createElement(Ae, {
                  apps:
                    ((h = i.rgRegisteredApps),
                    (T = !1),
                    h?.map((e) => ({ details: e, bRegistered: T })) ?? []),
                }),
              }),
              n.createElement(be, {
                text: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_OptIn_Discounted",
                ),
                count: m?.length ?? 0,
                tooltip: d,
                hidden: !v,
              }),
            ),
          n.createElement(
            B.m2,
            null,
            D &&
              n.createElement(
                n.Fragment,
                null,
                n.createElement(
                  "div",
                  { className: q.AssetRequestDateLabel },
                  (0, l.we)("#Dashboard_UpcomingEvents_Events_OptIn_Deadline"),
                ),
                n.createElement("div", { className: q.AssetRequestDate }, D),
              ),
            n.createElement(
              B.z9,
              { url: a },
              _
                ? (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_OptIn_Button_EligibleGames",
                  )
                : (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_OptIn_Button_LearnMore",
                  ),
            ),
            n.createElement(
              B.z9,
              { url: E },
              (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
              ),
            ),
          ),
        );
        var h, T;
      }
      function be(e) {
        const { text: t, count: a, tooltip: s, hidden: i } = e;
        return n.createElement(
          u.m9,
          { toolTipContent: s },
          n.createElement(
            "div",
            { className: (0, o.A)(q.StatusItemBox, i && q.Hidden) },
            n.createElement("div", { className: q.StatusItemBoxLabel }, t),
            n.createElement("div", { className: q.StatusItemBoxText }, a),
          ),
        );
      }
      function Ae(e) {
        const { apps: t } = e;
        if (!t?.length) return;
        const a = t.sort((e, t) =>
          e.details.app_name.localeCompare(t.details.app_name),
        );
        return n.createElement(
          "div",
          { className: q.OptInGamesToolTipContainer },
          a.map((e) =>
            n.createElement(
              "div",
              { key: e.details.appid },
              e.bRegistered
                ? (0, l.PP)(
                    "#Dashboard_UpcomingEvents_Events_OptIn_GameRegistered",
                    e.details.app_name,
                    n.createElement(
                      "span",
                      { className: q.OptInGamesToolTipRegistered },
                      (0, l.we)(
                        "#Dashboard_UpcomingEvents_Events_OptIn_GameRegisteredText",
                      ),
                    ),
                  )
                : e.details.app_name,
            ),
          ),
        );
      }
      function Ce(e) {
        const {
            eventData: t,
            appId: a,
            registerByDate: i,
            registrationType: r,
          } = e,
          c = (0, Y.sf)(s.TS.LANGUAGE),
          m = t.m_plan,
          d = t.m_optIn,
          [_] = (0, k.G6)(a, L.c6.k_EStoreItemType_App, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          p = _?.GetAssets().GetHeaderURL(),
          u = _ ? s.TS.PARTNER_BASE_URL + "apps/landing/" + _.GetAppID() : null,
          E = `${s.TS.PARTNER_BASE_URL}optin/sale/${m.opt_in_id?.replace("sale_", "")}`,
          v = new Intl.DateTimeFormat(navigator.language, {
            month: "long",
            day: "numeric",
          }),
          g = v.format(i),
          D =
            "trailer-seasonalsale" == r || "trailer-themesale" == r
              ? g
              : v.format(new Date(1e3 * d?.description.start_date)),
          h = n.useMemo(() => {
            const e = t.m_optIn.rgRegisteredApps.find((e) => e.appid == a);
            return e ? [e] : [];
          }, [t.m_optIn.rgRegisteredApps, a]),
          T = h?.length > 0,
          w = m.discount_event_id
            ? `${s.TS.PARTNER_BASE_URL}promotion/discounts/dashboard/?de=${m.discount_event_id}`
            : void 0,
          y = n.useMemo(
            () =>
              h?.map((e) => ({ appid: e.appid, appName: e.app_name })) ?? [],
            [h],
          ),
          f = Se(t.m_partnerId, y, m.start_date, m.end_date),
          R = f?.length > 0,
          b =
            d?.description?.definition?.localized_optin_banner?.[s.TS.LANGUAGE],
          A =
            d?.description.opt_in_name &&
            b &&
            (0, $.Yi)(d?.description.opt_in_name, c, b),
          C = T && R,
          S = "deadline-urgent" == t.eventType;
        let N = null,
          I = null,
          U = null;
        switch (r) {
          case "trailer-seasonalsale":
            (N =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Title"),
              (I =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Body"),
              (U =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerSeasonalSale_Action");
            break;
          case "trailer-themesale":
            (N =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Title"),
              (I =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Body"),
              (U =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedTrailerThemeSale_Action");
            break;
          case "registration":
            (N =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Title"),
              (I =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Body"),
              (U =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Action");
            break;
          case "discount":
            (N =
              "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Title"),
              (I =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Body"),
              (U =
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedRegister_Action");
        }
        return n.createElement(
          B.b1,
          { hasImage: !!p, backgroundImageUrl: A, dimmed: !0 },
          n.createElement(B.zS, { imageUrl: p, url: u }),
          n.createElement(
            B.Q1,
            { hasImage: !!p },
            n.createElement(B.Pz, { text: (0, l.we)(N, t.title), light: !0 }),
            n.createElement(
              "div",
              { className: (0, o.A)(q.ItemDeadlineHeaderText, S && q.Urgent) },
              (0, l.we)(I, g),
            ),
          ),
          n.createElement(
            B.FV,
            null,
            n.createElement(B.hq, { complete: C, urgent: S }),
            n.createElement(B.Pj, {
              complete: T,
              urgent: S,
              label: (0, l.we)(U),
              status: g,
              actionStatus: (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeatured_Register_Button",
              ),
              actionUrl: E,
            }),
            n.createElement(B.Pj, {
              complete: R,
              urgent: S,
              label: (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_Deadline_EventFeaturedDiscount_Action",
              ),
              status: D,
              actionStatus: (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_OptIn_Button_EnterDiscounts",
              ),
              actionUrl: w,
            }),
          ),
        );
      }
      function Se(e, t, a, s) {
        const i = n.useMemo(
            () =>
              t?.map((e) => ({
                appid: e.appid,
                appName: e.appName,
                startDate: a,
                endDate: s,
              })) ?? [],
            [t, a, s],
          ),
          r = n.useMemo(() => t?.map((e) => e.appid) ?? [], [t]),
          o = (0, Z.F_)(r, { nPartnerID: e });
        return n.useMemo(() => {
          const e = i?.reduce((e, t) => e.set(t.appid, t), new Map()),
            t =
              o && e
                ? Array.from(o)
                    .map(([t, a]) => ({
                      appid: t,
                      discountsDuring: a?.discounts?.filter(
                        (a) =>
                          e.get(t).startDate &&
                          e.get(t).startDate <= a.rtEndDate &&
                          e.get(t).endDate &&
                          a.rtStartDate <= e.get(t).endDate,
                      ),
                    }))
                    .filter((e) => e.discountsDuring?.length)
                : void 0,
            a = t?.map(({ appid: t, discountsDuring: a }) => ({
              appid: t,
              appName: e?.get(t).appName,
              discountsDuring: a,
            }));
          return a;
        }, [i, o]);
      }
      function Ne(e) {
        switch (e) {
          case "deadline":
          case "deadline-urgent":
            return (
              (0, l.we)("#Dashboard_UpcomingEvents_EventType_Deadline") +
              " (Generated)"
            );
          case "release-game":
            return (
              (0, l.we)("#Dashboard_UpcomingEvents_EventType_Release") +
              " (Generated)"
            );
          case "release-dlc":
            return (
              (0, l.we)("#Dashboard_UpcomingEvents_EventType_Release_DLC") +
              " (Generated)"
            );
          case "event":
            return (
              (0, l.we)("#Dashboard_UpcomingEvents_EventType_Event_Unknown") +
              " (Generated)"
            );
        }
      }
      function Ie(e, t) {
        let a = 0;
        for (let t = 0; t < e.length; t++) a = e.charCodeAt(t) + ((a << 5) - a);
        let n = "#";
        for (let e = 0; e < 3; e++) {
          n += (
            "00" + Math.floor(((a >> (8 * e)) & 255) * t).toString(16)
          ).slice(-2);
        }
        return n;
      }
      (0, j.Cg)([d.oI], ce.prototype, "dataChanged", null);
      var Ue = a(79198),
        Pe = a(10698),
        Me = a(44165),
        xe = a(54330);
      function ke() {
        const e = Ft(),
          t = te();
        return n.useMemo(() => {
          if (!t) return [];
          const a = (function (e) {
              return e
                ? Object.keys(e).reduce((t, a) => t.set(a, e[a]), new Map())
                : void 0;
            })((0, s.Tc)("rgDeadlines", "application_config")),
            n = (a ? Array.from(a.entries()) : [])
              .filter(
                ([t, a]) =>
                  new Date(1e3 * a.due_date) >= e ||
                  (function (e) {
                    switch (e.type) {
                      case b.Qo.k_EPartnerDeadlineType_SeasonPassMilestone:
                        return !0;
                      case b.Qo.k_EPartnerDeadlineType_TaxRequirement: {
                        const t = e.description_jsondata
                          ? JSON.parse(e.description_jsondata)
                          : void 0;
                        return (
                          "F1099MISC-ConsentYes" != t?.TemplateName &&
                          "F1042-Consent" != t?.TemplateName
                        );
                      }
                    }
                    return !1;
                  })(a),
              )
              .reduce((e, [t, a]) => {
                const n = (0, _.xi)(new Date(1e3 * a.due_date)),
                  s = (function (e) {
                    if (e === b.Qo.k_EPartnerDeadlineType_NextFest_PressPreview)
                      return !0;
                    return !1;
                  })(a.type),
                  i = s ? "group" : t,
                  r = `${n.getTime()}_${a.type}_${i}`,
                  o = e.has(r) ? e.get(r).deadlines : [];
                return (
                  e.set(r, {
                    dueDate: n,
                    bSupportsGrouping: s,
                    deadlines: [...o, a],
                  }),
                  e
                );
              }, new Map()),
            i = Array.from(n.entries()).flatMap(([e, a]) => {
              const { dueDate: n, bSupportsGrouping: s, deadlines: i } = a,
                r = [];
              return (
                s
                  ? r.push(
                      (function (e, t) {
                        if (
                          t[0].type ===
                          b.Qo.k_EPartnerDeadlineType_NextFest_PressPreview
                        )
                          return Le(e, t[0]);
                        return;
                      })(t, i),
                    )
                  : r.push(...i.map((e) => Le(t, e))),
                r
                  .filter((e) => !!e)
                  .map((t) => ({
                    title: t.sTitle,
                    startDate: n,
                    endDate: n,
                    eventType: t.bUrgent ? "deadline-urgent" : "deadline",
                    id: e,
                    eventTypeName: t.sHeader,
                    getElement: () => t.element,
                    getCapsuleElement: () => t.capsuleElement,
                    passesFilter: (e) => e == bt.Events,
                  }))
              );
            });
          return i ?? [];
        }, [e, t]);
      }
      function Le(e, t) {
        const a = t.description_jsondata
          ? JSON.parse(t.description_jsondata)
          : void 0;
        switch (t.type) {
          case b.Qo.k_EPartnerDeadlineTypeTest1:
            return {
              sHeader: "Action Required",
              sTitle: "Test 1",
              bUrgent: !0,
              element: n.createElement(Ge, { deadline: t, json: a }),
            };
          case b.Qo.k_EPartnerDeadlineType_DailyDeals_Invite:
            return {
              sHeader: (0, l.we)(
                "#Dashboard_UpcomingEvents_EventType_Deadline",
              ),
              sTitle: (0, l.we)(
                "#PartnerDeadline_DailyDeal_InviteExpiring_Title",
              ),
              bUrgent: !0,
              element: n.createElement(Fe, { deadline: t, json: a }),
            };
          case b.Qo.k_EPartnerDeadlineType_NextFest_PressPreview: {
            const i = e.GetInfo(a?.opt_in_name),
              r = i?.description.definition.event_title[s.TS.LANGUAGE];
            return r
              ? {
                  sHeader: (0, l.we)(
                    "#PartnerDeadline_NextFest_PressPreview_Title",
                  ),
                  sTitle: (0, l.we)(
                    "#Deadlines_CombinedTitle",
                    (0, l.we)("#PartnerDeadline_NextFest_PressPreview_Title"),
                    r,
                  ),
                  element: n.createElement(He, { deadline: t, json: a }),
                }
              : void 0;
          }
          case b.Qo.k_EPartnerDeadlineType_NextFest_DemoBuildReview: {
            const i = e.GetInfo(a?.opt_in_name),
              r = i?.description.definition.event_title[s.TS.LANGUAGE];
            return r
              ? {
                  sHeader: (0, l.we)(
                    "#PartnerDeadline_NextFest_DemoBuildReview_Title",
                  ),
                  sTitle: (0, l.we)(
                    "#Deadlines_CombinedTitle",
                    (0, l.we)(
                      "#PartnerDeadline_NextFest_DemoBuildReview_Title",
                    ),
                    r,
                  ),
                  bUrgent: !1,
                  element: n.createElement(Oe, { deadline: t, json: a }),
                }
              : void 0;
          }
          case b.Qo.k_EPartnerDeadlineType_AssetRequest:
            return {
              sHeader: (0, l.we)(
                "#Dashboard_UpcomingEvents_EventType_Deadline",
              ),
              sTitle: (0, l.we)(
                "#PartnerDeadline_AssetRequest_InviteExpiring_Title",
              ),
              bUrgent: !0,
              element: n.createElement(Be, { deadline: t, json: a }),
            };
          case b.Qo.k_EPartnerDeadlineType_SeasonPassMilestone:
            return {
              sHeader: (0, l.we)(
                "#Dashboard_UpcomingEvents_EventType_SeasonPass",
              ),
              sTitle: (0, l.we)(
                "#Dashboard_UpcomingEvents_EventType_SeasonPass",
              ),
              bUrgent: t.due_date < Me.HD.GetTimeNowWithOverride() - 604800,
              element: n.createElement(We, { deadline: t, json: a }),
            };
          case b.Qo.k_EPartnerDeadlineType_TaxRequirement:
            return {
              sHeader: ze(a?.TemplateName),
              sTitle: Ye(a?.TemplateName),
              bUrgent: t.due_date < Me.HD.GetTimeNowWithOverride() + 2678400,
              element: n.createElement(je, { deadline: t, json: a }),
              capsuleElement: n.createElement(
                "div",
                { className: Ue.CapsuleTax },
                Ye(a?.TemplateName),
              ),
            };
          default:
            "dev" == s.TS.WEB_UNIVERSE &&
              console.log(
                "GetDeadlineDisplay: Unexpected deadline type not being rendered " +
                  t.type,
                t,
              );
        }
      }
      function Ge(e) {
        const { deadline: t, json: a } = e,
          s = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(new Date(1e3 * t.due_date));
        return n.createElement(
          n.Fragment,
          null,
          n.createElement("div", null, "Name: ", a.name),
          n.createElement("div", null, "Due date: ", s),
        );
      }
      function Fe(e) {
        const { deadline: t } = e,
          [a] = (0, k.G6)(t?.store_item_id, t?.store_item_type, {
            include_assets: !0,
          }),
          i = `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/invite/${t.gid}`,
          r = (0, Pe.FN)(t?.due_date, !0);
        return n.createElement(qe, {
          urgent: !0,
          imageUrl: a?.GetAssets().GetHeaderURL(),
          title: (0, l.we)("#PartnerDeadline_DailyDeal_InviteExpiring_Title"),
          body: (0, l.we)("#PartnerDeadline_InviteExpiring_Body", r),
          url: i,
          imageTooltip: a?.GetName(),
          rightCol: n.createElement(
            B.z9,
            { url: i },
            (0, l.we)("#DailyDeals_PickDate"),
          ),
        });
      }
      function Be(e) {
        const { deadline: t } = e,
          [a] = (0, k.G6)(t?.store_item_id, t?.store_item_type, {
            include_assets: !0,
          }),
          i = `${s.TS.PARTNER_BASE_URL}promotion/assetportal/request/${t.gid}`,
          r = (0, Pe.FN)(t?.due_date, !0);
        return n.createElement(qe, {
          urgent: !0,
          imageUrl: a?.GetAssets().GetHeaderURL(),
          title: (0, l.we)(
            "#PartnerDeadline_AssetRequest_InviteExpiring_Title",
          ),
          body: (0, l.we)("#PartnerDeadline_InviteExpiring_Body", r),
          url: i,
          imageTooltip: a?.GetName(),
          rightCol: n.createElement(
            B.z9,
            { url: i },
            (0, l.we)(
              "#Dashboard_UpcomingEvents_EventType_PromotionPlan_assetrequest_button",
            ),
          ),
        });
      }
      function He(e) {
        const { deadline: t, json: a } = e,
          i = ae(a.opt_in_name),
          r = `${s.TS.PARTNER_BASE_URL}optin/sale/${a.opt_in_name.replace("sale_", "")}`;
        return i
          ? n.createElement(qe, {
              title: i.description.definition.event_title[s.TS.LANGUAGE],
              body: (0, l.we)("#PartnerDeadline_NextFest_PressPreview_Body"),
              rightCol: n.createElement(
                B.z9,
                { url: r },
                (0, l.we)("#PartnerDeadline_NextFest_View_Registration"),
              ),
            })
          : null;
      }
      function Oe(e) {
        const { deadline: t, json: a } = e,
          i = ae(a.opt_in_name),
          [r] = (0, k.G6)(t?.store_item_id, t?.store_item_type, {
            include_assets: !0,
          });
        if (!i || !t?.store_item_id) return null;
        const o = `${s.TS.PARTNER_BASE_URL}apps/demo/${t.store_item_id}`,
          c = `${s.TS.PARTNER_BASE_URL}doc/store/review_process`;
        return n.createElement(qe, {
          imageUrl: r?.GetAssets().GetHeaderURL(),
          title: i.description.definition.event_title[s.TS.LANGUAGE],
          body: (0, l.oW)(
            (0, l.we)(
              "#PartnerDeadline_NextFest_DemoBuildReview_Body",
              r?.GetName() || "(" + t.store_item_id + ")",
            ),
            n.createElement("a", { href: c }),
          ),
          rightCol: n.createElement(
            B.z9,
            { url: o },
            (0, l.we)("#PartnerDeadline_NextFest_View_Registration"),
          ),
        });
      }
      const Ve = { include_assets: !0 };
      function We(e) {
        const { deadline: t, json: a } = e,
          [i] = (0, k.t7)(t.store_item_id, Ve),
          r = (0, xe.u)(t.store_item_id),
          o = r?.find((e) => e.milestone_id == Number.parseInt(t.gid)),
          c = l.A0.GetTokenWithFallback(o?.title),
          m = `${s.TS.PARTNER_BASE_URL}admin/game/editbyappid/${t.store_item_id}?activetab=tab_specialsettings#seasonpass`,
          d = `${s.TS.PARTNER_BASE_URL}apps/landing/${t.store_item_id}`;
        return n.createElement(qe, {
          imageUrl: i?.GetAssets().GetSmallCapsuleURL(),
          title: (0, l.we)(
            "#PartnerDeadline_SeasonPass_DLC",
            i?.GetName() || "(" + t.store_item_id + ")",
          ),
          body: (0, l.we)("#PartnerDeadline_SeasonPass_Desc", c || t.gid),
          rightCol: n.createElement(
            n.Fragment,
            null,
            n.createElement(
              B.z9,
              { url: m },
              (0, l.we)("#PartnerDeadline_SeasonPass_OpenEditor"),
            ),
            n.createElement(
              B.z9,
              { url: d },
              (0, l.we)("#DiscountDashboard_VisitAppLanding_Tooltip"),
            ),
          ),
        });
      }
      function je(e) {
        const { deadline: t, json: a } = e,
          i = (0, Pe.FN)(t?.due_date, !0),
          r = `${s.TS.PARTNER_BASE_URL}taxrequirement/view/${t.partnerid}/${t.gid}`,
          o = (function () {
            const [e] = n.useState(
              (0, s.Tc)("bActualAuthority", "application_config"),
            );
            return e;
          })();
        let c = (function (e, t) {
          switch (e) {
            case "Renewal-W8-Initial":
              return (0, l.we)(
                "#PartnerDeadline_TaxRequirement_Renewal-W8-Initial",
                t,
              );
            case "Renewal-W8-Partner-Urgent":
              return (0, l.we)(
                "#PartnerDeadline_TaxRequirement_Renewal-W8-Partner-Urgent",
              );
            case "DocReq-KYC-FR":
            case "DocReq-KYC-Entity-FR-CERT":
            case "DocReq-KYC-Entity-FR":
              return (0, l.we)(
                "#PartnerDeadline_TaxRequirement_AdditionalKYCDocuments",
              );
            case "DocReq-Selfie-FR":
            case "DocReq-TreatyClaimOthCty-FR":
            case "DocReq-TreatyClaimUSAddress-FR":
            case "DocReq-W8USAddress-FR":
            case "DocReq-W8USParent-FR":
              return (0, l.we)(
                "#PartnerDeadline_TaxRequirement_AdditionalDocuments",
              );
            case "F1099MISC-ConsentYes":
            case "F1042-Consent":
              return (0, l.we)("#PartnerDeadline_TaxRequirement_NewDocuments");
            case "FailureToComply":
            case "FailureToComply-KYC":
              return (0, l.we)("#PartnerDeadline_TaxRequirement_Expired");
            case "AddressCorrection":
            case "InvalidAddress":
            case "InvalidTaxInfo-Partner":
            case "InvalidTIN":
            case "InvalidTINAudit-Partner":
            case "NameMismatch-Partner":
            case "Notify-FailedTIN":
            case "Notify-FailedTIN-SingLLC":
            case "Notify-Mismatch":
              return (0, l.we)("#PartnerDeadline_TaxRequirement_Invalid");
            case "Notify-NoTINTreaty-Partner":
              return (0, l.we)("#PartnerDeadline_TaxRequirement_NoTINTreaty");
            default:
              return "";
          }
        })(a?.TemplateName, i);
        return (
          o ||
            (c +=
              " " +
              (0, l.we)(
                "#PartnerDeadline_TaxRequirement_ActualAuthorityRequired",
              )),
          n.createElement(qe, {
            title: Ye(a?.TemplateName),
            body: c,
            rightCol: n.createElement(
              B.z9,
              { url: r },
              (0, l.we)("#PartnerDeadline_TaxRequirement_ButtonViewDetails"),
            ),
          })
        );
      }
      function qe(e) {
        const {
          imageUrl: t,
          title: a,
          body: s,
          imageTooltip: i,
          url: r,
          rightCol: o,
          urgent: l,
        } = e;
        return n.createElement(
          B.b1,
          { hasImage: !!t },
          n.createElement(B.zS, { imageUrl: t, url: r, tooltip: i }),
          n.createElement(
            B.Q1,
            { hasImage: !!t },
            n.createElement(B.Pz, { text: a }),
            n.createElement(
              "div",
              { className: l ? Ue.DeadlineWarningUrgent : Ue.DeadlineWarning },
              s,
            ),
          ),
          o && n.createElement(B.m2, null, o),
        );
      }
      function ze(e) {
        switch (e) {
          case "F1099MISC-ConsentYes":
          case "F1042-Consent":
            return (0, l.we)("#PartnerDeadline_TaxRequirement_Header_NoAction");
          default:
            return (0, l.we)("#Dashboard_UpcomingEvents_EventType_Deadline");
        }
      }
      function Ye(e) {
        switch (e) {
          case "F1099MISC-ConsentYes":
          case "F1042-Consent":
            return (0, l.we)("#PartnerDeadline_TaxRequirement_Title_NoAction");
          default:
            return (0, l.we)("#PartnerDeadline_TaxRequirement_Title");
        }
      }
      var Ze = a(95013),
        $e = a(94238),
        Qe = a(18509),
        Je = a(32410),
        Ke = a(40357),
        Xe = a(54965),
        et = a(51134),
        tt = a(82227);
      function at(e) {
        return nt(new Date(), e)
          ? (0, l.we)("#Dashboard_UpcomingEvents_EventType_DailyDealRecap")
          : (0, l.we)("#Dashboard_UpcomingEvents_EventType_DailyDeal");
      }
      function nt(e, t) {
        return (
          new Date(1e3 * (t.rtime32_start_time + S.Kp.PerDay)).getTime() <
          e.getTime()
        );
      }
      function st(e) {
        const { deal: t, partnerId: a } = e;
        return nt(new Date(), t)
          ? n.createElement(ot, { deal: t, partnerId: a })
          : n.createElement(it, { partnerId: a, deal: t });
      }
      function it(e) {
        const { partnerId: t, deal: a } = e,
          i = (0, $e.Dw)(a.store_item_type),
          [r] = (0, k.G6)(a.store_item_id, i, { include_assets: !0 }),
          o = r?.GetAssets().GetHeaderURL();
        let c = null;
        i == L.c6.k_EStoreItemType_App && r
          ? (c = s.TS.PARTNER_BASE_URL + "apps/landing/" + r.GetAppID())
          : i == L.c6.k_EStoreItemType_Bundle && r
            ? (c = s.TS.PARTNER_BASE_URL + "bundles/view/" + r.GetID())
            : i == L.c6.k_EStoreItemType_Package &&
              r &&
              (c = s.TS.PARTNER_BASE_URL + "store/packagelanding/" + r.GetID());
        const m = a.rtime32_start_time + 82800,
          {
            nDiscountPercentHigh: d,
            dtDiscountStart: _,
            dtDiscountEnd: p,
          } = (0, Je.Y4)(a),
          u = n.useMemo(() => (0, Je.Dt)(a, d), [a, d]),
          E = (0, Je.o9)(a),
          v = d > 0,
          g = u >= Je.of.DealReady,
          D = g
            ? (0, l.we)("#Dashboard_UpcomingEvents_DailyDeal_ReadyToGo")
            : "",
          h = (0, $e.ls)(t?.toString(), a.discount_event_id?.toString()),
          T = new Intl.DateTimeFormat(navigator.language, {
            month: "short",
            day: "numeric",
          }).format(new Date(1e3 * a.rtime32_start_time)),
          w = (0, Je.UJ)(a);
        return n.createElement(
          B.b1,
          { hasImage: !!o },
          n.createElement(B.zS, {
            imageUrl: o,
            url: c,
            tooltip: a.store_item_name,
          }),
          n.createElement(
            B.Q1,
            { hasImage: !!o },
            n.createElement(B.Pz, { text: a.store_item_name }),
            n.createElement(
              "div",
              null,
              n.createElement(
                "span",
                { className: Ze.DateDesc },
                (0, l.we)("#Dashboard_UpcomingEvents_DailyDeal_Dates"),
              ),
              n.createElement(B.ek, {
                startTimestamp: a.rtime32_start_time,
                endTimestamp: m,
              }),
            ),
            v &&
              n.createElement(
                "div",
                null,
                n.createElement(
                  "span",
                  { className: Ze.DateDesc },
                  (0, l.we)("#Dashboard_UpcomingEvents_DailyDeal_Discounted"),
                ),
                n.createElement(B.ek, { startTimestamp: _, endTimestamp: p }),
              ),
          ),
          n.createElement(
            B.FV,
            null,
            n.createElement(B.hq, { complete: g, urgent: !0, overrideText: D }),
            v &&
              n.createElement(B.Pj, {
                complete: v,
                urgent: !0,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_StatusDiscountLabel",
                ),
                status: n.createElement(Qe.b4, { oDailyDeal: a }),
                actionStatus: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_EditDiscount",
                ),
                actionUrl: h,
              }),
            !v &&
              n.createElement(B.Pj, {
                complete: !1,
                urgent: !0,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_StatusDiscountLabel",
                ),
                status: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_DueBy",
                  T,
                ),
                actionStatus: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_EnterDiscount",
                ),
                actionUrl: h,
              }),
            E == Je.Sq.SetUp &&
              n.createElement(B.Pj, {
                complete: !0,
                urgent: !0,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_StatusSalePageSetUp",
                ),
                actionStatus: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_StatusSalePageView",
                ),
                actionUrl: w,
              }),
            E == Je.Sq.NotSetUp &&
              n.createElement(B.Pj, {
                complete: !1,
                urgent: !0,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_DailyDeal_StatusSalePageNeeded",
                ),
              }),
          ),
        );
      }
      function rt(e) {
        const { deal: t } = e,
          a = (0, $e.Dw)(t.store_item_type),
          [i] = (0, k.G6)(t.store_item_id, a, { include_assets: !0 }),
          r = i?.GetAssets().GetHeaderURL();
        let o = null;
        return (
          a == L.c6.k_EStoreItemType_App && i
            ? (o = s.TS.PARTNER_BASE_URL + "apps/landing/" + i.GetAppID())
            : a == L.c6.k_EStoreItemType_Bundle && i
              ? (o = s.TS.PARTNER_BASE_URL + "bundles/view/" + i.GetID())
              : a == L.c6.k_EStoreItemType_Package &&
                i &&
                (o =
                  s.TS.PARTNER_BASE_URL + "store/packagelanding/" + i.GetID()),
          n.createElement(B.aV, {
            imageUrl: r,
            title: (0, l.we)("#Dashboard_UpcomingEvents_EventType_DailyDeal"),
          })
        );
      }
      function ot(e) {
        const { deal: t, partnerId: a } = e,
          [i, r] = (0, k.G6)(t?.store_item_id, (0, $e.Dw)(t?.store_item_type), {
            include_assets: !0,
          }),
          c = (0, Xe.c)(a, t?.gid ? [t.gid] : []),
          m = c?.get(t.gid),
          d = !t || !m || r == k.N4.k_EStoreItemCacheState_Loading;
        if (t.cancelled || t.deleted) return null;
        const _ = `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/dashboard/${a}`;
        let p;
        return (
          (p = i?.GetAssets().GetHeaderURL()
            ? n.createElement("img", { src: i.GetAssets().GetHeaderURL() })
            : i
              ? (0, l.we)("#DailyDeals_HeaderArtMissing")
              : (0, l.we)("#DailyDeals_StoreItem_Hidden")),
          n.createElement(
            "div",
            { className: (0, o.A)(Ze.DailyDeal_RecapContainer) },
            d
              ? n.createElement(lt, null)
              : n.createElement(
                  n.Fragment,
                  null,
                  n.createElement(
                    "div",
                    { className: (0, o.A)(Ze.DailyDeal_RecapTable) },
                    n.createElement(
                      "div",
                      { className: Ze.Cell },
                      n.createElement(
                        "div",
                        { className: Ze.CapsuleContainer },
                        p,
                      ),
                    ),
                    n.createElement(
                      "div",
                      { className: (0, o.A)(Ze.Cell) },
                      n.createElement(
                        "div",
                        { className: Ze.PromoTitle },
                        n.createElement(
                          "span",
                          { className: Ze.FeaturedDate },
                          (0, l.TW)(t.rtime32_start_time),
                        ),
                        i?.GetName() || t?.store_item_name,
                      ),
                      n.createElement(
                        "div",
                        { className: Ze.SalesRow },
                        n.createElement(
                          "div",
                          { className: Ze.VerticalCell },
                          m?.gross_sales &&
                            n.createElement(
                              n.Fragment,
                              null,
                              n.createElement(
                                "div",
                                { className: Ze.HighlightHeader },
                                (0, l.we)("#DailyDeals_Report_Revenue"),
                              ),
                              n.createElement(
                                "div",
                                {
                                  className: (0, o.A)(
                                    Ze.HighlightValue,
                                    Ze.Revenue,
                                  ),
                                },
                                m.gross_sales ? (0, et.xE)(m.gross_sales) : "?",
                              ),
                            ),
                        ),
                        n.createElement(
                          "div",
                          { className: Ze.VerticalCell },
                          m?.impressions &&
                            n.createElement(
                              n.Fragment,
                              null,
                              n.createElement(
                                "div",
                                { className: Ze.HighlightHeader },
                                (0, l.we)("#DailyDeals_Report_Impressions"),
                              ),
                              n.createElement(
                                "div",
                                {
                                  className: (0, o.A)(
                                    Ze.HighlightValue,
                                    Ze.Revenue,
                                  ),
                                },
                                (0, tt.Dq)(m.impressions),
                              ),
                            ),
                        ),
                      ),
                    ),
                    n.createElement(
                      "div",
                      { className: (0, o.A)(Ze.Cell, Ze.GameCount) },
                      m?.marketing?.length > 1 &&
                        n.createElement(Ke.K, { nGames: m.marketing.length }),
                    ),
                    n.createElement(
                      "div",
                      { className: Ze.Cell },
                      n.createElement(
                        "div",
                        { className: Ze.DailyDealLinkButtonContainer },
                        n.createElement(Te, { summaryURL: _ }),
                      ),
                    ),
                  ),
                ),
          )
        );
      }
      function lt() {
        return n.createElement(
          "div",
          { className: Ze.RecapThrobberContainer },
          n.createElement(se.t, {
            size: "medium",
            position: "center",
            className: Ze.ReportThrobber,
          }),
        );
      }
      var ct = a(4130),
        mt = a(92448),
        dt = a(20587);
      function _t(e) {
        const { saleDesc: t } = e;
        return dt.O3.GetClanEventModel(t.clanEventGID)
          ? n.createElement(mt.Wr, {
              saleDesc: t,
              bShowAppBrowse: !0,
              bHidePartnerStats: !0,
              bShowWhyAmISeeingThis: !0,
            })
          : n.createElement(mt.GS, {
              saleDesc: t,
              message: (0, l.we)(
                "#Dashboard_UpcomingEvents_PartnerEvents_NoAccess",
              ),
            });
      }
      function pt(e) {
        const { saleDesc: t } = e,
          a = (0, Y.sf)(s.TS.LANGUAGE),
          i = dt.O3.GetClanEventModel(t.clanEventGID);
        return i
          ? n.createElement(B.aV, {
              imageUrls: i.GetImageForSizeAsArrayWithFallback(
                "capsule",
                a,
                J.wI.capsule_main,
              ),
            })
          : void 0;
      }
      var ut = a(5864),
        Et = a(4807),
        vt = a(3919),
        gt = a(32703),
        Dt = a(43470);
      function ht(e) {
        let t = L.c6.k_EStoreItemType_Invalid;
        return (
          e == ut.OT.k_EMarketingMessageAppAssociation
            ? (t = L.c6.k_EStoreItemType_App)
            : e == ut.OT.k_EMarketingMessageSubscriptionAssociation
              ? (t = L.c6.k_EStoreItemType_Package)
              : e == ut.OT.k_EMarketingMessageBundleAssociation &&
                (t = L.c6.k_EStoreItemType_Bundle),
          t
        );
      }
      function Tt(e) {
        const { marketingMessage: t } = e,
          a = Gt(),
          i = t.visibility === ut.V$.k_EMarketingMessageVisiblePublic,
          r =
            t.visibility === ut.V$.k_EMarketingMessageVisibleApprovedForPublish,
          o = ht(t.association_type),
          [c] = (0, k.G6)(t.associated_id, o, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          m = c,
          d = m?.GetAssets().GetHeaderURL() || null,
          _ = m ? s.TS.PARTNER_BASE_URL + "apps/landing/" + m.GetAppID() : null,
          p =
            i || r
              ? s.TS.PARTNER_BASE_URL +
                "promotion/marketingmessages/partnerpreview/" +
                t.gid
              : void 0,
          { bReady: u, bReadyExceptLiveEvent: E } = (0, gt._p)(null, t, !0),
          v = a.bShowWarnings
            ? z.Hm.GetMarketingMesssageEditURL(t.gid)
            : void 0,
          g = Ft();
        let D,
          h,
          T,
          w,
          y = B.YS.Incomplete;
        i && t.start_date > g.getTime() / 1e3
          ? ((h = (0, l.we)(
              "#Dashboard_UpcomingEvents_Events_MarketingMessage_Event_StatusVisibleOn",
              (0, l.$z)(t.start_date),
            )),
            (w = (0, l.we)(
              "#Dashboard_UpcomingEvents_Events_MarketingMessage_ViewButton",
            )),
            (y = B.YS.Complete))
          : i
            ? ((h = (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusPublic",
              )),
              (w = (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_MarketingMessage_ViewButton",
              )),
              (y = B.YS.Complete))
            : r
              ? ((D = (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusReadyToPublish",
                )),
                (h = (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusApproved",
                )),
                (w = (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_PreviewPublishButton",
                )))
              : u || E
                ? ((D = (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusValveReview_Overall",
                  )),
                  (h = (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusValveReview",
                  )),
                  (T = (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusValveReview_ttip",
                  )),
                  (y = B.YS.Info))
                : ((h = (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusNotReady",
                  )),
                  (T = (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_StatusNotReady_ttip",
                  )));
        const f = y === B.YS.Info ? B.YS.Complete : y,
          R = (function (e) {
            const t =
                e.template_vars_json?.length > 0
                  ? JSON.parse(e.template_vars_json)
                  : void 0,
              a = "partner_event" == t?.custom_display && t?.update_event_gid,
              { eventModel: i } = (0, Q.B9)(
                t.update_event_clan_accountid,
                t.update_event_gid,
                !0,
              ),
              r = (0, Dt.fj)(t.update_event_clan_accountid, t.update_event_gid),
              o = i?.visibility_state == Et.zv.k_EEventStateVisible,
              c = (0, vt.Bw)(i, vt.PH.k_eCommunityEdit, "allowRelative");
            if (!a) return;
            let m =
              i && i.BIsVisibleEvent()
                ? (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_Event_StatusPublic",
                  )
                : (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MarketingMessage_Event_StatusNotLive",
                  );
            const d =
                r?.oPrivateData?.jsonData
                  ?.strMarketingMessageMajorUpdateHelpTicketReferenceCode,
              _ = Boolean(d);
            let p = _
              ? (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Ticket_Created",
                )
              : (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Ticket_ReviewNotSubmitted",
                );
            return n.createElement(
              n.Fragment,
              null,
              n.createElement(B.Pj, {
                complete: o,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Event_Status",
                ),
                status: m,
                actionStatus: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Event_ViewButton",
                ),
                actionUrl: c,
              }),
              n.createElement(B.Pj, {
                complete: _,
                label: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Ticket_Status",
                ),
                tooltip: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Ticket_ttip",
                ),
                status: p,
                actionStatus: (0, l.we)(
                  "#Dashboard_UpcomingEvents_Events_MarketingMessage_Ticket_ViewButton",
                ),
                actionUrl: _
                  ? `${s.TS.HELP_BASE_URL}en/wizard/HelpRequest/${d}`
                  : void 0,
              }),
            );
          })(t);
        return n.createElement(
          B.b1,
          { hasImage: !!d, buttonPosition: "top" },
          n.createElement(B.zS, { imageUrl: d, url: _ }),
          n.createElement(
            B.Q1,
            { hasImage: !!d },
            n.createElement(
              B.Hg,
              null,
              n.createElement(B.Pz, { text: t.title, url: _ }),
              n.createElement(
                "div",
                null,
                n.createElement(B.ek, {
                  startTimestamp: t.start_date,
                  endTimestamp: t.end_date,
                }),
              ),
            ),
          ),
          n.createElement(
            B.FV,
            null,
            n.createElement(B.hq, { complete: f, overrideText: D }),
            n.createElement(B.Pj, {
              complete: y,
              label: (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_MarketingMessage_Status",
              ),
              status: h,
              tooltip: T,
              actionStatus: w,
              actionUrl: p,
            }),
            R,
          ),
          v &&
            n.createElement(
              B.m2,
              null,
              n.createElement(B.z9, { url: v }, "Edit MM (VO)..."),
            ),
        );
      }
      function wt(e) {
        const { marketingMessage: t } = e,
          a = ht(t.association_type),
          [s] = (0, k.G6)(t.associated_id, a, {
            include_basic_info: !0,
            include_assets: !0,
          }),
          i = s,
          r = i?.GetAssets().GetHeaderURL() || null;
        return n.createElement(B.aV, { imageUrl: r });
      }
      var yt = a(99661);
      const ft = new Date(Date.UTC(2024, 10, 15, 17, 0, 0));
      function Rt(e) {
        const { apps: t, partnerId: a } = e,
          i = `${s.TS.PARTNER_BASE_URL}doc/gettingstarted/contentsurvey/germany`,
          r = `${s.TS.PARTNER_BASE_URL}recommended_actions/missingratingforgermany/?partnerid=${a}`,
          c = new Intl.DateTimeFormat(navigator.language, {
            month: "long",
            day: "numeric",
          }).format(ft),
          m = t
            .sort((e, t) => e.name.localeCompare(t.name))
            .slice(0, 30)
            .map((e) => n.createElement("div", { key: e.appid }, e.name)),
          d = n.createElement(
            "div",
            { className: yt.AppsCountTooltip },
            m,
            t.length > 30 ? n.createElement("div", null, "...") : void 0,
          );
        return n.createElement(
          B.b1,
          null,
          n.createElement(
            B.Q1,
            null,
            n.createElement(
              B.Hg,
              null,
              n.createElement(B.Pz, {
                text: (0, l.we)(
                  "#Dashboard_UpcomingEvents_GermanRatingMissing_Title",
                ),
                url: r,
              }),
              n.createElement(
                "div",
                { className: (0, o.A)(yt.HeaderText) },
                (0, l.we)(
                  1 == t.length
                    ? "#Dashboard_UpcomingEvents_GermanRatingMissing_Desc"
                    : "#Dashboard_UpcomingEvents_GermanRatingMissing_Desc_Plural",
                  c,
                ),
              ),
              n.createElement(
                u.m9,
                { className: yt.AppsCountToolTipSource, toolTipContent: d },
                n.createElement(
                  "a",
                  { className: yt.AppsCountText, href: r },
                  n.createElement(
                    "div",
                    { className: yt.AppsCount },
                    n.createElement(
                      "div",
                      { className: yt.AppsCountLabel },
                      (0, l.we)(
                        "#Dashboard_UpcomingEvents_GermanRatingMissing_Count",
                      ),
                    ),
                    n.createElement(
                      "div",
                      { className: yt.AppsCountText },
                      t.length,
                    ),
                  ),
                ),
              ),
            ),
          ),
          n.createElement(
            B.m2,
            null,
            n.createElement(
              B.z9,
              { url: i },
              (0, l.we)("#Dashboard_UpcomingEvents_General_ReadDocumentation"),
            ),
            n.createElement(
              B.z9,
              { url: r },
              (0, l.we)("#Dashboard_UpcomingEvents_General_AffectedApps"),
            ),
          ),
        );
      }
      var bt,
        At = a(46406),
        Ct = a(12155),
        St = a(30163),
        Nt = a(26161),
        It = a(17720);
      function Ut() {
        const e = n.useMemo(
          () =>
            (function () {
              const e = (0, s.Tc)("rgMeetSteam", "application_config");
              if (!e?.rgEvents) return null;
              const t = new Map();
              for (const a in e.rgEvents)
                try {
                  const n = It.b.InitFromAccountID((0, Nt.H)()),
                    s = (0, St.oE)(n, e.rgEvents[a]);
                  t.set(a, s);
                } catch {}
              return {
                setInvitations: new Set(e.rgInvitations),
                setRegistrations: new Set(e.rgRegistrations),
                mapEvents: t,
              };
            })(),
          [],
        );
        return n.useMemo(() => {
          if (!e) return [];
          const { setRegistrations: t, mapEvents: a } = e,
            i = (0, Y.sf)(s.TS.LANGUAGE);
          return (
            Array.from(a.values()).map((e) => {
              const a = t.has(e.GID);
              return {
                title: e.GetNameWithFallback(i),
                startDate: new Date(1e3 * e.startTime),
                endDate: new Date(1e3 * e.endTime),
                eventType: "event",
                id: e.GID,
                eventTypeName: (0, l.we)(
                  "#Dashboard_UpcomingEvents_EventType_MeetSteam",
                ),
                getElement: () =>
                  n.createElement(Pt, { eventModel: e, registered: a }),
                getCapsuleElement: () => n.createElement(Mt, { eventModel: e }),
                passesFilter: (e) => e == bt.Events,
              };
            }) ?? []
          );
        }, [e]);
      }
      function Pt(e) {
        const { eventModel: t, registered: a } = e,
          i = (0, Y.sf)(s.TS.LANGUAGE),
          r = a
            ? t.GetNameWithFallback(i)
            : (0, l.we)(
                "#Dashboard_UpcomingEvents_Events_MeetSteam_Invited_Title",
                t.GetNameWithFallback(i),
              ),
          o = (0, vt.Bw)(t, vt.PH.k_eView, "allowRelative"),
          c = t.GetImageURL("capsule", i, J.wI.capsule_main);
        return n.createElement(
          B.b1,
          { hasImage: !!c, buttonPosition: "top" },
          n.createElement(B.zS, { imageUrl: c, url: o }),
          n.createElement(
            B.Q1,
            { hasImage: !!c },
            n.createElement(
              B.Hg,
              null,
              n.createElement(B.Pz, { text: r, url: o }),
              n.createElement(B.ek, {
                startTimestamp: t.startTime,
                endTimestamp: t.endTime,
                showTime: !0,
              }),
              n.createElement("div", null, t.GetSummaryWithFallback(i)),
              a &&
                n.createElement(
                  "div",
                  { className: At.YoureRegistered },
                  n.createElement(Ct.Jlk, null),
                  (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MeetSteam_Invited_YoureRegistered",
                  ),
                ),
            ),
          ),
          n.createElement(
            B.m2,
            null,
            n.createElement(
              B.z9,
              { url: o },
              a
                ? (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MeetSteam_Invited_Button_EditRegistration",
                  )
                : (0, l.we)(
                    "#Dashboard_UpcomingEvents_Events_MeetSteam_Invited_Button_Register",
                  ),
            ),
          ),
        );
      }
      function Mt(e) {
        const { eventModel: t } = e,
          a = (0, Y.sf)(s.TS.LANGUAGE);
        return (
          !!t &&
          n.createElement(B.aV, {
            imageUrl: t.GetImageURL("capsule", a, J.wI.capsule_main),
          })
        );
      }
      function xt(e, t, a, i) {
        const r = n.useMemo(
            () => (0, w.Tc)("sEventIds", "application_config")?.split(","),
            [],
          ),
          o = e.now,
          c = e.bShowWarnings,
          m = n.useMemo(() => {
            const e = new Date();
            e.setHours(0, 0, 0, 0);
            const t = (t) => {
                const a = new Date();
                return a.setDate(e.getDate() + t), a;
              },
              a = [
                {
                  title: "Event Recap Foo",
                  startDate: t(-10),
                  eventType: "event",
                },
                {
                  title: "Event Recap Bar",
                  startDate: t(-6),
                  eventType: "event",
                },
                {
                  title: "Live Event Foo",
                  startDate: t(-8),
                  endDate: t(2),
                  eventType: "event",
                },
                {
                  title: "Live Event Bar",
                  startDate: t(-6),
                  endDate: t(4),
                  eventType: "event",
                },
                {
                  title: "Team Fortress 2",
                  startDate: t(-1),
                  eventType: "release-game",
                },
                { title: "Dota 2", startDate: t(0), eventType: "event" },
                {
                  title: "Weekend Deal - Portal 2",
                  startDate: t(0),
                  eventType: "deadline",
                },
                {
                  title: "Half Life 2 - Episode One",
                  startDate: t(0),
                  eventType: "release-dlc",
                },
                {
                  title: "Capitalism and Economy Fest",
                  startDate: t(1),
                  eventType: "deadline",
                },
                {
                  title: "Dota Underlords",
                  startDate: t(9),
                  eventType: "release-game",
                },
                {
                  title: "Counter Strike 2",
                  startDate: t(36),
                  eventType: "event",
                },
                {
                  title: "Steam Next Fest June Edition",
                  startDate: t(36),
                  eventType: "event",
                },
                { title: "The Lab", startDate: t(36), eventType: "event" },
              ].map((e) => ({
                ...e,
                id: "fake_" + e.title,
                endDate: e.endDate ?? e.startDate,
                eventTypeName: Ne(e.eventType),
                getElement: () =>
                  n.createElement(
                    "div",
                    {
                      style: {
                        color: "white",
                        backgroundColor: Ie(e.title, 0.4),
                      },
                    },
                    e.title,
                  ),
                getCapsuleElement: () =>
                  n.createElement(
                    "div",
                    {
                      style: {
                        color: "white",
                        backgroundColor: Ie(e.title, 0.4),
                        flex: 1,
                      },
                    },
                    e.title,
                  ),
              }));
            let s = 40;
            for (let e = 0; e < 50; e++) {
              let i;
              switch (Math.floor(4 * Math.random())) {
                case 0:
                  i = "deadline";
                  break;
                case 1:
                  i = "deadline-urgent";
                  break;
                case 2:
                  i = "release-game";
                  break;
                case 3:
                  i = "release-dlc";
                  break;
                case 4:
                  i = "event";
              }
              s += 3 * Math.random();
              const r = {
                title: "Generated event" + e,
                startDate: t(s),
                endDate: t(s),
                eventType: i,
                id: "fake_" + e.toString(),
                eventTypeName: Ne(i),
                getElement: () =>
                  n.createElement("div", null, "Generated event" + e),
                dimmed: Math.random() > 0.9,
              };
              a.push(r);
            }
            return a;
          }, []),
          _ = le(t),
          p = n.useMemo(() => {
            const e = (0, s.Tc)(
                "rgMarketingMessagePreviews",
                "application_config",
              ),
              t = e?.map((e) => {
                const t = new Date(1e3 * e.start_date),
                  a = new Date(1e3 * e.end_date);
                return {
                  title: e.title,
                  startDate: t,
                  endDate: a,
                  eventType: "event",
                  id: e.gid,
                  eventTypeName: (0, l.we)(
                    "#Dashboard_UpcomingEvents_EventType_MarketingMessagePreview",
                  ),
                  getElement: () =>
                    n.createElement(Tt, { marketingMessage: e }),
                  getCapsuleElement: () =>
                    n.createElement(wt, { marketingMessage: e }),
                  passesFilter: (e) => e == bt.Events,
                };
              });
            return t ?? [];
          }, []),
          u = n.useMemo(() => {
            const e = (0, s.Tc)("rgUpcomingReleaseApps", "application_config"),
              t = e?.map((e) => {
                const t = new Date(1e3 * e.releaserequest.release_date),
                  a = "DLC" == e.type,
                  s = a ? "release-dlc" : "release-game";
                return {
                  title: e.name,
                  startDate: t,
                  endDate: t,
                  eventType: s,
                  id: e.appid.toString(),
                  eventTypeName: a
                    ? (0, l.we)(
                        "#Dashboard_UpcomingEvents_EventType_Release_DLC",
                      )
                    : (0, l.we)("#Dashboard_UpcomingEvents_EventType_Release"),
                  eventTypeSortWeight: a ? 10 : 0,
                  getElement: () => n.createElement(H, { app: e }),
                  passesFilter: (e) => e == bt.Releases,
                };
              });
            return t ?? [];
          }, []),
          E = ke(),
          v = (function (e) {
            const t = n.useMemo(
                () => (0, s.Tc)("rgDailyDeals", "application_config") ?? [],
                [],
              ),
              a = Ft();
            return n.useMemo(
              () =>
                t
                  .filter(
                    (e) =>
                      !e.cancelled &&
                      new Date(1e3 * (e.rtime32_start_time + 7 * S.Kp.PerDay)) >
                        a,
                  )
                  .flatMap((t) => {
                    const a = new Date(
                      1e3 * (t.rtime32_start_time + S.Kp.PerDay),
                    );
                    return {
                      title: t.store_item_name,
                      startDate: new Date(1e3 * t.rtime32_start_time),
                      endDate: a,
                      eventType: "event",
                      id: t.gid,
                      eventTypeName: at(t),
                      getElement: () =>
                        n.createElement(st, { deal: t, partnerId: e }),
                      getCapsuleElement: () => n.createElement(rt, { deal: t }),
                      passesFilter: (e) => e == bt.Events,
                      editURL: `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/edit/${t.gid}`,
                    };
                  }) ?? [],
              [a, e, t],
            );
          })(t),
          g = n.useMemo(() => {
            const e = ct.c.Get().GetActiveEvents(),
              t = ct.c.Get().GetUpcomingEvents(),
              a = ct.c.Get().GetDraftEvents(),
              s = (e, t) => ({
                title: e.strEventName,
                startDate: new Date(1e3 * e.rtStartTime),
                endDate: new Date(1e3 * e.rtEndTime),
                eventType: "event",
                id: e.clanEventGID,
                eventTypeName: t,
                getElement: () => n.createElement(_t, { saleDesc: e }),
                getCapsuleElement: () => n.createElement(pt, { saleDesc: e }),
                passesFilter: (e) => e == bt.Events,
              }),
              i = (e) => e.eEventType != Y.Mv.k_ECreatorHome;
            return [
              ...e
                .filter(i)
                .map((e) =>
                  s(
                    e,
                    (0, l.we)("#Dashboard_UpcomingEvents_PartnerEvents_Active"),
                  ),
                ),
              ...t
                .filter(i)
                .map((e) =>
                  s(
                    e,
                    (0, l.we)(
                      "#Dashboard_UpcomingEvents_PartnerEvents_Upcoming",
                    ),
                  ),
                ),
              ...a
                .filter(i)
                .map((e) =>
                  s(
                    e,
                    (0, l.we)("#Dashboard_UpcomingEvents_PartnerEvents_Draft"),
                  ),
                ),
            ].filter((e) => !!e);
          }, []),
          D =
            ((h = t),
            n.useMemo(() => {
              const e = (0, s.Tc)(
                "rgGermanRatingMissingApps",
                "application_config",
              );
              return e?.length > 0
                ? [
                    {
                      title: (0, l.we)(
                        "#Dashboard_UpcomingEvents_GermanRatingMissing_Title",
                      ),
                      startDate: ft,
                      endDate: ft,
                      eventType: "deadline-urgent",
                      id: "storelinkdeprecationnotice",
                      eventTypeName: (0, l.we)(
                        "#Dashboard_UpcomingEvents_EventType_GermanRatingMissing",
                      ),
                      getElement: () =>
                        n.createElement(Rt, { apps: e, partnerId: h }),
                      passesFilter: (e) => e == bt.Events,
                    },
                  ]
                : [];
            }, [h]));
        var h;
        const T = Ut(),
          y = (function (e) {
            const [t, a] = n.useState([]),
              [s, i] = n.useState(0);
            return (
              (0, d.hL)(e.EventsChanged(), () => {
                a(e.GetAdditionalEvents()), i((e) => e + 1);
              }),
              t
            );
          })(e.additionalEventStore),
          f = (function (e) {
            const [t, a] = n.useState(new Set()),
              [s, i] = n.useState(0);
            return (
              (0, d.hL)(e.EventsChanged(), () => {
                a(e.GetHiddenIds()), i((e) => e + 1);
              }),
              t
            );
          })(e.additionalEventStore),
          R = (function () {
            const [e, t] = n.useState(I.Get().GetDismissedEvents()),
              [a, s] = n.useState(0);
            return (
              (0, d.hL)(I.Get().EventsChanged(), () => {
                t(I.Get().GetDismissedEvents()), s((e) => e + 1);
              }),
              e
            );
          })(),
          b = n.useMemo(() => {
            const e = _.concat(u, p, E, v, g, D, T, y, i ? m : []).filter((e) =>
                (function (e, t, a, n, s) {
                  return (
                    !(t.valveOnly && !s) &&
                    !(a?.length > 0 && !a.includes(t.id)) &&
                      !n.has(t.id) && !(t.dimmed && e >= t.startDate) &&
                    !(
                      new Date(t.startDate.getTime() + 21 * S.Kp.PerDay * 1e3) <
                      e
                    )
                  );
                })(o, e, r, f, c),
              ),
              t = e.length;
            return {
              rgShownEvents: e.filter(
                (e) => (a == bt.Dismissed) == R.has(kt(e)),
              ),
              nShouldBeShownCount: t,
            };
          }, [_, u, p, E, v, g, D, T, y, i, m, o, r, f, R, a, c]);
        return b;
      }
      function kt(e) {
        return JSON.stringify({ usage: "dashboard", eventId: e.id });
      }
      !(function (e) {
        (e[(e.All = 0)] = "All"),
          (e[(e.Events = 1)] = "Events"),
          (e[(e.Releases = 2)] = "Releases"),
          (e[(e.Dismissed = 3)] = "Dismissed");
      })(bt || (bt = {}));
      const Lt = n.createContext({
        now: new Date(),
        bShowWarnings: !1,
        additionalEventStore: void 0,
        setManageDiscountsAppIDs: void 0,
      });
      function Gt() {
        return n.useContext(Lt);
      }
      function Ft() {
        return n.useContext(Lt).now;
      }
      function Bt() {
        return n.useContext(Lt).additionalEventStore;
      }
      function Ht(e) {
        const { showWarnings: t } = e,
          a = n.useMemo(
            () =>
              new Set(
                (0, w.Tc)("rgManageDiscountsAppIDs", "application_config")?.map(
                  (e) => Number(e),
                ) ?? [],
              ),
            [],
          ),
          s = n.useMemo(() => new f(), []),
          i = n.useMemo(() => new Date(), []),
          r = n.useMemo(
            () => ({
              now: i,
              bShowWarnings: t,
              additionalEventStore: s,
              setManageDiscountsAppIDs: a,
            }),
            [i, t, s, a],
          );
        return n.createElement(
          Lt.Provider,
          { value: r },
          n.createElement(Ot, { ...e }),
        );
      }
      function Ot(e) {
        const { partnerId: t, testData: a } = e,
          [s] = (0, M.QD)("expanded", !1),
          [r, o] = n.useState(!!s),
          c = n.useCallback((e) => {
            o(e), !e && k.current.scrollIntoView();
          }, []),
          [d, p] = n.useState(!1),
          u = n.useCallback(
            (e) => {
              p(e), e && o(!0);
            },
            [o, p],
          ),
          [E, v] = n.useState(!1),
          g = n.useCallback(
            (e) => {
              v(e), e && o(!0);
            },
            [o, v],
          ),
          [D, h] = n.useState(""),
          T = n.useCallback(
            (e) => {
              e && (o(!0), u(!0), g(!0)), h(e);
            },
            [u, g],
          ),
          [w, y] = n.useState(bt.All),
          f = Gt(),
          { rgShownEvents: R, nShouldBeShownCount: b } = xt(f, t, w, a),
          A = (function (e, t, a, s, i, r) {
            const o = Ft();
            return (
              n.useMemo(
                () =>
                  e.forEach((e) =>
                    (0, C.wT)(
                      !Vt(o, e) || !Wt(o, e),
                      "An event can't be both live and a recap",
                    ),
                  ),
                [o, e],
              ),
              n.useMemo(() => {
                let c = e;
                if (t == bt.All) {
                  const e = (e, t, a) => {
                    const n = e.filter((e) => t(e));
                    return n.length > 1
                      ? e.filter((e) => !t(e)).concat(a(n))
                      : e;
                  };
                  a ||
                    (c = e(
                      c,
                      (e) => Vt(o, e),
                      (e) => ({
                        title: (0, l.we)(
                          "#Dashboard_UpcomingEvents_Events_Placeholder_Live",
                        ),
                        startDate: e[0].startDate,
                        endDate: e[0].endDate,
                        eventType: "event",
                        id: "live_placeholder",
                        eventTypeName: "",
                        getElement: () =>
                          n.createElement(Xt, {
                            text: (0, l.we)(
                              "#Dashboard_UpcomingEvents_Events_Placeholder_Live",
                            ),
                            events: e,
                            expanded: a,
                            setExpanded: s,
                          }),
                      }),
                    )),
                    i ||
                      (c = e(
                        c,
                        (e) => Wt(o, e),
                        (e) => ({
                          title: (0, l.we)(
                            "#Dashboard_UpcomingEvents_Events_Placeholder_Recap",
                          ),
                          startDate: e[0].startDate,
                          endDate: e[0].endDate,
                          eventType: "event",
                          id: "recap_placeholder",
                          eventTypeName: "",
                          getElement: () =>
                            n.createElement(Xt, {
                              text: (0, l.we)(
                                "#Dashboard_UpcomingEvents_Events_Placeholder_Recap",
                              ),
                              events: e,
                              expanded: i,
                              setExpanded: r,
                            }),
                        }),
                      ));
                }
                return c;
              }, [o, e, t, a, s, i, r])
            );
          })(R, w, d, u, E, g),
          S = n.useMemo(
            () =>
              A.filter((e) =>
                (function (e, t, a, n) {
                  if (
                    a &&
                    a.trim().length > 0 &&
                    ((a = a.trim()),
                    !t.title
                      .toLocaleLowerCase()
                      .includes(a.toLocaleLowerCase()) &&
                      !t.eventTypeName
                        .toLocaleLowerCase()
                        .includes(a.toLocaleLowerCase()))
                  )
                    return !1;
                  if (
                    !(
                      n == bt.All ||
                      n == bt.Dismissed ||
                      (t.passesFilter && t.passesFilter(n))
                    )
                  )
                    return !1;
                  return !0;
                })(f.now, e, D, w),
              ),
            [f.now, A, D, w],
          ),
          N =
            ((I = R),
            (U = S),
            n.useMemo(() => {
              const e = new Set(U.map((e) => e.id));
              return new Set(I.filter((t) => e.has(t.id)).map((e) => e.id));
            }, [I, U]));
        var I, U;
        const P = w != bt.All || (D && D.trim().length > 0),
          x = n.useMemo(() => new Map(), []),
          k = n.useRef(void 0),
          L = (function (e, t) {
            const a = n.useRef(void 0),
              s = n.useCallback(
                (n) => {
                  e ? n.scrollIntoView() : (t(!0), (a.current = n));
                },
                [e, t],
              );
            return (
              n.useEffect(() => {
                e &&
                  a.current &&
                  (a.current.scrollIntoView(), (a.current = void 0));
              }, [e]),
              s
            );
          })(r, o),
          G = n.useCallback(
            (e) => {
              if ((0, _.xi)(e).getTime() == (0, _.xi)(f.now).getTime())
                return void k.current.scrollIntoView();
              const t = x?.get((0, _.xi)(e).getTime() / 1e3);
              t && L(t.element);
            },
            [f.now, x, L],
          ),
          [F, B] = n.useState();
        n.useEffect(() => B(void 0), [R]);
        const H = n.useMemo(
            () =>
              n.createElement(
                "div",
                { className: i.FilterHeader },
                n.createElement(qt, { filterType: w, setFilterType: y }),
                n.createElement(jt, { filterText: D, setFilterText: T }),
              ),
            [D, w, T],
          ),
          O = b > 0 || w != bt.All,
          V = w == bt.All && null != S && 0 == S?.length;
        return n.createElement(
          n.Fragment,
          null,
          O &&
            n.createElement(
              m,
              {
                title: (0, l.we)("#Dashboard_UpcomingEvents_Title"),
                ref: k,
                beta: !0,
                headerElement: H,
              },
              n.createElement(
                "div",
                { className: i.SectionContainer },
                n.createElement(
                  "div",
                  { className: i.ListArea },
                  V &&
                    n.createElement(
                      "div",
                      { className: i.AllEventsFiltered },
                      (0, l.PP)(
                        "#Dashboard_UpcomingEvents_Filter_DismissedAllDismissed",
                        n.createElement(
                          "a",
                          {
                            onClick: () => {
                              y(bt.Dismissed), h("");
                            },
                          },
                          (0, l.we)(
                            "#Dashboard_UpcomingEvents_Filter_DismissedAllDismissed_LinkText",
                          ),
                        ),
                      ),
                    ),
                  !V &&
                    n.createElement(Yt, {
                      events: S,
                      filterVisibleEventIds: N,
                      dayRefsToScrollTo: x,
                      fnScrollToDay: G,
                      isExpanded: r,
                      fnSetExpanded: c,
                      filterEnabled: P,
                      filterType: w,
                      clearAllFilters: () => {
                        y(bt.All), h("");
                      },
                      hoverEvent: F,
                      setHoverEvent: B,
                    }),
                ),
              ),
            ),
        );
      }
      function Vt(e, t) {
        return t.startDate != t.endDate && e >= t.startDate && e <= t.endDate;
      }
      function Wt(e, t) {
        return e > t.endDate;
      }
      function jt(e) {
        const { filterText: t, setFilterText: a } = e;
        return n.createElement(
          "div",
          { className: i.FilterTextArea },
          n.createElement("input", {
            className: i.FilterTextInput,
            type: "text",
            value: t,
            onChange: (e) => a(e.target.value),
            placeholder: (0, l.we)(
              "#Dashboard_UpcomingEvents_Events_FilterEmpty",
            ),
          }),
          n.createElement(
            "button",
            { className: i.FilterTextClearButton, onClick: () => a("") },
            "",
          ),
          n.createElement("span", { className: i.FilterTextIcon }, ""),
        );
      }
      function qt(e) {
        const { filterType: t, setFilterType: a } = e,
          s = n.useMemo(
            () => [
              {
                type: bt.All,
                text: (0, l.we)("#Dashboard_UpcomingEvents_Filter_All"),
              },
              {
                type: bt.Events,
                text: (0, l.we)("#Dashboard_UpcomingEvents_Filter_Events"),
              },
              {
                type: bt.Releases,
                text: (0, l.we)("#Dashboard_UpcomingEvents_Filter_Releases"),
              },
              {
                type: bt.Dismissed,
                text: (0, l.we)("#Dashboard_UpcomingEvents_Filter_Dismissed"),
              },
            ],
            [],
          );
        return n.createElement(
          "div",
          { className: i.FilterOptionsContainer },
          s.map((e) =>
            n.createElement(
              "div",
              {
                key: e.type,
                className: (0, o.A)(
                  i.FilterOption,
                  t == e.type && i.Highlighted,
                ),
                onClick: () => a(e.type),
              },
              e.text,
            ),
          ),
        );
      }
      function zt(e) {
        const { partnerId: t, showWarnings: a, testData: s } = e,
          r = n.useMemo(() => new Date(), []),
          o = n.useMemo(() => new f(), []),
          l = n.useMemo(
            () =>
              new Set(
                (0, w.Tc)("rgManageDiscountsAppIDs", "application_config")?.map(
                  (e) => Number(e),
                ) ?? [],
              ),
            [],
          ),
          c = n.useMemo(
            () => ({
              now: r,
              bShowWarnings: a,
              bExpanded: !0,
              additionalEventStore: o,
              setManageDiscountsAppIDs: l,
            }),
            [r, a, o, l],
          ),
          { rgShownEvents: m } = xt(c, t, bt.All, s),
          d = n.useMemo(
            () =>
              m.map((e) =>
                n.createElement(Kt, {
                  key: e.id,
                  event: e,
                  setHoverEvent: () => {},
                  showHeader: !1,
                  showDateInHeader: !1,
                }),
              ),
            [m],
          );
        return n.createElement(
          Lt.Provider,
          { value: c },
          n.createElement("div", { className: i.ListDayGroup }, d),
        );
      }
      function Yt(e) {
        const {
            events: t,
            filterVisibleEventIds: a,
            dayRefsToScrollTo: s,
            fnScrollToDay: r,
            filterEnabled: c,
            filterType: m,
            clearAllFilters: d,
            isExpanded: p,
            fnSetExpanded: u,
            hoverEvent: E,
            setHoverEvent: v,
          } = e,
          g = Ft(),
          D = n.useMemo(() => t.filter((e) => Wt(g, e)), [t, g]),
          h = n.useMemo(() => t.filter((e) => Vt(g, e)), [t, g]),
          T = n.useMemo(
            () =>
              Array.from(
                (function (e) {
                  const t = Math.min(...e.keys()),
                    a = Math.max(...e.keys());
                  let n = new Date(t);
                  n.setMonth(n.getMonth() + 1);
                  for (; n.getTime() < a; )
                    e.has(n.getTime()) || e.set(n.getTime(), []),
                      (n = new Date(n)),
                      n.setMonth(n.getMonth() + 1);
                  return e;
                })(
                  (0, _.bv)(
                    t.filter((e) => !Wt(g, e) && !Vt(g, e)),
                    (e) => (0, _.J2)(e.startDate),
                  ),
                ),
              ).sort(ea),
            [t, g],
          ),
          [w, y] = n.useState(!1),
          f = n.useRef(void 0);
        n.useLayoutEffect(() => {
          const e = () => {
            if (f.current) {
              const e = f.current.scrollHeight > f.current.offsetHeight;
              y(e);
            }
          };
          return (
            e(),
            window.addEventListener("resize", e),
            () => window.removeEventListener("resize", e)
          );
        });
        const R = n.useCallback(
            (e, t, i, o, l) =>
              t.length > 0
                ? n.createElement(Zt, {
                    key: `${"normal" != o ? o + "_" : ""}${e}`,
                    date: new Date(1e3 * e),
                    events: t,
                    filterVisibleEventIds: a,
                    dayRefsToScrollTo: s,
                    fnScrollToDay: r,
                    firstMonth: 0 == i,
                    lastMonth: i == T.length - 1,
                    hoverEvent: E,
                    setHoverEvent: v,
                    eventTimeGroup: o,
                    showHeader: l,
                  })
                : void 0,
            [s, T.length, a, r, E, v],
          ),
          b = n.useCallback(
            (e, t, a) =>
              e.map(([e, n], s) => R(e, n, s, t, a)).filter((e) => !!e),
            [R],
          ),
          A = n.useMemo(
            () =>
              R(
                0,
                D,
                0,
                "recap",
                1 != D.length || D[0].eventTypeName.length > 0,
              ),
            [R, D],
          ),
          C = n.useMemo(
            () =>
              R(
                0,
                h,
                0,
                "live",
                1 != h.length || h[0].eventTypeName.length > 0,
              ),
            [R, h],
          ),
          S = n.useMemo(() => b(T, "normal", !0), [T, b]);
        return n.createElement(
          "div",
          { className: i.ListContainer },
          n.createElement(
            "div",
            {
              className: (0, o.A)(i.List, p && i.Expanded, w && i.Overflows),
              ref: f,
            },
            A,
            C,
            S,
            c &&
              0 == t.length &&
              n.createElement(
                "div",
                { className: i.AllEventsFiltered },
                (0, l.PP)(
                  m != bt.Dismissed
                    ? "#Dashboard_UpcomingEvents_Filter_NoEvents"
                    : "#Dashboard_UpcomingEvents_Filter_DismissedNoEvents",
                  n.createElement(
                    "a",
                    { onClick: () => d() },
                    (0, l.we)(
                      "#Dashboard_UpcomingEvents_Filter_NoEvents_LinkText",
                    ),
                  ),
                ),
              ),
          ),
          w &&
            !p &&
            t.length > 0 &&
            n.createElement(
              "button",
              { className: i.ExpandButton, onClick: () => u(!0) },
              (0, l.we)("#Dashboard_UpcomingEvents_ShowMore"),
            ),
          p &&
            t.length > 0 &&
            n.createElement(
              "button",
              { className: i.ExpandButton, onClick: () => u(!1) },
              (0, l.we)("#Dashboard_UpcomingEvents_ShowLess"),
            ),
        );
      }
      function Zt(e) {
        const {
            date: t,
            events: a,
            eventTimeGroup: s,
            filterVisibleEventIds: r,
            dayRefsToScrollTo: c,
            fnScrollToDay: m,
            firstMonth: d,
            lastMonth: p,
            hoverEvent: u,
            setHoverEvent: E,
            showHeader: D,
          } = e,
          h = Ft(),
          w = n.useMemo(
            () =>
              h.getFullYear() == t.getFullYear()
                ? new Intl.DateTimeFormat(navigator.language, {
                    month: "long",
                  }).format(t)
                : new Intl.DateTimeFormat(navigator.language, {
                    year: "numeric",
                    month: "long",
                  }).format(t),
            [h, t],
          ),
          y = n.useMemo(
            () =>
              Array.from((0, _.bv)(a, (e) => (0, _.xi)(e.startDate))).sort(ea),
            [a],
          ),
          f = n.useRef(void 0),
          R = n.useMemo(
            () =>
              y.reduce(
                (e, [t]) =>
                  e.set(t, (e) => c.set(t, { element: e, header: f.current })),
                new Map(),
              ),
            [y, c],
          ),
          b = n.useMemo(
            () =>
              y.map(([e, t]) =>
                n.createElement(Qt, {
                  key: e,
                  events: t,
                  showHeader: D,
                  showDateInHeader: !0,
                  refScrollTo: R.get(e),
                  setHoverEvent: E,
                }),
              ),
            [y, R, E, D],
          ),
          A = n.useMemo(() => a.map((e) => [e, $t(e)]), [a]),
          C = n.useMemo(
            () => A.reduce((e, t) => e.set(t[1], t[0]), new Map()),
            [A],
          ),
          S = n.useMemo(() => A.map((e) => e[1]), [A]),
          N = n.useCallback((e, t) => ta(C.get(e), C.get(t)), [C]),
          I = n.useCallback(
            (e, t) =>
              (function (e, t) {
                const a = (e) => {
                  switch (e) {
                    case "deadline":
                      return 4;
                    case "deadline-urgent":
                      return 3;
                    case "release-game":
                      return 0;
                    case "release-dlc":
                      return 1;
                    case "event":
                      return 2;
                  }
                };
                return a(e.eventType) < a(t.eventType)
                  ? -1
                  : a(e.eventType) > a(t.eventType)
                    ? 1
                    : e.id < t.id
                      ? -1
                      : e.id > t.id
                        ? 1
                        : 0;
              })(C.get(e), C.get(t)),
            [C],
          );
        return n.createElement(
          "div",
          { className: i.ListMonthContainer },
          a.length > 0 &&
            n.createElement(
              n.Fragment,
              null,
              n.createElement(
                "div",
                { className: i.ListMonthCalendarMovingContainer },
                "normal" == s &&
                  n.createElement(
                    "div",
                    { className: i.ListMonthCalendar },
                    n.createElement(v, { viewDate: t }),
                    n.createElement(T, null),
                    n.createElement(g, {
                      now: h,
                      viewDate: t,
                      events: S,
                      filterVisibleEventIds: r,
                      fnScrollToDay: m,
                      hoverEvent: $t(u),
                      bShowPreceedingWeeks: d,
                      bShowFollowingWeeks: p,
                      compareEvents: N,
                      colorPriority: I,
                    }),
                  ),
                "live" == s &&
                  n.createElement(
                    "div",
                    { className: i.ListMonthCalendarAlt },
                    n.createElement(
                      "div",
                      {
                        className: (0, o.A)(i.ListMonthCalendarAltFlag, i.Live),
                      },
                      n.createElement(
                        "div",
                        { className: i.ListMonthCalendarAltLiveText },
                        (0, l.we)("#Dashboard_UpcomingEvents_EventIsLive"),
                      ),
                    ),
                  ),
                "recap" == s &&
                  n.createElement(
                    "div",
                    { className: i.ListMonthCalendarAlt },
                    n.createElement(
                      "div",
                      {
                        className: (0, o.A)(i.ListMonthCalendarAltFlag, i.Past),
                      },
                      n.createElement(
                        "div",
                        { className: i.ListMonthCalendarAltPastText },
                        (0, l.we)("#Dashboard_UpcomingEvents_EventIsRecap"),
                      ),
                    ),
                  ),
              ),
              n.createElement("div", { className: i.ListMonth }, b),
            ),
          0 == a.length &&
            n.createElement(
              "div",
              { className: i.EmptyMonth },
              (0, l.we)("#Dashboard_UpcomingEvents_NoEventsInMonth", w),
            ),
        );
      }
      function $t(e) {
        if (!e) return;
        let t,
          a = !1;
        switch (e.eventType) {
          case "deadline":
            (t = "#cf980c"), (a = !0);
            break;
          case "deadline-urgent":
            (t = "#cf520c"), (a = !0);
            break;
          case "release-game":
            t = "#426283";
            break;
          case "release-dlc":
            t = "#a655b2";
            break;
          case "event":
            t = "#657f2d";
        }
        return { ...e, note: a, color: t };
      }
      function Qt(e) {
        const {
            events: t,
            showHeader: a,
            showDateInHeader: s,
            refScrollTo: r,
            setHoverEvent: o,
          } = e,
          l = n.useMemo(() => {
            const e = t.reduce((e, t) => {
              const a = `${t.eventType}_${t.eventTypeName}`,
                n = e.get(a) || [];
              return e.set(a, [...n, t]), e;
            }, new Map());
            for (const t of e.values()) t.sort(ta);
            return Array.from(e).sort(([e, t], [a, n]) =>
              (t[0].eventTypeSortWeight ?? 0) != (n[0].eventTypeSortWeight ?? 0)
                ? (t[0].eventTypeSortWeight ?? 0) -
                  (n[0].eventTypeSortWeight ?? 0)
                : e.localeCompare(a),
            );
          }, [t]),
          c = n.useMemo(
            () =>
              l.map(([e, t]) =>
                n.createElement(Jt, {
                  key: e,
                  events: t,
                  showHeader: a,
                  showDateInHeader: s,
                  refScrollTo: r,
                  setHoverEvent: o,
                }),
              ),
            [l, r, o, a, s],
          );
        return n.createElement("div", { ref: r, className: i.ListDay }, c);
      }
      function Jt(e) {
        const {
            events: t,
            showHeader: a,
            showDateInHeader: s,
            refScrollTo: r,
            setHoverEvent: o,
          } = e,
          l = n.useMemo(
            () =>
              t.map((e, t) =>
                n.createElement(Kt, {
                  key: e.id,
                  event: e,
                  setHoverEvent: o,
                  showHeader: a && 0 == t,
                  showDateInHeader: s,
                }),
              ),
            [t, o, a, s],
          );
        return n.createElement("div", { ref: r, className: i.ListDayGroup }, l);
      }
      function Kt(e) {
        const {
            event: t,
            showHeader: a,
            showDateInHeader: c,
            setHoverEvent: m,
          } = e,
          _ = Gt();
        !(function (e) {
          const t = (0, d.CH)();
          n.useEffect(() => {
            const a = e.registerForChange?.(() => t());
            return () => a?.Unregister();
          }, [e, t]);
        })(t);
        const p = "deadline" == t.eventType,
          E = "deadline-urgent" == t.eventType,
          v = "release-game" == t.eventType,
          g = "release-dlc" == t.eventType,
          D = "event" == t.eventType,
          h = (0, o.A)(
            i.ListDayNumber,
            p && i.Deadline,
            E && i.DeadlineUrgent,
            v && i.GameRelease,
            g && i.DLCRelease,
            D && i.Event,
          ),
          T = (0, o.A)(
            i.ListEventType,
            p && i.Deadline,
            E && i.DeadlineUrgent,
            v && i.GameRelease,
            g && i.DLCRelease,
            D && i.Event,
          ),
          w = t.getElement(),
          y = kt(t),
          f = I.Get().GetDismissState(y),
          b = n.useCallback(
            (e) =>
              e ? I.Get().SetDismiss(y, t.endDate) : I.Get().ClearDismiss(y),
            [t.endDate, y],
          ),
          A = (function (e) {
            if ("dev" != s.TS.WEB_UNIVERSE) return null;
            const t = new URL(window.location.href);
            return t.searchParams.set("eventids", e), t.toString();
          })(t.id);
        return (
          w &&
          n.createElement(
            "div",
            {
              className: (0, o.A)(
                i.ListEvent,
                E && i.DeadlineUrgent,
                t.dimmed && i.Dimmed,
              ),
              onPointerEnter: () => m(t),
              onPointerLeave: () => m(void 0),
            },
            a &&
              n.createElement(
                "div",
                { className: i.ListEventHeader },
                c &&
                  n.createElement(
                    u.he,
                    {
                      className: h,
                      toolTipContent: new Intl.DateTimeFormat(
                        navigator.language,
                        { month: "numeric", day: "numeric", year: "2-digit" },
                      ).format(t.startDate),
                    },
                    c ? t.startDate.getDate() : "",
                  ),
                n.createElement(
                  "div",
                  { className: T },
                  n.createElement(
                    "span",
                    { className: (0, o.A)(!c && i.NoDate) },
                    t.eventTypeName,
                  ),
                  t.valveOnly &&
                    n.createElement("span", { className: i.ValveOnly }, "(VO)"),
                  n.createElement("span", { className: i.Spacer }),
                  A &&
                    n.createElement(
                      "span",
                      { className: i.Edit },
                      n.createElement(
                        "a",
                        { href: A, target: "_blank" },
                        "isolate",
                      ),
                      "(dev)",
                    ),
                  _.bShowWarnings &&
                    t.editURL &&
                    n.createElement(
                      "span",
                      { className: i.Edit },
                      n.createElement(
                        "a",
                        { href: t.editURL, target: "_blank" },
                        "edit",
                      ),
                      "(VO)",
                    ),
                  !f &&
                    n.createElement(
                      "span",
                      { className: i.Dismiss, onClick: () => b(!0) },
                      (0, l.we)("#Dashboard_UpcomingEvents_Dismiss"),
                      n.createElement(P.o, {
                        tooltip: (0, l.we)(
                          "#Dashboard_UpcomingEvents_Dismiss_ttip",
                        ),
                      }),
                    ),
                  f &&
                    n.createElement(
                      "span",
                      { className: i.Dismiss, onClick: () => b(!1) },
                      (0, l.we)("#Dashboard_UpcomingEvents_Undismiss"),
                    ),
                ),
              ),
            n.createElement(
              "div",
              {
                className: (0, o.A)(
                  i.ListEventEventSection,
                  r.ListEventEventSection,
                ),
              },
              n.createElement(
                "div",
                {
                  className: (0, o.A)(
                    i.ListEventEventGutter,
                    t.loading && i.Loading,
                  ),
                },
                n.createElement(se.t, { size: "small" }),
              ),
              n.createElement(
                "div",
                { className: i.ListEventEventElement },
                n.createElement(R.tH, null, w),
              ),
            ),
          )
        );
      }
      function Xt(e) {
        const { text: t, events: a, expanded: s, setExpanded: r } = e,
          o = a
            .slice(0, 4)
            .map((e) => ({ event: e, element: e.getCapsuleElement?.() }));
        return n.createElement(
          "div",
          { className: i.GroupPlaceholder },
          !s &&
            n.createElement(
              "div",
              { className: i.ExpandContainer },
              n.createElement(
                "button",
                { className: i.ExpandButton, onClick: () => r(!0) },
                t,
              ),
            ),
          n.createElement(
            "div",
            { className: i.GroupPlaceholderCapsules },
            o.map((e) =>
              n.createElement(
                R.tH,
                { key: e.event.id },
                n.createElement(
                  "div",
                  { className: i.GroupPlaceholderCapsule },
                  e.element ||
                    n.createElement(
                      "div",
                      { className: i.GroupPlaceholderCapsuleMissing },
                      e.event.title,
                    ),
                ),
              ),
            ),
          ),
        );
      }
      function ea(e, t) {
        return e[0] - t[0];
      }
      function ta(e, t) {
        return e.startDate.getTime() < t.startDate.getTime()
          ? -1
          : e.startDate.getTime() > t.startDate.getTime()
            ? 1
            : e.eventType < t.eventType
              ? -1
              : e.eventType > t.eventType
                ? 1
                : e?.id < t?.id
                  ? -1
                  : e?.id > t?.id
                    ? 1
                    : 0;
      }
      var aa = a(11577),
        na = a(39777),
        sa = a(30470);
      var ia = a(28325);
      function ra(e) {
        const t = n.useMemo(
          () =>
            (function () {
              const e = (0, s.Tc)("rgRecentApps", "application_config"),
                t = e ? Object.keys(e).map((t) => e[t]) : [],
                a = (0, s.Tc)("rgRecentUnreleasedApps", "application_config"),
                n = a ? Object.keys(a).map((e) => a[e]) : [],
                i = (0, F.Gx)(t, n);
              return i.sort((e, t) => e.nOrder - t.nOrder), i;
            })(),
          [],
        );
        return n.createElement(
          m,
          {
            title: (0, l.we)("#Dashboard_RecentApps_Title"),
            headerElement: n.createElement(la, null),
          },
          n.createElement(
            "div",
            { className: ia.AppTileContainer },
            !t.length && n.createElement(oa, null),
            t.map((e) => n.createElement(ca, { key: e.appid, app: e })),
          ),
        );
      }
      function oa(e) {
        const t = s.TS.PARTNER_BASE_URL + "apps/";
        return n.createElement(
          "div",
          { className: ia.NoRecentApps },
          (0, l.we)("#Dashboard_RecentApps_NoRecent"),
          " ",
          n.createElement(
            "a",
            { href: t, target: "_blank" },
            " ",
            (0, l.we)("#Dashboard_RecentApps_ViewAll"),
          ),
        );
      }
      function la(e) {
        const t = s.TS.PARTNER_BASE_URL + "apps/";
        return n.createElement(
          "div",
          { className: ia.ViewAppsContainer },
          n.createElement(
            "div",
            { className: ia.ViewAppsLink },
            n.createElement(
              "a",
              { href: t },
              (0, l.we)("#Dashboard_RecentApps_ViewAllShort"),
            ),
          ),
        );
      }
      function ca(e) {
        const { app: t } = e,
          a = t.appid,
          { data: i } = (0, na.J$)({ appid: a }),
          { data: r } = (0, na.lv)({ appid: a }),
          o = s.TS.PARTNER_BASE_URL + "apps/landing/" + a,
          l = (function (e, t) {
            if (e?.asset_url_format && e[t])
              return (
                sa.TS.BASE_URL_SHARED_CDN +
                "/store_item_assets/" +
                e.asset_url_format.replace("${FILENAME}", e[t])
              );
          })(r, "header");
        return n.createElement(
          "div",
          { className: ia.AppTile },
          l &&
            n.createElement(
              u.he,
              { toolTipContent: t.name },
              n.createElement(
                "div",
                { className: ia.AppTileImage },
                n.createElement(
                  "a",
                  { href: o, target: "_blank" },
                  n.createElement("img", { src: l }),
                ),
              ),
            ),
          !l &&
            n.createElement(
              "div",
              { className: ia.AppTileImagePlaceholder },
              n.createElement("a", { href: o, target: "_blank" }, t.name),
            ),
          n.createElement(
            "div",
            { className: ia.AppLabels },
            n.createElement(ma, { appType: t.type }),
            n.createElement(da, {
              releaseState: t.releasestate,
              hasStoreItem: i?.visible,
            }),
          ),
        );
      }
      function ma(e) {
        const { appType: t } = e;
        let a = null,
          s = null;
        return (
          "Game" == t
            ? (a = (0, l.we)("#Dashboard_RecentApps_Game"))
            : "DLC" == t
              ? ((a = (0, l.we)("#Dashboard_RecentApps_DLC")), (s = ia.DLC))
              : "Beta" == t
                ? ((a = (0, l.we)("#Dashboard_RecentApps_Playtest")),
                  (s = ia.Playtest))
                : "Demo" == t
                  ? ((a = (0, l.we)("#Dashboard_RecentApps_Demo")),
                    (s = ia.Demo))
                  : "Music" == t &&
                    ((a = (0, l.we)("#Dashboard_RecentApps_Music")),
                    (s = ia.Music)),
          !!a &&
            n.createElement("div", { className: (0, o.A)(ia.AppType, s) }, a)
        );
      }
      function da(e) {
        const { releaseState: t, hasStoreItem: a } = e,
          s = (0, F.pc)(t, a);
        return (
          "released" != t &&
          n.createElement(
            "div",
            { className: (0, o.A)(ia.AppRelease) },
            s.sText,
          )
        );
      }
      var _a,
        pa = a(75493),
        ua = a(60746),
        Ea = a(60103);
      function va(e) {
        return n.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 60 39",
            fill: "none",
            ...e,
          },
          n.createElement("path", {
            fill: "currentColor",
            d: "M20.2544 28.0733H21.8805C22.6505 28.0733 23.3893 27.7674 23.9338 27.2226C24.4782 26.6782 24.7841 25.9397 24.7841 25.1697V22.5369C24.7841 21.9376 24.5491 21.3626 24.1288 20.9351C23.7088 20.5079 23.1379 20.2628 22.5386 20.2527H20.2544V28.0733Z",
          }),
          n.createElement("path", {
            fill: "currentColor",
            d: "M53.0371 23.7372C53.0371 24.5497 52.3783 25.2085 51.5658 25.2085C50.7535 25.2085 50.0947 24.5497 50.0947 23.7372C50.0947 22.9246 50.7535 22.2661 51.5658 22.2661C52.3783 22.2661 53.0371 22.9246 53.0371 23.7372Z",
          }),
          n.createElement("path", {
            fill: "currentColor",
            d: "M13.7505 13.4774V16.0812C13.7635 16.6785 14.0095 17.2472 14.4364 17.665C14.8637 18.0831 15.4374 18.3169 16.0348 18.3169H18.319V10.4963H16.6835C15.8946 10.4881 15.1365 10.8012 14.5832 11.3636C14.0303 11.9257 13.7297 12.6889 13.7505 13.4774Z",
          }),
          n.createElement("path", {
            fill: "currentColor",
            d: "M32.421 17.4362C32.421 17.1362 32.4985 16.8265 32.5467 16.5263C32.5952 16.2263 32.6242 16.168 32.6724 15.9938C32.721 15.8196 32.7887 15.4613 32.8659 15.1904C32.9434 14.9194 32.9821 14.8227 33.0401 14.6387C33.0981 14.4547 33.2046 14.1355 33.3013 13.8935C33.398 13.6516 33.4563 13.5259 33.5335 13.3419C33.611 13.1579 33.7367 12.8771 33.853 12.6449C33.9693 12.4127 34.0464 12.2867 34.1435 12.1125C34.2402 11.9382 34.3952 11.6673 34.521 11.4543C34.6467 11.2413 34.7437 11.1058 34.8596 10.9413C34.9759 10.7769 35.1501 10.5251 35.2951 10.3317L35.6921 9.83797L35.9243 9.54747L35.9249 9.5481C33.7871 5.89204 30.5051 3.0416 26.5855 1.43715C22.666 -0.167213 18.327 -0.436528 14.2392 0.670589C10.1512 1.77802 6.54175 4.20066 3.96828 7.56433C1.39449 10.9277 0 15.0453 0 19.2807C0 23.5159 1.39449 27.6328 3.96828 30.9962C6.54175 34.3599 10.1512 36.7824 14.2392 37.89C18.327 38.9974 22.6656 38.7281 26.5855 37.1234C30.505 35.519 33.7871 32.6687 35.9249 29.0124L35.6927 28.722L35.3055 28.2282C35.1505 28.025 35.0055 27.8218 34.8603 27.6088L34.5216 27.0959C34.3861 26.8829 34.2604 26.6605 34.1344 26.4377C34.0086 26.2149 33.9409 26.0892 33.8536 25.9052C33.7667 25.7212 33.6309 25.4405 33.5341 25.1985C33.4374 24.9566 33.3697 24.8403 33.3019 24.6566C33.2342 24.4726 33.1277 24.1629 33.0407 23.9115C32.9538 23.6597 32.915 23.5532 32.8665 23.3598C32.818 23.1663 32.731 22.8273 32.6731 22.5564C32.6151 22.2854 32.5861 22.2079 32.5568 22.0239C32.5278 21.8399 32.4601 21.4237 32.4213 21.114C32.4213 20.959 32.4213 20.814 32.3633 20.659C32.3633 20.2041 32.2956 19.6911 32.2956 19.2749C32.2956 18.8587 32.2956 18.307 32.3633 17.8908C32.3728 17.7462 32.4018 17.5912 32.421 17.4362ZM22.5388 18.3171C23.6573 18.3196 24.7292 18.7651 25.52 19.5559C26.3108 20.3468 26.7563 21.4186 26.7588 22.5371V25.0924C26.7588 26.3759 26.2491 27.6069 25.3414 28.5143C24.434 29.4221 23.2029 29.9318 21.9194 29.9318H20.2545V32.2161C20.2545 32.7507 19.8213 33.1839 19.2866 33.1839C18.7523 33.1839 18.3187 32.7507 18.3187 32.2161V30.0093H16.0345C14.9154 30.0093 13.8419 29.5648 13.0505 28.7733C12.2593 27.9819 11.8145 26.9084 11.8145 25.7893C11.8145 25.2547 12.248 24.8214 12.7824 24.8214C13.317 24.8214 13.7503 25.2547 13.7503 25.7893C13.7503 26.3952 13.991 26.9762 14.4195 27.4043C14.8477 27.8328 15.429 28.0735 16.0345 28.0735H18.3187V20.2529H16.0345C14.9154 20.2529 13.8419 19.8083 13.0505 19.0169C12.2593 18.2254 11.8145 17.152 11.8145 16.0329V13.4776C11.8145 12.194 12.3246 10.963 13.2319 10.0556C14.1397 9.14792 15.3707 8.63816 16.6539 8.63816H18.2898V6.27642C18.2898 5.74206 18.723 5.30853 19.2576 5.30853C19.7923 5.30853 20.2255 5.74206 20.2255 6.27642V8.56065H22.5098C23.6283 8.56317 24.7001 9.00868 25.491 9.79948C26.2818 10.5903 26.7273 11.6622 26.7298 12.7807C26.7298 13.3153 26.2966 13.7486 25.7619 13.7486C25.2272 13.7486 24.794 13.3153 24.794 12.7807C24.794 12.1748 24.5533 11.5938 24.1248 11.1657C23.6966 10.7372 23.1156 10.4964 22.5098 10.4964H20.2545V18.3171H22.5388Z",
          }),
          n.createElement("path", {
            fill: "currentColor",
            d: "M44.1421 14.8326C44.1421 15.6451 43.4836 16.3036 42.6711 16.3036C41.8585 16.3036 41.1997 15.6451 41.1997 14.8326C41.1997 14.02 41.8585 13.3612 42.6711 13.3612C43.4836 13.3612 44.1421 14.02 44.1421 14.8326Z",
          }),
          n.createElement("path", {
            fill: "currentColor",
            d: "M47.1135 32.1772C51.1064 32.1754 54.873 30.3237 57.3127 27.1629C59.7526 24.0024 60.5903 19.8898 59.5812 16.0265C58.572 12.1634 55.8299 8.98595 52.1562 7.42192C48.4822 5.8582 44.2911 6.08509 40.8077 8.0363C37.324 9.98725 34.9411 13.4422 34.3547 17.3918C33.7684 21.3415 35.0453 25.3397 37.8119 28.2185C40.2456 30.7473 43.6039 32.1764 47.1134 32.177L47.1135 32.1772ZM51.5657 27.1538C50.6624 27.1538 49.7957 26.7949 49.1567 26.156C48.5177 25.517 48.1589 24.6506 48.1589 23.747C48.1589 22.8434 48.5178 21.9769 49.1567 21.338C49.7957 20.699 50.6624 20.3398 51.5657 20.3398C52.4693 20.3398 53.3361 20.699 53.975 21.338C54.614 21.9769 54.9729 22.8434 54.9729 23.747C54.9678 24.6481 54.6067 25.5107 53.9688 26.1469C53.3307 26.7833 52.4671 27.1419 51.5657 27.1444V27.1538ZM42.6708 11.4255C43.5744 11.4255 44.4408 11.7847 45.0798 12.4237C45.7187 13.0623 46.0776 13.9291 46.0776 14.8327C46.0776 15.7363 45.7187 16.6027 45.0798 17.2417C44.4408 17.8806 43.5744 18.2395 42.6708 18.2395C41.7672 18.2395 40.9004 17.8806 40.2618 17.2417C39.6228 16.6027 39.2636 15.7363 39.2636 14.8327C39.2661 13.9297 39.626 13.0648 40.2643 12.4262C40.9029 11.7878 41.7678 11.428 42.6708 11.4255ZM39.5443 25.489L53.3271 11.7159C53.7112 11.387 54.2836 11.409 54.6413 11.7666C54.9989 12.1242 55.0209 12.6967 54.692 13.0805L40.9189 26.8536C40.5351 27.1825 39.9627 27.1605 39.605 26.8028C39.2474 26.4452 39.2254 25.8728 39.5543 25.489H39.5443Z",
          }),
        );
      }
      function ga(e) {
        return n.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 55 37",
            fill: "none",
            ...e,
          },
          n.createElement("path", {
            fill: "currentColor",
            d: "M33.6009 7.90708H50.8782C52.0142 7.90708 53.0449 8.3717 53.791 9.12055C54.5374 9.86976 55 10.9044 55 12.0447V25.672C55 27.9496 53.1458 29.8097 50.8783 29.8097H48.12C47.3373 31.81 45.8447 33.5566 43.8136 34.8285C41.6511 36.1828 38.8737 37 35.704 37C34.988 37 34.4074 36.4171 34.4074 35.6983C34.4074 35.1888 34.699 34.7479 35.1234 34.534C36.2956 33.8138 36.9901 33.0738 37.3857 32.1952C37.6859 31.5282 37.8413 30.7449 37.9168 29.8096H25.5205C23.2519 29.8096 21.3991 27.9482 21.3991 25.6719V21.9028H17.0836C17.1592 22.8378 17.3146 23.6212 17.6148 24.2881C18.0105 25.167 18.7048 25.9068 19.8768 26.6272C20.3014 26.8411 20.5928 27.2819 20.5928 27.7913C20.5928 28.5101 20.0122 29.093 19.2961 29.093C16.1265 29.093 13.3488 28.2756 11.1865 26.9217C9.15546 25.6497 7.66267 23.9032 6.88002 21.9029H4.12174C1.854 21.9029 0 20.0436 0 17.7653V4.13753C0 1.86138 1.85313 0 4.12174 0H29.4796C31.7473 0 33.6011 1.85943 33.6011 4.13753L33.6009 7.90708ZM23.9921 21.9028V25.6719C23.9921 26.5196 24.676 27.2063 25.5202 27.2063C30.1078 27.2063 34.7063 27.2113 39.2871 27.2113C40.0005 27.2225 40.5695 27.8123 40.5584 28.5282C40.5267 30.4189 40.346 31.9294 39.7456 33.2629C39.6428 33.4912 39.529 33.7121 39.4031 33.9267C40.5378 33.6214 41.5597 33.1767 42.4457 32.6218C44.2148 31.5141 45.4374 29.9682 45.9188 28.231C46.0452 27.6452 46.5644 27.2064 47.1859 27.2064H50.8781C51.7206 27.2064 52.4066 26.5198 52.4066 25.6721V12.0448C52.4066 11.623 52.2346 11.2396 51.9574 10.9613C51.6804 10.6832 51.2983 10.5106 50.8781 10.5106H33.6009V17.7653C33.6009 18.9021 33.138 19.9352 32.3921 20.6842L32.387 20.6892C31.6407 21.4382 30.6117 21.9027 29.4793 21.9027H23.992L23.9921 21.9028ZM9.08081 20.3238C9.56237 22.061 10.7848 23.607 12.5541 24.7148C13.4403 25.2696 14.4621 25.7144 15.5971 26.0197C15.4712 25.8051 15.3572 25.584 15.2544 25.3557C14.654 24.0223 14.473 22.5121 14.4412 20.6215C14.4301 19.9054 14.9992 19.3156 15.7125 19.3046C18.0317 19.3046 20.3694 19.2996 22.6953 19.2996H29.479C29.9011 19.2996 30.284 19.128 30.5608 18.8512C30.8365 18.5733 31.0074 18.1891 31.0074 17.7654V4.13759C31.0074 3.29058 30.3211 2.60342 29.4792 2.60342H4.12137C3.27726 2.60342 2.59295 3.29187 2.59295 4.13759V17.7654C2.59295 18.6124 3.27947 19.2995 4.12137 19.2995H7.81361C8.43495 19.2995 8.95412 19.7383 9.08072 20.3239L9.08081 20.3238Z",
          }),
        );
      }
      function Da(e) {
        return n.createElement(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 42 35",
            fill: "none",
            ...e,
          },
          n.createElement("path", {
            fill: "currentColor",
            d: "M2.86369 0C1.57321 0 0.471511 0.88952 0.119285 2.09452L20.185 19.8661C20.6574 20.2845 21.3421 20.2845 21.8145 19.8661L41.8802 2.09452C41.528 0.88952 40.4264 0 39.136 0H2.86369ZM0 4.5631V30.4371L14.6054 17.5003L0 4.5631ZM42 4.5631L27.3946 17.4999L42 30.4367V4.5631ZM16.0615 18.7892L0.119413 32.9055C0.471605 34.1103 1.57316 35 2.86382 35H39.1363C40.4268 35 41.5284 34.1105 41.8807 32.9055L25.9386 18.7892L23.0675 21.3318C21.8876 22.3767 20.1122 22.3767 18.9324 21.3318L16.0615 18.7892Z",
          }),
        );
      }
      function ha(e) {
        const t = (function (e) {
            const t = (0, s.Tc)("rgDailyDealInvitations", "application_config");
            if (!(e || (t && 0 != t.length))) return [];
            const a = [],
              i = t.some(
                (e) =>
                  new Date().getTime() / 1e3 >=
                  e.rtexpiretime - 14 * S.Kp.PerDay,
              );
            return (
              a.push({
                id: "dailydeal",
                title: (0, l.we)(
                  "#Dashboard_ImportantActions_DailyDeals_Title",
                ),
                image: n.createElement(va, null),
                description: i
                  ? (0, l.we)(
                      "#Dashboard_ImportantActions_DailyDeals_Desc_Expiring",
                    )
                  : (0, l.we)("#Dashboard_ImportantActions_DailyDeals_Desc"),
                priority: i ? _a.Urgent : _a.Normal,
                actionDescription: (0, l.we)("#DailyDeals_Dashboard"),
                action: `${s.TS.PARTNER_BASE_URL}promotion/dailydeals/dashboard`,
              }),
              a
            );
          })(e),
          a = (function (e) {
            const t = (0, s.Tc)("publisherid", "application_config"),
              a = (0, s.Tc)("rgImportantActionData", "application_config");
            if (!e && !a) return [];
            const i = [];
            if (
              ((!e && a.bHasCommunicationRightUser) ||
                i.push({
                  id: "communicationrights",
                  title: (0, l.we)(
                    "#Dashboard_ImportantActions_CommRights_Title",
                  ),
                  image: n.createElement(ga, null),
                  description: (0, l.we)(
                    "#Dashboard_ImportantActions_CommRights_Desc",
                  ),
                  details: (0, l.we)(
                    "#Dashboard_ImportantActions_CommRights_Details",
                  ),
                  actionDescription: (0, l.we)(
                    "#Dashboard_ImportantActions_CommRights_Action",
                  ),
                  action: `${s.TS.PARTNER_BASE_URL}doc/gettingstarted/managing_users/communication`,
                }),
              (e || a.bRemindAddMailingAddress) &&
                i.push({
                  id: "mailingaddr",
                  title: (0, l.we)(
                    "#Dashboard_ImportantActions_MailingAddr_Title",
                  ),
                  image: n.createElement(Da, null),
                  description: (0, l.we)(
                    "#Dashboard_ImportantActions_MailingAddr_Desc",
                  ),
                  details: (0, l.we)(
                    "#Dashboard_ImportantActions_MailingAddr_Details",
                  ),
                  actionDescription: (0, l.we)(
                    "#Dashboard_ImportantActions_MailingAddr_Action",
                  ),
                  action: `${s.TS.PARTNER_BASE_URL}pub/mailingaddresses/${t}`,
                }),
              (e || a.bRemindAddPhoneNumber) &&
                i.push({
                  id: "phonenumber",
                  title: (0, l.we)(
                    "#Dashboard_ImportantActions_PhoneNumber_Title",
                  ),
                  image: n.createElement(ga, null),
                  description: (0, l.we)(
                    "#Dashboard_ImportantActions_PhoneNumber_Desc",
                  ),
                  actionDescription: (0, l.we)(
                    "#Dashboard_ImportantActions_PhoneNumber_Action",
                  ),
                  action: `${s.TS.STORE_BASE_URL}phone/add`,
                }),
              e || a.bNeedToVerifyPaymentInfo)
            ) {
              const t =
                  a.rtPaymentInfoExpires > 0
                    ? a.rtPaymentInfoExpires
                    : e
                      ? new Date().getTime() / 1e3 + 7 * S.Kp.PerDay
                      : 0,
                r = new Date(1e3 * t).toLocaleDateString(
                  l.pf.GetPreferredLocales(),
                  { month: "short", day: "numeric", year: "numeric" },
                );
              i.push({
                id: "bankingexpiration",
                title: (0, l.we)(
                  "#Dashboard_ImportantActions_BankingExpiring_Title",
                ),
                image: n.createElement(va, null),
                description: (0, l.we)(
                  "#Dashboard_ImportantActions_BankingExpiring_Desc",
                  r,
                ),
                details: (0, l.we)(
                  "#Dashboard_ImportantActions_BankingExpiring_Details",
                  r,
                ),
                priority: _a.Urgent,
                actionDescription: (0, l.we)(
                  "#Dashboard_ImportantActions_BankingExpiring_Action",
                ),
                action: `${s.TS.PARTNER_BASE_URL}pub/view`,
              });
            }
            return i;
          })(e);
        return n.useMemo(() => {
          const e = t.concat(a);
          return (
            e.sort((e, t) => {
              const a = Ta(e.priority),
                n = Ta(t.priority);
              return a !== n ? n - a : 0;
            }),
            e
          );
        }, [t, a]);
      }
      function Ta(e) {
        return e === _a.Urgent ? 1 : 0;
      }
      function wa(e) {
        const [t] = (0, M.QD)("testactions", !1),
          a = ha(t);
        return 0 == a.length
          ? null
          : n.createElement(
              m,
              {
                title: (0, l.we)("#Dashboard_ImportantActions_Title"),
                count: a.length,
              },
              n.createElement(
                "div",
                { className: Ea.ImportantActions },
                a.map((e) => n.createElement(ya, { key: e.id, ...e })),
              ),
            );
      }
      function ya(e) {
        const {
          title: t,
          image: a,
          description: s,
          details: i,
          priority: r,
          actionDescription: l,
          action: c,
        } = e;
        return n.createElement(
          "div",
          {
            className: (0, o.A)(
              Ea.ImportantAction,
              r == _a.Urgent && Ea.Urgent,
            ),
          },
          n.createElement(
            "div",
            { className: Ea.Header },
            n.createElement("div", { className: Ea.Image }, a),
            n.createElement(
              "div",
              { className: Ea.Body },
              n.createElement("div", { className: Ea.Title }, t),
              n.createElement(
                "div",
                { className: Ea.Description },
                s,
                i && n.createElement(P.o, { tooltip: i }),
              ),
            ),
          ),
          n.createElement(
            "button",
            {
              className: (0, o.A)(Ea.Button),
              onClick: () => {
                "function" == typeof c && c(), window.open(c, "_blank");
              },
            },
            l,
          ),
        );
      }
      function fa(e) {
        const t = (0, pa.V)(),
          a = (0, s.Tc)("bShowWarnings", "application_config"),
          i = (0, s.Tc)("bTestData", "application_config"),
          r = (0, s.Tc)("bPartnerOnboarding", "application_config"),
          o = (function (e) {
            const [t, a] = n.useState(!0);
            return (
              n.useEffect(() => {
                dt.O3.Init(), ct.c.Get();
                (async () => {
                  const t = I.Get().Init(
                    s.iA.accountid,
                    Number.isNaN(e) ? 0 : e,
                  );
                  await Promise.all([ua.KN.InitGlobal(), t]), a(!1);
                })();
              }, [e]),
              t
            );
          })(t);
        return o
          ? null
          : r
            ? n.createElement(
                aa.m,
                null,
                n.createElement(zt, {
                  partnerId: t,
                  showWarnings: a,
                  testData: i,
                }),
              )
            : n.createElement(
                aa.m,
                null,
                n.createElement(wa, null),
                n.createElement(ra, null),
                n.createElement(Ht, {
                  partnerId: t,
                  showWarnings: a,
                  testData: i,
                }),
              );
      }
      !(function (e) {
        (e[(e.Normal = 0)] = "Normal"), (e[(e.Urgent = 1)] = "Urgent");
      })(_a || (_a = {}));
    },
  },
]);
