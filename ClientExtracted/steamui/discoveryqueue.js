(self.webpackChunksteamui = self.webpackChunksteamui || []).push([
  [9672],
  {
    86062: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppCarouselTrailerCtn: "_2DzJ9TSrYmyo1tY_R-1jym",
        AutoplayCheckbox: "ZZgGaqlJvV83f4CYl3O3N",
        AppVideo: "_3sG-J5T8SrzM0Hjkda7sgL",
        Microtrailer: "_24GFDabY2zeyuzhvACpldO",
        PlayFullTrailer: "_115ZF6m0XsEieocbL7zjo-",
        "microtrailer-trans-out": "HMoi7fPFNjxiHeyrfkgmO",
        PlayMicrotrailer: "_2edFDJ0B9YjtlfqugPTxw0",
        "microtrailer-trans-in": "_3D_pgT8sxFP3ieDxVt_1zp",
        NoTrailer: "WtSN6aaEz7vEnRjVrq2hS",
        Trailer: "_1_z8vE2vYRzSyf1HQIcm5O",
        "trailer-trans-in": "_3kp7PkbzSVQPFoobA3Xx7N",
        AppMainCap: "_3cc6kgsSpd-DeLRDHEM_lD",
        AppMainCapFadeIn: "_2tGHq2pbqmrGJVCXoN5f0r",
        PlayButton: "_1y11BvPq_nL5EZFF8GLuD9",
        PlayButtonCapFadeIn: "_3Nk6pNRuMCIddyuE9mWS55",
        AutoplayCheckboxCtn: "_2HvO_RKtxiyyhZsELjYyq5",
        AOWarning: "_19l-UjQZVVGNK5SKnOrmJB",
        Text: "VoAJhMdtQTylTg3G03nJo",
        "capsule-trans-out": "hckHU2LXCJNx0X37OqCsx",
      };
    },
    79840: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        DiscoveryQueueCarouselCtn: "_2u0N2gUX44_tavazJJb_QP",
        TextLink: "_3ZdNCUMz9KZMkwPZlO8zmi",
        DiscoveryQueueApp: "_1xJSMubUWBlahkrtb4IFTc",
        DiscoveryQueueWrapper: "_2BYaxM7mBfooJbZYzhEv4D",
        revealDiscoveryQueueWrapper: "brzQbY6Z8TH8Ww-rFL4E0",
        DiscoveryQueueItemsCtn: "_3q6eNRFBrPSFSGEn8uRFZ3",
        DiscoveryQueueItemPositioner: "_16tdfw6vxg9Hdy0KfCutXn",
        Selected: "_2aeAhZ2Y99YIR2-zD6l27U",
        InRange: "_1XPIeNMxObbkYolTEj0Bwh",
        Dragging: "_3fTO0TgoWEAo4zdaHOCTh0",
        FarLeft: "vkLp1smRjDnZg7XQcMqjk",
        Left: "_3gBoKuhIxMBjlxU7FZ2L3a",
        Current: "_2CgJDPFhM9rbjsq9n0c9I_",
        Right: "_1AGP_wKeaN9phzlq_2K9H7",
        FarRight: "hBGRzfrW2Obp7QpzYCi2L",
        AppDetailsCtn: "_2Zwt2P5vy4W9Ha5ePOv54U",
        AppDetailsCtnTop: "_3TkhdqIi1gqwMzexQDS8Ab",
        CapsuleLink: "_2m8YEKXvKa2bcFNjqXdJu7",
        AppLibraryHero: "_uGgOnTsOzgIVK9BHMTUV",
        AppHeader: "Vwr5XZLr5tOEaVLYbj1mZ",
        RightColumn: "VVNgZo2T-rubrTvNMPSoh",
        AppName: "_3lk6f1XI_loCIhBevOddHP",
        AppTagsCtn: "xXcRKEuacDG8kYtDXu6OH",
        TagEntry: "xmqBa8sZa4Xhgktfr43Uh",
        AppReviews: "_2alBMAZOarIyf-vIiNazRg",
        RelevantCtn: "_3sfhS6SCV1q8dTaRIpWCHB",
        RelevantColumn: "Ne2AhbYmPfTxwJVmj1FZP",
        RelevantItem: "_2OUHZGUrr0FugrwCwIm6dF",
        RelevantCheck: "_1BOH1zFTOxtlgKkeEANpYO",
        IgnoreLink: "fir3UBZYT6EAmdYWAdr3a",
        AppActionButtonsCtn: "_2IQHDn5ZvlB1ThhSb_lhX",
        AppActionJustButtonsCtn: "duAyQ1rUX78lMmmZY1V0n",
        QueueButton: "_22Bfzcdg2l-RQEn-qKSIol",
        ButtonsRowWrap: "_1plvU4aLu4hq22gYwThZnH",
        IgnoredCtn: "_3G1MYmgXVcweTUK5jtU_Ft",
        Active: "_2D_EZlAEopCvqU0_w21FdH",
        IgnoredInfo: "_2j-elz350f4ndxI9CBUbyW",
        IgnoredTitle: "_18alvCecAAMAsyM_6zCY2T",
        IgnoredDescription: "CmI-HxKbBH8PjoSk7IVPC",
        UndoIgnoreButton: "_2E3PfDDIiiKoy4iDQV7Ewl",
        AppDesc: "_3-6CubUJWYN2tbKvwS2N9n",
        YGlyph: "_3ncywKLa2mgKgbsj-g2wJi",
        SummaryContentCtn: "Tvu6zAI3kbdYjGQGbypuQ",
        SummaryTitle: "_2o4_HDWD3bRMkoJT4RfiMv",
        YourStats: "_3-iD7yn2dCmqp9AL5xuwLX",
        SummaryGrid: "_3vRcTzxpTSFxcxVm9BKrlQ",
        GridItem: "_2w3xjuBZIgZJPO9HAa5Hb0",
        GridTitle: "_7HEa84jCz03LkGTjIZa7c",
        GridNumber: "jM11lU9OD9-2Hlu3Akwtj",
        GridSubTitle: "_2n8wa2hMCjKHhvMsS0v3_k",
        SummaryActionButtonsCtn: "nqmYD9sGBA3BEmNjp6qYF",
        TopBarCtn: "_1ewUwegRciiNydBWSQRCX-",
        LearnMoreLink: "CiFk6OuYAQSbv_DGXoBSX",
        ControlsCtn: "_2Gy72TJcKqY9gqP5-TAmSk",
        Disabled: "_2xsPifNspMLcbkoUSA5Ujl",
        Primary: "_3o2jhEGrGiVndMjUbNpOw-",
        Launch: "_3SOZx68qVakLwDvAYBOPMG",
        Wide: "_1tFfTbcTKjlfSGsMOJvdf_",
        QueueNavArrow: "_2sZ7DAljYV5Xd-nbhtlmyM",
        Enable: "_2CTzbHZ-C-FfnXEtLZPv9q",
        RightArrow: "_30_0NBq3DkV-qL7Eyqva-t",
        LeftArrow: "_36Cln2gIYtwR3sPPcOi9bT",
        ReleventSimilarAppsCtn: "_2akaWEht7jMXdxPJFmf3WN",
        RecommendingCuratorsCtn: "_RZQ6JnUY6lQGmRcgHFNA",
        AppRelevanceCtn: "_367qBdIRU4xAYHt5cqhPVa",
        WhyRelevant: "_29ReJunMtLbnxbnixF6VdE",
        SimilarAppCtn: "_2fNR47HGs7tI_v1HC2-N1h",
        SimilarAppImg: "_1q8mEyt8Rp7JweHMRGm6hq",
        SimilarAppText: "YWLoeGgBPsjUtXywol3_O",
        FriendAvatarsCtn: "_2hxko0SvUWCZ30U4JH4TNn",
        RelevantTextBold: "_1Z_ek2XNBZbkZqyR-QSwlo",
        AppDescription: "_2mksBeuafFs1CMp0t5Z9gX",
        TradingCardCtn: "_13ZcoCKc8H09LSHp4C197Z",
        TradingCardImage: "_2ZB_x5Jq7JGDapJVPsCZTo",
        Bold: "_2P6WAN13LnRVRmRb-VNu_L",
        FriendBlockCtn: "_34aoCP80lDRK3cq6_V0YQ_",
        PersonaStatus: "_1AYnL3n86EbaOCKf18KKV8",
        ProgressHidden: "UdYhfFDOguxduU7c3PVpv",
        DiscoveryQueueName: "D7yeVCEwaFr6qNo_bPGCr",
        SaleRewardsCtn: "u42zSEWdGrvBDimhV4QNI",
        RewardStatusCtn: "_2C1i6xEuF431h_KHPB53zS",
        SaleRewardAppTitle: "_1-pK3SWEOk30eo-q0EKyH7",
      };
    },
    57585: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        ProgressCtn: "_3ed1Al-hFnjq4HQeLo6cIT",
        ProgressDot: "_2R187sMx7MTX5XQ2KN3Xnx",
        ProgressDotActive: "_3z2pS3DFn3MEl5ZPw6lsa9",
        ProgressDotSelected: "_1qJVCZsv51RtfBGao-PV8V",
        ProgressDotClickable: "jKfeFH4S6YhaeZ7RCZ8BN",
      };
    },
    60367: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        AppVideoCtn: "_5T6C7ESpj4ynwbH8LS101",
        WishlistBadge: "_1H947zVMI4eix33y6Vyrm0",
        Active: "QO_OlPouxqbJBf7_YhDcB",
        DeckVerifiedLogo: "_32nCthjo6y3PW8ly04ygbU",
        VideoArea: "_1dktHf2Jq2wDCCvlx1tpMJ",
        IgnoredCtn: "_1fmpWkA3raMRNRb2988jsO",
        IgnoredInfo: "_12r_HcaLl4JO7AfMLMEZqE",
        IgnoredTitle: "_2NLzxMudKrBejIZmxYz-Wu",
        IgnoredDescription: "_3ViR4YrtH0a-mK6EiPgOSB",
        UndoIgnoreButton: "_177VX9-0Tj1sNozNrm8bN1",
        UndoButton: "_3HOpXzFuRFY1WwrPL-fxOi",
        Disabled: "_3xyNp4rGNpDJtxvww4ZCOR",
      };
    },
    87579: (e, t, a) => {
      "use strict";
      a.r(t), a.d(t, { default: () => lt });
      var n = a(90242),
        r = a(69164),
        o = a(72655),
        s = a(4690),
        l = a(46382),
        i = a(59750),
        c = a(92059),
        u = a(63696),
        d = a(11131),
        m = a(83591),
        p = a(89697),
        f = a(52492),
        g = a(82594),
        y = a(50376),
        A = a(72905),
        v = a(39039),
        h = a(90765),
        E = a(46108),
        S = a(83599),
        C = a(49412),
        _ = a(52922),
        I = a(72476),
        D = a(2137),
        b = a(48130),
        w = a(26853),
        T = a(38837),
        P = a(62221),
        N = a(43691),
        R = a(51579);
      function B(e) {
        const { tagid: t, language: a = N.TS.LANGUAGE } = e;
        return (0, P.MB)(t, a) || String(t);
      }
      function k(e) {
        const { tagID: t, className: a } = e,
          r = (0, c.aL)(
            (function (e, t = N.TS.LANGUAGE) {
              const a = (0, P.MB)(e, t);
              return `${N.TS.STORE_BASE_URL}tags/${(0, R.ut)(t)}/${a}`;
            })(t),
          );
        return u.createElement(
          n.Ii,
          { className: a, href: r, role: "listitem" },
          u.createElement(B, { tagid: t }),
        );
      }
      var L = a(39257),
        F = a(76362),
        G = a(36773),
        Q = a(13743),
        M = a(98995),
        x = a(53807),
        V = a(43014),
        O = a(54303),
        W = a(61416),
        Z = a(17231),
        q = a(68608),
        H = a(8573),
        U = a(78771),
        Y = a(71812),
        z = a(12176),
        K = a(74110),
        j = a(83957),
        X = a.n(j),
        J = a(10593);
      class $ {
        static async LoadFriendsRecommendedApp(e, t) {
          const a = z.w.Init(K.KV);
          a.Body().set_appid(t);
          const n = await K.YK.GetFriendsRecommendedApp(e, a),
            r = n.GetEResult();
          if (1 == r) return n.Body().toObject();
          throw `Error ${r} failed to call GetFriendsRecommendedApp ${t}`;
        }
        static async LoadStoreRelevanceData(e) {
          let t = { appid: e },
            a = { arrSimilarPlayedApps: [], bRecommendedByIR: !1 };
          const n = (
            await X().get(
              `${I.TS.STORE_BASE_URL}explore/ajaxgetstorerelevancedata`,
              { params: t, withCredentials: !0, timeout: 1e4 },
            )
          ).data;
          return (
            n &&
              1 == n.success &&
              (n.results.similar_played_apps &&
                (a.arrSimilarPlayedApps = n.results.similar_played_apps.map(
                  (e) => ({
                    appid: e.appid,
                    playtimeForever: e.playtime_forever,
                  }),
                )),
              n.results.recommended_by_ir && (a.bRecommendedByIR = !0)),
            a
          );
        }
      }
      var ee = a(79840),
        te = a.n(ee),
        ae = a(17613),
        ne = a(15918),
        re = a(54340);
      const oe = new S.wd("AppRelevance").Debug;
      function se(e) {
        const {
            appID: t,
            bShowAvatars: a,
            storeItem: n,
            bHideDescription: r,
            bShowCuratorInfo: o,
            bShowCreatorInfo: s,
          } = e,
          i = (0, ne.Nd)(t),
          c = (function (e) {
            const t = (0, l.KV)();
            return (0, W.I)({
              queryKey: ["AppRelevanceStore", "FriendsRecommended", e],
              queryFn: () => $.LoadFriendsRecommendedApp(t, e),
              enabled: I.iA.logged_in,
            });
          })(t),
          d = (function (e) {
            return (0, W.I)({
              queryKey: ["AppRelevanceStore", "StoreRelevance", e],
              queryFn: () => $.LoadStoreRelevanceData(e),
              enabled: I.iA.logged_in,
            });
          })(t),
          p = (function () {
            const { data: e } = (0, J.PG)("App Relevance Store Top Sellers", {
              sort: 11,
              start: 0,
              count: 100,
            });
            return e;
          })(),
          g = (0, W.I)({
            queryKey: ["SimilarPlayedAppsLoad", t],
            queryFn: () =>
              f.A.Get().QueueMultipleAppRequests(
                d.data.arrSimilarPlayedApps?.map((e) => e.appid),
                { include_basic_info: !0, include_assets: !0 },
              ),
            enabled: d.isSuccess,
          }),
          y = (function (e, t) {
            const a = (0, u.useMemo)(
              () => m.Fm.Get().GetRecommendingCuratorsForApp(e) || [],
              [e],
            );
            return (0, W.I)({
              queryKey: ["RecommendingCurators", e],
              queryFn: () =>
                Promise.all(
                  a?.map((e) => U.ac.LoadClanInfoForClanAccountID(e)),
                ),
              enabled: !!t && a && a.length > 0,
            });
          })(t, o),
          A = (0, u.useMemo)(() => {
            let e = [];
            return (
              n &&
                ((e = e.concat(
                  n
                    .GetAllFranchiseCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "franchise" })),
                )),
                (e = e.concat(
                  n
                    .GetAllDeveloperCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "developer" })),
                )),
                (e = e.concat(
                  n
                    .GetAllPublisherCreatorClans()
                    .map((e) => ({ nAccountID: e, type: "publisher" })),
                )),
                (e = e.filter((e) =>
                  m.Fm.Get().BIsFollowingCurator(e.nAccountID),
                ))),
              e
            );
          }, [n]),
          v = (0, W.I)({
            queryKey: ["FollowedCreators", t],
            queryFn: () =>
              U.ac
                .LoadClanInfoForClanAccountID(A[0].nAccountID)
                .then((e) => ({ clanInfo: e, type: A[0].type })),
            enabled: !!s && A && A.length > 0,
          }),
          S = (0, W.I)({
            queryKey: ["PlayerSummaries", t, a],
            queryFn: async () => {
              let e = [],
                t = [],
                n = [];
              const r = a ? 10 : 1;
              for (
                let t = 0;
                t < c.data.accountids_recommended?.length && t < r;
                t++
              ) {
                const a = H.b.InitFromAccountID(
                  c.data.accountids_recommended[t],
                );
                e.push(a.ConvertTo64BitString());
              }
              for (let e = 0; e < i.data.in_wishlist?.length && e < r; e++) {
                const a = new H.b(i.data.in_wishlist[e].steamid);
                t.push(a.ConvertTo64BitString());
              }
              for (let e = 0; e < i.data.owns?.length && e < r; e++) {
                const t = new H.b(i.data.owns[e].steamid);
                n.push(t.ConvertTo64BitString());
              }
              return {
                rgRecommendedFriends: e,
                rgWishlistFriends: t,
                rgOwnedFriends: n,
              };
            },
            enabled: c.isSuccess && i.isSuccess,
          });
        if (
          !p ||
          g.isLoading ||
          d.isLoading ||
          c.isLoading ||
          i.isLoading ||
          y.isLoading ||
          v.isLoading ||
          S.isLoading
        )
          return u.createElement(w.t, { size: "medium", position: "center" });
        let C = [];
        d.isSuccess &&
          d.data.arrSimilarPlayedApps &&
          d.data.arrSimilarPlayedApps.forEach((e) => {
            const a = f.A.Get().GetApp(e.appid);
            a
              ? C.push(
                  u.createElement(ce, {
                    key: e.appid,
                    lifetimePlaytime: e.playtimeForever,
                    storeItem: a,
                  }),
                )
              : console.error("Failed to load store data ", t);
          });
        const _ = p.GetItemIDs().findIndex((e) => e.appid === t),
          D = d.data?.bRecommendedByIR,
          b = C.length > 0,
          T = i.data?.owns?.length,
          P = i.data?.in_wishlist?.length,
          N = c.data?.accountids_recommended?.length;
        let R = 0;
        return (
          T > 0 && R++,
          P > 0 && R++,
          N > 0 && R++,
          D && R++,
          _ >= 0 && R++,
          C.length > 0 && R++,
          o && y?.data?.length > 0 && R++,
          s && Boolean(v.data) && R++,
          oe(
            "FriendsOwned: ",
            T,
            " FriendsWishlisted: ",
            P,
            "cRecommended: ",
            N,
          ),
          u.createElement(
            u.Fragment,
            null,
            R > 0 &&
              u.createElement(
                u.Fragment,
                null,
                u.createElement(
                  "div",
                  { className: te().WhyRelevant },
                  (0, E.we)("#DiscoveryQueue_WhyRelevant"),
                ),
                u.createElement(
                  "div",
                  { role: "list", className: te().RelevantCtn },
                  b &&
                    u.createElement(
                      fe,
                      { header: (0, E.we)("#DiscoveryQueue_SimilarGames") },
                      u.createElement(
                        "div",
                        { className: te().ReleventSimilarAppsCtn },
                        C,
                      ),
                    ),
                  o &&
                    y?.data?.length > 0 &&
                    u.createElement(
                      fe,
                      {
                        header: (0, E.we)(
                          "#ContentHub_Recommendation_Curators",
                        ),
                      },
                      u.createElement(
                        "div",
                        {
                          className: (0, h.A)(
                            te().ReleventSimilarAppsCtn,
                            te().RecommendingCuratorsCtn,
                          ),
                        },
                        y.data
                          .filter(Boolean)
                          .map((e) =>
                            u.createElement(ie, {
                              key: "curator_" + e.clanAccountID,
                              curator: e,
                            }),
                          ),
                      ),
                    ),
                  s &&
                    Boolean(v.data) &&
                    u.createElement(le, { creatorInfo: v.data }),
                  _ >= 0 &&
                    u.createElement(fe, {
                      header: (0, E.um)(
                        "#DiscoveryQueue_TopSellers",
                        (0, re.D)(_ + 1),
                        u.createElement("span", {
                          className: te().RelevantTextBold,
                        }),
                      ),
                    }),
                  D &&
                    !b &&
                    u.createElement(fe, {
                      header: (0, E.we)("#DiscoveryQueue_RecommendedByIR"),
                    }),
                  u.createElement(ue, {
                    bShowAvatars: a,
                    count: c.data?.accountids_recommended?.length,
                    locToken: "#DiscoveryQueue_FriendsRecommended",
                    arrSteamIDs: S.data?.rgRecommendedFriends,
                  }),
                  u.createElement(ue, {
                    bShowAvatars: a,
                    count: i.data?.owns?.length,
                    locToken: "#DiscoveryQueue_FriendsOwned",
                    arrSteamIDs: S.data?.rgOwnedFriends,
                  }),
                  u.createElement(ue, {
                    bShowAvatars: a,
                    count: i.data?.in_wishlist?.length,
                    locToken: "#DiscoveryQueue_FriendsWishlisted",
                    arrSteamIDs: S.data?.rgWishlistFriends,
                  }),
                ),
              ),
            r && 0 != R
              ? u.createElement("div", {
                  "aria-label": n.GetShortDescription(),
                })
              : u.createElement(
                  "div",
                  {
                    className: (0, h.A)(te().AppDescription, R && te().Divider),
                  },
                  n.GetShortDescription(),
                ),
          )
        );
      }
      function le(e) {
        const { creatorInfo: t } = e;
        if (!t) return null;
        let a;
        switch (t.type) {
          case "publisher":
            a = "#ContentHub_Recommendation_FollowedPublisher";
            break;
          case "developer":
            a = "#ContentHub_Recommendation_FollowedDeveloper";
            break;
          case "franchise":
            a = "#ContentHub_Recommendation_FollowedFranchise";
        }
        return a
          ? u.createElement(fe, {
              header: (0, E.PP)(
                a,
                u.createElement(
                  "span",
                  { className: te().RelevantTextBold },
                  t.clanInfo?.group_name,
                ),
              ),
            })
          : null;
      }
      function ie(e) {
        const { curator: t } = e,
          { creatorHome: a } = (0, Y.FV)(t?.clanAccountID);
        return t && a
          ? u.createElement(
              n.Ii,
              { href: a.GetCreatorHomeURL(null) },
              u.createElement("img", { src: t.avatar_medium_url }),
            )
          : null;
      }
      function ce(e) {
        const { lifetimePlaytime: t, storeItem: a } = e;
        return u.createElement(
          "div",
          { className: te().SimilarAppCtn },
          u.createElement(
            F.Qf,
            {
              item: { type: "game", id: a.GetAppID() },
              bHidePrice: !0,
              hoverProps: {
                direction: "overlay",
                nBodyAlignment: 1,
                style: { minWidth: "320px", zIndex: 5e3 },
              },
            },
            u.createElement("img", {
              className: te().SimilarAppImg,
              alt: a.GetName(),
              src: a.GetAssets().GetSmallCapsuleURL(),
            }),
          ),
        );
      }
      function ue(e) {
        const { arrSteamIDs: t, count: a, locToken: n, bShowAvatars: r } = e;
        return a
          ? 1 != a || r
            ? u.createElement(
                fe,
                {
                  header: (0, E.um)(
                    n,
                    a,
                    u.createElement("span", {
                      className: te().RelevantTextBold,
                    }),
                  ),
                },
                r &&
                  t.length > 0 &&
                  u.createElement(
                    "div",
                    { className: te().FriendAvatarsCtn },
                    1 == a
                      ? u.createElement(pe, { steamid: t[0] })
                      : u.createElement(me, { arrSteamIDs: t }),
                  ),
              )
            : u.createElement(fe, {
                header: (0, E.PP)(
                  n + "_Single",
                  u.createElement(de, { steamid: t[0] }),
                ),
              })
          : null;
      }
      function de(e) {
        const { steamid: t } = e,
          { data: a } = (0, ae.js)(t);
        return a && a.m_bInitialized
          ? u.createElement(
              "span",
              {
                "data-miniprofile": "s" + a.m_steamid.ConvertTo64BitString(),
                className: te().RelevantTextBold,
              },
              a.m_strPlayerName,
            )
          : null;
      }
      function me(e) {
        const { arrSteamIDs: t } = e,
          a = (0, ae.DW)(t);
        return u.createElement(
          u.Fragment,
          null,
          a.map(
            ({ data: e }) =>
              e &&
              u.createElement(Z.i8, {
                key: e.m_steamid.ConvertTo64BitString(),
                "data-miniprofile": "s" + e.m_steamid.ConvertTo64BitString(),
                persona: e,
                size: "Small",
                statusPosition: "right",
              }),
          ),
        );
      }
      function pe(e) {
        const { steamid: t } = e,
          { data: a } = (0, ae.js)(t);
        return a
          ? u.createElement(
              r.Z,
              { className: te().FriendBlockCtn, "data-miniprofile": "s" + t },
              u.createElement(Z.i8, {
                persona: a,
                size: "Small",
                statusPosition: "right",
              }),
              u.createElement(q.D, {
                className: te().PersonaStatus,
                persona: a,
                eFriendRelationship: 3,
                bIsSelf: !1,
                strNickname: null,
                bParenthesizeNicknames: !1,
                bCompactView: !1,
                bNoMask: !0,
              }),
            )
          : null;
      }
      function fe(e) {
        const { children: t, header: a } = e;
        return u.createElement(
          "div",
          { className: te().RelevantItem },
          u.createElement(
            "div",
            { className: te().RelevantCheck },
            u.createElement(y.Jlk, null),
          ),
          u.createElement(
            "div",
            { className: te().RelevantColumn },
            u.createElement("div", { className: te().ReleventText }, a),
            t,
          ),
        );
      }
      var ge = a(94995),
        ye = a(81140),
        Ae = a(90095),
        ve = a(56655),
        he = a(86062),
        Ee = a.n(he),
        Se = a(9626),
        Ce = a(64608),
        _e = a(19840),
        Ie = a(72993),
        De = a(89193),
        be = a(51816),
        we = a(59578),
        Te = a(93175),
        Pe = a(27666);
      const Ne = new S.wd("TrailerAppVideo"),
        Re = "bGameHighlightAutoplayDisabled",
        Be = "discovery-queue-volume",
        ke = "discovery-queue-mute";
      function Le(e) {
        const {
            storeItem: t,
            bCurrentlyActive: a,
            autoPlayCookieName: n,
            bPlayWithBroadcastPlayer: o,
            showScreenshotInsteadOfMainCap: s,
            autoplayCheckboxPosition: l,
            refTogglePlayPause: i,
            bShowAOAutoPlayWarning: c,
            ...d
          } = e,
          [m, p] = u.useState(!1),
          [f, g] = u.useState(!1),
          y = (0, we.$9)(),
          A = (function (e, t) {
            const a = e?.GetAllTrailers().GetAllTrailers("blocked" == t);
            return a && a.length > 0 ? a[0] : void 0;
          })(t, y),
          v = (c ?? !0) && A && !A.BIsAllAges() && "masked" == y,
          S = (0, we.AS)(),
          [C, _] = u.useState(!1),
          [I, D] = u.useState(0),
          b = u.useRef(void 0),
          w = u.useRef(void 0),
          [T, P] = u.useState(),
          { bCookieLoaded: N } = (function (e, t, a) {
            const n = u.useCallback(() => {
              const t = (0, Se.VY)(e ?? Re),
                n = !(!t || "true" !== t.toLowerCase());
              a(!n);
            }, [e, a]);
            return (function (e, t) {
              const [a, n] = u.useState(!1);
              return (
                u.useEffect(() => (e && (t(), n(!0)), () => n(!1)), [e, t]),
                { bCookieLoaded: a }
              );
            })(t, n);
          })(n, a, p),
          R = N;
        u.useEffect(() => {
          a && R && (m || o) && !v && g(!0);
        }, [m, R, a, o, v]),
          u.useEffect(() => {
            v && f && m && S();
          }, [f, v, m, S]);
        const B = (function (e, t, a, n, r) {
          return u.useCallback(() => {
            0 == e
              ? t(!0)
              : 1 == e && a.current
                ? a.current.paused
                  ? a.current.play()
                  : a.current.pause()
                : 2 == e && n.current
                  ? n.current.IsPaused()
                    ? n.current.Play()
                    : n.current.Pause()
                  : 2 == e && r && r.TogglePlayPause();
          }, [r, e, n, a, t]);
        })(I, g, b, w, T);
        u.useEffect(() => {
          i && (i.current = B);
        }, [B, i]);
        const k = t.GetScreenshots("allowed" != y),
          L = s && k.length > 0 ? k[0] : t.GetAssets().GetMainCapsuleURL();
        return u.createElement(
          r.Z,
          {
            className: Ee().AppCarouselTrailerCtn,
            onMouseEnter: () => _(!0),
            onMouseLeave: () => _(!1),
          },
          u.createElement("img", {
            className: (0, h.A)(Ee().AppMainCap, 0 != I && Ee().Hidden),
            src: L,
            onClick: B,
          }),
          !o &&
            u.createElement(xe, {
              storeItem: t,
              bAutoplayVideos: m,
              autoplayCheckboxPosition: l,
              fnSetAutoPlayVideos: (e) => {
                (0, Se.lc)(n ?? Re, String(!e), 3650), p(e), g(e);
              },
            }),
          u.createElement(be.h, {
            name: t.GetName(),
            trailerCategory: A?.GetTrailerCategory(),
            trailerDisplay: I,
            mouseOver: C,
          }),
          u.createElement(Fe, {
            eTrailerDisplay: I,
            setTrailerDisplay: D,
            featuredTrailer: A,
            refMicroTrailer: b,
            refMainTrailer: w,
            loadedAndActive: R && a,
            setVideoShouldStart: g,
            bMouseOverVideo: C,
            storeItem: t,
            broadcastVideo: T,
            fnSetBroadcastVideo: P,
            fnTogglePlayPause: B,
            bAutoplayVideos: m,
            bVideoShouldStart: f,
            bPlayWithBroadcastPlayer: o,
            ...d,
          }),
          v &&
            m &&
            u.createElement(
              "div",
              { className: Ee().AOWarning },
              u.createElement(
                "div",
                { className: Ee().Text },
                (0, E.we)("#StoreTrailer_AOWarning_1"),
              ),
              u.createElement(
                "div",
                { className: Ee().Text },
                (0, E.we)("#StoreTrailer_AOWarning_2"),
              ),
            ),
        );
      }
      function Fe(e) {
        const {
            storeItem: t,
            featuredTrailer: a,
            bPlayWithBroadcastPlayer: n,
            bSkipMicroTrailer: o,
            nFadeRatio: s,
            fnPlayPause: l,
            bRequestPause: i,
            fnComplete: c,
            eTrailerDisplay: d,
            setTrailerDisplay: m,
            refMainTrailer: p,
            refMicroTrailer: f,
            loadedAndActive: g,
            setVideoShouldStart: A,
            broadcastVideo: v,
            fnSetBroadcastVideo: h,
            fnTogglePlayPause: E,
            bAutoplayVideos: S,
            bVideoShouldStart: C,
          } = e,
          [_, D] = u.useState(!1),
          [b, w] = u.useState(!1),
          [T, P] = u.useState(!1),
          [N, R] = u.useState(!1),
          [B, k] = u.useState(!1),
          L = (0, we.$9)(),
          F = t?.GetMicroTrailer("blocked" == L),
          G = !!F || !!a;
        u.useEffect(() => {
          let e = !1;
          g && T && G && (e = 0 === d || (1 === d && !N) || (2 === d && !B)),
            D(e),
            l?.(S && e);
        }, [l, d, B, N, g, S, T, G]),
          (function (e, t) {
            u.useEffect(() => {
              const a = e.current;
              if (!a) return;
              const n = () => t(!0),
                r = () => t(!1);
              return (
                a.addEventListener("play", n),
                a.addEventListener("pause", r),
                () => {
                  a.removeEventListener("play", n),
                    a.removeEventListener("pause", r);
                }
              );
            }, [t, e]);
          })(f, R),
          u.useEffect(() => {
            C ||
              (m(0),
              D(!1),
              P(!1),
              f.current && (f.current.pause(), (f.current.currentTime = 0)),
              p.current && (p.current.Pause(), p.current.SeekToStart()));
          }, [C, p, f, m]);
        const Q = u.useRef(!1);
        return (
          u.useEffect(() => {
            if (g && 0 === d)
              if ((P(!0), C))
                if (p.current) {
                  Ne.Debug("Starting microtrailer"), m(1);
                  const n = () =>
                    (function (e, t, a) {
                      if (e.current) return;
                      (e.current = !0),
                        Ne.Debug("Starting main trailer"),
                        t(2),
                        a.Play();
                    })(Q, m, p.current);
                  o || !f.current
                    ? n()
                    : (R(!0),
                      (f.current.onended = n),
                      (e = f.current),
                      (t = "microtrailer"),
                      (a = () => R(!1)),
                      e.play().catch((e) => {
                        a(), Ne.Warning(`Failed to play ${t}: `, e);
                      }));
                } else
                  v && (Ne.Debug("Starting broadcast player"), m(2), v.Play());
              else Ne.Debug("Showing image");
            var e, t, a;
          }, [g, d, o, C, c, v, m, p, f]),
          (function (e, t) {
            u.useEffect(() => {
              if (!t.current || !t.current.onended) return;
              if (!e) return;
              let a = t.current.onended,
                n = setTimeout(() => {
                  a();
                }, 6e3);
              return () => clearTimeout(n);
            }, [e, t]);
          })(N, f),
          u.useEffect(() => {
            g || A(!1);
          }, [g, A]),
          u.useEffect(() => {
            const e = (0, De.fm)(() => {
              w(v?.GetUserInputNeeded()), k(!v?.IsPaused());
            });
            return () => e();
          }, [v]),
          (function (e, t, a, n, r, o, s) {
            const [l, i] = u.useState(!1);
            u.useEffect(() => {
              e && !l
                ? 1 == t && a && n
                  ? (a.pause(), i(!0))
                  : 2 == t && r && o
                    ? (r.Pause(), i(!0))
                    : 2 == t && s && !s.IsPaused() && (s.Pause(), i(!0))
                : !e &&
                  l &&
                  (1 == t && a
                    ? a.play()
                    : 2 == t && r
                      ? r.Play()
                      : 2 == t && s && s.IsPaused() && s.Play(),
                  i(!1));
            }, [s, t, e, l, n, o, a, r]);
          })(i, d, f.current, N, p.current, B, v),
          t && t.BIsVisible()
            ? (a || n) &&
              u.createElement(
                u.Fragment,
                null,
                _ &&
                  !b &&
                  u.createElement(
                    r.Z,
                    { focusable: !0, onClick: E, className: Ee().PlayButton },
                    u.createElement(y.IOc, null),
                  ),
                F &&
                  u.createElement(
                    "video",
                    {
                      className: Me(!0, d),
                      ref: f,
                      preload: "auto",
                      playsInline: !0,
                      muted: !0,
                      onClick: E,
                    },
                    u.createElement("source", {
                      src: F.strWebMURL,
                      type: "video/webm",
                    }),
                    Boolean(!I.TS.IN_CLIENT) &&
                      u.createElement("source", {
                        src: F.strMP4URL,
                        type: "video/mp4",
                      }),
                  ),
                a &&
                  !n &&
                  u.createElement(Ge, {
                    ref: p,
                    trailer: a,
                    eTrailerDisplay: d,
                    fadeRatio: s,
                    onPlayPauseChange: k,
                    onPlaybackEnd: c,
                  }),
                n &&
                  u.createElement(Ie.default, {
                    classes: Me(!1, d),
                    nAppIDVOD: t.GetAppID(),
                    watchLocation: 15,
                    fnOnVideoEnd: c,
                    fnVideoClick: E,
                    fnSetBroadcastVideo: h,
                    bStartWithSubtitles: !0,
                    bStartMuted: !0,
                  }),
              )
            : null
        );
      }
      function Ge(e) {
        let {
          ref: t,
          trailer: a,
          eTrailerDisplay: n,
          fadeRatio: r,
          onPlayPauseChange: o,
          onPlaybackEnd: s,
        } = e;
        (0, u.useEffect)(() => {
          if (void 0 !== r && t.current) {
            let e = t.current.GetVolume() * r;
            const a = !0;
            t.current.SetVolume(e, a);
          }
        }, [r, t]);
        let l = 2 != n,
          i = Me(!1, n);
        return u.createElement(
          Qe,
          null,
          u.createElement(
            "div",
            { className: i },
            u.createElement(Te.P, {
              ref: t,
              dashManifests: a.GetTrailersDash(),
              hlsManifest: a.GetTrailerHls(),
              screenshot: "",
              altText: "",
              forcePause: l,
              muteWhenAutoplayBlocked: !0,
              onPlaybackEnd: s,
              onPlayPauseChange: o,
            }),
          ),
        );
      }
      function Qe(e) {
        let { children: t } = e;
        const [a, n] = (0, _e.M)(Be, 0.8),
          [r, o] = (0, _e.M)(ke, !0);
        return u.createElement(
          Pe.v,
          {
            playerVolume: a,
            setPlayerVolume: n,
            audioMuted: r,
            setAudioMuted: o,
          },
          t,
        );
      }
      function Me(e, t) {
        return (0, h.A)({
          [Ee().AppVideo]: !0,
          [Ee().PlayFullTrailer]: 2 == t,
          [Ee().PlayMicrotrailer]: 1 == t,
          [Ee().NoTrailer]: 0 == t,
          [Ee().Microtrailer]: e,
          [Ee().Trailer]: !e,
        });
      }
      function xe(e) {
        const {
            storeItem: t,
            bAutoplayVideos: a,
            fnSetAutoPlayVideos: n,
            autoplayCheckboxPosition: r,
          } = e,
          o = { [r || "top"]: 0 };
        return u.createElement(
          "div",
          {
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation();
            },
            className: Ee().AutoplayCheckboxCtn,
          },
          u.createElement(Ce.Yh, {
            controlled: !0,
            checked: a,
            key: t.GetAppID(),
            className: Ee().AutoplayCheckbox,
            style: o,
            label: (0, E.we)("#StoreTrailer_AutoPlayVideos"),
            onChange: n,
          }),
        );
      }
      var Ve = a(60367),
        Oe = a.n(Ve);
      const We = {
        include_assets: !0,
        include_trailers: !0,
        include_basic_info: !0,
        include_tag_count: 20,
        include_release: !0,
        include_platforms: !0,
        include_screenshots: !0,
        include_reviews: !0,
      };
      function Ze(e) {
        const {
            appID: t,
            focused: a,
            skipMicroTrailer: n,
            playWithBroadcastPlayer: o,
            autoPlayCookieName: s,
            showAOAutoPlayWarning: l,
            showScreenshotInsteadOfMainCap: i,
            fadeRatio: c,
            fnPlayPause: d,
            refTogglePlayPause: m,
            bRequestPause: p,
            fnComplete: f,
          } = e,
          [y] = (0, g.t7)(t, We),
          { bIsIgnored: A } = qe(t),
          { bIsWishlisted: v } = Ue(t),
          [S, C] = (0, ve.FD)();
        return u.createElement(
          r.Z,
          { className: (0, h.A)(Oe().AppVideoCtn, "AppVideoCtn") },
          u.createElement(
            "div",
            { className: (0, h.A)(Oe().WishlistBadge, v && Oe().Active) },
            (0, E.we)("#Sale_OnWishlist"),
          ),
          S &&
            u.createElement(ve.Ff, {
              eDisplay: C,
              className: Oe().DeckVerifiedLogo,
              storeItem: y,
            }),
          u.createElement(
            "div",
            { className: Oe().VideoArea },
            u.createElement(He, { appID: t }),
            u.createElement(Le, {
              key: t,
              storeItem: y,
              bCurrentlyActive: a && !A,
              autoplayCheckboxPosition: "top",
              autoPlayCookieName: s,
              bShowAOAutoPlayWarning: l,
              bSkipMicroTrailer: n,
              bPlayWithBroadcastPlayer: o,
              nFadeRatio: c,
              showScreenshotInsteadOfMainCap: i,
              fnPlayPause: d,
              refTogglePlayPause: m,
              bRequestPause: p,
              fnComplete: f,
            }),
          ),
        );
      }
      function qe(e) {
        const t = (0, Ae.q3)(() => m.Fm.Get().BIsGameIgnored(e)),
          a = (0, c.ru)(),
          n = u.useCallback(() => {
            m.Fm.Get().UpdateAppIgnore(e, !t, a);
          }, [e, a, t]);
        return { bIsIgnored: t, fnUpdateIgnored: n };
      }
      function He(e) {
        const { appID: t } = e,
          a = (0, I.Qn)(),
          { bIsIgnored: n, fnUpdateIgnored: o } = qe(t);
        return u.createElement(
          "div",
          { className: (0, h.A)(Oe().IgnoredCtn, n && Oe().Active) },
          u.createElement(
            "div",
            { className: (0, h.A)(Oe().IgnoredInfo, n && Oe().Active) },
            u.createElement(
              "div",
              { className: Oe().IgnoredTitle },
              (0, E.we)("#SaleTrailerCarousel_Ignored"),
            ),
            u.createElement(
              "div",
              { className: Oe().IgnoredDescription },
              (0, E.we)("#SaleTrailerCarousel_IgnoredConfirmation"),
            ),
            u.createElement(
              r.Z,
              {
                className: (0, h.A)(Oe().UndoButton, Oe().UndoIgnoreButton),
                onClick: o,
              },
              a &&
                u.createElement(Q.$m, {
                  button: V.g4.X,
                  type: Q.wt.Light,
                  size: Q.xY.Medium,
                }),
              (0, E.we)("#SaleTrailerCarousel_Undo"),
            ),
          ),
        );
      }
      function Ue(e) {
        const t = Boolean((0, ge.bB)(e)),
          a = (0, c.ru)(),
          { mutate: n } = (0, ye.s)(e, !t, a);
        return { bIsWishlisted: t, fnUpdateWishlist: n };
      }
      var Ye = a(20445);
      new S.wd("DiscoveryQueueApp").Debug;
      function ze(e) {
        const {
            appID: t,
            nItemHeight: a,
            nItemWidth: n,
            selected: o,
            fnFocused: s,
            eStoreDiscoveryQueueType: l,
            storePageFilter: i,
            bPreferDemoStorePage: c,
            elVideo: m,
            elDetails: p,
            appAriaIDs: f,
          } = e,
          [y] = (0, g.t7)(t, We),
          A = (0, I.Qn)(),
          v = (0, d.R7)(),
          S = v?.ownerWindow || window,
          C = Ke(y, l, i, c),
          { bIsIgnored: _, fnUpdateIgnored: D } = qe(t),
          { bIsWishlisted: b, fnUpdateWishlist: w } = Ue(t),
          T = u.useRef(void 0);
        if (
          (u.useEffect(() => {
            o && T.current && T.current.focus({ preventScroll: !0 });
          }, [o]),
          !y)
        )
          return console.warn("Error: missing store item for appid ", t), null;
        const P = { width: n || void 0, height: a || void 0 };
        return u.createElement(
          r.Z,
          {
            "aria-labelledby": (0, L.q)(
              f.nameId,
              f.tagsId,
              f.reviewId,
              f.relevanceId,
              f.buttonsId,
            ),
            ref: T,
            style: P,
            className: (0, h.A)(te().DiscoveryQueueApp, o && te().Selected),
            onOptionsActionDescription: b
              ? (0, E.we)("#DiscoveryQueue_RemoveFromWishlist")
              : (0, E.we)("#DiscoveryQueue_AddToWishlist"),
            onOptionsButton: w,
            onOKActionDescription: (0, E.we)("#DiscoveryQueue_ViewStorePage"),
            onOKButton: () => {
              S.location.href = C;
            },
            onSecondaryActionDescription: _
              ? (0, E.we)("#DiscoveryQueue_Undo")
              : (0, E.we)("#DiscoveryQueue_IgnoreLink"),
            onSecondaryButton: D,
            fnScrollIntoViewHandler: () => (s(), !0),
          },
          u.createElement(
            "div",
            { className: (0, h.A)(te().IgnoredCtn, _ && te().Active) },
            u.createElement(
              "div",
              { className: (0, h.A)(te().IgnoredInfo, _ && te().Active) },
              u.createElement(
                "div",
                { className: te().IgnoredTitle },
                (0, E.we)("#DiscoveryQueue_Ignored"),
              ),
              u.createElement(
                "div",
                { className: te().IgnoredDescription },
                (0, E.we)("#DiscoveryQueue_IgnoredConfirmation"),
              ),
              u.createElement(
                r.Z,
                {
                  className: (0, h.A)(te().QueueButton, te().UndoIgnoreButton),
                  onClick: D,
                },
                A &&
                  u.createElement(Q.$m, {
                    button: V.g4.X,
                    type: Q.wt.Light,
                    size: Q.xY.Medium,
                  }),
                (0, E.we)("#DiscoveryQueue_Undo"),
              ),
            ),
          ),
          m,
          p,
        );
      }
      function Ke(e, t, a, n) {
        const r = (0, c.n9)();
        return u.useMemo(() => {
          if (!e) return;
          const o = (0, D.Bk)(a),
            s = t >= 0 ? "?inqueue=" + t + (a ? "_" + o : "") : "",
            l = (0, c.bV)(r, e.GetStorePageURL(n) + s);
          return (0, x.NT)(l);
        }, [n, t, r, e, a]);
      }
      function je(e) {
        const {
            appID: t,
            bShowMinimizedDisplay: a,
            eStoreDiscoveryQueueType: n,
            storePageFilter: o,
            bPreferDemoStorePage: s,
            appAriaIDs: l,
          } = e,
          [i] = (0, g.t7)(t, We),
          c = (0, Ye.$5)(t),
          { bIsIgnored: d, fnUpdateIgnored: m } = qe(t),
          { bIsWishlisted: p, fnUpdateWishlist: f } = Ue(t),
          A = Ke(i, n, o, s),
          v = (0, I.Qn)(),
          S = v;
        if (!i) return;
        const C = i.GetAssets().GetLibraryCapsuleURL(),
          _ = i.GetAssets().GetHeaderURL();
        return u.createElement(
          r.Z,
          { className: te().AppDetailsCtn },
          u.createElement(
            "div",
            { className: te().AppDetailsCtnTop },
            C &&
              u.createElement(
                "a",
                { className: (0, h.A)(te().CapsuleLink), href: A },
                u.createElement("img", {
                  className: te().AppLibraryHero,
                  src: C,
                }),
                _ &&
                  u.createElement("img", { className: te().AppHeader, src: _ }),
              ),
            u.createElement(
              "div",
              { id: l.nameId, className: te().RightColumn },
              u.createElement(
                "a",
                { className: (0, h.A)(te().AppName), href: A },
                i.GetName(),
              ),
              u.createElement(G.N, { bSingleLineMode: !0, id: c }),
            ),
            u.createElement(Xe, {
              rgTagIDs: i.GetTagIDs(),
              ariaLabelID: l.tagsId,
            }),
            u.createElement(
              "div",
              { className: te().AppReviews, id: l.reviewId },
              u.createElement(F.Jz, {
                bShowTooltip: !0,
                bTruncateTotalReviews: a,
                id: c,
              }),
            ),
            u.createElement(
              "div",
              { id: l.relevanceId, className: te().AppRelevanceCtn },
              u.createElement(se, {
                bHideDescription: v,
                bShowAvatars: !a,
                storeItem: i,
                appID: t,
              }),
            ),
          ),
          !v &&
            u.createElement(
              "div",
              { className: te().AppActionButtonsCtn },
              u.createElement(
                "div",
                { id: l.buttonsId, className: te().AppActionJustButtonsCtn },
                u.createElement(
                  "div",
                  { className: te().ButtonsRowWrap },
                  i.BHasDemo() &&
                    u.createElement(O.j, {
                      id: c,
                      className: (0, h.A)(
                        te().QueueButton,
                        te().Primary,
                        te().Launch,
                      ),
                    }),
                  u.createElement(
                    "a",
                    {
                      className: (0, h.A)(te().QueueButton, te().Primary),
                      href: A,
                    },
                    S &&
                      u.createElement(Q.$m, {
                        button: V.g4.Y,
                        type: Q.wt.Light,
                        size: Q.xY.Medium,
                        additionalClassName: te().YGlyph,
                      }),
                    " ",
                    (0, E.we)("#DiscoveryQueue_ViewStorePage"),
                  ),
                  u.createElement(
                    M.he,
                    {
                      toolTipContent: p
                        ? (0, E.we)("#RemoveFromWishlist_ttip")
                        : (0, E.we)("#AddToWishlist_ttip"),
                    },
                    u.createElement(
                      r.Z,
                      {
                        "aria-label": p
                          ? (0, E.we)("#Sale_RemoveFromWishlist")
                          : (0, E.we)("#Sale_AddToWishlist"),
                        focusable: !0,
                        className: (0, h.A)(te().QueueButton, p && te().Active),
                        onClick: f,
                      },
                      S &&
                        u.createElement(Q.$m, {
                          button: V.g4.Y,
                          type: Q.wt.Light,
                          size: Q.xY.Medium,
                          additionalClassName: te().YGlyph,
                        }),
                      p
                        ? u.createElement(y.qnF, null)
                        : u.createElement(y.T4m, null),
                    ),
                  ),
                  u.createElement(
                    M.he,
                    {
                      toolTipContent: (0, E.we)(
                        "#SaleTrailerCarousel_IgnoreLink_ttip",
                      ),
                    },
                    u.createElement(
                      r.Z,
                      {
                        "aria-label": (0, E.we)("#DiscoveryQueue_IgnoreLink"),
                        focusable: !0,
                        className: (0, h.A)(te().QueueButton, d && te().Active),
                        onClick: m,
                      },
                      u.createElement(y.NtH, null),
                    ),
                  ),
                ),
              ),
            ),
        );
      }
      function Xe(e) {
        const { rgTagIDs: t, ariaLabelID: a } = e,
          n = (function (e) {
            const t = m.Fm.Get().GetRecommendedTags(),
              a = u.useMemo(() => new Map(t.map((e, t) => [e, t])), [t]),
              n = u.useMemo(() => new Map(e.map((e, t) => [e, t])), [e]);
            return u.useMemo(
              () =>
                e
                  .slice()
                  .sort((e, t) =>
                    a.has(e) && !a.has(t)
                      ? -1
                      : !a.has(e) && a.has(t)
                        ? 1
                        : a.has(e)
                          ? a.get(e) - a.get(t)
                          : n.get(e) - n.get(t),
                  ),
              [n, a, e],
            );
          })(t),
          r = [...n].slice(0, 8);
        return u.createElement(
          "div",
          { id: a, role: "list", className: te().AppTagsCtn },
          r.map((e) =>
            u.createElement(k, { key: e, className: te().TagEntry, tagID: e }),
          ),
        );
      }
      var Je = a(57585),
        $e = a.n(Je);
      function et(e) {
        const {
          className: t,
          showPriorAsActive: a,
          count: n,
          selectedIndex: o,
          fnNavigate: s,
        } = e;
        return u.createElement(
          r.Z,
          { "flow-children": "row", className: (0, h.A)($e().ProgressCtn, t) },
          Array.from({ length: n }).map((e, t) =>
            u.createElement("div", {
              key: "dot_" + t,
              className: (0, h.A)({
                [$e().ProgressDot]: !0,
                [$e().ProgressDotActive]: a && t < o,
                [$e().ProgressDotSelected]: t == o,
                [$e().ProgressDotClickable]: !!s,
              }),
              onClick: s ? () => s(t) : void 0,
            }),
          ),
        );
      }
      var tt = a(6760);
      const at = new S.wd("DiscoveryQueueWizard").Debug,
        nt = 1,
        rt = 1400,
        ot = "discoveryqueue2022";
      async function st(e, t, a, n) {
        let r = [],
          o = !1;
        try {
          const { appids: s, exhausted: l } = await D.aI
            .Get()
            .GetDiscoveryQueueAppsOfType(e, t, n);
          (r = [...s]),
            (o = l),
            a && -1 === r.findIndex((e) => e === a) && r.unshift(a),
            await f.A.Get().QueueMultipleAppRequests(r, { ...We, ...tt.LB });
        } catch (e) {
          console.error("Failed getting discovery queue apps", e);
        }
        return { appids: r, exhausted: o };
      }
      function lt(e) {
        const [t, a] = u.useState(!1),
          n = (0, l.KV)();
        return (
          (0, u.useEffect)(() => {
            D.aI.Init(n), a(!0);
          }, [n]),
          t ? u.createElement(it, { ...e }) : null
        );
      }
      function it(e) {
        const {
            eStoreDiscoveryQueueType: t,
            fnCloseModal: a,
            includeAppID: o,
            storePageFilter: l,
            bPreferDemoStorePage: p,
            bShowAOAutoPlayWarning: f,
          } = e,
          [g, S] = u.useState(0),
          [b, w] = u.useState(void 0),
          [P, N] = u.useState(0),
          R = (0, d.R7)(),
          B = R?.ownerWindow || window,
          k = (0, c.ru)(ot),
          [L, F] = u.useState(0),
          G = (0, i.b)();
        (0, _.E)("ArrowLeft", () => O(!1), !0, !0),
          (0, _.E)("Left", () => O(!1), !0, !0),
          (0, _.E)("ArrowRight", () => O(!0), !0, !0),
          (0, _.E)("Right", () => O(!0), !0, !0),
          (0, _.E)("Escape", () => a?.(), !0, !0),
          (0, _.E)("Esc", () => a?.(), !0, !0);
        const Q = u.useMemo(() => Boolean(B.innerWidth < rt), [B]),
          { fnGetDiscoveryQueue: M, rgAppIDs: V } = (function (e, t, a) {
            const [n, r] = u.useState([]),
              o = (0, v.m)("DiscoveryQueueWizard"),
              s = async (s) => {
                let { appids: l } = await st(e, !s, s && a, t);
                if (s && !l.length) {
                  let { appids: a } = await st(e, !0, void 0, t);
                  l = a;
                }
                if (!o?.token?.reason) {
                  const e = [...(n ?? []), ...l, nt];
                  r(e);
                }
                at("Loaded new discovery queue apps: ", l);
              };
            return { fnGetDiscoveryQueue: s, rgAppIDs: n };
          })(t, l, o);
        u.useEffect(() => {
          M(!0), m.Fm.Get().HintLoad();
        }, []),
          u.useEffect(() => {
            const e = V[g];
            e != b && (e && e != nt && G.AddImpression(e, k), w(e));
          }, [G, g, b, V, k]);
        const O = (e) => {
          const t = C.OQ(g + (e ? 1 : -1), 0, V.length - 1);
          t != g &&
            (S(t), at("New selected index: ", t, " Prev selected index: ", g));
        };
        u.useEffect(() => {
          V?.length &&
            V[g] !== nt &&
            (F((e) => e + 1),
            D.aI
              .Get()
              .SkipDiscoveryQueueItem(V[g], t, l)
              .then(() => F((e) => e - 1)));
        }, [t, g, V, l]),
          u.useEffect(() => {
            V.length != P &&
              (N(V.length), V.length > P && V[g] == nt && S(g + 1));
          }, [P, g, V]);
        const [W] = u.useState(new Map()),
          Z = (0, D.WX)(t, l),
          q = !(0, T.c5)() && g > 0,
          H = !(0, T.c5)() && g < V.length - 1,
          {
            refContainer: U,
            bIsDragging: Y,
            nDragOffset: z,
            nDragSelectedOffsetIndex: K,
            handleTouchStart: j,
            handleTouchMove: X,
            handleTouchEnd: J,
          } = (function (e, t) {
            const a = u.useRef(null),
              [n, r] = u.useState(0),
              [o, s] = u.useState(!1),
              [l, i] = u.useState(0),
              c = u.useRef(0),
              d = 50,
              m = (e) => {
                s(!0), (c.current = e.touches[0].clientX), r(0), i(0);
              },
              p = (e) => {
                if (!o) return;
                const t = e.touches[0].clientX - c.current;
                r(t), i(n > d ? 1 : n < -d ? -1 : 0);
              },
              f = () => {
                o &&
                  (s(!1),
                  n > d
                    ? e((e) => Math.max(e - 1, 0))
                    : n < -d && e((e) => Math.min(e + 1, t - 1)),
                  r(0),
                  i(0));
              };
            return {
              refContainer: a,
              bIsDragging: o,
              nDragOffset: n,
              nDragSelectedOffsetIndex: l,
              handleTouchStart: m,
              handleTouchMove: p,
              handleTouchEnd: f,
            };
          })((e) => S(e), V.length),
          $ = (e) => C.W(g + e, V) && (C.LA(e, -1, 1) || Y),
          ee = (0, c.aL)(I.TS.STORE_BASE_URL + "explore?dq=widget"),
          ae = V[g] !== nt,
          { nQueueStart: ne, nCount: re } = (function (e, t) {
            let a = 0;
            for (let n = 0; n < e; n++) t[n] == nt && (a = n + 1);
            let n = 0;
            for (let a = e; a < t.length; a++) {
              if (t[a] == nt) {
                n = a;
                break;
              }
              a == t.length - 1 && (n = t.length);
            }
            const r = n - a;
            return { nQueueStart: a, nQueueEnd: n, nCount: r };
          })(g, V);
        return u.createElement(
          A.Ay,
          { feature: ot },
          u.createElement(
            r.Z,
            {
              role: "dialog",
              focusable: !1,
              "flow-children": "column",
              className: te().DiscoveryQueueCarouselCtn,
              navEntryPreferPosition: s.iU.LAST,
              onCancelButton: () => a?.(),
              onCancelActionDescription: (0, E.we)("#Button_Close"),
            },
            u.createElement(
              "div",
              {
                className: te().DiscoveryQueueWrapper,
                onClick: (e) => {
                  e.target == e.currentTarget && (a?.(), e.stopPropagation());
                },
              },
              Z.length > 0 &&
                u.createElement(
                  r.Z,
                  {
                    "flow-children": "row",
                    className: te().DiscoveryQueueName,
                  },
                  Z,
                ),
              u.createElement(
                r.Z,
                { "flow-children": "row", className: te().TopBarCtn },
                u.createElement(
                  r.Z,
                  { className: te().LearnMore },
                  (0, E.oW)(
                    "#DiscoveryQueue_LearnMore_Default",
                    u.createElement(n.Ii, {
                      className: te().LearnMoreLink,
                      href: (0, x.NT)(ee),
                    }),
                  ),
                ),
                u.createElement(
                  r.Z,
                  { className: te().ControlsCtn },
                  u.createElement(
                    r.Z,
                    {
                      focusable: !0,
                      className: te().QueueButton,
                      onClick: a,
                      "aria-label": (0, E.we)("#Button_Close"),
                      onActivate: () => a && a(),
                    },
                    u.createElement(y.X, null),
                  ),
                ),
              ),
              u.createElement(
                r.Z,
                {
                  role: "button",
                  "aria-label": (0, E.we)("#Carousel_Next"),
                  onClick: () => O(!1),
                  className: (0, h.A)(
                    te().QueueNavArrow,
                    te().LeftArrow,
                    q && te().Enable,
                  ),
                },
                u.createElement(y.l8x, { angle: 180 }),
              ),
              u.createElement(
                r.Z,
                {
                  role: "button",
                  "aria-label": (0, E.we)("#Carousel_Prev"),
                  onClick: () => O(!0),
                  className: (0, h.A)(
                    te().QueueNavArrow,
                    te().RightArrow,
                    H && te().Enable,
                  ),
                },
                u.createElement(y.l8x, { angle: 0 }),
              ),
              u.createElement(
                r.Z,
                {
                  ref: U,
                  className: te().DiscoveryQueueItemsCtn,
                  focusable: !1,
                  onTouchStart: j,
                  onTouchMove: X,
                  onTouchEnd: J,
                },
                [-2, -1, 0, 1, 2].map((e) =>
                  u.createElement(
                    "div",
                    {
                      key: g + e,
                      className: (0, h.A)({
                        [te().DiscoveryQueueItemPositioner]: !0,
                        [te().Dragging]: Y,
                        [te().InRange]: $(e),
                        [te().FarLeft]: -2 == e,
                        [te().Left]: -1 == e,
                        [te().Current]: 0 == e,
                        [te().Right]: 1 == e,
                        [te().FarRight]: 2 == e,
                        [te().Selected]: e + K == 0,
                      }),
                      style: { "--dragOffsetX": `${z}px` },
                    },
                    $(e) &&
                      u.createElement(ct, {
                        eStoreDiscoveryQueueType: t,
                        storePageFilter: l,
                        rgAppIDs: V,
                        index: g + e,
                        bShowMinimizedDisplay: Q,
                        selectedIndex: g,
                        bPreferDemoStorePage: Boolean(p),
                        mapViewedAppCount: W,
                        fnCloseModal: a,
                        fnLoadNextQueue: () => M(!1),
                        fnAdvance: O,
                        bSkipAppRequestPending: Boolean(0 != L),
                        showAOAutoPlayWarning: Boolean(f),
                      }),
                  ),
                ),
              ),
              u.createElement(et, {
                className: (0, h.A)(!ae && te().ProgressHidden),
                showPriorAsActive: !0,
                count: re,
                selectedIndex: g - ne,
              }),
            ),
          ),
        );
      }
      function ct(e) {
        const {
            eStoreDiscoveryQueueType: t,
            storePageFilter: a,
            rgAppIDs: n,
            index: r,
            bShowMinimizedDisplay: o,
            selectedIndex: s,
            bPreferDemoStorePage: l,
            mapViewedAppCount: i,
            fnCloseModal: c,
            fnLoadNextQueue: d,
            fnAdvance: m,
            bSkipAppRequestPending: p,
            showAOAutoPlayWarning: f,
          } = e,
          [g, y] = u.useState(!1),
          A = {
            nameId: u.useId(),
            tagsId: u.useId(),
            reviewId: u.useId(),
            relevanceId: u.useId(),
            buttonsId: u.useId(),
          },
          v = () => {
            s != r && m(r > s);
          },
          h = s === r,
          E = u.useRef(h);
        if (
          (u.useEffect(() => {
            const e = E.current;
            if (((E.current = h), e && !h)) {
              y(!0);
              const e = setTimeout(() => y(!1), 500);
              return () => {
                clearTimeout(e);
              };
            }
          }, [h]),
          n[r] == nt)
        ) {
          let o = 0;
          for (let e = r - 1; e >= 0; e--) n[e] == nt && (o += 1);
          let l = 0;
          for (let e = r - 1; e >= 0 && n[e] !== nt; e--) l++;
          return (
            i.has(o) ||
              i.set(o, D.aI.Get().GetTotalSkippedAppsForDiscoveryQueue(t, a)),
            u.createElement(ut, {
              ...e,
              key: s,
              selected: h,
              lastCard: s == n.length - 1,
              fnLoadNextQueue: d,
              fnCloseModal: c,
              summaryCardIndex: o,
              eStoreDiscoveryQueueType: t,
              viewedAppCount: (i.get(o) || 0) + l,
              fnFocused: v,
              fnAdvance: () => m(!0),
              bSkipAppRequestPending: p,
            })
          );
        }
        const S = h || E.current || g;
        return u.createElement(ze, {
          appAriaIDs: A,
          eStoreDiscoveryQueueType: t,
          storePageFilter: a,
          selected: h,
          appID: n[r],
          bPreferDemoStorePage: l,
          fnFocused: v,
          elVideo: u.createElement(Ze, {
            appID: n[r],
            focused: S,
            showAOAutoPlayWarning: f,
          }),
          elDetails: u.createElement(je, {
            appID: n[r],
            bShowMinimizedDisplay: o,
            eStoreDiscoveryQueueType: t,
            storePageFilter: a,
            bPreferDemoStorePage: l,
            appAriaIDs: A,
          }),
        });
      }
      function ut(e) {
        const {
            eStoreDiscoveryQueueType: t,
            fnCloseModal: a,
            summaryCardIndex: n,
            lastCard: o,
            selected: s,
            fnLoadNextQueue: l,
            storePageFilter: i,
            fnDisplaySummaryReward: d,
            viewedAppCount: f,
            fnFocused: g,
            fnAdvance: y,
            bSkipAppRequestPending: A,
          } = e,
          [S, C] = u.useState(!1),
          _ = (0, I.Qn)(),
          b = (0, p.Qt)(2, I.TS.LANGUAGE, !1),
          [w, T] = u.useState(0),
          [P, N] = u.useState(0),
          { data: R } = (0, ge.F0)();
        u.useEffect(() => {
          s &&
            !S &&
            R &&
            m.Fm.Get()
              .HintLoad()
              .then(() => {
                D.aI
                  .Get()
                  .LoadSkippedApps(t, i)
                  .then((e) => {
                    T(e.reduce((e, t) => (R.has(t) ? e + 1 : e), 0)),
                      N(
                        e.reduce(
                          (e, t) => (m.Fm.Get().BIsGameIgnored(t) ? e + 1 : e),
                          0,
                        ),
                      ),
                      C(!0);
                  });
              });
        }, [S, t, s, i, R]);
        const [B, k] = u.useState(!1),
          L = (0, D.IH)(t, i),
          F = (0, v.m)("DiscoveryQueueSummary"),
          G = async () => {
            o ? B || (k(!0), await l(), F?.token?.reason || k(!1)) : y();
          };
        return u.createElement(
          dt,
          {
            selected: s,
            fnFocused: g,
            fnOnContinue: G,
            fnCloseModal: a,
            bLoaded: S,
          },
          u.createElement(
            "div",
            { className: te().SummaryContentCtn },
            u.createElement(
              "div",
              { className: te().SummaryTitle },
              (0, E.we)("#DiscoveryQueue_SummaryTitle"),
            ),
            !L &&
              s &&
              b.data?.definition &&
              u.createElement(pt, {
                bSkipAppRequestPending: A,
                summaryCardIdx: n,
              }),
            u.createElement(
              "div",
              { className: te().YourStats },
              (0, E.we)("#DiscoveryQueue_YourStats"),
            ),
            u.createElement(
              r.Z,
              { "flow-children": "row", className: te().SummaryGrid },
              u.createElement(
                "div",
                { className: te().GridItem },
                u.createElement(
                  "div",
                  { className: te().GridTitle },
                  (0, E.we)("#DiscoveryQueue_ViewedCaps"),
                ),
                u.createElement(
                  "div",
                  { className: te().GridNumber },
                  (0, re.D)(f),
                ),
                u.createElement(
                  "div",
                  { className: te().GridSubTitle },
                  (0, E.we)("#DiscoveryQueue_Titles"),
                ),
              ),
              u.createElement(
                "div",
                { className: te().GridItem },
                u.createElement(
                  "div",
                  { className: te().GridTitle },
                  (0, E.we)("#DiscoveryQueue_WishlistedCaps"),
                ),
                u.createElement(
                  "div",
                  { className: te().GridNumber },
                  (0, re.D)(w),
                ),
                u.createElement(
                  c.Fh,
                  {
                    className: (0, h.A)(te().GridSubTitle, te().TextLink),
                    href: (0, x.NT)(I.TS.STORE_BASE_URL + "wishlist"),
                  },
                  (0, E.we)("#DiscoveryQueue_ViewWishlist"),
                ),
              ),
              u.createElement(
                "div",
                { className: te().GridItem },
                u.createElement(
                  "div",
                  { className: te().GridTitle },
                  (0, E.we)("#DiscoveryQueue_IgnoredCaps"),
                ),
                u.createElement(
                  "div",
                  { className: te().GridNumber },
                  (0, re.D)(P),
                ),
                u.createElement(
                  c.Fh,
                  {
                    className: (0, h.A)(te().GridSubTitle, te().TextLink),
                    href: (0, x.NT)(
                      I.TS.STORE_BASE_URL + "account/notinterested",
                    ),
                  },
                  (0, E.we)("#DiscoveryQueue_ViewIgnored"),
                ),
              ),
            ),
            !_ &&
              u.createElement(
                r.Z,
                { className: te().SummaryActionButtonsCtn },
                u.createElement(
                  r.Z,
                  {
                    className: (0, h.A)(te().QueueButton, te().Wide),
                    onClick: a,
                  },
                  (0, E.we)("#ActionButtonLabelDone"),
                ),
                !L &&
                  u.createElement(
                    r.Z,
                    {
                      className: (0, h.A)(
                        B && te().Disabled,
                        te().QueueButton,
                        te().Primary,
                        te().Wide,
                      ),
                      onClick: G,
                    },
                    B ? (0, E.we)("#Loading") : (0, E.we)("#Button_Continue"),
                  ),
              ),
          ),
          Boolean(!L) &&
            u.createElement(u.Fragment, null, Boolean(d) && d(n + 1)),
        );
      }
      function dt(e) {
        const {
            children: t,
            selected: a,
            fnOnContinue: n,
            fnCloseModal: r,
            fnFocused: s,
            bLoaded: l,
          } = e,
          i = (0, c.aL)(I.TS.STORE_BASE_URL + "wishlist"),
          m = (0, d.R7)(),
          p = m?.ownerWindow || window,
          f = u.useRef(void 0);
        return (
          u.useEffect(() => {
            a && f.current && f.current.focus({ preventScroll: !0 });
          }, [a]),
          u.createElement(
            o.YZ,
            {
              ref: f,
              "aria-live": "polite",
              className: (0, h.A)(
                te().SummaryCtn,
                te().DiscoveryQueueApp,
                a && te().Selected,
              ),
              onOptionsActionDescription: (0, E.we)(
                "#DiscoveryQueue_ViewWishlist",
              ),
              onOptionsButton: () => {
                p.location.href = (0, x.NT)(i);
              },
              onOKActionDescription: (0, E.we)("#Button_Continue"),
              onOKButton: () => {
                n();
              },
              onCancelActionDescription: (0, E.we)("#ActionButtonLabelDone"),
              onCancelButton: () => r && r(),
              fnScrollIntoViewHandler: () => (s(), !0),
            },
            l
              ? t
              : u.createElement(w.t, {
                  className: te().DiscoveryQueueThrobber,
                  msDelayAppear: 200,
                  size: "large",
                  position: "center",
                }),
          )
        );
      }
      function mt() {
        return u.createElement(
          r.Z,
          { className: te().SaleRewardsCtn },
          u.createElement(w.t, { size: "large", position: "center" }),
        );
      }
      function pt(e) {
        const { bSkipAppRequestPending: t, summaryCardIdx: a } = e;
        return t
          ? u.createElement(mt, null)
          : u.createElement(ft, { summaryCardIdx: a });
      }
      function ft(e) {
        const { summaryCardIdx: t } = e,
          a = (0, p.os)(2, I.TS.LANGUAGE, !1, t.toString()),
          [n] = (0, g.t7)(a?.data?.current_def?.appid, {}),
          o = (0, I.Qn)();
        if (!a?.data?.current_def || !n?.GetName().length)
          return u.createElement(mt, null);
        const s = a.data.num_items_earned,
          l = a.data.current_def.num_items_per_def,
          i = l - s,
          c = (s / l) * 100;
        return u.createElement(
          r.Z,
          { className: te().SaleRewardsCtn },
          u.createElement(b.A, { nPercent: c, size: 70, strokeWidth: 12 }),
          u.createElement(
            r.Z,
            { className: te().RewardStatusCtn },
            u.createElement(
              "div",
              { className: te().SaleRewardAppTitle },
              (0, E.we)(
                "#DiscoveryQueue_SaleStatus_Title" + (i ? "" : "_Complete"),
                (0, re.D)(s),
                n.GetName(),
              ),
            ),
            i > 0 &&
              u.createElement(
                "div",
                { className: te().SaleRewardAppTitle },
                (0, E.we)(
                  "#DiscoveryQueue_SaleStatus_Desc",
                  (0, re.D)(i),
                  n.GetName(),
                ),
              ),
            !o &&
              u.createElement(
                "a",
                {
                  href: (0, x.NT)(
                    I.TS.COMMUNITY_BASE_URL + "my/itemcollection",
                  ),
                },
                (0, E.we)("#DiscoveryQueue_SaleStatus_Link"),
              ),
          ),
        );
      }
    },
  },
]); //# sourceMappingURL=file:///home/buildbot/buildslave/npm-coordinator-rel-steamui/build/client/steamui/sourcemaps/discoveryqueue.js.map
